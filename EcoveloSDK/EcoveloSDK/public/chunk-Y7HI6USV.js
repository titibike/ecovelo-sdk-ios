import {
  __awaiter,
  __generator
} from "./chunk-DGENMXJW.js";
import {
  __async,
  __objRest,
  __spreadProps,
  __spreadValues
} from "./chunk-UESUV5PM.js";

// node_modules/@aws-amplify/core/dist/esm/constants.mjs
var AWS_CLOUDWATCH_CATEGORY = "Logging";
var USER_AGENT_HEADER = "x-amz-user-agent";
var NO_HUBCALLBACK_PROVIDED_EXCEPTION = "NoHubcallbackProvidedException";

// node_modules/@aws-amplify/core/dist/esm/Logger/types.mjs
var LogType;
(function(LogType2) {
  LogType2["DEBUG"] = "DEBUG";
  LogType2["ERROR"] = "ERROR";
  LogType2["INFO"] = "INFO";
  LogType2["WARN"] = "WARN";
  LogType2["VERBOSE"] = "VERBOSE";
  LogType2["NONE"] = "NONE";
})(LogType || (LogType = {}));

// node_modules/@aws-amplify/core/dist/esm/Logger/ConsoleLogger.mjs
var LOG_LEVELS = {
  VERBOSE: 1,
  DEBUG: 2,
  INFO: 3,
  WARN: 4,
  ERROR: 5,
  NONE: 6
};
var ConsoleLogger = class _ConsoleLogger {
  /**
   * @constructor
   * @param {string} name - Name of the logger
   */
  constructor(name2, level = LogType.WARN) {
    this.name = name2;
    this.level = level;
    this._pluggables = [];
  }
  _padding(n) {
    return n < 10 ? "0" + n : "" + n;
  }
  _ts() {
    const dt = /* @__PURE__ */ new Date();
    return [this._padding(dt.getMinutes()), this._padding(dt.getSeconds())].join(":") + "." + dt.getMilliseconds();
  }
  configure(config) {
    if (!config) return this._config;
    this._config = config;
    return this._config;
  }
  /**
   * Write log
   * @method
   * @memeberof Logger
   * @param {LogType|string} type - log type, default INFO
   * @param {string|object} msg - Logging message or object
   */
  _log(type, ...msg) {
    let loggerLevelName = this.level;
    if (_ConsoleLogger.LOG_LEVEL) {
      loggerLevelName = _ConsoleLogger.LOG_LEVEL;
    }
    if (typeof window !== "undefined" && window.LOG_LEVEL) {
      loggerLevelName = window.LOG_LEVEL;
    }
    const loggerLevel = LOG_LEVELS[loggerLevelName];
    const typeLevel = LOG_LEVELS[type];
    if (!(typeLevel >= loggerLevel)) {
      return;
    }
    let log = console.log.bind(console);
    if (type === LogType.ERROR && console.error) {
      log = console.error.bind(console);
    }
    if (type === LogType.WARN && console.warn) {
      log = console.warn.bind(console);
    }
    if (_ConsoleLogger.BIND_ALL_LOG_LEVELS) {
      if (type === LogType.INFO && console.info) {
        log = console.info.bind(console);
      }
      if (type === LogType.DEBUG && console.debug) {
        log = console.debug.bind(console);
      }
    }
    const prefix = `[${type}] ${this._ts()} ${this.name}`;
    let message = "";
    if (msg.length === 1 && typeof msg[0] === "string") {
      message = `${prefix} - ${msg[0]}`;
      log(message);
    } else if (msg.length === 1) {
      message = `${prefix} ${msg[0]}`;
      log(prefix, msg[0]);
    } else if (typeof msg[0] === "string") {
      let obj = msg.slice(1);
      if (obj.length === 1) {
        obj = obj[0];
      }
      message = `${prefix} - ${msg[0]} ${obj}`;
      log(`${prefix} - ${msg[0]}`, obj);
    } else {
      message = `${prefix} ${msg}`;
      log(prefix, msg);
    }
    for (const plugin of this._pluggables) {
      const logEvent = {
        message,
        timestamp: Date.now()
      };
      plugin.pushLogs([logEvent]);
    }
  }
  /**
   * Write General log. Default to INFO
   * @method
   * @memeberof Logger
   * @param {string|object} msg - Logging message or object
   */
  log(...msg) {
    this._log(LogType.INFO, ...msg);
  }
  /**
   * Write INFO log
   * @method
   * @memeberof Logger
   * @param {string|object} msg - Logging message or object
   */
  info(...msg) {
    this._log(LogType.INFO, ...msg);
  }
  /**
   * Write WARN log
   * @method
   * @memeberof Logger
   * @param {string|object} msg - Logging message or object
   */
  warn(...msg) {
    this._log(LogType.WARN, ...msg);
  }
  /**
   * Write ERROR log
   * @method
   * @memeberof Logger
   * @param {string|object} msg - Logging message or object
   */
  error(...msg) {
    this._log(LogType.ERROR, ...msg);
  }
  /**
   * Write DEBUG log
   * @method
   * @memeberof Logger
   * @param {string|object} msg - Logging message or object
   */
  debug(...msg) {
    this._log(LogType.DEBUG, ...msg);
  }
  /**
   * Write VERBOSE log
   * @method
   * @memeberof Logger
   * @param {string|object} msg - Logging message or object
   */
  verbose(...msg) {
    this._log(LogType.VERBOSE, ...msg);
  }
  addPluggable(pluggable) {
    if (pluggable && pluggable.getCategoryName() === AWS_CLOUDWATCH_CATEGORY) {
      this._pluggables.push(pluggable);
      pluggable.configure(this._config);
    }
  }
  listPluggables() {
    return this._pluggables;
  }
};
ConsoleLogger.LOG_LEVEL = null;
ConsoleLogger.BIND_ALL_LOG_LEVELS = false;

// node_modules/@aws-amplify/core/dist/esm/errors/AmplifyError.mjs
var AmplifyError = class _AmplifyError extends Error {
  /**
   *  Constructs an AmplifyError.
   *
   * @param message text that describes the main problem.
   * @param underlyingError the underlying cause of the error.
   * @param recoverySuggestion suggestion to recover from the error.
   *
   */
  constructor({
    message,
    name: name2,
    recoverySuggestion,
    underlyingError,
    metadata
  }) {
    super(message);
    this.name = name2;
    this.underlyingError = underlyingError;
    this.recoverySuggestion = recoverySuggestion;
    if (metadata) {
      const {
        extendedRequestId,
        httpStatusCode,
        requestId
      } = metadata;
      this.metadata = {
        extendedRequestId,
        httpStatusCode,
        requestId
      };
    }
    this.constructor = _AmplifyError;
    Object.setPrototypeOf(this, _AmplifyError.prototype);
  }
};

// node_modules/@aws-amplify/core/dist/esm/types/errors.mjs
var AmplifyErrorCode;
(function(AmplifyErrorCode2) {
  AmplifyErrorCode2["NoEndpointId"] = "NoEndpointId";
  AmplifyErrorCode2["PlatformNotSupported"] = "PlatformNotSupported";
  AmplifyErrorCode2["Unknown"] = "Unknown";
  AmplifyErrorCode2["NetworkError"] = "NetworkError";
})(AmplifyErrorCode || (AmplifyErrorCode = {}));

// node_modules/@aws-amplify/core/dist/esm/errors/createAssertionFunction.mjs
var createAssertionFunction = (errorMap, AssertionError = AmplifyError) => (assertion, name2, additionalContext) => {
  const {
    message,
    recoverySuggestion
  } = errorMap[name2];
  if (!assertion) {
    throw new AssertionError({
      name: name2,
      message: additionalContext ? `${message} ${additionalContext}` : message,
      recoverySuggestion
    });
  }
};

// node_modules/@aws-amplify/core/dist/esm/Hub/index.mjs
var AMPLIFY_SYMBOL = typeof Symbol !== "undefined" ? Symbol("amplify_default") : "@@amplify_default";
var logger = new ConsoleLogger("Hub");
var HubClass = class {
  constructor(name2) {
    this.listeners = /* @__PURE__ */ new Map();
    this.protectedChannels = ["core", "auth", "api", "analytics", "interactions", "pubsub", "storage", "ui", "xr"];
    this.name = name2;
  }
  /**
   * Used internally to remove a Hub listener.
   *
   * @remarks
   * This private method is for internal use only. Instead of calling Hub.remove, call the result of Hub.listen.
   */
  _remove(channel, listener) {
    const holder = this.listeners.get(channel);
    if (!holder) {
      logger.warn(`No listeners for ${channel}`);
      return;
    }
    this.listeners.set(channel, [...holder.filter(({
      callback
    }) => callback !== listener)]);
  }
  dispatch(channel, payload, source, ampSymbol) {
    if (typeof channel === "string" && this.protectedChannels.indexOf(channel) > -1) {
      const hasAccess = ampSymbol === AMPLIFY_SYMBOL;
      if (!hasAccess) {
        logger.warn(`WARNING: ${channel} is protected and dispatching on it can have unintended consequences`);
      }
    }
    const capsule = {
      channel,
      payload: __spreadValues({}, payload),
      source,
      patternInfo: []
    };
    try {
      this._toListeners(capsule);
    } catch (e) {
      logger.error(e);
    }
  }
  listen(channel, callback, listenerName = "noname") {
    let cb;
    if (typeof callback !== "function") {
      throw new AmplifyError({
        name: NO_HUBCALLBACK_PROVIDED_EXCEPTION,
        message: "No callback supplied to Hub"
      });
    } else {
      cb = callback;
    }
    let holder = this.listeners.get(channel);
    if (!holder) {
      holder = [];
      this.listeners.set(channel, holder);
    }
    holder.push({
      name: listenerName,
      callback: cb
    });
    return () => {
      this._remove(channel, cb);
    };
  }
  _toListeners(capsule) {
    const {
      channel,
      payload
    } = capsule;
    const holder = this.listeners.get(channel);
    if (holder) {
      holder.forEach((listener) => {
        logger.debug(`Dispatching to ${channel} with `, payload);
        try {
          listener.callback(capsule);
        } catch (e) {
          logger.error(e);
        }
      });
    }
  }
};
var Hub = new HubClass("__default__");
var HubInternal = new HubClass("internal-hub");

// node_modules/@aws-amplify/core/dist/esm/utils/globalHelpers/index.mjs
var getCrypto = () => {
  if (typeof window === "object" && typeof window.crypto === "object") {
    return window.crypto;
  }
  if (typeof crypto === "object") {
    return crypto;
  }
  throw new AmplifyError({
    name: "MissingPolyfill",
    message: "Cannot resolve the `crypto` function from the environment."
  });
};
var getBtoa = () => {
  if (typeof window !== "undefined" && typeof window.btoa === "function") {
    return window.btoa;
  }
  if (typeof btoa === "function") {
    return btoa;
  }
  throw new AmplifyError({
    name: "Base64EncoderError",
    message: "Cannot resolve the `btoa` function from the environment."
  });
};
var getAtob = () => {
  if (typeof window !== "undefined" && typeof window.atob === "function") {
    return window.atob;
  }
  if (typeof atob === "function") {
    return atob;
  }
  throw new AmplifyError({
    name: "Base64EncoderError",
    message: "Cannot resolve the `atob` function from the environment."
  });
};

// node_modules/@aws-amplify/core/dist/esm/utils/convert/base64/base64Decoder.mjs
var base64Decoder = {
  convert(input, options) {
    let inputStr = input;
    if (options == null ? void 0 : options.urlSafe) {
      inputStr = inputStr.replace(/-/g, "+").replace(/_/g, "/");
    }
    return getAtob()(inputStr);
  }
};

// node_modules/@aws-amplify/core/dist/esm/singleton/Auth/utils/errorHelpers.mjs
var AuthConfigurationErrorCode;
(function(AuthConfigurationErrorCode2) {
  AuthConfigurationErrorCode2["AuthTokenConfigException"] = "AuthTokenConfigException";
  AuthConfigurationErrorCode2["AuthUserPoolAndIdentityPoolException"] = "AuthUserPoolAndIdentityPoolException";
  AuthConfigurationErrorCode2["AuthUserPoolException"] = "AuthUserPoolException";
  AuthConfigurationErrorCode2["InvalidIdentityPoolIdException"] = "InvalidIdentityPoolIdException";
  AuthConfigurationErrorCode2["OAuthNotConfigureException"] = "OAuthNotConfigureException";
})(AuthConfigurationErrorCode || (AuthConfigurationErrorCode = {}));
var authConfigurationErrorMap = {
  [AuthConfigurationErrorCode.AuthTokenConfigException]: {
    message: "Auth Token Provider not configured.",
    recoverySuggestion: "Make sure to call Amplify.configure in your app."
  },
  [AuthConfigurationErrorCode.AuthUserPoolAndIdentityPoolException]: {
    message: "Auth UserPool or IdentityPool not configured.",
    recoverySuggestion: "Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."
  },
  [AuthConfigurationErrorCode.AuthUserPoolException]: {
    message: "Auth UserPool not configured.",
    recoverySuggestion: "Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."
  },
  [AuthConfigurationErrorCode.InvalidIdentityPoolIdException]: {
    message: "Invalid identity pool id provided.",
    recoverySuggestion: "Make sure a valid identityPoolId is given in the config."
  },
  [AuthConfigurationErrorCode.OAuthNotConfigureException]: {
    message: "oauth param not configured.",
    recoverySuggestion: "Make sure to call Amplify.configure with oauth parameter in your app."
  }
};
var assert = createAssertionFunction(authConfigurationErrorMap);

// node_modules/@aws-amplify/core/dist/esm/singleton/Auth/utils/index.mjs
function assertTokenProviderConfig(cognitoConfig) {
  let assertionValid = true;
  if (!cognitoConfig) {
    assertionValid = false;
  } else {
    assertionValid = !!cognitoConfig.userPoolId && !!cognitoConfig.userPoolClientId;
  }
  assert(assertionValid, AuthConfigurationErrorCode.AuthUserPoolException);
}
function assertOAuthConfig(cognitoConfig) {
  var _a, _b, _c, _d, _e, _f, _g, _h;
  const validOAuthConfig = !!((_b = (_a = cognitoConfig == null ? void 0 : cognitoConfig.loginWith) == null ? void 0 : _a.oauth) == null ? void 0 : _b.domain) && !!((_d = (_c = cognitoConfig == null ? void 0 : cognitoConfig.loginWith) == null ? void 0 : _c.oauth) == null ? void 0 : _d.redirectSignOut) && !!((_f = (_e = cognitoConfig == null ? void 0 : cognitoConfig.loginWith) == null ? void 0 : _e.oauth) == null ? void 0 : _f.redirectSignIn) && !!((_h = (_g = cognitoConfig == null ? void 0 : cognitoConfig.loginWith) == null ? void 0 : _g.oauth) == null ? void 0 : _h.responseType);
  assert(validOAuthConfig, AuthConfigurationErrorCode.OAuthNotConfigureException);
}
function assertIdentityPoolIdConfig(cognitoConfig) {
  const validConfig = !!(cognitoConfig == null ? void 0 : cognitoConfig.identityPoolId);
  assert(validConfig, AuthConfigurationErrorCode.InvalidIdentityPoolIdException);
}
function decodeJWT(token) {
  const tokenParts = token.split(".");
  if (tokenParts.length !== 3) {
    throw new Error("Invalid token");
  }
  try {
    const base64WithUrlSafe = tokenParts[1];
    const base64 = base64WithUrlSafe.replace(/-/g, "+").replace(/_/g, "/");
    const jsonStr = decodeURIComponent(base64Decoder.convert(base64).split("").map((char) => `%${`00${char.charCodeAt(0).toString(16)}`.slice(-2)}`).join(""));
    const payload = JSON.parse(jsonStr);
    return {
      toString: () => token,
      payload
    };
  } catch (err) {
    throw new Error("Invalid token payload");
  }
}

// node_modules/@aws-amplify/core/dist/esm/utils/deepFreeze.mjs
var deepFreeze = (object) => {
  const propNames = Reflect.ownKeys(object);
  for (const name2 of propNames) {
    const value = object[name2];
    if (value && typeof value === "object" || typeof value === "function") {
      deepFreeze(value);
    }
  }
  return Object.freeze(object);
};

// node_modules/@aws-amplify/core/dist/esm/parseAWSExports.mjs
var logger2 = new ConsoleLogger("parseAWSExports");
var authTypeMapping = {
  API_KEY: "apiKey",
  AWS_IAM: "iam",
  AMAZON_COGNITO_USER_POOLS: "userPool",
  OPENID_CONNECT: "oidc",
  NONE: "none",
  AWS_LAMBDA: "lambda",
  // `LAMBDA` is an incorrect value that was added during the v6 rewrite.
  // Keeping it as a valid value until v7 to prevent breaking customers who might
  // be relying on it as a workaround.
  // ref: https://github.com/aws-amplify/amplify-js/pull/12922
  // TODO: @v7 remove next line
  LAMBDA: "lambda"
};
var parseAWSExports = (config = {}) => {
  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o;
  if (!Object.prototype.hasOwnProperty.call(config, "aws_project_region")) {
    throw new AmplifyError({
      name: "InvalidParameterException",
      message: "Invalid config parameter.",
      recoverySuggestion: "Ensure passing the config object imported from  `amplifyconfiguration.json`."
    });
  }
  const {
    aws_appsync_apiKey,
    aws_appsync_authenticationType,
    aws_appsync_graphqlEndpoint,
    aws_appsync_region,
    aws_bots_config,
    aws_cognito_identity_pool_id,
    aws_cognito_sign_up_verification_method,
    aws_cognito_mfa_configuration,
    aws_cognito_mfa_types,
    aws_cognito_password_protection_settings,
    aws_cognito_verification_mechanisms,
    aws_cognito_signup_attributes,
    aws_cognito_social_providers,
    aws_cognito_username_attributes,
    aws_mandatory_sign_in,
    aws_mobile_analytics_app_id,
    aws_mobile_analytics_app_region,
    aws_user_files_s3_bucket,
    aws_user_files_s3_bucket_region,
    aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing,
    aws_user_pools_id,
    aws_user_pools_web_client_id,
    geo,
    oauth,
    predictions,
    aws_cloud_logic_custom,
    Notifications,
    modelIntrospection
  } = config;
  const amplifyConfig = {};
  if (aws_mobile_analytics_app_id) {
    amplifyConfig.Analytics = {
      Pinpoint: {
        appId: aws_mobile_analytics_app_id,
        region: aws_mobile_analytics_app_region
      }
    };
  }
  const {
    InAppMessaging,
    Push
  } = Notifications != null ? Notifications : {};
  if ((InAppMessaging == null ? void 0 : InAppMessaging.AWSPinpoint) || (Push == null ? void 0 : Push.AWSPinpoint)) {
    if (InAppMessaging == null ? void 0 : InAppMessaging.AWSPinpoint) {
      const {
        appId,
        region
      } = InAppMessaging.AWSPinpoint;
      amplifyConfig.Notifications = {
        InAppMessaging: {
          Pinpoint: {
            appId,
            region
          }
        }
      };
    }
    if (Push == null ? void 0 : Push.AWSPinpoint) {
      const {
        appId,
        region
      } = Push.AWSPinpoint;
      amplifyConfig.Notifications = __spreadProps(__spreadValues({}, amplifyConfig.Notifications), {
        PushNotification: {
          Pinpoint: {
            appId,
            region
          }
        }
      });
    }
  }
  if (Array.isArray(aws_bots_config)) {
    amplifyConfig.Interactions = {
      LexV1: Object.fromEntries(aws_bots_config.map((bot) => [bot.name, bot]))
    };
  }
  if (aws_appsync_graphqlEndpoint) {
    const defaultAuthMode = authTypeMapping[aws_appsync_authenticationType];
    if (!defaultAuthMode) {
      logger2.debug(`Invalid authentication type ${aws_appsync_authenticationType}. Falling back to IAM.`);
    }
    amplifyConfig.API = {
      GraphQL: {
        endpoint: aws_appsync_graphqlEndpoint,
        apiKey: aws_appsync_apiKey,
        region: aws_appsync_region,
        defaultAuthMode: defaultAuthMode != null ? defaultAuthMode : "iam"
      }
    };
    if (modelIntrospection) {
      amplifyConfig.API.GraphQL.modelIntrospection = modelIntrospection;
    }
  }
  const mfaConfig = aws_cognito_mfa_configuration ? {
    status: aws_cognito_mfa_configuration && aws_cognito_mfa_configuration.toLowerCase(),
    totpEnabled: (_a = aws_cognito_mfa_types == null ? void 0 : aws_cognito_mfa_types.includes("TOTP")) != null ? _a : false,
    smsEnabled: (_b = aws_cognito_mfa_types == null ? void 0 : aws_cognito_mfa_types.includes("SMS")) != null ? _b : false
  } : void 0;
  const passwordFormatConfig = aws_cognito_password_protection_settings ? {
    minLength: aws_cognito_password_protection_settings.passwordPolicyMinLength,
    requireLowercase: (_d = (_c = aws_cognito_password_protection_settings.passwordPolicyCharacters) == null ? void 0 : _c.includes("REQUIRES_LOWERCASE")) != null ? _d : false,
    requireUppercase: (_f = (_e = aws_cognito_password_protection_settings.passwordPolicyCharacters) == null ? void 0 : _e.includes("REQUIRES_UPPERCASE")) != null ? _f : false,
    requireNumbers: (_h = (_g = aws_cognito_password_protection_settings.passwordPolicyCharacters) == null ? void 0 : _g.includes("REQUIRES_NUMBERS")) != null ? _h : false,
    requireSpecialCharacters: (_j = (_i = aws_cognito_password_protection_settings.passwordPolicyCharacters) == null ? void 0 : _i.includes("REQUIRES_SYMBOLS")) != null ? _j : false
  } : void 0;
  const mergedUserAttributes = Array.from(/* @__PURE__ */ new Set([...aws_cognito_verification_mechanisms != null ? aws_cognito_verification_mechanisms : [], ...aws_cognito_signup_attributes != null ? aws_cognito_signup_attributes : []]));
  const userAttributes = mergedUserAttributes.reduce((attributes, key) => __spreadProps(__spreadValues({}, attributes), {
    // All user attributes generated by the CLI are required
    [key.toLowerCase()]: {
      required: true
    }
  }), {});
  const loginWithEmailEnabled = (_k = aws_cognito_username_attributes == null ? void 0 : aws_cognito_username_attributes.includes("EMAIL")) != null ? _k : false;
  const loginWithPhoneEnabled = (_l = aws_cognito_username_attributes == null ? void 0 : aws_cognito_username_attributes.includes("PHONE_NUMBER")) != null ? _l : false;
  if (aws_cognito_identity_pool_id || aws_user_pools_id) {
    amplifyConfig.Auth = {
      Cognito: {
        identityPoolId: aws_cognito_identity_pool_id,
        allowGuestAccess: aws_mandatory_sign_in !== "enable",
        signUpVerificationMethod: aws_cognito_sign_up_verification_method,
        userAttributes,
        userPoolClientId: aws_user_pools_web_client_id,
        userPoolId: aws_user_pools_id,
        mfa: mfaConfig,
        passwordFormat: passwordFormatConfig,
        loginWith: {
          username: !(loginWithEmailEnabled || loginWithPhoneEnabled),
          email: loginWithEmailEnabled,
          phone: loginWithPhoneEnabled
        }
      }
    };
  }
  const hasOAuthConfig = oauth ? Object.keys(oauth).length > 0 : false;
  const hasSocialProviderConfig = aws_cognito_social_providers ? aws_cognito_social_providers.length > 0 : false;
  if (amplifyConfig.Auth && hasOAuthConfig) {
    amplifyConfig.Auth.Cognito.loginWith = __spreadProps(__spreadValues({}, amplifyConfig.Auth.Cognito.loginWith), {
      oauth: __spreadValues(__spreadValues({}, getOAuthConfig(oauth)), hasSocialProviderConfig && {
        providers: parseSocialProviders(aws_cognito_social_providers)
      })
    });
  }
  if (aws_user_files_s3_bucket) {
    amplifyConfig.Storage = {
      S3: {
        bucket: aws_user_files_s3_bucket,
        region: aws_user_files_s3_bucket_region,
        dangerouslyConnectToHttpEndpointForTesting: aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing
      }
    };
  }
  if (geo) {
    const {
      amazon_location_service
    } = geo;
    amplifyConfig.Geo = {
      LocationService: {
        maps: amazon_location_service.maps,
        geofenceCollections: amazon_location_service.geofenceCollections,
        searchIndices: amazon_location_service.search_indices,
        region: amazon_location_service.region
      }
    };
  }
  if (aws_cloud_logic_custom) {
    amplifyConfig.API = __spreadProps(__spreadValues({}, amplifyConfig.API), {
      REST: aws_cloud_logic_custom.reduce((acc, api2) => {
        const {
          name: name2,
          endpoint,
          region,
          service
        } = api2;
        return __spreadProps(__spreadValues({}, acc), {
          [name2]: __spreadValues(__spreadValues({
            endpoint
          }, service ? {
            service
          } : void 0), region ? {
            region
          } : void 0)
        });
      }, {})
    });
  }
  if (predictions) {
    const {
      VoiceId: voiceId
    } = (_o = (_n = (_m = predictions == null ? void 0 : predictions.convert) == null ? void 0 : _m.speechGenerator) == null ? void 0 : _n.defaults) != null ? _o : {};
    amplifyConfig.Predictions = voiceId ? __spreadProps(__spreadValues({}, predictions), {
      convert: __spreadProps(__spreadValues({}, predictions.convert), {
        speechGenerator: __spreadProps(__spreadValues({}, predictions.convert.speechGenerator), {
          defaults: {
            voiceId
          }
        })
      })
    }) : predictions;
  }
  return amplifyConfig;
};
var getRedirectUrl = (redirectStr) => {
  var _a;
  return (_a = redirectStr == null ? void 0 : redirectStr.split(",")) != null ? _a : [];
};
var getOAuthConfig = ({
  domain,
  scope,
  redirectSignIn,
  redirectSignOut,
  responseType
}) => ({
  domain,
  scopes: scope,
  redirectSignIn: getRedirectUrl(redirectSignIn),
  redirectSignOut: getRedirectUrl(redirectSignOut),
  responseType
});
var parseSocialProviders = (aws_cognito_social_providers) => {
  return aws_cognito_social_providers.map((provider) => {
    const updatedProvider = provider.toLowerCase();
    return updatedProvider.charAt(0).toUpperCase() + updatedProvider.slice(1);
  });
};

// node_modules/@aws-amplify/core/dist/esm/singleton/constants.mjs
var ADD_OAUTH_LISTENER = Symbol("oauth-listener");

// node_modules/uuid/dist/esm-browser/stringify.js
var byteToHex = [];
for (let i = 0; i < 256; ++i) {
  byteToHex.push((i + 256).toString(16).slice(1));
}
function unsafeStringify(arr, offset = 0) {
  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + "-" + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + "-" + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + "-" + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + "-" + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();
}

// node_modules/uuid/dist/esm-browser/rng.js
var getRandomValues;
var rnds8 = new Uint8Array(16);
function rng() {
  if (!getRandomValues) {
    if (typeof crypto === "undefined" || !crypto.getRandomValues) {
      throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
    }
    getRandomValues = crypto.getRandomValues.bind(crypto);
  }
  return getRandomValues(rnds8);
}

// node_modules/uuid/dist/esm-browser/native.js
var randomUUID = typeof crypto !== "undefined" && crypto.randomUUID && crypto.randomUUID.bind(crypto);
var native_default = {
  randomUUID
};

// node_modules/uuid/dist/esm-browser/v4.js
function v4(options, buf, offset) {
  var _a, _b, _c;
  if (native_default.randomUUID && !buf && !options) {
    return native_default.randomUUID();
  }
  options = options || {};
  const rnds = (_c = (_b = options.random) != null ? _b : (_a = options.rng) == null ? void 0 : _a.call(options)) != null ? _c : rng();
  if (rnds.length < 16) {
    throw new Error("Random bytes length must be >= 16");
  }
  rnds[6] = rnds[6] & 15 | 64;
  rnds[8] = rnds[8] & 63 | 128;
  if (buf) {
    offset = offset || 0;
    if (offset < 0 || offset + 16 > buf.length) {
      throw new RangeError(`UUID byte range ${offset}:${offset + 15} is out of buffer bounds`);
    }
    for (let i = 0; i < 16; ++i) {
      buf[offset + i] = rnds[i];
    }
    return buf;
  }
  return unsafeStringify(rnds);
}
var v4_default = v4;

// node_modules/@aws-amplify/core/dist/esm/parseAmplifyOutputs.mjs
function isAmplifyOutputs(config) {
  const {
    version: version2
  } = config;
  if (!version2) {
    return false;
  }
  return version2.startsWith("1");
}
function parseStorage(amplifyOutputsStorageProperties) {
  if (!amplifyOutputsStorageProperties) {
    return void 0;
  }
  const {
    bucket_name,
    aws_region,
    buckets
  } = amplifyOutputsStorageProperties;
  return {
    S3: {
      bucket: bucket_name,
      region: aws_region,
      buckets: buckets && createBucketInfoMap(buckets)
    }
  };
}
function parseAuth(amplifyOutputsAuthProperties) {
  var _a;
  if (!amplifyOutputsAuthProperties) {
    return void 0;
  }
  const {
    user_pool_id,
    user_pool_client_id,
    identity_pool_id,
    password_policy,
    mfa_configuration,
    mfa_methods,
    unauthenticated_identities_enabled,
    oauth,
    username_attributes,
    standard_required_attributes,
    groups
  } = amplifyOutputsAuthProperties;
  const authConfig = {
    Cognito: {
      userPoolId: user_pool_id,
      userPoolClientId: user_pool_client_id,
      groups
    }
  };
  if (identity_pool_id) {
    authConfig.Cognito = __spreadProps(__spreadValues({}, authConfig.Cognito), {
      identityPoolId: identity_pool_id
    });
  }
  if (password_policy) {
    authConfig.Cognito.passwordFormat = {
      requireLowercase: password_policy.require_lowercase,
      requireNumbers: password_policy.require_numbers,
      requireUppercase: password_policy.require_uppercase,
      requireSpecialCharacters: password_policy.require_symbols,
      minLength: (_a = password_policy.min_length) != null ? _a : 6
    };
  }
  if (mfa_configuration) {
    authConfig.Cognito.mfa = {
      status: getMfaStatus(mfa_configuration),
      smsEnabled: mfa_methods == null ? void 0 : mfa_methods.includes("SMS"),
      totpEnabled: mfa_methods == null ? void 0 : mfa_methods.includes("TOTP")
    };
  }
  if (unauthenticated_identities_enabled) {
    authConfig.Cognito.allowGuestAccess = unauthenticated_identities_enabled;
  }
  if (oauth) {
    authConfig.Cognito.loginWith = {
      oauth: {
        domain: oauth.domain,
        redirectSignIn: oauth.redirect_sign_in_uri,
        redirectSignOut: oauth.redirect_sign_out_uri,
        responseType: oauth.response_type === "token" ? "token" : "code",
        scopes: oauth.scopes,
        providers: getOAuthProviders(oauth.identity_providers)
      }
    };
  }
  if (username_attributes) {
    authConfig.Cognito.loginWith = __spreadProps(__spreadValues({}, authConfig.Cognito.loginWith), {
      email: username_attributes.includes("email"),
      phone: username_attributes.includes("phone_number"),
      // Signing in with a username is not currently supported in Gen2, this should always evaluate to false
      username: username_attributes.includes("username")
    });
  }
  if (standard_required_attributes) {
    authConfig.Cognito.userAttributes = standard_required_attributes.reduce((acc, curr) => __spreadProps(__spreadValues({}, acc), {
      [curr]: {
        required: true
      }
    }), {});
  }
  return authConfig;
}
function parseAnalytics(amplifyOutputsAnalyticsProperties) {
  if (!(amplifyOutputsAnalyticsProperties == null ? void 0 : amplifyOutputsAnalyticsProperties.amazon_pinpoint)) {
    return void 0;
  }
  const {
    amazon_pinpoint
  } = amplifyOutputsAnalyticsProperties;
  return {
    Pinpoint: {
      appId: amazon_pinpoint.app_id,
      region: amazon_pinpoint.aws_region
    }
  };
}
function parseGeo(amplifyOutputsAnalyticsProperties) {
  if (!amplifyOutputsAnalyticsProperties) {
    return void 0;
  }
  const {
    aws_region,
    geofence_collections,
    maps,
    search_indices
  } = amplifyOutputsAnalyticsProperties;
  return {
    LocationService: {
      region: aws_region,
      searchIndices: search_indices,
      geofenceCollections: geofence_collections,
      maps
    }
  };
}
function parseData(amplifyOutputsDataProperties) {
  if (!amplifyOutputsDataProperties) {
    return void 0;
  }
  const {
    aws_region,
    default_authorization_type,
    url,
    api_key,
    model_introspection
  } = amplifyOutputsDataProperties;
  const GraphQL = {
    endpoint: url,
    defaultAuthMode: getGraphQLAuthMode(default_authorization_type),
    region: aws_region,
    apiKey: api_key,
    modelIntrospection: model_introspection
  };
  return {
    GraphQL
  };
}
function parseCustom(amplifyOutputsCustomProperties) {
  if (!(amplifyOutputsCustomProperties == null ? void 0 : amplifyOutputsCustomProperties.events)) {
    return void 0;
  }
  const {
    url,
    aws_region,
    api_key,
    default_authorization_type
  } = amplifyOutputsCustomProperties.events;
  const Events = {
    endpoint: url,
    defaultAuthMode: getGraphQLAuthMode(default_authorization_type),
    region: aws_region,
    apiKey: api_key
  };
  return {
    Events
  };
}
function parseNotifications(amplifyOutputsNotificationsProperties) {
  if (!amplifyOutputsNotificationsProperties) {
    return void 0;
  }
  const {
    aws_region,
    channels,
    amazon_pinpoint_app_id
  } = amplifyOutputsNotificationsProperties;
  const hasInAppMessaging = channels.includes("IN_APP_MESSAGING");
  const hasPushNotification = channels.includes("APNS") || channels.includes("FCM");
  if (!(hasInAppMessaging || hasPushNotification)) {
    return void 0;
  }
  const notificationsConfig = {};
  if (hasInAppMessaging) {
    notificationsConfig.InAppMessaging = {
      Pinpoint: {
        appId: amazon_pinpoint_app_id,
        region: aws_region
      }
    };
  }
  if (hasPushNotification) {
    notificationsConfig.PushNotification = {
      Pinpoint: {
        appId: amazon_pinpoint_app_id,
        region: aws_region
      }
    };
  }
  return notificationsConfig;
}
function parseAmplifyOutputs(amplifyOutputs) {
  const resourcesConfig = {};
  if (amplifyOutputs.storage) {
    resourcesConfig.Storage = parseStorage(amplifyOutputs.storage);
  }
  if (amplifyOutputs.auth) {
    resourcesConfig.Auth = parseAuth(amplifyOutputs.auth);
  }
  if (amplifyOutputs.analytics) {
    resourcesConfig.Analytics = parseAnalytics(amplifyOutputs.analytics);
  }
  if (amplifyOutputs.geo) {
    resourcesConfig.Geo = parseGeo(amplifyOutputs.geo);
  }
  if (amplifyOutputs.data) {
    resourcesConfig.API = parseData(amplifyOutputs.data);
  }
  if (amplifyOutputs.custom) {
    const customConfig = parseCustom(amplifyOutputs.custom);
    if (customConfig && "Events" in customConfig) {
      resourcesConfig.API = __spreadValues(__spreadValues({}, resourcesConfig.API), customConfig);
    }
  }
  if (amplifyOutputs.notifications) {
    resourcesConfig.Notifications = parseNotifications(amplifyOutputs.notifications);
  }
  return resourcesConfig;
}
var authModeNames = {
  AMAZON_COGNITO_USER_POOLS: "userPool",
  API_KEY: "apiKey",
  AWS_IAM: "iam",
  AWS_LAMBDA: "lambda",
  OPENID_CONNECT: "oidc"
};
function getGraphQLAuthMode(authType) {
  return authModeNames[authType];
}
var providerNames = {
  GOOGLE: "Google",
  LOGIN_WITH_AMAZON: "Amazon",
  FACEBOOK: "Facebook",
  SIGN_IN_WITH_APPLE: "Apple"
};
function getOAuthProviders(providers = []) {
  return providers.reduce((oAuthProviders, provider) => {
    if (providerNames[provider] !== void 0) {
      oAuthProviders.push(providerNames[provider]);
    }
    return oAuthProviders;
  }, []);
}
function getMfaStatus(mfaConfiguration) {
  if (mfaConfiguration === "OPTIONAL") return "optional";
  if (mfaConfiguration === "REQUIRED") return "on";
  return "off";
}
function createBucketInfoMap(buckets) {
  const mappedBuckets = {};
  buckets.forEach(({
    name: name2,
    bucket_name: bucketName,
    aws_region: region,
    paths
  }) => {
    if (name2 in mappedBuckets) {
      throw new Error(`Duplicate friendly name found: ${name2}. Name must be unique.`);
    }
    const sanitizedPaths = paths ? Object.entries(paths).reduce((acc, [key, value]) => {
      if (value !== void 0) {
        acc[key] = value;
      }
      return acc;
    }, {}) : void 0;
    mappedBuckets[name2] = {
      bucketName,
      region,
      paths: sanitizedPaths
    };
  });
  return mappedBuckets;
}

// node_modules/@aws-amplify/core/dist/esm/utils/parseAmplifyConfig.mjs
var parseAmplifyConfig = (amplifyConfig) => {
  if (Object.keys(amplifyConfig).some((key) => key.startsWith("aws_"))) {
    return parseAWSExports(amplifyConfig);
  } else if (isAmplifyOutputs(amplifyConfig)) {
    return parseAmplifyOutputs(amplifyConfig);
  } else {
    return amplifyConfig;
  }
};

// node_modules/@aws-amplify/core/node_modules/@aws-crypto/sha256-js/build/module/constants.js
var BLOCK_SIZE = 64;
var DIGEST_LENGTH = 32;
var KEY = new Uint32Array([1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298]);
var INIT = [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225];
var MAX_HASHABLE_LENGTH = Math.pow(2, 53) - 1;

// node_modules/@aws-amplify/core/node_modules/@aws-crypto/sha256-js/build/module/RawSha256.js
var RawSha256 = (
  /** @class */
  function() {
    function RawSha2563() {
      this.state = Int32Array.from(INIT);
      this.temp = new Int32Array(64);
      this.buffer = new Uint8Array(64);
      this.bufferLength = 0;
      this.bytesHashed = 0;
      this.finished = false;
    }
    RawSha2563.prototype.update = function(data) {
      if (this.finished) {
        throw new Error("Attempted to update an already finished hash.");
      }
      var position = 0;
      var byteLength = data.byteLength;
      this.bytesHashed += byteLength;
      if (this.bytesHashed * 8 > MAX_HASHABLE_LENGTH) {
        throw new Error("Cannot hash more than 2^53 - 1 bits");
      }
      while (byteLength > 0) {
        this.buffer[this.bufferLength++] = data[position++];
        byteLength--;
        if (this.bufferLength === BLOCK_SIZE) {
          this.hashBuffer();
          this.bufferLength = 0;
        }
      }
    };
    RawSha2563.prototype.digest = function() {
      if (!this.finished) {
        var bitsHashed = this.bytesHashed * 8;
        var bufferView = new DataView(this.buffer.buffer, this.buffer.byteOffset, this.buffer.byteLength);
        var undecoratedLength = this.bufferLength;
        bufferView.setUint8(this.bufferLength++, 128);
        if (undecoratedLength % BLOCK_SIZE >= BLOCK_SIZE - 8) {
          for (var i = this.bufferLength; i < BLOCK_SIZE; i++) {
            bufferView.setUint8(i, 0);
          }
          this.hashBuffer();
          this.bufferLength = 0;
        }
        for (var i = this.bufferLength; i < BLOCK_SIZE - 8; i++) {
          bufferView.setUint8(i, 0);
        }
        bufferView.setUint32(BLOCK_SIZE - 8, Math.floor(bitsHashed / 4294967296), true);
        bufferView.setUint32(BLOCK_SIZE - 4, bitsHashed);
        this.hashBuffer();
        this.finished = true;
      }
      var out = new Uint8Array(DIGEST_LENGTH);
      for (var i = 0; i < 8; i++) {
        out[i * 4] = this.state[i] >>> 24 & 255;
        out[i * 4 + 1] = this.state[i] >>> 16 & 255;
        out[i * 4 + 2] = this.state[i] >>> 8 & 255;
        out[i * 4 + 3] = this.state[i] >>> 0 & 255;
      }
      return out;
    };
    RawSha2563.prototype.hashBuffer = function() {
      var _a = this, buffer = _a.buffer, state = _a.state;
      var state0 = state[0], state1 = state[1], state2 = state[2], state3 = state[3], state4 = state[4], state5 = state[5], state6 = state[6], state7 = state[7];
      for (var i = 0; i < BLOCK_SIZE; i++) {
        if (i < 16) {
          this.temp[i] = (buffer[i * 4] & 255) << 24 | (buffer[i * 4 + 1] & 255) << 16 | (buffer[i * 4 + 2] & 255) << 8 | buffer[i * 4 + 3] & 255;
        } else {
          var u = this.temp[i - 2];
          var t1_1 = (u >>> 17 | u << 15) ^ (u >>> 19 | u << 13) ^ u >>> 10;
          u = this.temp[i - 15];
          var t2_1 = (u >>> 7 | u << 25) ^ (u >>> 18 | u << 14) ^ u >>> 3;
          this.temp[i] = (t1_1 + this.temp[i - 7] | 0) + (t2_1 + this.temp[i - 16] | 0);
        }
        var t1 = (((state4 >>> 6 | state4 << 26) ^ (state4 >>> 11 | state4 << 21) ^ (state4 >>> 25 | state4 << 7)) + (state4 & state5 ^ ~state4 & state6) | 0) + (state7 + (KEY[i] + this.temp[i] | 0) | 0) | 0;
        var t2 = ((state0 >>> 2 | state0 << 30) ^ (state0 >>> 13 | state0 << 19) ^ (state0 >>> 22 | state0 << 10)) + (state0 & state1 ^ state0 & state2 ^ state1 & state2) | 0;
        state7 = state6;
        state6 = state5;
        state5 = state4;
        state4 = state3 + t1 | 0;
        state3 = state2;
        state2 = state1;
        state1 = state0;
        state0 = t1 + t2 | 0;
      }
      state[0] += state0;
      state[1] += state1;
      state[2] += state2;
      state[3] += state3;
      state[4] += state4;
      state[5] += state5;
      state[6] += state6;
      state[7] += state7;
    };
    return RawSha2563;
  }()
);

// node_modules/@smithy/util-utf8/dist-es/fromUtf8.browser.js
var fromUtf8 = (input) => new TextEncoder().encode(input);

// node_modules/@aws-amplify/core/node_modules/@aws-crypto/util/build/module/convertToBuffer.js
var fromUtf82 = typeof Buffer !== "undefined" && Buffer.from ? function(input) {
  return Buffer.from(input, "utf8");
} : fromUtf8;
function convertToBuffer(data) {
  if (data instanceof Uint8Array) return data;
  if (typeof data === "string") {
    return fromUtf82(data);
  }
  if (ArrayBuffer.isView(data)) {
    return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);
  }
  return new Uint8Array(data);
}

// node_modules/@aws-amplify/core/node_modules/@aws-crypto/util/build/module/isEmptyData.js
function isEmptyData(data) {
  if (typeof data === "string") {
    return data.length === 0;
  }
  return data.byteLength === 0;
}

// node_modules/@aws-amplify/core/node_modules/@aws-crypto/sha256-js/build/module/jsSha256.js
var Sha256 = (
  /** @class */
  function() {
    function Sha2563(secret) {
      this.secret = secret;
      this.hash = new RawSha256();
      this.reset();
    }
    Sha2563.prototype.update = function(toHash) {
      if (isEmptyData(toHash) || this.error) {
        return;
      }
      try {
        this.hash.update(convertToBuffer(toHash));
      } catch (e) {
        this.error = e;
      }
    };
    Sha2563.prototype.digestSync = function() {
      if (this.error) {
        throw this.error;
      }
      if (this.outer) {
        if (!this.outer.finished) {
          this.outer.update(this.hash.digest());
        }
        return this.outer.digest();
      }
      return this.hash.digest();
    };
    Sha2563.prototype.digest = function() {
      return __awaiter(this, void 0, void 0, function() {
        return __generator(this, function(_a) {
          return [2, this.digestSync()];
        });
      });
    };
    Sha2563.prototype.reset = function() {
      this.hash = new RawSha256();
      if (this.secret) {
        this.outer = new RawSha256();
        var inner = bufferFromSecret(this.secret);
        var outer = new Uint8Array(BLOCK_SIZE);
        outer.set(inner);
        for (var i = 0; i < BLOCK_SIZE; i++) {
          inner[i] ^= 54;
          outer[i] ^= 92;
        }
        this.hash.update(inner);
        this.outer.update(outer);
        for (var i = 0; i < inner.byteLength; i++) {
          inner[i] = 0;
        }
      }
    };
    return Sha2563;
  }()
);
function bufferFromSecret(secret) {
  var input = convertToBuffer(secret);
  if (input.byteLength > BLOCK_SIZE) {
    var bufferHash = new RawSha256();
    bufferHash.update(input);
    input = bufferHash.digest();
  }
  var buffer = new Uint8Array(BLOCK_SIZE);
  buffer.set(input);
  return buffer;
}

// node_modules/@smithy/util-hex-encoding/dist-es/index.js
var SHORT_TO_HEX = {};
var HEX_TO_SHORT = {};
for (let i = 0; i < 256; i++) {
  let encodedByte = i.toString(16).toLowerCase();
  if (encodedByte.length === 1) {
    encodedByte = `0${encodedByte}`;
  }
  SHORT_TO_HEX[i] = encodedByte;
  HEX_TO_SHORT[encodedByte] = i;
}

// node_modules/@aws-amplify/core/dist/esm/Platform/types.mjs
var Framework;
(function(Framework2) {
  Framework2["WebUnknown"] = "0";
  Framework2["React"] = "1";
  Framework2["NextJs"] = "2";
  Framework2["Angular"] = "3";
  Framework2["VueJs"] = "4";
  Framework2["Nuxt"] = "5";
  Framework2["Svelte"] = "6";
  Framework2["ServerSideUnknown"] = "100";
  Framework2["ReactSSR"] = "101";
  Framework2["NextJsSSR"] = "102";
  Framework2["AngularSSR"] = "103";
  Framework2["VueJsSSR"] = "104";
  Framework2["NuxtSSR"] = "105";
  Framework2["SvelteSSR"] = "106";
  Framework2["ReactNative"] = "201";
  Framework2["Expo"] = "202";
})(Framework || (Framework = {}));
var Category;
(function(Category2) {
  Category2["AI"] = "ai";
  Category2["API"] = "api";
  Category2["Auth"] = "auth";
  Category2["Analytics"] = "analytics";
  Category2["DataStore"] = "datastore";
  Category2["Geo"] = "geo";
  Category2["InAppMessaging"] = "inappmessaging";
  Category2["Interactions"] = "interactions";
  Category2["Predictions"] = "predictions";
  Category2["PubSub"] = "pubsub";
  Category2["PushNotification"] = "pushnotification";
  Category2["Storage"] = "storage";
})(Category || (Category = {}));
var AiAction;
(function(AiAction2) {
  AiAction2["CreateConversation"] = "1";
  AiAction2["GetConversation"] = "2";
  AiAction2["ListConversations"] = "3";
  AiAction2["DeleteConversation"] = "4";
  AiAction2["SendMessage"] = "5";
  AiAction2["ListMessages"] = "6";
  AiAction2["OnMessage"] = "7";
  AiAction2["Generation"] = "8";
  AiAction2["UpdateConversation"] = "9";
})(AiAction || (AiAction = {}));
var AnalyticsAction;
(function(AnalyticsAction2) {
  AnalyticsAction2["Record"] = "1";
  AnalyticsAction2["IdentifyUser"] = "2";
})(AnalyticsAction || (AnalyticsAction = {}));
var ApiAction;
(function(ApiAction2) {
  ApiAction2["GraphQl"] = "1";
  ApiAction2["Get"] = "2";
  ApiAction2["Post"] = "3";
  ApiAction2["Put"] = "4";
  ApiAction2["Patch"] = "5";
  ApiAction2["Del"] = "6";
  ApiAction2["Head"] = "7";
})(ApiAction || (ApiAction = {}));
var AuthAction;
(function(AuthAction2) {
  AuthAction2["SignUp"] = "1";
  AuthAction2["ConfirmSignUp"] = "2";
  AuthAction2["ResendSignUpCode"] = "3";
  AuthAction2["SignIn"] = "4";
  AuthAction2["FetchMFAPreference"] = "6";
  AuthAction2["UpdateMFAPreference"] = "7";
  AuthAction2["SetUpTOTP"] = "10";
  AuthAction2["VerifyTOTPSetup"] = "11";
  AuthAction2["ConfirmSignIn"] = "12";
  AuthAction2["DeleteUserAttributes"] = "15";
  AuthAction2["DeleteUser"] = "16";
  AuthAction2["UpdateUserAttributes"] = "17";
  AuthAction2["FetchUserAttributes"] = "18";
  AuthAction2["ConfirmUserAttribute"] = "22";
  AuthAction2["SignOut"] = "26";
  AuthAction2["UpdatePassword"] = "27";
  AuthAction2["ResetPassword"] = "28";
  AuthAction2["ConfirmResetPassword"] = "29";
  AuthAction2["FederatedSignIn"] = "30";
  AuthAction2["RememberDevice"] = "32";
  AuthAction2["ForgetDevice"] = "33";
  AuthAction2["FetchDevices"] = "34";
  AuthAction2["SendUserAttributeVerificationCode"] = "35";
  AuthAction2["SignInWithRedirect"] = "36";
  AuthAction2["StartWebAuthnRegistration"] = "37";
  AuthAction2["CompleteWebAuthnRegistration"] = "38";
  AuthAction2["ListWebAuthnCredentials"] = "39";
  AuthAction2["DeleteWebAuthnCredential"] = "40";
})(AuthAction || (AuthAction = {}));
var DataStoreAction;
(function(DataStoreAction2) {
  DataStoreAction2["Subscribe"] = "1";
  DataStoreAction2["GraphQl"] = "2";
})(DataStoreAction || (DataStoreAction = {}));
var GeoAction;
(function(GeoAction2) {
  GeoAction2["SearchByText"] = "0";
  GeoAction2["SearchByCoordinates"] = "1";
  GeoAction2["SearchForSuggestions"] = "2";
  GeoAction2["SearchByPlaceId"] = "3";
  GeoAction2["SaveGeofences"] = "4";
  GeoAction2["GetGeofence"] = "5";
  GeoAction2["ListGeofences"] = "6";
  GeoAction2["DeleteGeofences"] = "7";
})(GeoAction || (GeoAction = {}));
var InAppMessagingAction;
(function(InAppMessagingAction2) {
  InAppMessagingAction2["SyncMessages"] = "1";
  InAppMessagingAction2["IdentifyUser"] = "2";
  InAppMessagingAction2["NotifyMessageInteraction"] = "3";
})(InAppMessagingAction || (InAppMessagingAction = {}));
var InteractionsAction;
(function(InteractionsAction2) {
  InteractionsAction2["None"] = "0";
})(InteractionsAction || (InteractionsAction = {}));
var PredictionsAction;
(function(PredictionsAction2) {
  PredictionsAction2["Convert"] = "1";
  PredictionsAction2["Identify"] = "2";
  PredictionsAction2["Interpret"] = "3";
})(PredictionsAction || (PredictionsAction = {}));
var PubSubAction;
(function(PubSubAction2) {
  PubSubAction2["Subscribe"] = "1";
})(PubSubAction || (PubSubAction = {}));
var PushNotificationAction;
(function(PushNotificationAction2) {
  PushNotificationAction2["InitializePushNotifications"] = "1";
  PushNotificationAction2["IdentifyUser"] = "2";
})(PushNotificationAction || (PushNotificationAction = {}));
var StorageAction;
(function(StorageAction2) {
  StorageAction2["UploadData"] = "1";
  StorageAction2["DownloadData"] = "2";
  StorageAction2["List"] = "3";
  StorageAction2["Copy"] = "4";
  StorageAction2["Remove"] = "5";
  StorageAction2["GetProperties"] = "6";
  StorageAction2["GetUrl"] = "7";
  StorageAction2["GetDataAccess"] = "8";
  StorageAction2["ListCallerAccessGrants"] = "9";
})(StorageAction || (StorageAction = {}));

// node_modules/@aws-amplify/core/dist/esm/Platform/version.mjs
var version = "6.15.6";

// node_modules/@aws-amplify/core/dist/esm/Platform/detection/helpers.mjs
var globalExists = () => {
  return typeof global !== "undefined";
};
var windowExists = () => {
  return typeof window !== "undefined";
};
var documentExists = () => {
  return typeof document !== "undefined";
};
var processExists = () => {
  return typeof process !== "undefined";
};
var keyPrefixMatch = (object, prefix) => {
  return !!Object.keys(object).find((key) => key.startsWith(prefix));
};

// node_modules/@aws-amplify/core/dist/esm/Platform/detection/React.mjs
function reactWebDetect() {
  const elementKeyPrefixedWithReact = (key) => {
    return key.startsWith("_react") || key.startsWith("__react");
  };
  const elementIsReactEnabled = (element) => {
    return Object.keys(element).find(elementKeyPrefixedWithReact);
  };
  const allElementsWithId = () => Array.from(document.querySelectorAll("[id]"));
  return documentExists() && allElementsWithId().some(elementIsReactEnabled);
}
function reactSSRDetect() {
  return processExists() && typeof process.env !== "undefined" && !!Object.keys(process.env).find((key) => key.includes("react"));
}

// node_modules/@aws-amplify/core/dist/esm/Platform/detection/Vue.mjs
function vueWebDetect() {
  return windowExists() && keyPrefixMatch(window, "__VUE");
}
function vueSSRDetect() {
  return globalExists() && keyPrefixMatch(global, "__VUE");
}

// node_modules/@aws-amplify/core/dist/esm/Platform/detection/Svelte.mjs
function svelteWebDetect() {
  return windowExists() && keyPrefixMatch(window, "__SVELTE");
}
function svelteSSRDetect() {
  return processExists() && typeof process.env !== "undefined" && !!Object.keys(process.env).find((key) => key.includes("svelte"));
}

// node_modules/@aws-amplify/core/dist/esm/Platform/detection/Next.mjs
function nextWebDetect() {
  return windowExists() && window.next && typeof window.next === "object";
}
function nextSSRDetect() {
  return globalExists() && (keyPrefixMatch(global, "__next") || keyPrefixMatch(global, "__NEXT"));
}

// node_modules/@aws-amplify/core/dist/esm/Platform/detection/Nuxt.mjs
function nuxtWebDetect() {
  return windowExists() && (window.__NUXT__ !== void 0 || window.$nuxt !== void 0);
}
function nuxtSSRDetect() {
  return globalExists() && typeof global.__NUXT_PATHS__ !== "undefined";
}

// node_modules/@aws-amplify/core/dist/esm/Platform/detection/Angular.mjs
function angularWebDetect() {
  const angularVersionSetInDocument = Boolean(documentExists() && document.querySelector("[ng-version]"));
  const angularContentSetInWindow = Boolean(windowExists() && typeof window.ng !== "undefined");
  return angularVersionSetInDocument || angularContentSetInWindow;
}
function angularSSRDetect() {
  var _a;
  return processExists() && typeof process.env === "object" && ((_a = process.env.npm_lifecycle_script) == null ? void 0 : _a.startsWith("ng ")) || false;
}

// node_modules/@aws-amplify/core/dist/esm/Platform/detection/ReactNative.mjs
function reactNativeDetect() {
  return typeof navigator !== "undefined" && typeof navigator.product !== "undefined" && navigator.product === "ReactNative";
}

// node_modules/@aws-amplify/core/dist/esm/Platform/detection/Expo.mjs
function expoDetect() {
  return globalExists() && typeof global.expo !== "undefined";
}

// node_modules/@aws-amplify/core/dist/esm/Platform/detection/Web.mjs
function webDetect() {
  return windowExists();
}

// node_modules/@aws-amplify/core/dist/esm/Platform/detection/index.mjs
var detectionMap = [
  // First, detect mobile
  {
    platform: Framework.Expo,
    detectionMethod: expoDetect
  },
  {
    platform: Framework.ReactNative,
    detectionMethod: reactNativeDetect
  },
  // Next, detect web frameworks
  {
    platform: Framework.NextJs,
    detectionMethod: nextWebDetect
  },
  {
    platform: Framework.Nuxt,
    detectionMethod: nuxtWebDetect
  },
  {
    platform: Framework.Angular,
    detectionMethod: angularWebDetect
  },
  {
    platform: Framework.React,
    detectionMethod: reactWebDetect
  },
  {
    platform: Framework.VueJs,
    detectionMethod: vueWebDetect
  },
  {
    platform: Framework.Svelte,
    detectionMethod: svelteWebDetect
  },
  {
    platform: Framework.WebUnknown,
    detectionMethod: webDetect
  },
  // Last, detect ssr frameworks
  {
    platform: Framework.NextJsSSR,
    detectionMethod: nextSSRDetect
  },
  {
    platform: Framework.NuxtSSR,
    detectionMethod: nuxtSSRDetect
  },
  {
    platform: Framework.ReactSSR,
    detectionMethod: reactSSRDetect
  },
  {
    platform: Framework.VueJsSSR,
    detectionMethod: vueSSRDetect
  },
  {
    platform: Framework.AngularSSR,
    detectionMethod: angularSSRDetect
  },
  {
    platform: Framework.SvelteSSR,
    detectionMethod: svelteSSRDetect
  }
];
function detect() {
  var _a;
  return ((_a = detectionMap.find((detectionEntry) => detectionEntry.detectionMethod())) == null ? void 0 : _a.platform) || Framework.ServerSideUnknown;
}

// node_modules/@aws-amplify/core/dist/esm/Platform/detectFramework.mjs
var frameworkCache;
var frameworkChangeObservers = [];
var resetTriggered = false;
var SSR_RESET_TIMEOUT = 10;
var WEB_RESET_TIMEOUT = 10;
var PRIME_FRAMEWORK_DELAY = 1e3;
var detectFramework = () => {
  var _a;
  if (!frameworkCache) {
    frameworkCache = detect();
    if (resetTriggered) {
      while (frameworkChangeObservers.length) {
        (_a = frameworkChangeObservers.pop()) == null ? void 0 : _a();
      }
    } else {
      frameworkChangeObservers.forEach((fcn) => {
        fcn();
      });
    }
    resetTimeout(Framework.ServerSideUnknown, SSR_RESET_TIMEOUT);
    resetTimeout(Framework.WebUnknown, WEB_RESET_TIMEOUT);
  }
  return frameworkCache;
};
var observeFrameworkChanges = (fcn) => {
  if (resetTriggered) {
    return;
  }
  frameworkChangeObservers.push(fcn);
};
function clearCache() {
  frameworkCache = void 0;
}
function resetTimeout(framework, delay) {
  if (frameworkCache === framework && !resetTriggered) {
    setTimeout(() => {
      clearCache();
      resetTriggered = true;
      setTimeout(detectFramework, PRIME_FRAMEWORK_DELAY);
    }, delay);
  }
}

// node_modules/@aws-amplify/core/dist/esm/Platform/customUserAgent.mjs
var customUserAgentState = {};
var getCustomUserAgent = (category, api2) => {
  var _a, _b;
  return (_b = (_a = customUserAgentState[category]) == null ? void 0 : _a[api2]) == null ? void 0 : _b.additionalDetails;
};

// node_modules/@aws-amplify/core/dist/esm/Platform/index.mjs
var BASE_USER_AGENT = `aws-amplify`;
var sanitizeAmplifyVersion = (amplifyVersion) => amplifyVersion.replace(/\+.*/, "");
var PlatformBuilder = class {
  constructor() {
    this.userAgent = `${BASE_USER_AGENT}/${sanitizeAmplifyVersion(version)}`;
  }
  get framework() {
    return detectFramework();
  }
  get isReactNative() {
    return this.framework === Framework.ReactNative || this.framework === Framework.Expo;
  }
  observeFrameworkChanges(fcn) {
    observeFrameworkChanges(fcn);
  }
};
var Platform = new PlatformBuilder();
var getAmplifyUserAgentObject = ({
  category,
  action
} = {}) => {
  const userAgent = [[BASE_USER_AGENT, sanitizeAmplifyVersion(version)]];
  if (category) {
    userAgent.push([category, action]);
  }
  userAgent.push(["framework", detectFramework()]);
  if (category && action) {
    const customState = getCustomUserAgent(category, action);
    if (customState) {
      customState.forEach((state) => {
        userAgent.push(state);
      });
    }
  }
  return userAgent;
};
var getAmplifyUserAgent = (customUserAgentDetails) => {
  const userAgent = getAmplifyUserAgentObject(customUserAgentDetails);
  const userAgentString = userAgent.map(([agentKey, agentValue]) => agentKey && agentValue ? `${agentKey}/${agentValue}` : agentKey).join(" ");
  return userAgentString;
};

// node_modules/@aws-amplify/core/dist/esm/utils/isBrowser.mjs
var isBrowser = () => typeof window !== "undefined" && typeof window.document !== "undefined";

// node_modules/@aws-amplify/core/dist/esm/singleton/Auth/index.mjs
var logger3 = new ConsoleLogger("Auth");
var AuthClass = class {
  /**
   * Configure Auth category
   *
   * @internal
   *
   * @param authResourcesConfig - Resources configurations required by Auth providers.
   * @param authOptions - Client options used by library
   *
   * @returns void
   */
  configure(authResourcesConfig, authOptions) {
    var _a, _b;
    this.authConfig = authResourcesConfig;
    this.authOptions = authOptions;
    if (authResourcesConfig && ((_a = authResourcesConfig.Cognito) == null ? void 0 : _a.userPoolEndpoint)) {
      logger3.warn(getCustomEndpointWarningMessage("Amazon Cognito User Pool"));
    }
    if (authResourcesConfig && ((_b = authResourcesConfig.Cognito) == null ? void 0 : _b.identityPoolEndpoint)) {
      logger3.warn(getCustomEndpointWarningMessage("Amazon Cognito Identity Pool"));
    }
  }
  /**
   * Fetch the auth tokens, and the temporary AWS credentials and identity if they are configured. By default it
   * will automatically refresh expired auth tokens if a valid refresh token is present. You can force a refresh
   * of non-expired tokens with `{ forceRefresh: true }` input.
   *
   * @param options - Options configuring the fetch behavior.
   *
   * @returns Promise of current auth session {@link AuthSession}.
   */
  fetchAuthSession() {
    return __async(this, arguments, function* (options = {}) {
      var _a, _b, _c, _d, _e, _f;
      let credentialsAndIdentityId;
      let userSub;
      const tokens = yield this.getTokens(options);
      if (tokens) {
        userSub = (_b = (_a = tokens.accessToken) == null ? void 0 : _a.payload) == null ? void 0 : _b.sub;
        credentialsAndIdentityId = yield (_d = (_c = this.authOptions) == null ? void 0 : _c.credentialsProvider) == null ? void 0 : _d.getCredentialsAndIdentityId({
          authConfig: this.authConfig,
          tokens,
          authenticated: true,
          forceRefresh: options.forceRefresh
        });
      } else {
        credentialsAndIdentityId = yield (_f = (_e = this.authOptions) == null ? void 0 : _e.credentialsProvider) == null ? void 0 : _f.getCredentialsAndIdentityId({
          authConfig: this.authConfig,
          authenticated: false,
          forceRefresh: options.forceRefresh
        });
      }
      return {
        tokens,
        credentials: credentialsAndIdentityId == null ? void 0 : credentialsAndIdentityId.credentials,
        identityId: credentialsAndIdentityId == null ? void 0 : credentialsAndIdentityId.identityId,
        userSub
      };
    });
  }
  clearCredentials() {
    return __async(this, null, function* () {
      var _a, _b;
      yield (_b = (_a = this.authOptions) == null ? void 0 : _a.credentialsProvider) == null ? void 0 : _b.clearCredentialsAndIdentityId();
    });
  }
  getTokens(options) {
    return __async(this, null, function* () {
      var _a, _b, _c;
      return (_c = yield (_b = (_a = this.authOptions) == null ? void 0 : _a.tokenProvider) == null ? void 0 : _b.getTokens(options)) != null ? _c : void 0;
    });
  }
};
var getCustomEndpointWarningMessage = (target) => `You are using a custom Amazon ${target} endpoint, ensure the endpoint is correct.`;

// node_modules/@aws-amplify/core/dist/esm/singleton/Amplify.mjs
var AmplifyClass = class {
  constructor() {
    this.oAuthListener = void 0;
    this.isConfigured = false;
    this.resourcesConfig = {};
    this.libraryOptions = {};
    this.Auth = new AuthClass();
  }
  /**
   * Configures Amplify for use with your back-end resources.
   *
   * @remarks
   * This API does not perform any merging of either `resourcesConfig` or `libraryOptions`. The most recently
   * provided values will be used after configuration.
   *
   * @remarks
   * `configure` can be used to specify additional library options where available for supported categories.
   *
   * @param resourceConfig - Back-end resource configuration. Typically provided via the `aws-exports.js` file.
   * @param libraryOptions - Additional options for customizing the behavior of the library.
   */
  configure(resourcesConfig, libraryOptions) {
    const resolvedResourceConfig = parseAmplifyConfig(resourcesConfig);
    this.resourcesConfig = resolvedResourceConfig;
    if (libraryOptions) {
      this.libraryOptions = libraryOptions;
    }
    this.resourcesConfig = deepFreeze(this.resourcesConfig);
    this.Auth.configure(this.resourcesConfig.Auth, this.libraryOptions.Auth);
    Hub.dispatch("core", {
      event: "configure",
      data: this.resourcesConfig
    }, "Configure", AMPLIFY_SYMBOL);
    this.notifyOAuthListener();
    this.isConfigured = true;
  }
  /**
   * Provides access to the current back-end resource configuration for the Library.
   *
   * @returns Returns the immutable back-end resource configuration.
   */
  getConfig() {
    if (!this.isConfigured) {
      console.warn(`Amplify has not been configured. Please call Amplify.configure() before using this service.`);
    }
    return this.resourcesConfig;
  }
  /** @internal */
  [ADD_OAUTH_LISTENER](listener) {
    var _a, _b, _c;
    if ((_b = (_a = this.resourcesConfig.Auth) == null ? void 0 : _a.Cognito.loginWith) == null ? void 0 : _b.oauth) {
      listener((_c = this.resourcesConfig.Auth) == null ? void 0 : _c.Cognito);
    } else {
      this.oAuthListener = listener;
    }
  }
  notifyOAuthListener() {
    var _a, _b, _c;
    if (!((_b = (_a = this.resourcesConfig.Auth) == null ? void 0 : _a.Cognito.loginWith) == null ? void 0 : _b.oauth) || !this.oAuthListener) {
      return;
    }
    this.oAuthListener((_c = this.resourcesConfig.Auth) == null ? void 0 : _c.Cognito);
    this.oAuthListener = void 0;
  }
};
var Amplify = new AmplifyClass();

// node_modules/@aws-amplify/core/dist/esm/singleton/apis/internal/fetchAuthSession.mjs
var fetchAuthSession = (amplify, options) => {
  return amplify.Auth.fetchAuthSession(options);
};

// node_modules/@aws-amplify/core/dist/esm/singleton/apis/fetchAuthSession.mjs
var fetchAuthSession2 = (options) => {
  return fetchAuthSession(Amplify, options);
};

// node_modules/@aws-amplify/core/dist/esm/singleton/apis/clearCredentials.mjs
function clearCredentials() {
  return Amplify.Auth.clearCredentials();
}

// node_modules/@aws-amplify/core/dist/esm/clients/serde/responseInfo.mjs
var parseMetadata = (response) => {
  var _a, _b;
  const {
    headers,
    statusCode
  } = response;
  return __spreadProps(__spreadValues({}, isMetadataBearer(response) ? response.$metadata : {}), {
    httpStatusCode: statusCode,
    requestId: (_b = (_a = headers["x-amzn-requestid"]) != null ? _a : headers["x-amzn-request-id"]) != null ? _b : headers["x-amz-request-id"],
    extendedRequestId: headers["x-amz-id-2"],
    cfId: headers["x-amz-cf-id"]
  });
};
var isMetadataBearer = (response) => typeof (response == null ? void 0 : response.$metadata) === "object";

// node_modules/@aws-amplify/core/dist/esm/clients/serde/json.mjs
var parseJsonError = (response) => __async(null, null, function* () {
  var _a, _b, _c, _d, _e;
  if (!response || response.statusCode < 300) {
    return;
  }
  const body = yield parseJsonBody(response);
  const sanitizeErrorCode = (rawValue) => {
    const [cleanValue] = rawValue.toString().split(/[,:]+/);
    if (cleanValue.includes("#")) {
      return cleanValue.split("#")[1];
    }
    return cleanValue;
  };
  const code = sanitizeErrorCode((_c = (_b = (_a = response.headers["x-amzn-errortype"]) != null ? _a : body.code) != null ? _b : body.__type) != null ? _c : "UnknownError");
  const message = (_e = (_d = body.message) != null ? _d : body.Message) != null ? _e : "Unknown error";
  const error = new Error(message);
  return Object.assign(error, {
    name: code,
    $metadata: parseMetadata(response)
  });
});
var parseJsonBody = (response) => __async(null, null, function* () {
  if (!response.body) {
    throw new Error("Missing response payload");
  }
  const output = yield response.body.json();
  return Object.assign(output, {
    $metadata: parseMetadata(response)
  });
});

// node_modules/@aws-amplify/core/dist/esm/clients/internal/composeServiceApi.mjs
var composeServiceApi = (transferHandler, serializer, deserializer, defaultConfig2) => {
  return (config, input) => __async(null, null, function* () {
    const resolvedConfig = __spreadValues(__spreadValues({}, defaultConfig2), config);
    const endpoint = yield resolvedConfig.endpointResolver(resolvedConfig, input);
    const request = yield serializer(input, endpoint);
    const response = yield transferHandler(request, __spreadValues({}, resolvedConfig));
    return deserializer(response);
  });
};

// node_modules/@aws-amplify/core/dist/esm/utils/retry/constants.mjs
var MAX_DELAY_MS = 5 * 60 * 1e3;

// node_modules/@aws-amplify/core/dist/esm/utils/retry/jitteredBackoff.mjs
function jitteredBackoff(maxDelayMs = MAX_DELAY_MS) {
  const BASE_TIME_MS = 100;
  const JITTER_FACTOR = 100;
  return (attempt) => {
    const delay = 2 ** attempt * BASE_TIME_MS + JITTER_FACTOR * Math.random();
    return delay > maxDelayMs ? false : delay;
  };
}

// node_modules/@aws-amplify/core/dist/esm/clients/middleware/retry/constants.mjs
var DEFAULT_RETRY_ATTEMPTS = 3;
var AMZ_SDK_INVOCATION_ID_HEADER = "amz-sdk-invocation-id";
var AMZ_SDK_REQUEST_HEADER = "amz-sdk-request";
var DEFAULT_MAX_DELAY_MS = 5 * 60 * 1e3;

// node_modules/@aws-amplify/core/dist/esm/clients/middleware/retry/jitteredBackoff.mjs
var jitteredBackoff2 = (attempt) => {
  const delayFunction = jitteredBackoff(DEFAULT_MAX_DELAY_MS);
  const delay = delayFunction(attempt);
  return delay === false ? DEFAULT_MAX_DELAY_MS : delay;
};

// node_modules/@aws-amplify/core/dist/esm/clients/middleware/retry/isClockSkewError.mjs
var CLOCK_SKEW_ERROR_CODES = [
  "AuthFailure",
  "InvalidSignatureException",
  "RequestExpired",
  "RequestInTheFuture",
  "RequestTimeTooSkewed",
  "SignatureDoesNotMatch",
  "BadRequestException"
  // API Gateway
];
var isClockSkewError = (errorCode) => !!errorCode && CLOCK_SKEW_ERROR_CODES.includes(errorCode);

// node_modules/@aws-amplify/core/dist/esm/clients/middleware/retry/defaultRetryDecider.mjs
var getRetryDecider = (errorParser) => (response, error) => __async(null, null, function* () {
  var _a;
  const parsedError = (_a = error != null ? error : yield errorParser(response)) != null ? _a : void 0;
  const errorCode = (parsedError == null ? void 0 : parsedError.code) || (parsedError == null ? void 0 : parsedError.name);
  const statusCode = response == null ? void 0 : response.statusCode;
  const isRetryable = isConnectionError(error) || isThrottlingError(statusCode, errorCode) || isClockSkewError(errorCode) || isServerSideError(statusCode, errorCode);
  return {
    retryable: isRetryable
  };
});
var THROTTLING_ERROR_CODES = ["BandwidthLimitExceeded", "EC2ThrottledException", "LimitExceededException", "PriorRequestNotComplete", "ProvisionedThroughputExceededException", "RequestLimitExceeded", "RequestThrottled", "RequestThrottledException", "SlowDown", "ThrottledException", "Throttling", "ThrottlingException", "TooManyRequestsException"];
var TIMEOUT_ERROR_CODES = ["TimeoutError", "RequestTimeout", "RequestTimeoutException"];
var isThrottlingError = (statusCode, errorCode) => statusCode === 429 || !!errorCode && THROTTLING_ERROR_CODES.includes(errorCode);
var isConnectionError = (error) => [
  AmplifyErrorCode.NetworkError,
  // TODO(vNext): unify the error code `ERR_NETWORK` used by the Storage XHR handler
  "ERR_NETWORK"
].includes(error == null ? void 0 : error.name);
var isServerSideError = (statusCode, errorCode) => !!statusCode && [500, 502, 503, 504].includes(statusCode) || !!errorCode && TIMEOUT_ERROR_CODES.includes(errorCode);

// node_modules/@aws-amplify/core/dist/esm/foundation/factories/serviceClients/cognitoIdentity/constants.mjs
var COGNITO_IDENTITY_SERVICE_NAME = "cognito-identity";
var DEFAULT_SERVICE_CLIENT_API_CONFIG = {
  service: COGNITO_IDENTITY_SERVICE_NAME,
  retryDecider: getRetryDecider(parseJsonError),
  computeDelay: jitteredBackoff2,
  cache: "no-store"
};

// node_modules/@aws-amplify/core/dist/esm/clients/middleware/retry/retryMiddleware.mjs
var retryMiddlewareFactory = ({
  maxAttempts = DEFAULT_RETRY_ATTEMPTS,
  retryDecider,
  computeDelay,
  abortSignal
}) => {
  if (maxAttempts < 1) {
    throw new Error("maxAttempts must be greater than 0");
  }
  return (next, context) => function retryMiddleware(request) {
    return __async(this, null, function* () {
      var _a, _b, _c;
      let error;
      let attemptsCount = (_a = context.attemptsCount) != null ? _a : 0;
      let response;
      const handleTerminalErrorOrResponse = () => {
        if (response) {
          addOrIncrementMetadataAttempts(response, attemptsCount);
          return response;
        } else {
          addOrIncrementMetadataAttempts(error, attemptsCount);
          throw error;
        }
      };
      while (!(abortSignal == null ? void 0 : abortSignal.aborted) && attemptsCount < maxAttempts) {
        try {
          response = yield next(request);
          error = void 0;
        } catch (e) {
          error = e;
          response = void 0;
        }
        attemptsCount = ((_b = context.attemptsCount) != null ? _b : 0) > attemptsCount ? (_c = context.attemptsCount) != null ? _c : 0 : attemptsCount + 1;
        context.attemptsCount = attemptsCount;
        const {
          isCredentialsExpiredError,
          retryable
        } = yield retryDecider(response, error, context);
        if (retryable) {
          context.isCredentialsExpired = !!isCredentialsExpiredError;
          if (!(abortSignal == null ? void 0 : abortSignal.aborted) && attemptsCount < maxAttempts) {
            const delay = computeDelay(attemptsCount);
            yield cancellableSleep(delay, abortSignal);
          }
          continue;
        } else {
          return handleTerminalErrorOrResponse();
        }
      }
      if (abortSignal == null ? void 0 : abortSignal.aborted) {
        throw new Error("Request aborted.");
      } else {
        return handleTerminalErrorOrResponse();
      }
    });
  };
};
var cancellableSleep = (timeoutMs, abortSignal) => {
  if (abortSignal == null ? void 0 : abortSignal.aborted) {
    return Promise.resolve();
  }
  let timeoutId;
  let sleepPromiseResolveFn;
  const sleepPromise = new Promise((resolve) => {
    sleepPromiseResolveFn = resolve;
    timeoutId = setTimeout(resolve, timeoutMs);
  });
  abortSignal == null ? void 0 : abortSignal.addEventListener("abort", function cancelSleep(_) {
    clearTimeout(timeoutId);
    abortSignal == null ? void 0 : abortSignal.removeEventListener("abort", cancelSleep);
    sleepPromiseResolveFn();
  });
  return sleepPromise;
};
var addOrIncrementMetadataAttempts = (nextHandlerOutput, attempts) => {
  var _a;
  if (Object.prototype.toString.call(nextHandlerOutput) !== "[object Object]") {
    return;
  }
  nextHandlerOutput.$metadata = __spreadProps(__spreadValues({}, (_a = nextHandlerOutput.$metadata) != null ? _a : {}), {
    attempts
  });
};

// node_modules/@aws-amplify/core/dist/esm/utils/amplifyUuid/index.mjs
var amplifyUuid = v4_default;

// node_modules/@aws-amplify/core/dist/esm/clients/middleware/retry/amzSdkInvocationIdHeaderMiddleware.mjs
var amzSdkInvocationIdHeaderMiddlewareFactory = () => (next) => {
  return function amzSdkInvocationIdHeaderMiddleware(request) {
    return __async(this, null, function* () {
      if (!request.headers[AMZ_SDK_INVOCATION_ID_HEADER]) {
        request.headers[AMZ_SDK_INVOCATION_ID_HEADER] = amplifyUuid();
      }
      return next(request);
    });
  };
};

// node_modules/@aws-amplify/core/dist/esm/clients/middleware/retry/amzSdkRequestHeaderMiddleware.mjs
var amzSdkRequestHeaderMiddlewareFactory = ({
  maxAttempts = DEFAULT_RETRY_ATTEMPTS
}) => (next, context) => {
  return function amzSdkRequestHeaderMiddleware(request) {
    return __async(this, null, function* () {
      var _a;
      const attemptsCount = (_a = context.attemptsCount) != null ? _a : 0;
      request.headers[AMZ_SDK_REQUEST_HEADER] = `attempt=${attemptsCount + 1}; max=${maxAttempts}`;
      return next(request);
    });
  };
};

// node_modules/@aws-amplify/core/dist/esm/clients/middleware/userAgent/middleware.mjs
var userAgentMiddlewareFactory = ({
  userAgentHeader = "x-amz-user-agent",
  userAgentValue = ""
}) => (next) => {
  return function userAgentMiddleware(request) {
    return __async(this, null, function* () {
      if (userAgentValue.trim().length === 0) {
        const result = yield next(request);
        return result;
      } else {
        const headerName = userAgentHeader.toLowerCase();
        request.headers[headerName] = request.headers[headerName] ? `${request.headers[headerName]} ${userAgentValue}` : userAgentValue;
        const response = yield next(request);
        return response;
      }
    });
  };
};

// node_modules/@aws-amplify/core/dist/esm/clients/internal/composeTransferHandler.mjs
var composeTransferHandler = (coreHandler, middleware) => (request, options) => {
  const context = {};
  let composedHandler = (composeHandlerRequest) => coreHandler(composeHandlerRequest, options);
  for (let i = middleware.length - 1; i >= 0; i--) {
    const m = middleware[i];
    const resolvedMiddleware = m(options);
    composedHandler = resolvedMiddleware(composedHandler, context);
  }
  return composedHandler(request);
};

// node_modules/@aws-amplify/core/dist/esm/clients/utils/memoization.mjs
var withMemoization = (payloadAccessor) => {
  let cached;
  return () => {
    if (!cached) {
      cached = payloadAccessor();
    }
    return cached;
  };
};

// node_modules/@aws-amplify/core/dist/esm/clients/handlers/fetch.mjs
var shouldSendBody = (method) => !["HEAD", "GET"].includes(method.toUpperCase());
var fetchTransferHandler = (_0, _1) => __async(null, [_0, _1], function* ({
  url,
  method,
  headers,
  body
}, {
  abortSignal,
  cache,
  withCrossDomainCredentials
}) {
  var _a, _b;
  let resp;
  try {
    resp = yield fetch(url, {
      method,
      headers,
      body: shouldSendBody(method) ? body : void 0,
      signal: abortSignal,
      cache,
      credentials: withCrossDomainCredentials ? "include" : "same-origin"
    });
  } catch (e) {
    if (e instanceof TypeError) {
      throw new AmplifyError({
        name: AmplifyErrorCode.NetworkError,
        message: "A network error has occurred.",
        underlyingError: e
      });
    }
    throw e;
  }
  const responseHeaders = {};
  (_a = resp.headers) == null ? void 0 : _a.forEach((value, key) => {
    responseHeaders[key.toLowerCase()] = value;
  });
  const httpResponse = {
    statusCode: resp.status,
    headers: responseHeaders,
    body: null
  };
  const bodyWithMixin = Object.assign((_b = resp.body) != null ? _b : {}, {
    text: withMemoization(() => resp.text()),
    blob: withMemoization(() => resp.blob()),
    json: withMemoization(() => resp.json())
  });
  return __spreadProps(__spreadValues({}, httpResponse), {
    body: bodyWithMixin
  });
});

// node_modules/@aws-amplify/core/dist/esm/clients/handlers/aws/unauthenticated.mjs
var unauthenticatedHandler = composeTransferHandler(fetchTransferHandler, [userAgentMiddlewareFactory, amzSdkInvocationIdHeaderMiddlewareFactory, retryMiddlewareFactory, amzSdkRequestHeaderMiddlewareFactory]);

// node_modules/@aws-amplify/core/dist/esm/foundation/factories/middleware/createDisableCacheMiddleware.mjs
var createDisableCacheMiddleware = () => (next) => function disableCacheMiddleware(request) {
  return __async(this, null, function* () {
    request.headers["cache-control"] = "no-store";
    return next(request);
  });
};

// node_modules/@aws-amplify/core/dist/esm/foundation/factories/serviceClients/cognitoIdentity/handler/cognitoIdentityTransferHandler.mjs
var cognitoIdentityTransferHandler = composeTransferHandler(unauthenticatedHandler, [createDisableCacheMiddleware]);

// node_modules/@aws-amplify/core/dist/esm/foundation/factories/serviceClients/cognitoIdentity/serde/createClientSerializer.mjs
var createClientSerializer = (operation) => (input, endpoint) => {
  const headers = getSharedHeaders(operation);
  const body = JSON.stringify(input);
  return buildHttpRpcRequest(endpoint, headers, body);
};
var getSharedHeaders = (operation) => ({
  "content-type": "application/x-amz-json-1.1",
  "x-amz-target": `AWSCognitoIdentityService.${operation}`
});
var buildHttpRpcRequest = ({
  url
}, headers, body) => ({
  headers,
  url,
  body,
  method: "POST"
});

// node_modules/@aws-amplify/core/dist/esm/foundation/factories/serviceClients/cognitoIdentity/createGetCredentialsForIdentityClient.mjs
var createGetCredentialsForIdentityClient = (config) => composeServiceApi(cognitoIdentityTransferHandler, createClientSerializer("GetCredentialsForIdentity"), getCredentialsForIdentityDeserializer, __spreadProps(__spreadValues(__spreadValues({}, DEFAULT_SERVICE_CLIENT_API_CONFIG), config), {
  userAgentValue: getAmplifyUserAgent()
}));
var getCredentialsForIdentityDeserializer = (response) => __async(null, null, function* () {
  if (response.statusCode >= 300) {
    const error = yield parseJsonError(response);
    throw error;
  }
  const body = yield parseJsonBody(response);
  return {
    IdentityId: body.IdentityId,
    Credentials: deserializeCredentials(body.Credentials),
    $metadata: parseMetadata(response)
  };
});
var deserializeCredentials = (_a = {}) => {
  var _b = _a, {
    Expiration
  } = _b, rest = __objRest(_b, [
    "Expiration"
  ]);
  return __spreadProps(__spreadValues({}, rest), {
    Expiration: Expiration && new Date(Expiration * 1e3)
  });
};

// node_modules/@aws-amplify/core/dist/esm/foundation/factories/serviceClients/cognitoIdentity/createGetIdClient.mjs
var createGetIdClient = (config) => composeServiceApi(cognitoIdentityTransferHandler, createClientSerializer("GetId"), getIdDeserializer, __spreadProps(__spreadValues(__spreadValues({}, DEFAULT_SERVICE_CLIENT_API_CONFIG), config), {
  userAgentValue: getAmplifyUserAgent()
}));
var getIdDeserializer = (response) => __async(null, null, function* () {
  if (response.statusCode >= 300) {
    const error = yield parseJsonError(response);
    throw error;
  }
  const body = yield parseJsonBody(response);
  return {
    IdentityId: body.IdentityId,
    $metadata: parseMetadata(response)
  };
});

// node_modules/@aws-amplify/core/dist/esm/clients/endpoints/partitions.mjs
var defaultPartition = {
  id: "aws",
  outputs: {
    dnsSuffix: "amazonaws.com"
  },
  regionRegex: "^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",
  regions: ["aws-global"]
};
var partitionsInfo = {
  partitions: [defaultPartition, {
    id: "aws-cn",
    outputs: {
      dnsSuffix: "amazonaws.com.cn"
    },
    regionRegex: "^cn\\-\\w+\\-\\d+$",
    regions: ["aws-cn-global"]
  }]
};

// node_modules/@aws-amplify/core/dist/esm/clients/endpoints/getDnsSuffix.mjs
var getDnsSuffix = (region) => {
  const {
    partitions
  } = partitionsInfo;
  for (const {
    regions,
    outputs,
    regionRegex
  } of partitions) {
    const regex = new RegExp(regionRegex);
    if (regions.includes(region) || regex.test(region)) {
      return outputs.dnsSuffix;
    }
  }
  return defaultPartition.outputs.dnsSuffix;
};

// node_modules/@aws-amplify/core/dist/esm/utils/amplifyUrl/index.mjs
var AmplifyUrl = URL;

// node_modules/@aws-amplify/core/dist/esm/foundation/factories/serviceClients/cognitoIdentity/cognitoIdentityPoolEndpointResolver.mjs
var cognitoIdentityPoolEndpointResolver = ({
  region
}) => ({
  url: new AmplifyUrl(`https://${COGNITO_IDENTITY_SERVICE_NAME}.${region}.${getDnsSuffix(region)}`)
});

// node_modules/@aws-amplify/core/dist/esm/errors/PlatformNotSupportedError.mjs
var PlatformNotSupportedError = class extends AmplifyError {
  constructor() {
    super({
      name: AmplifyErrorCode.PlatformNotSupported,
      message: "Function not supported on current platform"
    });
  }
};

// node_modules/@aws-amplify/core/dist/esm/storage/KeyValueStorage.mjs
var KeyValueStorage = class {
  constructor(storage) {
    this.storage = storage;
  }
  /**
   * This is used to set a specific item in storage
   * @param {string} key - the key for the item
   * @param {object} value - the value
   * @returns {string} value that was set
   */
  setItem(key, value) {
    return __async(this, null, function* () {
      if (!this.storage) throw new PlatformNotSupportedError();
      this.storage.setItem(key, value);
    });
  }
  /**
   * This is used to get a specific key from storage
   * @param {string} key - the key for the item
   * This is used to clear the storage
   * @returns {string} the data item
   */
  getItem(key) {
    return __async(this, null, function* () {
      if (!this.storage) throw new PlatformNotSupportedError();
      return this.storage.getItem(key);
    });
  }
  /**
   * This is used to remove an item from storage
   * @param {string} key - the key being set
   * @returns {string} value - value that was deleted
   */
  removeItem(key) {
    return __async(this, null, function* () {
      if (!this.storage) throw new PlatformNotSupportedError();
      this.storage.removeItem(key);
    });
  }
  /**
   * This is used to clear the storage
   * @returns {string} nothing
   */
  clear() {
    return __async(this, null, function* () {
      if (!this.storage) throw new PlatformNotSupportedError();
      this.storage.clear();
    });
  }
};

// node_modules/@aws-amplify/core/dist/esm/storage/InMemoryStorage.mjs
var InMemoryStorage = class {
  constructor() {
    this.storage = /* @__PURE__ */ new Map();
  }
  get length() {
    return this.storage.size;
  }
  key(index) {
    if (index > this.length - 1) {
      return null;
    }
    return Array.from(this.storage.keys())[index];
  }
  setItem(key, value) {
    this.storage.set(key, value);
  }
  getItem(key) {
    var _a;
    return (_a = this.storage.get(key)) != null ? _a : null;
  }
  removeItem(key) {
    this.storage.delete(key);
  }
  clear() {
    this.storage.clear();
  }
};

// node_modules/@aws-amplify/core/dist/esm/storage/utils.mjs
var logger4 = new ConsoleLogger("CoreStorageUtils");
var getLocalStorageWithFallback = () => {
  try {
    if (typeof window !== "undefined" && window.localStorage) {
      return window.localStorage;
    }
  } catch (e) {
    logger4.info("localStorage not found. InMemoryStorage is used as a fallback.");
  }
  return new InMemoryStorage();
};
var getSessionStorageWithFallback = () => {
  try {
    if (typeof window !== "undefined" && window.sessionStorage) {
      window.sessionStorage.getItem("test");
      return window.sessionStorage;
    }
    throw new Error("sessionStorage is not defined");
  } catch (e) {
    logger4.info("sessionStorage not found. InMemoryStorage is used as a fallback.");
    return new InMemoryStorage();
  }
};

// node_modules/@aws-amplify/core/dist/esm/storage/DefaultStorage.mjs
var DefaultStorage = class extends KeyValueStorage {
  constructor() {
    super(getLocalStorageWithFallback());
  }
};

// node_modules/@aws-amplify/core/dist/esm/storage/SessionStorage.mjs
var SessionStorage = class extends KeyValueStorage {
  constructor() {
    super(getSessionStorageWithFallback());
  }
};

// node_modules/@aws-amplify/core/dist/esm/storage/SyncKeyValueStorage.mjs
var SyncKeyValueStorage = class {
  constructor(storage) {
    this._storage = storage;
  }
  get storage() {
    if (!this._storage) throw new PlatformNotSupportedError();
    return this._storage;
  }
  /**
   * This is used to set a specific item in storage
   * @param {string} key - the key for the item
   * @param {object} value - the value
   * @returns {string} value that was set
   */
  setItem(key, value) {
    this.storage.setItem(key, value);
  }
  /**
   * This is used to get a specific key from storage
   * @param {string} key - the key for the item
   * This is used to clear the storage
   * @returns {string} the data item
   */
  getItem(key) {
    return this.storage.getItem(key);
  }
  /**
   * This is used to remove an item from storage
   * @param {string} key - the key being set
   * @returns {string} value - value that was deleted
   */
  removeItem(key) {
    this.storage.removeItem(key);
  }
  /**
   * This is used to clear the storage
   * @returns {string} nothing
   */
  clear() {
    this.storage.clear();
  }
};

// node_modules/@aws-amplify/core/dist/esm/storage/SyncSessionStorage.mjs
var SyncSessionStorage = class extends SyncKeyValueStorage {
  constructor() {
    super(getSessionStorageWithFallback());
  }
};

// node_modules/@aws-amplify/core/node_modules/js-cookie/dist/js.cookie.mjs
function assign(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];
    for (var key in source) {
      target[key] = source[key];
    }
  }
  return target;
}
var defaultConverter = {
  read: function(value) {
    if (value[0] === '"') {
      value = value.slice(1, -1);
    }
    return value.replace(/(%[\dA-F]{2})+/gi, decodeURIComponent);
  },
  write: function(value) {
    return encodeURIComponent(value).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g, decodeURIComponent);
  }
};
function init(converter, defaultAttributes) {
  function set(name2, value, attributes) {
    if (typeof document === "undefined") {
      return;
    }
    attributes = assign({}, defaultAttributes, attributes);
    if (typeof attributes.expires === "number") {
      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);
    }
    if (attributes.expires) {
      attributes.expires = attributes.expires.toUTCString();
    }
    name2 = encodeURIComponent(name2).replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent).replace(/[()]/g, escape);
    var stringifiedAttributes = "";
    for (var attributeName in attributes) {
      if (!attributes[attributeName]) {
        continue;
      }
      stringifiedAttributes += "; " + attributeName;
      if (attributes[attributeName] === true) {
        continue;
      }
      stringifiedAttributes += "=" + attributes[attributeName].split(";")[0];
    }
    return document.cookie = name2 + "=" + converter.write(value, name2) + stringifiedAttributes;
  }
  function get(name2) {
    if (typeof document === "undefined" || arguments.length && !name2) {
      return;
    }
    var cookies = document.cookie ? document.cookie.split("; ") : [];
    var jar = {};
    for (var i = 0; i < cookies.length; i++) {
      var parts = cookies[i].split("=");
      var value = parts.slice(1).join("=");
      try {
        var found = decodeURIComponent(parts[0]);
        jar[found] = converter.read(value, found);
        if (name2 === found) {
          break;
        }
      } catch (e) {
      }
    }
    return name2 ? jar[name2] : jar;
  }
  return Object.create({
    set,
    get,
    remove: function(name2, attributes) {
      set(name2, "", assign({}, attributes, {
        expires: -1
      }));
    },
    withAttributes: function(attributes) {
      return init(this.converter, assign({}, this.attributes, attributes));
    },
    withConverter: function(converter2) {
      return init(assign({}, this.converter, converter2), this.attributes);
    }
  }, {
    attributes: {
      value: Object.freeze(defaultAttributes)
    },
    converter: {
      value: Object.freeze(converter)
    }
  });
}
var api = init(defaultConverter, {
  path: "/"
});

// node_modules/@aws-amplify/core/dist/esm/storage/CookieStorage.mjs
var CookieStorage = class {
  constructor(data = {}) {
    const {
      path,
      domain,
      expires,
      sameSite,
      secure
    } = data;
    this.domain = domain;
    this.path = path || "/";
    this.expires = Object.prototype.hasOwnProperty.call(data, "expires") ? expires : 365;
    this.secure = Object.prototype.hasOwnProperty.call(data, "secure") ? secure : true;
    if (Object.prototype.hasOwnProperty.call(data, "sameSite")) {
      if (!sameSite || !["strict", "lax", "none"].includes(sameSite)) {
        throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');
      }
      if (sameSite === "none" && !this.secure) {
        throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");
      }
      this.sameSite = sameSite;
    }
  }
  setItem(key, value) {
    return __async(this, null, function* () {
      api.set(key, value, this.getData());
    });
  }
  getItem(key) {
    return __async(this, null, function* () {
      const item = api.get(key);
      return item != null ? item : null;
    });
  }
  removeItem(key) {
    return __async(this, null, function* () {
      api.remove(key, this.getData());
    });
  }
  clear() {
    return __async(this, null, function* () {
      const cookie = api.get();
      const promises = Object.keys(cookie).map((key) => this.removeItem(key));
      yield Promise.all(promises);
    });
  }
  getData() {
    return __spreadValues({
      path: this.path,
      expires: this.expires,
      domain: this.domain,
      secure: this.secure
    }, this.sameSite && {
      sameSite: this.sameSite
    });
  }
};

// node_modules/@aws-amplify/core/dist/esm/storage/index.mjs
var defaultStorage = new DefaultStorage();
var sessionStorage = new SessionStorage();
var syncSessionStorage = new SyncSessionStorage();
var sharedInMemoryStorage = new KeyValueStorage(new InMemoryStorage());

// node_modules/@aws-amplify/core/dist/esm/Cache/constants.mjs
var defaultConfig = {
  keyPrefix: "aws-amplify-cache",
  capacityInBytes: 1048576,
  // 1MB
  itemMaxSize: 21e4,
  // about 200kb
  defaultTTL: 2592e5,
  // about 3 days
  defaultPriority: 5,
  warningThreshold: 0.8
};
var currentSizeKey = "CurSize";

// node_modules/@aws-amplify/core/dist/esm/Cache/utils/cacheHelpers.mjs
function getByteLength(str) {
  let ret = 0;
  ret = str.length;
  for (let i = str.length; i >= 0; i -= 1) {
    const charCode = str.charCodeAt(i);
    if (charCode > 127 && charCode <= 2047) {
      ret += 1;
    } else if (charCode > 2047 && charCode <= 65535) {
      ret += 2;
    }
    if (charCode >= 56320 && charCode <= 57343) {
      i -= 1;
    }
  }
  return ret;
}
function getCurrentTime() {
  const currentTime = /* @__PURE__ */ new Date();
  return currentTime.getTime();
}
var getCurrentSizeKey = (keyPrefix) => `${keyPrefix}${currentSizeKey}`;

// node_modules/@aws-amplify/core/dist/esm/Cache/utils/errorHelpers.mjs
var CacheErrorCode;
(function(CacheErrorCode2) {
  CacheErrorCode2["NoCacheItem"] = "NoCacheItem";
  CacheErrorCode2["NullNextNode"] = "NullNextNode";
  CacheErrorCode2["NullPreviousNode"] = "NullPreviousNode";
})(CacheErrorCode || (CacheErrorCode = {}));
var cacheErrorMap = {
  [CacheErrorCode.NoCacheItem]: {
    message: "Item not found in the cache storage."
  },
  [CacheErrorCode.NullNextNode]: {
    message: "Next node is null."
  },
  [CacheErrorCode.NullPreviousNode]: {
    message: "Previous node is null."
  }
};
var assert2 = createAssertionFunction(cacheErrorMap);

// node_modules/@aws-amplify/core/dist/esm/Cache/StorageCacheCommon.mjs
var logger5 = new ConsoleLogger("StorageCache");
var StorageCacheCommon = class {
  /**
   * Initialize the cache
   *
   * @param config - Custom configuration for this instance.
   */
  constructor({
    config,
    keyValueStorage
  }) {
    this.config = __spreadValues(__spreadValues({}, defaultConfig), config);
    this.keyValueStorage = keyValueStorage;
    this.sanitizeConfig();
  }
  getModuleName() {
    return "Cache";
  }
  /**
   * Set custom configuration for the cache instance.
   *
   * @param config - customized configuration (without keyPrefix, which can't be changed)
   *
   * @return - the current configuration
   */
  configure(config) {
    if (config) {
      if (config.keyPrefix) {
        logger5.warn("keyPrefix can not be re-configured on an existing Cache instance.");
      }
      this.config = __spreadValues(__spreadValues({}, this.config), config);
    }
    this.sanitizeConfig();
    return this.config;
  }
  /**
   * return the current size of the cache
   * @return {Promise}
   */
  getCurrentCacheSize() {
    return __async(this, null, function* () {
      let size = yield this.getStorage().getItem(getCurrentSizeKey(this.config.keyPrefix));
      if (!size) {
        yield this.getStorage().setItem(getCurrentSizeKey(this.config.keyPrefix), "0");
        size = "0";
      }
      return Number(size);
    });
  }
  /**
   * Set item into cache. You can put number, string, boolean or object.
   * The cache will first check whether has the same key.
   * If it has, it will delete the old item and then put the new item in
   * The cache will pop out items if it is full
   * You can specify the cache item options. The cache will abort and output a warning:
   * If the key is invalid
   * If the size of the item exceeds itemMaxSize.
   * If the value is undefined
   * If incorrect cache item configuration
   * If error happened with browser storage
   *
   * @param {String} key - the key of the item
   * @param {Object} value - the value of the item
   * @param {Object} [options] - optional, the specified meta-data
   *
   * @return {Promise}
   */
  setItem(key, value, options) {
    return __async(this, null, function* () {
      logger5.debug(`Set item: key is ${key}, value is ${value} with options: ${options}`);
      if (!key || key === currentSizeKey) {
        logger5.warn(`Invalid key: should not be empty or reserved key: '${currentSizeKey}'`);
        return;
      }
      if (typeof value === "undefined") {
        logger5.warn(`The value of item should not be undefined!`);
        return;
      }
      const cacheItemOptions = {
        priority: (options == null ? void 0 : options.priority) !== void 0 ? options.priority : this.config.defaultPriority,
        expires: (options == null ? void 0 : options.expires) !== void 0 ? options.expires : this.config.defaultTTL + getCurrentTime()
      };
      if (cacheItemOptions.priority < 1 || cacheItemOptions.priority > 5) {
        logger5.warn(`Invalid parameter: priority due to out or range. It should be within 1 and 5.`);
        return;
      }
      const prefixedKey = `${this.config.keyPrefix}${key}`;
      const item = this.fillCacheItem(prefixedKey, value, cacheItemOptions);
      if (item.byteSize > this.config.itemMaxSize) {
        logger5.warn(`Item with key: ${key} you are trying to put into is too big!`);
        return;
      }
      try {
        const val = yield this.getStorage().getItem(prefixedKey);
        if (val) {
          yield this.removeCacheItem(prefixedKey, JSON.parse(val).byteSize);
        }
        if (yield this.isCacheFull(item.byteSize)) {
          const validKeys = yield this.clearInvalidAndGetRemainingKeys();
          if (yield this.isCacheFull(item.byteSize)) {
            const sizeToPop = yield this.sizeToPop(item.byteSize);
            yield this.popOutItems(validKeys, sizeToPop);
          }
        }
        return this.setCacheItem(prefixedKey, item);
      } catch (e) {
        logger5.warn(`setItem failed! ${e}`);
      }
    });
  }
  /**
   * Get item from cache. It will return null if item doesnt exist or it has been expired.
   * If you specified callback function in the options,
   * then the function will be executed if no such item in the cache
   * and finally put the return value into cache.
   * Please make sure the callback function will return the value you want to put into the cache.
   * The cache will abort output a warning:
   * If the key is invalid
   * If error happened with AsyncStorage
   *
   * @param {String} key - the key of the item
   * @param {Object} [options] - the options of callback function
   *
   * @return {Promise} - return a promise resolves to be the value of the item
   */
  getItem(key, options) {
    return __async(this, null, function* () {
      logger5.debug(`Get item: key is ${key} with options ${options}`);
      let cached;
      if (!key || key === currentSizeKey) {
        logger5.warn(`Invalid key: should not be empty or reserved key: '${currentSizeKey}'`);
        return null;
      }
      const prefixedKey = `${this.config.keyPrefix}${key}`;
      try {
        cached = yield this.getStorage().getItem(prefixedKey);
        if (cached != null) {
          if (yield this.isExpired(prefixedKey)) {
            yield this.removeCacheItem(prefixedKey, JSON.parse(cached).byteSize);
          } else {
            const item = yield this.updateVisitedTime(JSON.parse(cached), prefixedKey);
            return item.data;
          }
        }
        if (options == null ? void 0 : options.callback) {
          const val = options.callback();
          if (val !== null) {
            yield this.setItem(key, val, options);
          }
          return val;
        }
        return null;
      } catch (e) {
        logger5.warn(`getItem failed! ${e}`);
        return null;
      }
    });
  }
  /**
   * remove item from the cache
   * The cache will abort output a warning:
   * If error happened with AsyncStorage
   * @param {String} key - the key of the item
   * @return {Promise}
   */
  removeItem(key) {
    return __async(this, null, function* () {
      logger5.debug(`Remove item: key is ${key}`);
      if (!key || key === currentSizeKey) {
        logger5.warn(`Invalid key: should not be empty or reserved key: '${currentSizeKey}'`);
        return;
      }
      const prefixedKey = `${this.config.keyPrefix}${key}`;
      try {
        const val = yield this.getStorage().getItem(prefixedKey);
        if (val) {
          yield this.removeCacheItem(prefixedKey, JSON.parse(val).byteSize);
        }
      } catch (e) {
        logger5.warn(`removeItem failed! ${e}`);
      }
    });
  }
  /**
   * Return all the keys owned by this cache.
   * Will return an empty array if error occurred.
   *
   * @return {Promise}
   */
  getAllKeys() {
    return __async(this, null, function* () {
      try {
        return yield this.getAllCacheKeys();
      } catch (e) {
        logger5.warn(`getAllkeys failed! ${e}`);
        return [];
      }
    });
  }
  getStorage() {
    return this.keyValueStorage;
  }
  /**
   * check whether item is expired
   *
   * @param key - the key of the item
   *
   * @return true if the item is expired.
   */
  isExpired(key) {
    return __async(this, null, function* () {
      const text = yield this.getStorage().getItem(key);
      assert2(text !== null, CacheErrorCode.NoCacheItem, `Key: ${key}`);
      const item = JSON.parse(text);
      if (getCurrentTime() >= item.expires) {
        return true;
      }
      return false;
    });
  }
  /**
   * delete item from cache
   *
   * @param prefixedKey - the key of the item
   * @param size - optional, the byte size of the item
   */
  removeCacheItem(prefixedKey, size) {
    return __async(this, null, function* () {
      const item = yield this.getStorage().getItem(prefixedKey);
      assert2(item !== null, CacheErrorCode.NoCacheItem, `Key: ${prefixedKey}`);
      const itemSize = size != null ? size : JSON.parse(item).byteSize;
      yield this.decreaseCurrentSizeInBytes(itemSize);
      try {
        yield this.getStorage().removeItem(prefixedKey);
      } catch (removeItemError) {
        yield this.increaseCurrentSizeInBytes(itemSize);
        logger5.error(`Failed to remove item: ${removeItemError}`);
      }
    });
  }
  /**
   * produce a JSON object with meta-data and data value
   * @param value - the value of the item
   * @param options - optional, the specified meta-data
   *
   * @return - the item which has the meta-data and the value
   */
  fillCacheItem(key, value, options) {
    var _a, _b;
    const item = {
      key,
      data: value,
      timestamp: getCurrentTime(),
      visitedTime: getCurrentTime(),
      priority: (_a = options.priority) != null ? _a : 0,
      expires: (_b = options.expires) != null ? _b : 0,
      type: typeof value,
      byteSize: 0
    };
    item.byteSize = getByteLength(JSON.stringify(item));
    item.byteSize = getByteLength(JSON.stringify(item));
    return item;
  }
  sanitizeConfig() {
    if (this.config.itemMaxSize > this.config.capacityInBytes) {
      logger5.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default.");
      this.config.itemMaxSize = defaultConfig.itemMaxSize;
    }
    if (this.config.defaultPriority > 5 || this.config.defaultPriority < 1) {
      logger5.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default.");
      this.config.defaultPriority = defaultConfig.defaultPriority;
    }
    if (Number(this.config.warningThreshold) > 1 || Number(this.config.warningThreshold) < 0) {
      logger5.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default.");
      this.config.warningThreshold = defaultConfig.warningThreshold;
    }
    const cacheLimit = 5 * 1024 * 1024;
    if (this.config.capacityInBytes > cacheLimit) {
      logger5.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default.");
      this.config.capacityInBytes = defaultConfig.capacityInBytes;
    }
  }
  /**
   * increase current size of the cache
   *
   * @param amount - the amount of the cache szie which need to be increased
   */
  increaseCurrentSizeInBytes(amount) {
    return __async(this, null, function* () {
      const size = yield this.getCurrentCacheSize();
      yield this.getStorage().setItem(getCurrentSizeKey(this.config.keyPrefix), (size + amount).toString());
    });
  }
  /**
   * decrease current size of the cache
   *
   * @param amount - the amount of the cache size which needs to be decreased
   */
  decreaseCurrentSizeInBytes(amount) {
    return __async(this, null, function* () {
      const size = yield this.getCurrentCacheSize();
      yield this.getStorage().setItem(getCurrentSizeKey(this.config.keyPrefix), (size - amount).toString());
    });
  }
  /**
   * update the visited time if item has been visited
   *
   * @param item - the item which need to be updated
   * @param prefixedKey - the key of the item
   *
   * @return the updated item
   */
  updateVisitedTime(item, prefixedKey) {
    return __async(this, null, function* () {
      item.visitedTime = getCurrentTime();
      yield this.getStorage().setItem(prefixedKey, JSON.stringify(item));
      return item;
    });
  }
  /**
   * put item into cache
   *
   * @param prefixedKey - the key of the item
   * @param itemData - the value of the item
   * @param itemSizeInBytes - the byte size of the item
   */
  setCacheItem(prefixedKey, item) {
    return __async(this, null, function* () {
      yield this.increaseCurrentSizeInBytes(item.byteSize);
      try {
        yield this.getStorage().setItem(prefixedKey, JSON.stringify(item));
      } catch (setItemErr) {
        yield this.decreaseCurrentSizeInBytes(item.byteSize);
        logger5.error(`Failed to set item ${setItemErr}`);
      }
    });
  }
  /**
   * total space needed when poping out items
   *
   * @param itemSize
   *
   * @return total space needed
   */
  sizeToPop(itemSize) {
    return __async(this, null, function* () {
      const cur = yield this.getCurrentCacheSize();
      const spaceItemNeed = cur + itemSize - this.config.capacityInBytes;
      const cacheThresholdSpace = (1 - this.config.warningThreshold) * this.config.capacityInBytes;
      return spaceItemNeed > cacheThresholdSpace ? spaceItemNeed : cacheThresholdSpace;
    });
  }
  /**
   * see whether cache is full
   *
   * @param itemSize
   *
   * @return true if cache is full
   */
  isCacheFull(itemSize) {
    return __async(this, null, function* () {
      const cur = yield this.getCurrentCacheSize();
      return itemSize + cur > this.config.capacityInBytes;
    });
  }
  /**
   * get all the items we have, sort them by their priority,
   * if priority is same, sort them by their last visited time
   * pop out items from the low priority (5 is the lowest)
   * @private
   * @param keys - all the keys in this cache
   * @param sizeToPop - the total size of the items which needed to be poped out
   */
  popOutItems(keys, sizeToPop) {
    return __async(this, null, function* () {
      const items = [];
      let remainedSize = sizeToPop;
      for (const key of keys) {
        const val = yield this.getStorage().getItem(key);
        if (val != null) {
          const item = JSON.parse(val);
          items.push(item);
        }
      }
      items.sort((a, b) => {
        if (a.priority > b.priority) {
          return -1;
        } else if (a.priority < b.priority) {
          return 1;
        } else {
          if (a.visitedTime < b.visitedTime) {
            return -1;
          } else return 1;
        }
      });
      for (const item of items) {
        yield this.removeCacheItem(item.key, item.byteSize);
        remainedSize -= item.byteSize;
        if (remainedSize <= 0) {
          return;
        }
      }
    });
  }
  /**
   * Scan the storage and combine the following operations for efficiency
   *   1. Clear out all expired keys owned by this cache, not including the size key.
   *   2. Return the remaining keys.
   *
   * @return The remaining valid keys
   */
  clearInvalidAndGetRemainingKeys() {
    return __async(this, null, function* () {
      const remainingKeys = [];
      const keys = yield this.getAllCacheKeys({
        omitSizeKey: true
      });
      for (const key of keys) {
        if (yield this.isExpired(key)) {
          yield this.removeCacheItem(key);
        } else {
          remainingKeys.push(key);
        }
      }
      return remainingKeys;
    });
  }
  /**
   * clear the entire cache
   * The cache will abort and output a warning if error occurs
   * @return {Promise}
   */
  clear() {
    return __async(this, null, function* () {
      logger5.debug(`Clear Cache`);
      try {
        const keys = yield this.getAllKeys();
        for (const key of keys) {
          const prefixedKey = `${this.config.keyPrefix}${key}`;
          yield this.getStorage().removeItem(prefixedKey);
        }
      } catch (e) {
        logger5.warn(`clear failed! ${e}`);
      }
    });
  }
};

// node_modules/@aws-amplify/core/dist/esm/Cache/StorageCache.mjs
var logger6 = new ConsoleLogger("StorageCache");
var StorageCache = class _StorageCache extends StorageCacheCommon {
  /**
   * initialize the cache
   * @param config - the configuration of the cache
   */
  constructor(config) {
    const storage = getLocalStorageWithFallback();
    super({
      config,
      keyValueStorage: new KeyValueStorage(storage)
    });
    this.storage = storage;
    this.getItem = this.getItem.bind(this);
    this.setItem = this.setItem.bind(this);
    this.removeItem = this.removeItem.bind(this);
  }
  getAllCacheKeys(options) {
    return __async(this, null, function* () {
      const {
        omitSizeKey
      } = options != null ? options : {};
      const keys = [];
      for (let i = 0; i < this.storage.length; i++) {
        const key = this.storage.key(i);
        if (omitSizeKey && key === getCurrentSizeKey(this.config.keyPrefix)) {
          continue;
        }
        if (key == null ? void 0 : key.startsWith(this.config.keyPrefix)) {
          keys.push(key.substring(this.config.keyPrefix.length));
        }
      }
      return keys;
    });
  }
  /**
   * Return a new instance of cache with customized configuration.
   * @param {Object} config - the customized configuration
   * @return {Object} - the new instance of Cache
   */
  createInstance(config) {
    if (!config.keyPrefix || config.keyPrefix === defaultConfig.keyPrefix) {
      logger6.error("invalid keyPrefix, setting keyPrefix with timeStamp");
      config.keyPrefix = getCurrentTime.toString();
    }
    return new _StorageCache(config);
  }
};

// node_modules/@aws-amplify/core/dist/esm/Cache/index.mjs
var Cache = new StorageCache();

// node_modules/@aws-amplify/core/dist/esm/I18n/I18n.mjs
var logger7 = new ConsoleLogger("I18n");
var I18n$1 = class I18n {
  constructor() {
    this._options = null;
    this._lang = null;
    this._dict = {};
  }
  /**
   * Sets the default language from the configuration when required.
   */
  setDefaultLanguage() {
    if (!this._lang && typeof window !== "undefined" && window && window.navigator) {
      this._lang = window.navigator.language;
    }
    logger7.debug(this._lang);
  }
  /**
   * @method
   * Explicitly setting language
   * @param {String} lang
   */
  setLanguage(lang) {
    this._lang = lang;
  }
  /**
   * @method
   * Get value
   * @param {String} key
   * @param {String} defVal - Default value
   */
  get(key, defVal = void 0) {
    this.setDefaultLanguage();
    if (!this._lang) {
      return typeof defVal !== "undefined" ? defVal : key;
    }
    const lang = this._lang;
    let val = this.getByLanguage(key, lang);
    if (val) {
      return val;
    }
    if (lang.indexOf("-") > 0) {
      val = this.getByLanguage(key, lang.split("-")[0]);
    }
    if (val) {
      return val;
    }
    return typeof defVal !== "undefined" ? defVal : key;
  }
  /**
   * @method
   * Get value according to specified language
   * @param {String} key
   * @param {String} language - Specified langurage to be used
   * @param {String} defVal - Default value
   */
  getByLanguage(key, language, defVal = null) {
    if (!language) {
      return defVal;
    }
    const langDict = this._dict[language];
    if (!langDict) {
      return defVal;
    }
    return langDict[key];
  }
  /**
   * @method
   * Add vocabularies for one language
   * @param {String} language - Language of the dictionary
   * @param {Object} vocabularies - Object that has key-value as dictionary entry
   */
  putVocabulariesForLanguage(language, vocabularies) {
    let langDict = this._dict[language];
    if (!langDict) {
      langDict = this._dict[language] = {};
    }
    this._dict[language] = __spreadValues(__spreadValues({}, langDict), vocabularies);
  }
  /**
   * @method
   * Add vocabularies for one language
   * @param {Object} vocabularies - Object that has language as key,
   *                                vocabularies of each language as value
   */
  putVocabularies(vocabularies) {
    Object.keys(vocabularies).forEach((key) => {
      this.putVocabulariesForLanguage(key, vocabularies[key]);
    });
  }
};

// node_modules/@aws-amplify/core/dist/esm/I18n/errorHelpers.mjs
var I18nErrorCode;
(function(I18nErrorCode2) {
  I18nErrorCode2["NotConfigured"] = "NotConfigured";
})(I18nErrorCode || (I18nErrorCode = {}));
var i18nErrorMap = {
  [I18nErrorCode.NotConfigured]: {
    message: "i18n is not configured."
  }
};
var assert3 = createAssertionFunction(i18nErrorMap);

// node_modules/@aws-amplify/core/dist/esm/I18n/index.mjs
var logger8 = new ConsoleLogger("I18n");
var _config = {
  language: null
};
var _i18n = null;
var I18n2 = class _I18n {
  /**
   * @static
   * @method
   * Configure I18n part
   * @param {Object} config - Configuration of the I18n
   */
  static configure(config) {
    logger8.debug("configure I18n");
    if (!config) {
      return _config;
    }
    _config = Object.assign({}, _config, config.I18n || config);
    _I18n.createInstance();
    return _config;
  }
  static getModuleName() {
    return "I18n";
  }
  /**
   * @static
   * @method
   * Create an instance of I18n for the library
   */
  static createInstance() {
    logger8.debug("create I18n instance");
    if (_i18n) {
      return;
    }
    _i18n = new I18n$1();
  }
  /**
   * @static @method
   * Explicitly setting language
   * @param {String} lang
   */
  static setLanguage(lang) {
    _I18n.checkConfig();
    assert3(!!_i18n, I18nErrorCode.NotConfigured);
    _i18n.setLanguage(lang);
  }
  /**
   * @static @method
   * Get value
   * @param {String} key
   * @param {String} defVal - Default value
   */
  static get(key, defVal) {
    if (!_I18n.checkConfig()) {
      return typeof defVal === "undefined" ? key : defVal;
    }
    assert3(!!_i18n, I18nErrorCode.NotConfigured);
    return _i18n.get(key, defVal);
  }
  /**
   * @static
   * @method
   * Add vocabularies for one language
   * @param {String} language - Language of the dictionary
   * @param {Object} vocabularies - Object that has key-value as dictionary entry
   */
  static putVocabulariesForLanguage(language, vocabularies) {
    _I18n.checkConfig();
    assert3(!!_i18n, I18nErrorCode.NotConfigured);
    _i18n.putVocabulariesForLanguage(language, vocabularies);
  }
  /**
   * @static
   * @method
   * Add vocabularies for one language
   * @param {Object} vocabularies - Object that has language as key,
   *                                vocabularies of each language as value
   */
  static putVocabularies(vocabularies) {
    _I18n.checkConfig();
    assert3(!!_i18n, I18nErrorCode.NotConfigured);
    _i18n.putVocabularies(vocabularies);
  }
  static checkConfig() {
    if (!_i18n) {
      _I18n.createInstance();
    }
    return true;
  }
};
I18n2.createInstance();

// node_modules/@aws-amplify/core/dist/esm/utils/urlSafeDecode.mjs
function urlSafeDecode(hex) {
  const matchArr = hex.match(/.{2}/g) || [];
  return matchArr.map((char) => String.fromCharCode(parseInt(char, 16))).join("");
}

// node_modules/@aws-amplify/core/dist/esm/utils/deDupeAsyncFunction.mjs
var deDupeAsyncFunction = (asyncFunction) => {
  let inflightPromise;
  return (...args) => __async(null, null, function* () {
    if (inflightPromise) return inflightPromise;
    inflightPromise = new Promise((resolve, reject) => {
      asyncFunction(...args).then((result) => {
        resolve(result);
      }).catch((error) => {
        reject(error);
      }).finally(() => {
        inflightPromise = void 0;
      });
    });
    return inflightPromise;
  });
};

// node_modules/@aws-amplify/core/dist/esm/utils/isTokenExpired.mjs
function isTokenExpired({
  expiresAt,
  clockDrift,
  tolerance = 5e3
}) {
  const currentTime = Date.now();
  return currentTime + clockDrift + tolerance > expiresAt;
}

// node_modules/@aws-amplify/core/dist/esm/utils/deviceName/getDeviceName.mjs
var getDeviceName = () => __async(null, null, function* () {
  const {
    userAgentData
  } = navigator;
  if (!userAgentData) return navigator.userAgent;
  const {
    platform = "",
    platformVersion = "",
    model = "",
    architecture = "",
    fullVersionList = []
  } = yield userAgentData.getHighEntropyValues(["platform", "platformVersion", "architecture", "model", "fullVersionList"]);
  const versionList = fullVersionList.map((v) => `${v.brand}/${v.version}`).join(";");
  const deviceName = [platform, platformVersion, architecture, model, platform, versionList].filter((value) => value).join(" ");
  return deviceName || navigator.userAgent;
});

// node_modules/@aws-amplify/core/dist/esm/utils/convert/base64/bytesToString.mjs
function bytesToString(input) {
  return Array.from(input, (byte) => String.fromCodePoint(byte)).join("");
}

// node_modules/@aws-amplify/core/dist/esm/utils/convert/base64/base64Encoder.mjs
var base64Encoder = {
  /**
   * Convert input to base64-encoded string
   * @param input - string to convert to base64
   * @param options - encoding options that can optionally produce a base64url string
   * @returns base64-encoded string
   */
  convert(input, options = {
    urlSafe: false,
    skipPadding: false
  }) {
    const inputStr = typeof input === "string" ? input : bytesToString(input);
    let encodedStr = getBtoa()(inputStr);
    if (options.urlSafe) {
      encodedStr = encodedStr.replace(/\+/g, "-").replace(/\//g, "_");
    }
    if (options.skipPadding) {
      encodedStr = encodedStr.replace(/=/g, "");
    }
    return encodedStr;
  }
};

// node_modules/@aws-amplify/core/dist/esm/utils/cryptoSecureRandomInt.mjs
function cryptoSecureRandomInt() {
  const crypto2 = getCrypto();
  const randomResult = crypto2.getRandomValues(new Uint32Array(1))[0];
  return randomResult;
}

// node_modules/@aws-amplify/core/dist/esm/utils/WordArray.mjs
function hexStringify(wordArray) {
  const {
    words
  } = wordArray;
  const {
    sigBytes
  } = wordArray;
  const hexChars = [];
  for (let i = 0; i < sigBytes; i++) {
    const bite = words[i >>> 2] >>> 24 - i % 4 * 8 & 255;
    hexChars.push((bite >>> 4).toString(16));
    hexChars.push((bite & 15).toString(16));
  }
  return hexChars.join("");
}
var WordArray = class _WordArray {
  constructor(words, sigBytes) {
    this.words = [];
    let Words = words;
    Words = this.words = Words || [];
    if (sigBytes !== void 0) {
      this.sigBytes = sigBytes;
    } else {
      this.sigBytes = Words.length * 4;
    }
  }
  random(nBytes) {
    const words = [];
    for (let i = 0; i < nBytes; i += 4) {
      words.push(cryptoSecureRandomInt());
    }
    return new _WordArray(words, nBytes);
  }
  toString() {
    return hexStringify(this);
  }
};

// node_modules/@aws-amplify/auth/dist/esm/errors/types/validation.mjs
var AuthValidationErrorCode;
(function(AuthValidationErrorCode2) {
  AuthValidationErrorCode2["EmptySignInUsername"] = "EmptySignInUsername";
  AuthValidationErrorCode2["EmptySignInPassword"] = "EmptySignInPassword";
  AuthValidationErrorCode2["CustomAuthSignInPassword"] = "CustomAuthSignInPassword";
  AuthValidationErrorCode2["EmptySignUpUsername"] = "EmptySignUpUsername";
  AuthValidationErrorCode2["EmptySignUpPassword"] = "EmptySignUpPassword";
  AuthValidationErrorCode2["EmptyConfirmSignUpUsername"] = "EmptyConfirmSignUpUsername";
  AuthValidationErrorCode2["EmptyConfirmSignUpCode"] = "EmptyConfirmSignUpCode";
  AuthValidationErrorCode2["EmptyResendSignUpCodeUsername"] = "EmptyresendSignUpCodeUsername";
  AuthValidationErrorCode2["EmptyChallengeResponse"] = "EmptyChallengeResponse";
  AuthValidationErrorCode2["EmptyConfirmResetPasswordUsername"] = "EmptyConfirmResetPasswordUsername";
  AuthValidationErrorCode2["EmptyConfirmResetPasswordNewPassword"] = "EmptyConfirmResetPasswordNewPassword";
  AuthValidationErrorCode2["EmptyConfirmResetPasswordConfirmationCode"] = "EmptyConfirmResetPasswordConfirmationCode";
  AuthValidationErrorCode2["EmptyResetPasswordUsername"] = "EmptyResetPasswordUsername";
  AuthValidationErrorCode2["EmptyVerifyTOTPSetupCode"] = "EmptyVerifyTOTPSetupCode";
  AuthValidationErrorCode2["EmptyConfirmUserAttributeCode"] = "EmptyConfirmUserAttributeCode";
  AuthValidationErrorCode2["IncorrectMFAMethod"] = "IncorrectMFAMethod";
  AuthValidationErrorCode2["EmptyUpdatePassword"] = "EmptyUpdatePassword";
})(AuthValidationErrorCode || (AuthValidationErrorCode = {}));

// node_modules/@aws-amplify/auth/dist/esm/common/AuthErrorStrings.mjs
var validationErrorMap = {
  [AuthValidationErrorCode.EmptyChallengeResponse]: {
    message: "challengeResponse is required to confirmSignIn"
  },
  [AuthValidationErrorCode.EmptyConfirmResetPasswordUsername]: {
    message: "username is required to confirmResetPassword"
  },
  [AuthValidationErrorCode.EmptyConfirmSignUpCode]: {
    message: "code is required to confirmSignUp"
  },
  [AuthValidationErrorCode.EmptyConfirmSignUpUsername]: {
    message: "username is required to confirmSignUp"
  },
  [AuthValidationErrorCode.EmptyConfirmResetPasswordConfirmationCode]: {
    message: "confirmationCode is required to confirmResetPassword"
  },
  [AuthValidationErrorCode.EmptyConfirmResetPasswordNewPassword]: {
    message: "newPassword is required to confirmResetPassword"
  },
  [AuthValidationErrorCode.EmptyResendSignUpCodeUsername]: {
    message: "username is required to confirmSignUp"
  },
  [AuthValidationErrorCode.EmptyResetPasswordUsername]: {
    message: "username is required to resetPassword"
  },
  [AuthValidationErrorCode.EmptySignInPassword]: {
    message: "password is required to signIn"
  },
  [AuthValidationErrorCode.EmptySignInUsername]: {
    message: "username is required to signIn"
  },
  [AuthValidationErrorCode.EmptySignUpPassword]: {
    message: "password is required to signUp"
  },
  [AuthValidationErrorCode.EmptySignUpUsername]: {
    message: "username is required to signUp"
  },
  [AuthValidationErrorCode.CustomAuthSignInPassword]: {
    message: "A password is not needed when signing in with CUSTOM_WITHOUT_SRP",
    recoverySuggestion: "Do not include a password in your signIn call."
  },
  [AuthValidationErrorCode.IncorrectMFAMethod]: {
    message: "Incorrect MFA method was chosen. It should be either SMS, TOTP, or EMAIL",
    recoverySuggestion: "Try to pass SMS, TOTP, or EMAIL as the challengeResponse"
  },
  [AuthValidationErrorCode.EmptyVerifyTOTPSetupCode]: {
    message: "code is required to verifyTotpSetup"
  },
  [AuthValidationErrorCode.EmptyUpdatePassword]: {
    message: "oldPassword and newPassword are required to changePassword"
  },
  [AuthValidationErrorCode.EmptyConfirmUserAttributeCode]: {
    message: "confirmation code is required to confirmUserAttribute"
  }
};
var AuthErrorStrings;
(function(AuthErrorStrings2) {
  AuthErrorStrings2["DEFAULT_MSG"] = "Authentication Error";
  AuthErrorStrings2["EMPTY_EMAIL"] = "Email cannot be empty";
  AuthErrorStrings2["EMPTY_PHONE"] = "Phone number cannot be empty";
  AuthErrorStrings2["EMPTY_USERNAME"] = "Username cannot be empty";
  AuthErrorStrings2["INVALID_USERNAME"] = "The username should either be a string or one of the sign in types";
  AuthErrorStrings2["EMPTY_PASSWORD"] = "Password cannot be empty";
  AuthErrorStrings2["EMPTY_CODE"] = "Confirmation code cannot be empty";
  AuthErrorStrings2["SIGN_UP_ERROR"] = "Error creating account";
  AuthErrorStrings2["NO_MFA"] = "No valid MFA method provided";
  AuthErrorStrings2["INVALID_MFA"] = "Invalid MFA type";
  AuthErrorStrings2["EMPTY_CHALLENGE"] = "Challenge response cannot be empty";
  AuthErrorStrings2["NO_USER_SESSION"] = "Failed to get the session because the user is empty";
  AuthErrorStrings2["NETWORK_ERROR"] = "Network Error";
  AuthErrorStrings2["DEVICE_CONFIG"] = "Device tracking has not been configured in this User Pool";
  AuthErrorStrings2["AUTOSIGNIN_ERROR"] = "Please use your credentials to sign in";
  AuthErrorStrings2["OAUTH_ERROR"] = "Couldn't finish OAuth flow, check your User Pool HostedUI settings";
})(AuthErrorStrings || (AuthErrorStrings = {}));
var AuthErrorCodes;
(function(AuthErrorCodes2) {
  AuthErrorCodes2["SignInException"] = "SignInException";
  AuthErrorCodes2["OAuthSignInError"] = "OAuthSignInException";
})(AuthErrorCodes || (AuthErrorCodes = {}));

// node_modules/@aws-amplify/auth/dist/esm/errors/AuthError.mjs
var AuthError = class _AuthError extends AmplifyError {
  constructor(params) {
    super(params);
    this.constructor = _AuthError;
    Object.setPrototypeOf(this, _AuthError.prototype);
  }
};

// node_modules/@aws-amplify/auth/dist/esm/errors/utils/assertValidationError.mjs
function assertValidationError(assertion, name2) {
  const {
    message,
    recoverySuggestion
  } = validationErrorMap[name2];
  if (!assertion) {
    throw new AuthError({
      name: name2,
      message,
      recoverySuggestion
    });
  }
}

// node_modules/@aws-amplify/auth/dist/esm/foundation/parsers/regionParsers.mjs
function getRegionFromUserPoolId(userPoolId) {
  const region = userPoolId == null ? void 0 : userPoolId.split("_")[0];
  if (!userPoolId || userPoolId.indexOf("_") < 0 || !region || typeof region !== "string") throw new AuthError({
    name: "InvalidUserPoolId",
    message: "Invalid user pool id provided."
  });
  return region;
}
function getRegionFromIdentityPoolId(identityPoolId) {
  if (!identityPoolId || !identityPoolId.includes(":")) {
    throw new AuthError({
      name: "InvalidIdentityPoolIdException",
      message: "Invalid identity pool id provided.",
      recoverySuggestion: "Make sure a valid identityPoolId is given in the config."
    });
  }
  return identityPoolId.split(":")[0];
}

// node_modules/@aws-amplify/auth/dist/esm/utils/getAuthUserAgentValue.mjs
var getAuthUserAgentValue = (action, customUserAgentDetails) => getAmplifyUserAgent(__spreadValues({
  category: Category.Auth,
  action
}, customUserAgentDetails));

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/userContextData.mjs
function getUserContextData({
  username,
  userPoolId,
  userPoolClientId
}) {
  if (typeof window === "undefined") {
    return void 0;
  }
  const amazonCognitoAdvancedSecurityData = window.AmazonCognitoAdvancedSecurityData;
  if (typeof amazonCognitoAdvancedSecurityData === "undefined") {
    return void 0;
  }
  const advancedSecurityData = amazonCognitoAdvancedSecurityData.getData(username, userPoolId, userPoolClientId);
  if (advancedSecurityData) {
    const userContextData = {
      EncodedData: advancedSecurityData
    };
    return userContextData;
  }
  return {};
}

// node_modules/@aws-amplify/auth/dist/esm/foundation/factories/serviceClients/cognitoIdentityProvider/shared/handler/cognitoUserPoolTransferHandler.mjs
var disableCacheMiddlewareFactory = () => (next, _) => function disableCacheMiddleware(request) {
  return __async(this, null, function* () {
    request.headers["cache-control"] = "no-store";
    return next(request);
  });
};
var cognitoUserPoolTransferHandler = composeTransferHandler(unauthenticatedHandler, [disableCacheMiddlewareFactory]);

// node_modules/@aws-amplify/auth/dist/esm/foundation/constants.mjs
var COGNITO_IDP_SERVICE_NAME = "cognito-idp";

// node_modules/@aws-amplify/auth/dist/esm/foundation/factories/serviceClients/cognitoIdentityProvider/constants.mjs
var DEFAULT_SERVICE_CLIENT_API_CONFIG2 = {
  service: COGNITO_IDP_SERVICE_NAME,
  retryDecider: getRetryDecider(parseJsonError),
  computeDelay: jitteredBackoff2,
  get userAgentValue() {
    return getAmplifyUserAgent();
  },
  cache: "no-store"
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/types/errors.mjs
var AssociateSoftwareTokenException;
(function(AssociateSoftwareTokenException2) {
  AssociateSoftwareTokenException2["ConcurrentModificationException"] = "ConcurrentModificationException";
  AssociateSoftwareTokenException2["ForbiddenException"] = "ForbiddenException";
  AssociateSoftwareTokenException2["InternalErrorException"] = "InternalErrorException";
  AssociateSoftwareTokenException2["InvalidParameterException"] = "InvalidParameterException";
  AssociateSoftwareTokenException2["NotAuthorizedException"] = "NotAuthorizedException";
  AssociateSoftwareTokenException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  AssociateSoftwareTokenException2["SoftwareTokenMFANotFoundException"] = "SoftwareTokenMFANotFoundException";
})(AssociateSoftwareTokenException || (AssociateSoftwareTokenException = {}));
var ChangePasswordException;
(function(ChangePasswordException2) {
  ChangePasswordException2["ForbiddenException"] = "ForbiddenException";
  ChangePasswordException2["InternalErrorException"] = "InternalErrorException";
  ChangePasswordException2["InvalidParameterException"] = "InvalidParameterException";
  ChangePasswordException2["InvalidPasswordException"] = "InvalidPasswordException";
  ChangePasswordException2["LimitExceededException"] = "LimitExceededException";
  ChangePasswordException2["NotAuthorizedException"] = "NotAuthorizedException";
  ChangePasswordException2["PasswordResetRequiredException"] = "PasswordResetRequiredException";
  ChangePasswordException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  ChangePasswordException2["TooManyRequestsException"] = "TooManyRequestsException";
  ChangePasswordException2["UserNotConfirmedException"] = "UserNotConfirmedException";
  ChangePasswordException2["UserNotFoundException"] = "UserNotFoundException";
})(ChangePasswordException || (ChangePasswordException = {}));
var ConfirmDeviceException;
(function(ConfirmDeviceException2) {
  ConfirmDeviceException2["ForbiddenException"] = "ForbiddenException";
  ConfirmDeviceException2["InternalErrorException"] = "InternalErrorException";
  ConfirmDeviceException2["InvalidLambdaResponseException"] = "InvalidLambdaResponseException";
  ConfirmDeviceException2["InvalidParameterException"] = "InvalidParameterException";
  ConfirmDeviceException2["InvalidPasswordException"] = "InvalidPasswordException";
  ConfirmDeviceException2["InvalidUserPoolConfigurationException"] = "InvalidUserPoolConfigurationException";
  ConfirmDeviceException2["NotAuthorizedException"] = "NotAuthorizedException";
  ConfirmDeviceException2["PasswordResetRequiredException"] = "PasswordResetRequiredException";
  ConfirmDeviceException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  ConfirmDeviceException2["TooManyRequestsException"] = "TooManyRequestsException";
  ConfirmDeviceException2["UsernameExistsException"] = "UsernameExistsException";
  ConfirmDeviceException2["UserNotConfirmedException"] = "UserNotConfirmedException";
  ConfirmDeviceException2["UserNotFoundException"] = "UserNotFoundException";
})(ConfirmDeviceException || (ConfirmDeviceException = {}));
var ConfirmForgotPasswordException;
(function(ConfirmForgotPasswordException2) {
  ConfirmForgotPasswordException2["CodeMismatchException"] = "CodeMismatchException";
  ConfirmForgotPasswordException2["ExpiredCodeException"] = "ExpiredCodeException";
  ConfirmForgotPasswordException2["ForbiddenException"] = "ForbiddenException";
  ConfirmForgotPasswordException2["InternalErrorException"] = "InternalErrorException";
  ConfirmForgotPasswordException2["InvalidLambdaResponseException"] = "InvalidLambdaResponseException";
  ConfirmForgotPasswordException2["InvalidParameterException"] = "InvalidParameterException";
  ConfirmForgotPasswordException2["InvalidPasswordException"] = "InvalidPasswordException";
  ConfirmForgotPasswordException2["LimitExceededException"] = "LimitExceededException";
  ConfirmForgotPasswordException2["NotAuthorizedException"] = "NotAuthorizedException";
  ConfirmForgotPasswordException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  ConfirmForgotPasswordException2["TooManyFailedAttemptsException"] = "TooManyFailedAttemptsException";
  ConfirmForgotPasswordException2["TooManyRequestsException"] = "TooManyRequestsException";
  ConfirmForgotPasswordException2["UnexpectedLambdaException"] = "UnexpectedLambdaException";
  ConfirmForgotPasswordException2["UserLambdaValidationException"] = "UserLambdaValidationException";
  ConfirmForgotPasswordException2["UserNotConfirmedException"] = "UserNotConfirmedException";
  ConfirmForgotPasswordException2["UserNotFoundException"] = "UserNotFoundException";
})(ConfirmForgotPasswordException || (ConfirmForgotPasswordException = {}));
var ConfirmSignUpException;
(function(ConfirmSignUpException2) {
  ConfirmSignUpException2["AliasExistsException"] = "AliasExistsException";
  ConfirmSignUpException2["CodeMismatchException"] = "CodeMismatchException";
  ConfirmSignUpException2["ExpiredCodeException"] = "ExpiredCodeException";
  ConfirmSignUpException2["ForbiddenException"] = "ForbiddenException";
  ConfirmSignUpException2["InternalErrorException"] = "InternalErrorException";
  ConfirmSignUpException2["InvalidLambdaResponseException"] = "InvalidLambdaResponseException";
  ConfirmSignUpException2["InvalidParameterException"] = "InvalidParameterException";
  ConfirmSignUpException2["LimitExceededException"] = "LimitExceededException";
  ConfirmSignUpException2["NotAuthorizedException"] = "NotAuthorizedException";
  ConfirmSignUpException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  ConfirmSignUpException2["TooManyFailedAttemptsException"] = "TooManyFailedAttemptsException";
  ConfirmSignUpException2["TooManyRequestsException"] = "TooManyRequestsException";
  ConfirmSignUpException2["UnexpectedLambdaException"] = "UnexpectedLambdaException";
  ConfirmSignUpException2["UserLambdaValidationException"] = "UserLambdaValidationException";
  ConfirmSignUpException2["UserNotFoundException"] = "UserNotFoundException";
})(ConfirmSignUpException || (ConfirmSignUpException = {}));
var DeleteUserAttributesException;
(function(DeleteUserAttributesException2) {
  DeleteUserAttributesException2["ForbiddenException"] = "ForbiddenException";
  DeleteUserAttributesException2["InternalErrorException"] = "InternalErrorException";
  DeleteUserAttributesException2["InvalidParameterException"] = "InvalidParameterException";
  DeleteUserAttributesException2["NotAuthorizedException"] = "NotAuthorizedException";
  DeleteUserAttributesException2["PasswordResetRequiredException"] = "PasswordResetRequiredException";
  DeleteUserAttributesException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  DeleteUserAttributesException2["TooManyRequestsException"] = "TooManyRequestsException";
  DeleteUserAttributesException2["UserNotConfirmedException"] = "UserNotConfirmedException";
  DeleteUserAttributesException2["UserNotFoundException"] = "UserNotFoundException";
})(DeleteUserAttributesException || (DeleteUserAttributesException = {}));
var DeleteUserException;
(function(DeleteUserException2) {
  DeleteUserException2["ForbiddenException"] = "ForbiddenException";
  DeleteUserException2["InternalErrorException"] = "InternalErrorException";
  DeleteUserException2["InvalidParameterException"] = "InvalidParameterException";
  DeleteUserException2["NotAuthorizedException"] = "NotAuthorizedException";
  DeleteUserException2["PasswordResetRequiredException"] = "PasswordResetRequiredException";
  DeleteUserException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  DeleteUserException2["TooManyRequestsException"] = "TooManyRequestsException";
  DeleteUserException2["UserNotConfirmedException"] = "UserNotConfirmedException";
  DeleteUserException2["UserNotFoundException"] = "UserNotFoundException";
})(DeleteUserException || (DeleteUserException = {}));
var ForgetDeviceException;
(function(ForgetDeviceException2) {
  ForgetDeviceException2["ForbiddenException"] = "ForbiddenException";
  ForgetDeviceException2["InternalErrorException"] = "InternalErrorException";
  ForgetDeviceException2["InvalidParameterException"] = "InvalidParameterException";
  ForgetDeviceException2["InvalidUserPoolConfigurationException"] = "InvalidUserPoolConfigurationException";
  ForgetDeviceException2["NotAuthorizedException"] = "NotAuthorizedException";
  ForgetDeviceException2["PasswordResetRequiredException"] = "PasswordResetRequiredException";
  ForgetDeviceException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  ForgetDeviceException2["TooManyRequestsException"] = "TooManyRequestsException";
  ForgetDeviceException2["UserNotConfirmedException"] = "UserNotConfirmedException";
  ForgetDeviceException2["UserNotFoundException"] = "UserNotFoundException";
})(ForgetDeviceException || (ForgetDeviceException = {}));
var ForgotPasswordException;
(function(ForgotPasswordException2) {
  ForgotPasswordException2["CodeDeliveryFailureException"] = "CodeDeliveryFailureException";
  ForgotPasswordException2["ForbiddenException"] = "ForbiddenException";
  ForgotPasswordException2["InternalErrorException"] = "InternalErrorException";
  ForgotPasswordException2["InvalidEmailRoleAccessPolicyException"] = "InvalidEmailRoleAccessPolicyException";
  ForgotPasswordException2["InvalidLambdaResponseException"] = "InvalidLambdaResponseException";
  ForgotPasswordException2["InvalidParameterException"] = "InvalidParameterException";
  ForgotPasswordException2["InvalidSmsRoleAccessPolicyException"] = "InvalidSmsRoleAccessPolicyException";
  ForgotPasswordException2["InvalidSmsRoleTrustRelationshipException"] = "InvalidSmsRoleTrustRelationshipException";
  ForgotPasswordException2["LimitExceededException"] = "LimitExceededException";
  ForgotPasswordException2["NotAuthorizedException"] = "NotAuthorizedException";
  ForgotPasswordException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  ForgotPasswordException2["TooManyRequestsException"] = "TooManyRequestsException";
  ForgotPasswordException2["UnexpectedLambdaException"] = "UnexpectedLambdaException";
  ForgotPasswordException2["UserLambdaValidationException"] = "UserLambdaValidationException";
  ForgotPasswordException2["UserNotFoundException"] = "UserNotFoundException";
})(ForgotPasswordException || (ForgotPasswordException = {}));
var GetUserException;
(function(GetUserException2) {
  GetUserException2["ForbiddenException"] = "ForbiddenException";
  GetUserException2["InternalErrorException"] = "InternalErrorException";
  GetUserException2["InvalidParameterException"] = "InvalidParameterException";
  GetUserException2["NotAuthorizedException"] = "NotAuthorizedException";
  GetUserException2["PasswordResetRequiredException"] = "PasswordResetRequiredException";
  GetUserException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  GetUserException2["TooManyRequestsException"] = "TooManyRequestsException";
  GetUserException2["UserNotConfirmedException"] = "UserNotConfirmedException";
  GetUserException2["UserNotFoundException"] = "UserNotFoundException";
})(GetUserException || (GetUserException = {}));
var GetIdException;
(function(GetIdException2) {
  GetIdException2["ExternalServiceException"] = "ExternalServiceException";
  GetIdException2["InternalErrorException"] = "InternalErrorException";
  GetIdException2["InvalidParameterException"] = "InvalidParameterException";
  GetIdException2["LimitExceededException"] = "LimitExceededException";
  GetIdException2["NotAuthorizedException"] = "NotAuthorizedException";
  GetIdException2["ResourceConflictException"] = "ResourceConflictException";
  GetIdException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  GetIdException2["TooManyRequestsException"] = "TooManyRequestsException";
})(GetIdException || (GetIdException = {}));
var GetCredentialsForIdentityException;
(function(GetCredentialsForIdentityException2) {
  GetCredentialsForIdentityException2["ExternalServiceException"] = "ExternalServiceException";
  GetCredentialsForIdentityException2["InternalErrorException"] = "InternalErrorException";
  GetCredentialsForIdentityException2["InvalidIdentityPoolConfigurationException"] = "InvalidIdentityPoolConfigurationException";
  GetCredentialsForIdentityException2["InvalidParameterException"] = "InvalidParameterException";
  GetCredentialsForIdentityException2["NotAuthorizedException"] = "NotAuthorizedException";
  GetCredentialsForIdentityException2["ResourceConflictException"] = "ResourceConflictException";
  GetCredentialsForIdentityException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  GetCredentialsForIdentityException2["TooManyRequestsException"] = "TooManyRequestsException";
})(GetCredentialsForIdentityException || (GetCredentialsForIdentityException = {}));
var GetUserAttributeVerificationException;
(function(GetUserAttributeVerificationException2) {
  GetUserAttributeVerificationException2["CodeDeliveryFailureException"] = "CodeDeliveryFailureException";
  GetUserAttributeVerificationException2["ForbiddenException"] = "ForbiddenException";
  GetUserAttributeVerificationException2["InternalErrorException"] = "InternalErrorException";
  GetUserAttributeVerificationException2["InvalidEmailRoleAccessPolicyException"] = "InvalidEmailRoleAccessPolicyException";
  GetUserAttributeVerificationException2["InvalidLambdaResponseException"] = "InvalidLambdaResponseException";
  GetUserAttributeVerificationException2["InvalidParameterException"] = "InvalidParameterException";
  GetUserAttributeVerificationException2["InvalidSmsRoleAccessPolicyException"] = "InvalidSmsRoleAccessPolicyException";
  GetUserAttributeVerificationException2["InvalidSmsRoleTrustRelationshipException"] = "InvalidSmsRoleTrustRelationshipException";
  GetUserAttributeVerificationException2["LimitExceededException"] = "LimitExceededException";
  GetUserAttributeVerificationException2["NotAuthorizedException"] = "NotAuthorizedException";
  GetUserAttributeVerificationException2["PasswordResetRequiredException"] = "PasswordResetRequiredException";
  GetUserAttributeVerificationException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  GetUserAttributeVerificationException2["TooManyRequestsException"] = "TooManyRequestsException";
  GetUserAttributeVerificationException2["UnexpectedLambdaException"] = "UnexpectedLambdaException";
  GetUserAttributeVerificationException2["UserLambdaValidationException"] = "UserLambdaValidationException";
  GetUserAttributeVerificationException2["UserNotConfirmedException"] = "UserNotConfirmedException";
  GetUserAttributeVerificationException2["UserNotFoundException"] = "UserNotFoundException";
})(GetUserAttributeVerificationException || (GetUserAttributeVerificationException = {}));
var GlobalSignOutException;
(function(GlobalSignOutException2) {
  GlobalSignOutException2["ForbiddenException"] = "ForbiddenException";
  GlobalSignOutException2["InternalErrorException"] = "InternalErrorException";
  GlobalSignOutException2["InvalidParameterException"] = "InvalidParameterException";
  GlobalSignOutException2["NotAuthorizedException"] = "NotAuthorizedException";
  GlobalSignOutException2["PasswordResetRequiredException"] = "PasswordResetRequiredException";
  GlobalSignOutException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  GlobalSignOutException2["TooManyRequestsException"] = "TooManyRequestsException";
  GlobalSignOutException2["UserNotConfirmedException"] = "UserNotConfirmedException";
})(GlobalSignOutException || (GlobalSignOutException = {}));
var InitiateAuthException;
(function(InitiateAuthException2) {
  InitiateAuthException2["PasswordResetRequiredException"] = "PasswordResetRequiredException";
  InitiateAuthException2["ForbiddenException"] = "ForbiddenException";
  InitiateAuthException2["InternalErrorException"] = "InternalErrorException";
  InitiateAuthException2["InvalidLambdaResponseException"] = "InvalidLambdaResponseException";
  InitiateAuthException2["InvalidParameterException"] = "InvalidParameterException";
  InitiateAuthException2["InvalidSmsRoleAccessPolicyException"] = "InvalidSmsRoleAccessPolicyException";
  InitiateAuthException2["InvalidSmsRoleTrustRelationshipException"] = "InvalidSmsRoleTrustRelationshipException";
  InitiateAuthException2["InvalidUserPoolConfigurationException"] = "InvalidUserPoolConfigurationException";
  InitiateAuthException2["NotAuthorizedException"] = "NotAuthorizedException";
  InitiateAuthException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  InitiateAuthException2["TooManyRequestsException"] = "TooManyRequestsException";
  InitiateAuthException2["UnexpectedLambdaException"] = "UnexpectedLambdaException";
  InitiateAuthException2["UserLambdaValidationException"] = "UserLambdaValidationException";
  InitiateAuthException2["UserNotConfirmedException"] = "UserNotConfirmedException";
  InitiateAuthException2["UserNotFoundException"] = "UserNotFoundException";
})(InitiateAuthException || (InitiateAuthException = {}));
var ResendConfirmationException;
(function(ResendConfirmationException2) {
  ResendConfirmationException2["CodeDeliveryFailureException"] = "CodeDeliveryFailureException";
  ResendConfirmationException2["ForbiddenException"] = "ForbiddenException";
  ResendConfirmationException2["InternalErrorException"] = "InternalErrorException";
  ResendConfirmationException2["InvalidEmailRoleAccessPolicyException"] = "InvalidEmailRoleAccessPolicyException";
  ResendConfirmationException2["InvalidLambdaResponseException"] = "InvalidLambdaResponseException";
  ResendConfirmationException2["InvalidParameterException"] = "InvalidParameterException";
  ResendConfirmationException2["InvalidSmsRoleAccessPolicyException"] = "InvalidSmsRoleAccessPolicyException";
  ResendConfirmationException2["InvalidSmsRoleTrustRelationshipException"] = "InvalidSmsRoleTrustRelationshipException";
  ResendConfirmationException2["LimitExceededException"] = "LimitExceededException";
  ResendConfirmationException2["NotAuthorizedException"] = "NotAuthorizedException";
  ResendConfirmationException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  ResendConfirmationException2["TooManyRequestsException"] = "TooManyRequestsException";
  ResendConfirmationException2["UnexpectedLambdaException"] = "UnexpectedLambdaException";
  ResendConfirmationException2["UserLambdaValidationException"] = "UserLambdaValidationException";
  ResendConfirmationException2["UserNotFoundException"] = "UserNotFoundException";
})(ResendConfirmationException || (ResendConfirmationException = {}));
var RespondToAuthChallengeException;
(function(RespondToAuthChallengeException2) {
  RespondToAuthChallengeException2["AliasExistsException"] = "AliasExistsException";
  RespondToAuthChallengeException2["CodeMismatchException"] = "CodeMismatchException";
  RespondToAuthChallengeException2["ExpiredCodeException"] = "ExpiredCodeException";
  RespondToAuthChallengeException2["ForbiddenException"] = "ForbiddenException";
  RespondToAuthChallengeException2["InternalErrorException"] = "InternalErrorException";
  RespondToAuthChallengeException2["InvalidLambdaResponseException"] = "InvalidLambdaResponseException";
  RespondToAuthChallengeException2["InvalidParameterException"] = "InvalidParameterException";
  RespondToAuthChallengeException2["InvalidPasswordException"] = "InvalidPasswordException";
  RespondToAuthChallengeException2["InvalidSmsRoleAccessPolicyException"] = "InvalidSmsRoleAccessPolicyException";
  RespondToAuthChallengeException2["InvalidSmsRoleTrustRelationshipException"] = "InvalidSmsRoleTrustRelationshipException";
  RespondToAuthChallengeException2["InvalidUserPoolConfigurationException"] = "InvalidUserPoolConfigurationException";
  RespondToAuthChallengeException2["MFAMethodNotFoundException"] = "MFAMethodNotFoundException";
  RespondToAuthChallengeException2["NotAuthorizedException"] = "NotAuthorizedException";
  RespondToAuthChallengeException2["PasswordResetRequiredException"] = "PasswordResetRequiredException";
  RespondToAuthChallengeException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  RespondToAuthChallengeException2["SoftwareTokenMFANotFoundException"] = "SoftwareTokenMFANotFoundException";
  RespondToAuthChallengeException2["TooManyRequestsException"] = "TooManyRequestsException";
  RespondToAuthChallengeException2["UnexpectedLambdaException"] = "UnexpectedLambdaException";
  RespondToAuthChallengeException2["UserLambdaValidationException"] = "UserLambdaValidationException";
  RespondToAuthChallengeException2["UserNotConfirmedException"] = "UserNotConfirmedException";
  RespondToAuthChallengeException2["UserNotFoundException"] = "UserNotFoundException";
})(RespondToAuthChallengeException || (RespondToAuthChallengeException = {}));
var SetUserMFAPreferenceException;
(function(SetUserMFAPreferenceException2) {
  SetUserMFAPreferenceException2["ForbiddenException"] = "ForbiddenException";
  SetUserMFAPreferenceException2["InternalErrorException"] = "InternalErrorException";
  SetUserMFAPreferenceException2["InvalidParameterException"] = "InvalidParameterException";
  SetUserMFAPreferenceException2["NotAuthorizedException"] = "NotAuthorizedException";
  SetUserMFAPreferenceException2["PasswordResetRequiredException"] = "PasswordResetRequiredException";
  SetUserMFAPreferenceException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  SetUserMFAPreferenceException2["UserNotConfirmedException"] = "UserNotConfirmedException";
  SetUserMFAPreferenceException2["UserNotFoundException"] = "UserNotFoundException";
})(SetUserMFAPreferenceException || (SetUserMFAPreferenceException = {}));
var SignUpException;
(function(SignUpException2) {
  SignUpException2["CodeDeliveryFailureException"] = "CodeDeliveryFailureException";
  SignUpException2["InternalErrorException"] = "InternalErrorException";
  SignUpException2["InvalidEmailRoleAccessPolicyException"] = "InvalidEmailRoleAccessPolicyException";
  SignUpException2["InvalidLambdaResponseException"] = "InvalidLambdaResponseException";
  SignUpException2["InvalidParameterException"] = "InvalidParameterException";
  SignUpException2["InvalidPasswordException"] = "InvalidPasswordException";
  SignUpException2["InvalidSmsRoleAccessPolicyException"] = "InvalidSmsRoleAccessPolicyException";
  SignUpException2["InvalidSmsRoleTrustRelationshipException"] = "InvalidSmsRoleTrustRelationshipException";
  SignUpException2["NotAuthorizedException"] = "NotAuthorizedException";
  SignUpException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  SignUpException2["TooManyRequestsException"] = "TooManyRequestsException";
  SignUpException2["UnexpectedLambdaException"] = "UnexpectedLambdaException";
  SignUpException2["UserLambdaValidationException"] = "UserLambdaValidationException";
  SignUpException2["UsernameExistsException"] = "UsernameExistsException";
})(SignUpException || (SignUpException = {}));
var UpdateUserAttributesException;
(function(UpdateUserAttributesException2) {
  UpdateUserAttributesException2["AliasExistsException"] = "AliasExistsException";
  UpdateUserAttributesException2["CodeDeliveryFailureException"] = "CodeDeliveryFailureException";
  UpdateUserAttributesException2["CodeMismatchException"] = "CodeMismatchException";
  UpdateUserAttributesException2["ExpiredCodeException"] = "ExpiredCodeException";
  UpdateUserAttributesException2["ForbiddenException"] = "ForbiddenException";
  UpdateUserAttributesException2["InternalErrorException"] = "InternalErrorException";
  UpdateUserAttributesException2["InvalidEmailRoleAccessPolicyException"] = "InvalidEmailRoleAccessPolicyException";
  UpdateUserAttributesException2["InvalidLambdaResponseException"] = "InvalidLambdaResponseException";
  UpdateUserAttributesException2["InvalidParameterException"] = "InvalidParameterException";
  UpdateUserAttributesException2["InvalidSmsRoleAccessPolicyException"] = "InvalidSmsRoleAccessPolicyException";
  UpdateUserAttributesException2["InvalidSmsRoleTrustRelationshipException"] = "InvalidSmsRoleTrustRelationshipException";
  UpdateUserAttributesException2["NotAuthorizedException"] = "NotAuthorizedException";
  UpdateUserAttributesException2["PasswordResetRequiredException"] = "PasswordResetRequiredException";
  UpdateUserAttributesException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  UpdateUserAttributesException2["TooManyRequestsException"] = "TooManyRequestsException";
  UpdateUserAttributesException2["UnexpectedLambdaException"] = "UnexpectedLambdaException";
  UpdateUserAttributesException2["UserLambdaValidationException"] = "UserLambdaValidationException";
  UpdateUserAttributesException2["UserNotConfirmedException"] = "UserNotConfirmedException";
  UpdateUserAttributesException2["UserNotFoundException"] = "UserNotFoundException";
})(UpdateUserAttributesException || (UpdateUserAttributesException = {}));
var VerifySoftwareTokenException;
(function(VerifySoftwareTokenException2) {
  VerifySoftwareTokenException2["CodeMismatchException"] = "CodeMismatchException";
  VerifySoftwareTokenException2["EnableSoftwareTokenMFAException"] = "EnableSoftwareTokenMFAException";
  VerifySoftwareTokenException2["ForbiddenException"] = "ForbiddenException";
  VerifySoftwareTokenException2["InternalErrorException"] = "InternalErrorException";
  VerifySoftwareTokenException2["InvalidParameterException"] = "InvalidParameterException";
  VerifySoftwareTokenException2["InvalidUserPoolConfigurationException"] = "InvalidUserPoolConfigurationException";
  VerifySoftwareTokenException2["NotAuthorizedException"] = "NotAuthorizedException";
  VerifySoftwareTokenException2["PasswordResetRequiredException"] = "PasswordResetRequiredException";
  VerifySoftwareTokenException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  VerifySoftwareTokenException2["SoftwareTokenMFANotFoundException"] = "SoftwareTokenMFANotFoundException";
  VerifySoftwareTokenException2["TooManyRequestsException"] = "TooManyRequestsException";
  VerifySoftwareTokenException2["UserNotConfirmedException"] = "UserNotConfirmedException";
  VerifySoftwareTokenException2["UserNotFoundException"] = "UserNotFoundException";
})(VerifySoftwareTokenException || (VerifySoftwareTokenException = {}));
var VerifyUserAttributeException;
(function(VerifyUserAttributeException2) {
  VerifyUserAttributeException2["AliasExistsException"] = "AliasExistsException";
  VerifyUserAttributeException2["CodeMismatchException"] = "CodeMismatchException";
  VerifyUserAttributeException2["ExpiredCodeException"] = "ExpiredCodeException";
  VerifyUserAttributeException2["ForbiddenException"] = "ForbiddenException";
  VerifyUserAttributeException2["InternalErrorException"] = "InternalErrorException";
  VerifyUserAttributeException2["InvalidParameterException"] = "InvalidParameterException";
  VerifyUserAttributeException2["LimitExceededException"] = "LimitExceededException";
  VerifyUserAttributeException2["NotAuthorizedException"] = "NotAuthorizedException";
  VerifyUserAttributeException2["PasswordResetRequiredException"] = "PasswordResetRequiredException";
  VerifyUserAttributeException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  VerifyUserAttributeException2["TooManyRequestsException"] = "TooManyRequestsException";
  VerifyUserAttributeException2["UserNotConfirmedException"] = "UserNotConfirmedException";
  VerifyUserAttributeException2["UserNotFoundException"] = "UserNotFoundException";
})(VerifyUserAttributeException || (VerifyUserAttributeException = {}));
var UpdateDeviceStatusException;
(function(UpdateDeviceStatusException2) {
  UpdateDeviceStatusException2["ForbiddenException"] = "ForbiddenException";
  UpdateDeviceStatusException2["InternalErrorException"] = "InternalErrorException";
  UpdateDeviceStatusException2["InvalidParameterException"] = "InvalidParameterException";
  UpdateDeviceStatusException2["InvalidUserPoolConfigurationException"] = "InvalidUserPoolConfigurationException";
  UpdateDeviceStatusException2["NotAuthorizedException"] = "NotAuthorizedException";
  UpdateDeviceStatusException2["PasswordResetRequiredException"] = "PasswordResetRequiredException";
  UpdateDeviceStatusException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  UpdateDeviceStatusException2["TooManyRequestsException"] = "TooManyRequestsException";
  UpdateDeviceStatusException2["UserNotConfirmedException"] = "UserNotConfirmedException";
  UpdateDeviceStatusException2["UserNotFoundException"] = "UserNotFoundException";
})(UpdateDeviceStatusException || (UpdateDeviceStatusException = {}));
var ListDevicesException;
(function(ListDevicesException2) {
  ListDevicesException2["ForbiddenException"] = "ForbiddenException";
  ListDevicesException2["InternalErrorException"] = "InternalErrorException";
  ListDevicesException2["InvalidParameterException"] = "InvalidParameterException";
  ListDevicesException2["InvalidUserPoolConfigurationException"] = "InvalidUserPoolConfigurationException";
  ListDevicesException2["NotAuthorizedException"] = "NotAuthorizedException";
  ListDevicesException2["PasswordResetRequiredException"] = "PasswordResetRequiredException";
  ListDevicesException2["ResourceNotFoundException"] = "ResourceNotFoundException";
  ListDevicesException2["TooManyRequestsException"] = "TooManyRequestsException";
  ListDevicesException2["UserNotConfirmedException"] = "UserNotConfirmedException";
  ListDevicesException2["UserNotFoundException"] = "UserNotFoundException";
})(ListDevicesException || (ListDevicesException = {}));

// node_modules/@aws-amplify/auth/dist/esm/foundation/factories/serviceClients/cognitoIdentityProvider/shared/serde/createUserPoolSerializer.mjs
var createUserPoolSerializer = (operation) => (input, endpoint) => {
  const headers = getSharedHeaders2(operation);
  const body = JSON.stringify(input);
  return buildHttpRpcRequest2(endpoint, headers, body);
};
var getSharedHeaders2 = (operation) => ({
  "content-type": "application/x-amz-json-1.1",
  "x-amz-target": `AWSCognitoIdentityProviderService.${operation}`
});
var buildHttpRpcRequest2 = ({
  url
}, headers, body) => ({
  headers,
  url,
  body,
  method: "POST"
});

// node_modules/@aws-amplify/auth/dist/esm/errors/utils/assertServiceError.mjs
function assertServiceError(error) {
  if (!error || error.name === "Error" || error instanceof TypeError) {
    throw new AuthError({
      name: AmplifyErrorCode.Unknown,
      message: "An unknown error has occurred.",
      underlyingError: error
    });
  }
}

// node_modules/@aws-amplify/auth/dist/esm/foundation/factories/serviceClients/cognitoIdentityProvider/shared/serde/createUserPoolDeserializer.mjs
var createUserPoolDeserializer = () => (response) => __async(null, null, function* () {
  if (response.statusCode >= 300) {
    const error = yield parseJsonError(response);
    assertServiceError(error);
    throw new AuthError({
      name: error.name,
      message: error.message,
      metadata: error.$metadata
    });
  }
  return parseJsonBody(response);
});

// node_modules/@aws-amplify/auth/dist/esm/foundation/factories/serviceClients/cognitoIdentityProvider/createForgotPasswordClient.mjs
var createForgotPasswordClient = (config) => composeServiceApi(cognitoUserPoolTransferHandler, createUserPoolSerializer("ForgotPassword"), createUserPoolDeserializer(), __spreadValues(__spreadValues({}, DEFAULT_SERVICE_CLIENT_API_CONFIG2), config));

// node_modules/@aws-amplify/auth/dist/esm/foundation/cognitoUserPoolEndpointResolver.mjs
var cognitoUserPoolEndpointResolver = ({
  region
}) => ({
  url: new AmplifyUrl(`https://${COGNITO_IDP_SERVICE_NAME}.${region}.${getDnsSuffix(region)}`)
});

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/factories/createCognitoUserPoolEndpointResolver.mjs
var createCognitoUserPoolEndpointResolver = ({
  endpointOverride
}) => (input) => {
  if (endpointOverride) {
    return {
      url: new AmplifyUrl(endpointOverride)
    };
  }
  return cognitoUserPoolEndpointResolver(input);
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/apis/resetPassword.mjs
function resetPassword(input) {
  return __async(this, null, function* () {
    var _a, _b;
    const {
      username
    } = input;
    assertValidationError(!!username, AuthValidationErrorCode.EmptyResetPasswordUsername);
    const authConfig = (_a = Amplify.getConfig().Auth) == null ? void 0 : _a.Cognito;
    assertTokenProviderConfig(authConfig);
    const {
      userPoolClientId,
      userPoolId,
      userPoolEndpoint
    } = authConfig;
    const clientMetadata = (_b = input.options) == null ? void 0 : _b.clientMetadata;
    const UserContextData = getUserContextData({
      username,
      userPoolId,
      userPoolClientId
    });
    const forgotPassword = createForgotPasswordClient({
      endpointResolver: createCognitoUserPoolEndpointResolver({
        endpointOverride: userPoolEndpoint
      })
    });
    const res = yield forgotPassword({
      region: getRegionFromUserPoolId(userPoolId),
      userAgentValue: getAuthUserAgentValue(AuthAction.ResetPassword)
    }, {
      Username: username,
      ClientMetadata: clientMetadata,
      ClientId: userPoolClientId,
      UserContextData
    });
    const codeDeliveryDetails = res.CodeDeliveryDetails;
    return {
      isPasswordReset: false,
      nextStep: {
        resetPasswordStep: "CONFIRM_RESET_PASSWORD_WITH_CODE",
        codeDeliveryDetails: {
          deliveryMedium: codeDeliveryDetails == null ? void 0 : codeDeliveryDetails.DeliveryMedium,
          destination: codeDeliveryDetails == null ? void 0 : codeDeliveryDetails.Destination,
          attributeName: codeDeliveryDetails == null ? void 0 : codeDeliveryDetails.AttributeName
        }
      }
    };
  });
}

// node_modules/@aws-amplify/auth/dist/esm/foundation/factories/serviceClients/cognitoIdentityProvider/createConfirmForgotPasswordClient.mjs
var createConfirmForgotPasswordClient = (config) => composeServiceApi(cognitoUserPoolTransferHandler, createUserPoolSerializer("ConfirmForgotPassword"), createUserPoolDeserializer(), __spreadValues(__spreadValues({}, DEFAULT_SERVICE_CLIENT_API_CONFIG2), config));

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/apis/confirmResetPassword.mjs
function confirmResetPassword(input) {
  return __async(this, null, function* () {
    var _a, _b;
    const authConfig = (_a = Amplify.getConfig().Auth) == null ? void 0 : _a.Cognito;
    assertTokenProviderConfig(authConfig);
    const {
      userPoolClientId,
      userPoolId,
      userPoolEndpoint
    } = authConfig;
    const {
      username,
      newPassword
    } = input;
    assertValidationError(!!username, AuthValidationErrorCode.EmptyConfirmResetPasswordUsername);
    assertValidationError(!!newPassword, AuthValidationErrorCode.EmptyConfirmResetPasswordNewPassword);
    const code = input.confirmationCode;
    assertValidationError(!!code, AuthValidationErrorCode.EmptyConfirmResetPasswordConfirmationCode);
    const metadata = (_b = input.options) == null ? void 0 : _b.clientMetadata;
    const UserContextData = getUserContextData({
      username,
      userPoolId,
      userPoolClientId
    });
    const confirmForgotPassword = createConfirmForgotPasswordClient({
      endpointResolver: createCognitoUserPoolEndpointResolver({
        endpointOverride: userPoolEndpoint
      })
    });
    yield confirmForgotPassword({
      region: getRegionFromUserPoolId(authConfig.userPoolId),
      userAgentValue: getAuthUserAgentValue(AuthAction.ConfirmResetPassword)
    }, {
      Username: username,
      ConfirmationCode: code,
      Password: newPassword,
      ClientMetadata: metadata,
      ClientId: authConfig.userPoolClientId,
      UserContextData
    });
  });
}

// node_modules/@aws-amplify/auth/dist/esm/errors/constants.mjs
var USER_UNAUTHENTICATED_EXCEPTION = "UserUnAuthenticatedException";
var USER_ALREADY_AUTHENTICATED_EXCEPTION = "UserAlreadyAuthenticatedException";
var DEVICE_METADATA_NOT_FOUND_EXCEPTION = "DeviceMetadataNotFoundException";
var AUTO_SIGN_IN_EXCEPTION = "AutoSignInException";
var INVALID_REDIRECT_EXCEPTION = "InvalidRedirectException";
var INVALID_APP_SCHEME_EXCEPTION = "InvalidAppSchemeException";
var INVALID_PREFERRED_REDIRECT_EXCEPTION = "InvalidPreferredRedirectUrlException";
var invalidRedirectException = new AuthError({
  name: INVALID_REDIRECT_EXCEPTION,
  message: "signInRedirect or signOutRedirect had an invalid format or was not found.",
  recoverySuggestion: "Please make sure the signIn/Out redirect in your oauth config is valid."
});
var invalidAppSchemeException = new AuthError({
  name: INVALID_APP_SCHEME_EXCEPTION,
  message: "A valid non-http app scheme was not found in the config.",
  recoverySuggestion: "Please make sure a valid custom app scheme is present in the config."
});
var invalidPreferredRedirectUrlException = new AuthError({
  name: INVALID_PREFERRED_REDIRECT_EXCEPTION,
  message: "The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",
  recoverySuggestion: "Please make sure a matching preferredRedirectUrl is provided."
});
var INVALID_ORIGIN_EXCEPTION = "InvalidOriginException";
var invalidOriginException = new AuthError({
  name: INVALID_ORIGIN_EXCEPTION,
  message: "redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",
  recoverySuggestion: "Please call signInWithRedirect from the same origin."
});
var OAUTH_SIGNOUT_EXCEPTION = "OAuthSignOutException";
var TOKEN_REFRESH_EXCEPTION = "TokenRefreshException";
var UNEXPECTED_SIGN_IN_INTERRUPTION_EXCEPTION = "UnexpectedSignInInterruptionException";

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/types.mjs
function assertAuthTokens(tokens) {
  if (!tokens || !tokens.accessToken) {
    throw new AuthError({
      name: USER_UNAUTHENTICATED_EXCEPTION,
      message: "User needs to be authenticated to call this API.",
      recoverySuggestion: "Sign in before calling this API again."
    });
  }
}
function assertIdTokenInAuthTokens(tokens) {
  if (!tokens || !tokens.idToken) {
    throw new AuthError({
      name: USER_UNAUTHENTICATED_EXCEPTION,
      message: "User needs to be authenticated to call this API.",
      recoverySuggestion: "Sign in before calling this API again."
    });
  }
}
var oAuthTokenRefreshException = new AuthError({
  name: TOKEN_REFRESH_EXCEPTION,
  message: `Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,
  recoverySuggestion: `Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`
});
var tokenRefreshException = new AuthError({
  name: USER_UNAUTHENTICATED_EXCEPTION,
  message: "User needs to be authenticated to call this API.",
  recoverySuggestion: "Sign in before calling this API again."
});
function assertAuthTokensWithRefreshToken(tokens) {
  if (isAuthenticatedWithImplicitOauthFlow(tokens)) {
    throw oAuthTokenRefreshException;
  }
  if (!isAuthenticatedWithRefreshToken(tokens)) {
    throw tokenRefreshException;
  }
}
function assertDeviceMetadata(deviceMetadata) {
  if (!deviceMetadata || !deviceMetadata.deviceKey || !deviceMetadata.deviceGroupKey || !deviceMetadata.randomPassword) {
    throw new AuthError({
      name: DEVICE_METADATA_NOT_FOUND_EXCEPTION,
      message: "Either deviceKey, deviceGroupKey or secretPassword were not found during the sign-in process.",
      recoverySuggestion: "Make sure to not clear storage after calling the signIn API."
    });
  }
}
var OAuthStorageKeys = {
  inflightOAuth: "inflightOAuth",
  oauthSignIn: "oauthSignIn",
  oauthPKCE: "oauthPKCE",
  oauthState: "oauthState"
};
function isAuthenticated(tokens) {
  return (tokens == null ? void 0 : tokens.accessToken) || (tokens == null ? void 0 : tokens.idToken);
}
function isAuthenticatedWithRefreshToken(tokens) {
  return isAuthenticated(tokens) && (tokens == null ? void 0 : tokens.refreshToken);
}
function isAuthenticatedWithImplicitOauthFlow(tokens) {
  return isAuthenticated(tokens) && !(tokens == null ? void 0 : tokens.refreshToken);
}

// node_modules/@aws-amplify/auth/dist/esm/foundation/factories/serviceClients/cognitoIdentityProvider/createChangePasswordClient.mjs
var createChangePasswordClient = (config) => composeServiceApi(cognitoUserPoolTransferHandler, createUserPoolSerializer("ChangePassword"), createUserPoolDeserializer(), __spreadValues(__spreadValues({}, DEFAULT_SERVICE_CLIENT_API_CONFIG2), config));

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/apis/updatePassword.mjs
function updatePassword(input) {
  return __async(this, null, function* () {
    var _a;
    const authConfig = (_a = Amplify.getConfig().Auth) == null ? void 0 : _a.Cognito;
    assertTokenProviderConfig(authConfig);
    const {
      userPoolEndpoint,
      userPoolId
    } = authConfig;
    const {
      oldPassword,
      newPassword
    } = input;
    assertValidationError(!!oldPassword, AuthValidationErrorCode.EmptyUpdatePassword);
    assertValidationError(!!newPassword, AuthValidationErrorCode.EmptyUpdatePassword);
    const {
      tokens
    } = yield fetchAuthSession2({
      forceRefresh: false
    });
    assertAuthTokens(tokens);
    const changePassword = createChangePasswordClient({
      endpointResolver: createCognitoUserPoolEndpointResolver({
        endpointOverride: userPoolEndpoint
      })
    });
    yield changePassword({
      region: getRegionFromUserPoolId(userPoolId),
      userAgentValue: getAuthUserAgentValue(AuthAction.UpdatePassword)
    }, {
      AccessToken: tokens.accessToken.toString(),
      PreviousPassword: oldPassword,
      ProposedPassword: newPassword
    });
  });
}

// node_modules/@aws-amplify/auth/dist/esm/foundation/factories/serviceClients/cognitoIdentityProvider/createVerifyUserAttributeClient.mjs
var createVerifyUserAttributeClient = (config) => composeServiceApi(cognitoUserPoolTransferHandler, createUserPoolSerializer("VerifyUserAttribute"), createUserPoolDeserializer(), __spreadValues(__spreadValues({}, DEFAULT_SERVICE_CLIENT_API_CONFIG2), config));

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/apis/confirmUserAttribute.mjs
function confirmUserAttribute(input) {
  return __async(this, null, function* () {
    var _a;
    const authConfig = (_a = Amplify.getConfig().Auth) == null ? void 0 : _a.Cognito;
    assertTokenProviderConfig(authConfig);
    const {
      userPoolEndpoint,
      userPoolId
    } = authConfig;
    const {
      confirmationCode,
      userAttributeKey
    } = input;
    assertValidationError(!!confirmationCode, AuthValidationErrorCode.EmptyConfirmUserAttributeCode);
    const {
      tokens
    } = yield fetchAuthSession2({
      forceRefresh: false
    });
    assertAuthTokens(tokens);
    const verifyUserAttribute = createVerifyUserAttributeClient({
      endpointResolver: createCognitoUserPoolEndpointResolver({
        endpointOverride: userPoolEndpoint
      })
    });
    yield verifyUserAttribute({
      region: getRegionFromUserPoolId(userPoolId),
      userAgentValue: getAuthUserAgentValue(AuthAction.ConfirmUserAttribute)
    }, {
      AccessToken: tokens.accessToken.toString(),
      AttributeName: userAttributeKey,
      Code: confirmationCode
    });
  });
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/apiHelpers.mjs
function toAttributeType(attributes) {
  return Object.entries(attributes).map(([key, value]) => ({
    Name: key,
    Value: value
  }));
}
function toAuthUserAttribute(attributes) {
  const userAttributes = {};
  attributes == null ? void 0 : attributes.forEach((attribute) => {
    if (attribute.Name) userAttributes[attribute.Name] = attribute.Value;
  });
  return userAttributes;
}

// node_modules/@aws-amplify/auth/dist/esm/foundation/factories/serviceClients/cognitoIdentityProvider/createGetUserClient.mjs
var createGetUserClient = (config) => composeServiceApi(cognitoUserPoolTransferHandler, createUserPoolSerializer("GetUser"), createUserPoolDeserializer(), __spreadValues(__spreadValues({}, DEFAULT_SERVICE_CLIENT_API_CONFIG2), config));

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/apis/internal/fetchUserAttributes.mjs
var fetchUserAttributes = (amplify) => __async(null, null, function* () {
  var _a;
  const authConfig = (_a = amplify.getConfig().Auth) == null ? void 0 : _a.Cognito;
  assertTokenProviderConfig(authConfig);
  const {
    userPoolEndpoint,
    userPoolId
  } = authConfig;
  const {
    tokens
  } = yield fetchAuthSession(amplify, {
    forceRefresh: false
  });
  assertAuthTokens(tokens);
  const getUser = createGetUserClient({
    endpointResolver: createCognitoUserPoolEndpointResolver({
      endpointOverride: userPoolEndpoint
    })
  });
  const {
    UserAttributes
  } = yield getUser({
    region: getRegionFromUserPoolId(userPoolId),
    userAgentValue: getAuthUserAgentValue(AuthAction.FetchUserAttributes)
  }, {
    AccessToken: tokens.accessToken.toString()
  });
  return toAuthUserAttribute(UserAttributes);
});

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/apis/fetchUserAttributes.mjs
var fetchUserAttributes2 = () => {
  return fetchUserAttributes(Amplify);
};

// node_modules/@aws-amplify/auth/dist/esm/foundation/factories/serviceClients/cognitoIdentityProvider/createGetUserAttributeVerificationCodeClient.mjs
var createGetUserAttributeVerificationCodeClient = (config) => composeServiceApi(cognitoUserPoolTransferHandler, createUserPoolSerializer("GetUserAttributeVerificationCode"), createUserPoolDeserializer(), __spreadValues(__spreadValues({}, DEFAULT_SERVICE_CLIENT_API_CONFIG2), config));

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/apis/sendUserAttributeVerificationCode.mjs
var sendUserAttributeVerificationCode = (input) => __async(null, null, function* () {
  var _a;
  const {
    userAttributeKey,
    options
  } = input;
  const authConfig = (_a = Amplify.getConfig().Auth) == null ? void 0 : _a.Cognito;
  const clientMetadata = options == null ? void 0 : options.clientMetadata;
  assertTokenProviderConfig(authConfig);
  const {
    userPoolEndpoint,
    userPoolId
  } = authConfig;
  const {
    tokens
  } = yield fetchAuthSession2({
    forceRefresh: false
  });
  assertAuthTokens(tokens);
  const getUserAttributeVerificationCode = createGetUserAttributeVerificationCodeClient({
    endpointResolver: createCognitoUserPoolEndpointResolver({
      endpointOverride: userPoolEndpoint
    })
  });
  const {
    CodeDeliveryDetails
  } = yield getUserAttributeVerificationCode({
    region: getRegionFromUserPoolId(userPoolId),
    userAgentValue: getAuthUserAgentValue(AuthAction.SendUserAttributeVerificationCode)
  }, {
    AccessToken: tokens.accessToken.toString(),
    ClientMetadata: clientMetadata,
    AttributeName: userAttributeKey
  });
  const {
    DeliveryMedium,
    AttributeName,
    Destination
  } = __spreadValues({}, CodeDeliveryDetails);
  return {
    destination: Destination,
    deliveryMedium: DeliveryMedium,
    attributeName: AttributeName
  };
});

// node_modules/@aws-amplify/auth/dist/esm/foundation/factories/serviceClients/cognitoIdentityProvider/createGetTokensFromRefreshTokenClient.mjs
var createGetTokensFromRefreshTokenClient = (config) => composeServiceApi(cognitoUserPoolTransferHandler, createUserPoolSerializer("GetTokensFromRefreshToken"), createUserPoolDeserializer(), __spreadValues(__spreadValues({}, DEFAULT_SERVICE_CLIENT_API_CONFIG2), config));

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/refreshAuthTokens.mjs
var refreshAuthTokensFunction = (_0) => __async(null, [_0], function* ({
  tokens,
  authConfig,
  username
}) {
  var _a, _b, _c;
  assertTokenProviderConfig(authConfig == null ? void 0 : authConfig.Cognito);
  const {
    userPoolId,
    userPoolClientId,
    userPoolEndpoint
  } = authConfig.Cognito;
  const region = getRegionFromUserPoolId(userPoolId);
  assertAuthTokensWithRefreshToken(tokens);
  const getTokensFromRefreshToken = createGetTokensFromRefreshTokenClient({
    endpointResolver: createCognitoUserPoolEndpointResolver({
      endpointOverride: userPoolEndpoint
    })
  });
  const {
    AuthenticationResult
  } = yield getTokensFromRefreshToken({
    region
  }, {
    ClientId: userPoolClientId,
    RefreshToken: tokens.refreshToken,
    DeviceKey: (_a = tokens.deviceMetadata) == null ? void 0 : _a.deviceKey
  });
  const accessToken = decodeJWT((_b = AuthenticationResult == null ? void 0 : AuthenticationResult.AccessToken) != null ? _b : "");
  const idToken = (AuthenticationResult == null ? void 0 : AuthenticationResult.IdToken) ? decodeJWT(AuthenticationResult.IdToken) : void 0;
  const {
    iat
  } = accessToken.payload;
  if (!iat) {
    throw new AuthError({
      name: "iatNotFoundException",
      message: "iat not found in access token"
    });
  }
  const clockDrift = iat * 1e3 - (/* @__PURE__ */ new Date()).getTime();
  return {
    accessToken,
    idToken,
    clockDrift,
    refreshToken: (_c = AuthenticationResult == null ? void 0 : AuthenticationResult.RefreshToken) != null ? _c : tokens.refreshToken,
    username
  };
});
var refreshAuthTokens = deDupeAsyncFunction(refreshAuthTokensFunction);

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/tokenProvider/errorHelpers.mjs
var TokenProviderErrorCode;
(function(TokenProviderErrorCode2) {
  TokenProviderErrorCode2["InvalidAuthTokens"] = "InvalidAuthTokens";
})(TokenProviderErrorCode || (TokenProviderErrorCode = {}));
var tokenValidationErrorMap = {
  [TokenProviderErrorCode.InvalidAuthTokens]: {
    message: "Invalid tokens.",
    recoverySuggestion: "Make sure the tokens are valid."
  }
};
var assert4 = createAssertionFunction(tokenValidationErrorMap);

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/tokenProvider/types.mjs
var AuthTokenStorageKeys = {
  accessToken: "accessToken",
  idToken: "idToken",
  oidcProvider: "oidcProvider",
  clockDrift: "clockDrift",
  refreshToken: "refreshToken",
  deviceKey: "deviceKey",
  randomPasswordKey: "randomPasswordKey",
  deviceGroupKey: "deviceGroupKey",
  signInDetails: "signInDetails",
  oauthMetadata: "oauthMetadata"
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/tokenProvider/constants.mjs
var AUTH_KEY_PREFIX = "CognitoIdentityServiceProvider";

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/tokenProvider/TokenStore.mjs
var DefaultTokenStore = class {
  getKeyValueStorage() {
    if (!this.keyValueStorage) {
      throw new AuthError({
        name: "KeyValueStorageNotFoundException",
        message: "KeyValueStorage was not found in TokenStore"
      });
    }
    return this.keyValueStorage;
  }
  setKeyValueStorage(keyValueStorage) {
    this.keyValueStorage = keyValueStorage;
  }
  setAuthConfig(authConfig) {
    this.authConfig = authConfig;
  }
  loadTokens() {
    return __async(this, null, function* () {
      var _a, _b, _c;
      try {
        const authKeys = yield this.getAuthKeys();
        const accessTokenString = yield this.getKeyValueStorage().getItem(authKeys.accessToken);
        if (!accessTokenString) {
          throw new AuthError({
            name: "NoSessionFoundException",
            message: "Auth session was not found. Make sure to call signIn."
          });
        }
        const accessToken = decodeJWT(accessTokenString);
        const itString = yield this.getKeyValueStorage().getItem(authKeys.idToken);
        const idToken = itString ? decodeJWT(itString) : void 0;
        const refreshToken = (_a = yield this.getKeyValueStorage().getItem(authKeys.refreshToken)) != null ? _a : void 0;
        const clockDriftString = (_b = yield this.getKeyValueStorage().getItem(authKeys.clockDrift)) != null ? _b : "0";
        const clockDrift = Number.parseInt(clockDriftString);
        const signInDetails = yield this.getKeyValueStorage().getItem(authKeys.signInDetails);
        const tokens = {
          accessToken,
          idToken,
          refreshToken,
          deviceMetadata: (_c = yield this.getDeviceMetadata()) != null ? _c : void 0,
          clockDrift,
          username: yield this.getLastAuthUser()
        };
        if (signInDetails) {
          tokens.signInDetails = JSON.parse(signInDetails);
        }
        return tokens;
      } catch (err) {
        return null;
      }
    });
  }
  storeTokens(tokens) {
    return __async(this, null, function* () {
      assert4(tokens !== void 0, TokenProviderErrorCode.InvalidAuthTokens);
      const lastAuthUser = tokens.username;
      yield this.getKeyValueStorage().setItem(this.getLastAuthUserKey(), lastAuthUser);
      const authKeys = yield this.getAuthKeys();
      yield this.getKeyValueStorage().setItem(authKeys.accessToken, tokens.accessToken.toString());
      if (tokens.idToken) {
        yield this.getKeyValueStorage().setItem(authKeys.idToken, tokens.idToken.toString());
      } else {
        yield this.getKeyValueStorage().removeItem(authKeys.idToken);
      }
      if (tokens.refreshToken) {
        yield this.getKeyValueStorage().setItem(authKeys.refreshToken, tokens.refreshToken);
      } else {
        yield this.getKeyValueStorage().removeItem(authKeys.refreshToken);
      }
      if (tokens.deviceMetadata) {
        if (tokens.deviceMetadata.deviceKey) {
          yield this.getKeyValueStorage().setItem(authKeys.deviceKey, tokens.deviceMetadata.deviceKey);
        }
        if (tokens.deviceMetadata.deviceGroupKey) {
          yield this.getKeyValueStorage().setItem(authKeys.deviceGroupKey, tokens.deviceMetadata.deviceGroupKey);
        }
        yield this.getKeyValueStorage().setItem(authKeys.randomPasswordKey, tokens.deviceMetadata.randomPassword);
      }
      if (tokens.signInDetails) {
        yield this.getKeyValueStorage().setItem(authKeys.signInDetails, JSON.stringify(tokens.signInDetails));
      } else {
        yield this.getKeyValueStorage().removeItem(authKeys.signInDetails);
      }
      yield this.getKeyValueStorage().setItem(authKeys.clockDrift, `${tokens.clockDrift}`);
    });
  }
  clearTokens() {
    return __async(this, null, function* () {
      const authKeys = yield this.getAuthKeys();
      yield Promise.all([this.getKeyValueStorage().removeItem(authKeys.accessToken), this.getKeyValueStorage().removeItem(authKeys.idToken), this.getKeyValueStorage().removeItem(authKeys.clockDrift), this.getKeyValueStorage().removeItem(authKeys.refreshToken), this.getKeyValueStorage().removeItem(authKeys.signInDetails), this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()), this.getKeyValueStorage().removeItem(authKeys.oauthMetadata)]);
    });
  }
  getDeviceMetadata(username) {
    return __async(this, null, function* () {
      const authKeys = yield this.getAuthKeys(username);
      const deviceKey = yield this.getKeyValueStorage().getItem(authKeys.deviceKey);
      const deviceGroupKey = yield this.getKeyValueStorage().getItem(authKeys.deviceGroupKey);
      const randomPassword = yield this.getKeyValueStorage().getItem(authKeys.randomPasswordKey);
      return randomPassword && deviceGroupKey && deviceKey ? {
        deviceKey,
        deviceGroupKey,
        randomPassword
      } : null;
    });
  }
  clearDeviceMetadata(username) {
    return __async(this, null, function* () {
      const authKeys = yield this.getAuthKeys(username);
      yield Promise.all([this.getKeyValueStorage().removeItem(authKeys.deviceKey), this.getKeyValueStorage().removeItem(authKeys.deviceGroupKey), this.getKeyValueStorage().removeItem(authKeys.randomPasswordKey)]);
    });
  }
  getAuthKeys(username) {
    return __async(this, null, function* () {
      var _a;
      assertTokenProviderConfig((_a = this.authConfig) == null ? void 0 : _a.Cognito);
      const lastAuthUser = username != null ? username : yield this.getLastAuthUser();
      return createKeysForAuthStorage(AUTH_KEY_PREFIX, `${this.authConfig.Cognito.userPoolClientId}.${lastAuthUser}`);
    });
  }
  getLastAuthUserKey() {
    var _a;
    assertTokenProviderConfig((_a = this.authConfig) == null ? void 0 : _a.Cognito);
    const identifier = this.authConfig.Cognito.userPoolClientId;
    return `${AUTH_KEY_PREFIX}.${identifier}.LastAuthUser`;
  }
  getLastAuthUser() {
    return __async(this, null, function* () {
      var _a;
      const lastAuthUser = (_a = yield this.getKeyValueStorage().getItem(this.getLastAuthUserKey())) != null ? _a : "username";
      return lastAuthUser;
    });
  }
  setOAuthMetadata(metadata) {
    return __async(this, null, function* () {
      const {
        oauthMetadata: oauthMetadataKey
      } = yield this.getAuthKeys();
      yield this.getKeyValueStorage().setItem(oauthMetadataKey, JSON.stringify(metadata));
    });
  }
  getOAuthMetadata() {
    return __async(this, null, function* () {
      const {
        oauthMetadata: oauthMetadataKey
      } = yield this.getAuthKeys();
      const oauthMetadata = yield this.getKeyValueStorage().getItem(oauthMetadataKey);
      return oauthMetadata && JSON.parse(oauthMetadata);
    });
  }
};
var createKeysForAuthStorage = (provider, identifier) => {
  return getAuthStorageKeys(AuthTokenStorageKeys)(`${provider}`, identifier);
};
function getAuthStorageKeys(authKeys) {
  const keys = Object.values(__spreadValues({}, authKeys));
  return (prefix, identifier) => keys.reduce((acc, authKey) => __spreadProps(__spreadValues({}, acc), {
    [authKey]: `${prefix}.${identifier}.${authKey}`
  }), {});
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/signInWithRedirectStore.mjs
var V5_HOSTED_UI_KEY = "amplify-signin-with-hostedUI";
var name = "CognitoIdentityServiceProvider";
var DefaultOAuthStore = class {
  constructor(keyValueStorage) {
    this.keyValueStorage = keyValueStorage;
  }
  clearOAuthInflightData() {
    return __async(this, null, function* () {
      assertTokenProviderConfig(this.cognitoConfig);
      const authKeys = createKeysForAuthStorage2(name, this.cognitoConfig.userPoolClientId);
      yield Promise.all([this.keyValueStorage.removeItem(authKeys.inflightOAuth), this.keyValueStorage.removeItem(authKeys.oauthPKCE), this.keyValueStorage.removeItem(authKeys.oauthState)]);
    });
  }
  clearOAuthData() {
    return __async(this, null, function* () {
      assertTokenProviderConfig(this.cognitoConfig);
      const authKeys = createKeysForAuthStorage2(name, this.cognitoConfig.userPoolClientId);
      yield this.clearOAuthInflightData();
      yield this.keyValueStorage.removeItem(V5_HOSTED_UI_KEY);
      return this.keyValueStorage.removeItem(authKeys.oauthSignIn);
    });
  }
  loadOAuthState() {
    assertTokenProviderConfig(this.cognitoConfig);
    const authKeys = createKeysForAuthStorage2(name, this.cognitoConfig.userPoolClientId);
    return this.keyValueStorage.getItem(authKeys.oauthState);
  }
  storeOAuthState(state) {
    assertTokenProviderConfig(this.cognitoConfig);
    const authKeys = createKeysForAuthStorage2(name, this.cognitoConfig.userPoolClientId);
    return this.keyValueStorage.setItem(authKeys.oauthState, state);
  }
  loadPKCE() {
    assertTokenProviderConfig(this.cognitoConfig);
    const authKeys = createKeysForAuthStorage2(name, this.cognitoConfig.userPoolClientId);
    return this.keyValueStorage.getItem(authKeys.oauthPKCE);
  }
  storePKCE(pkce) {
    assertTokenProviderConfig(this.cognitoConfig);
    const authKeys = createKeysForAuthStorage2(name, this.cognitoConfig.userPoolClientId);
    return this.keyValueStorage.setItem(authKeys.oauthPKCE, pkce);
  }
  setAuthConfig(authConfigParam) {
    this.cognitoConfig = authConfigParam;
  }
  loadOAuthInFlight() {
    return __async(this, null, function* () {
      assertTokenProviderConfig(this.cognitoConfig);
      const authKeys = createKeysForAuthStorage2(name, this.cognitoConfig.userPoolClientId);
      return (yield this.keyValueStorage.getItem(authKeys.inflightOAuth)) === "true";
    });
  }
  storeOAuthInFlight(inflight) {
    return __async(this, null, function* () {
      assertTokenProviderConfig(this.cognitoConfig);
      const authKeys = createKeysForAuthStorage2(name, this.cognitoConfig.userPoolClientId);
      yield this.keyValueStorage.setItem(authKeys.inflightOAuth, `${inflight}`);
    });
  }
  loadOAuthSignIn() {
    return __async(this, null, function* () {
      var _a, _b;
      assertTokenProviderConfig(this.cognitoConfig);
      const authKeys = createKeysForAuthStorage2(name, this.cognitoConfig.userPoolClientId);
      const isLegacyHostedUISignIn = yield this.keyValueStorage.getItem(V5_HOSTED_UI_KEY);
      const [isOAuthSignIn, preferPrivateSession] = (_b = (_a = yield this.keyValueStorage.getItem(authKeys.oauthSignIn)) == null ? void 0 : _a.split(",")) != null ? _b : [];
      return {
        isOAuthSignIn: isOAuthSignIn === "true" || isLegacyHostedUISignIn === "true",
        preferPrivateSession: preferPrivateSession === "true"
      };
    });
  }
  storeOAuthSignIn(oauthSignIn, preferPrivateSession = false) {
    return __async(this, null, function* () {
      assertTokenProviderConfig(this.cognitoConfig);
      const authKeys = createKeysForAuthStorage2(name, this.cognitoConfig.userPoolClientId);
      yield this.keyValueStorage.setItem(authKeys.oauthSignIn, `${oauthSignIn},${preferPrivateSession}`);
    });
  }
};
var createKeysForAuthStorage2 = (provider, identifier) => {
  return getAuthStorageKeys(OAuthStorageKeys)(provider, identifier);
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/oauth/oAuthStore.mjs
var oAuthStore = new DefaultOAuthStore(defaultStorage);

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/oauth/inflightPromise.mjs
var inflightPromises = [];
var addInflightPromise = (resolver) => {
  inflightPromises.push(resolver);
};
var resolveAndClearInflightPromises = () => {
  var _a;
  while (inflightPromises.length) {
    (_a = inflightPromises.pop()) == null ? void 0 : _a();
  }
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/tokenProvider/TokenOrchestrator.mjs
var TokenOrchestrator = class {
  constructor() {
    this.waitForInflightOAuth = isBrowser() ? () => __async(this, null, function* () {
      if (!(yield oAuthStore.loadOAuthInFlight())) {
        return;
      }
      if (this.inflightPromise) {
        return this.inflightPromise;
      }
      this.inflightPromise = new Promise((resolve, _reject) => {
        addInflightPromise(resolve);
      });
      return this.inflightPromise;
    }) : () => __async(this, null, function* () {
    });
  }
  setAuthConfig(authConfig) {
    oAuthStore.setAuthConfig(authConfig.Cognito);
    this.authConfig = authConfig;
  }
  setTokenRefresher(tokenRefresher) {
    this.tokenRefresher = tokenRefresher;
  }
  setAuthTokenStore(tokenStore) {
    this.tokenStore = tokenStore;
  }
  getTokenStore() {
    if (!this.tokenStore) {
      throw new AuthError({
        name: "EmptyTokenStoreException",
        message: "TokenStore not set"
      });
    }
    return this.tokenStore;
  }
  getTokenRefresher() {
    if (!this.tokenRefresher) {
      throw new AuthError({
        name: "EmptyTokenRefresherException",
        message: "TokenRefresher not set"
      });
    }
    return this.tokenRefresher;
  }
  getTokens(options) {
    return __async(this, null, function* () {
      var _a, _b, _c, _d, _e, _f, _g, _h, _i;
      let tokens;
      try {
        assertTokenProviderConfig((_a = this.authConfig) == null ? void 0 : _a.Cognito);
      } catch (_err) {
        return null;
      }
      yield this.waitForInflightOAuth();
      this.inflightPromise = void 0;
      tokens = yield this.getTokenStore().loadTokens();
      const username = yield this.getTokenStore().getLastAuthUser();
      if (tokens === null) {
        return null;
      }
      const idTokenExpired = !!(tokens == null ? void 0 : tokens.idToken) && isTokenExpired({
        expiresAt: ((_d = (_c = (_b = tokens.idToken) == null ? void 0 : _b.payload) == null ? void 0 : _c.exp) != null ? _d : 0) * 1e3,
        clockDrift: (_e = tokens.clockDrift) != null ? _e : 0
      });
      const accessTokenExpired = isTokenExpired({
        expiresAt: ((_h = (_g = (_f = tokens.accessToken) == null ? void 0 : _f.payload) == null ? void 0 : _g.exp) != null ? _h : 0) * 1e3,
        clockDrift: (_i = tokens.clockDrift) != null ? _i : 0
      });
      if ((options == null ? void 0 : options.forceRefresh) || idTokenExpired || accessTokenExpired) {
        tokens = yield this.refreshTokens({
          tokens,
          username
        });
        if (tokens === null) {
          return null;
        }
      }
      return {
        accessToken: tokens == null ? void 0 : tokens.accessToken,
        idToken: tokens == null ? void 0 : tokens.idToken,
        signInDetails: tokens == null ? void 0 : tokens.signInDetails
      };
    });
  }
  refreshTokens(_0) {
    return __async(this, arguments, function* ({
      tokens,
      username
    }) {
      try {
        const {
          signInDetails
        } = tokens;
        const newTokens = yield this.getTokenRefresher()({
          tokens,
          authConfig: this.authConfig,
          username
        });
        newTokens.signInDetails = signInDetails;
        yield this.setTokens({
          tokens: newTokens
        });
        Hub.dispatch("auth", {
          event: "tokenRefresh"
        }, "Auth", AMPLIFY_SYMBOL);
        return newTokens;
      } catch (err) {
        return this.handleErrors(err);
      }
    });
  }
  handleErrors(err) {
    assertServiceError(err);
    if (err.name !== AmplifyErrorCode.NetworkError) {
      this.clearTokens();
    }
    Hub.dispatch("auth", {
      event: "tokenRefresh_failure",
      data: {
        error: err
      }
    }, "Auth", AMPLIFY_SYMBOL);
    if (err.name.startsWith("NotAuthorizedException")) {
      return null;
    }
    throw err;
  }
  setTokens(_0) {
    return __async(this, arguments, function* ({
      tokens
    }) {
      return this.getTokenStore().storeTokens(tokens);
    });
  }
  clearTokens() {
    return __async(this, null, function* () {
      return this.getTokenStore().clearTokens();
    });
  }
  getDeviceMetadata(username) {
    return this.getTokenStore().getDeviceMetadata(username);
  }
  clearDeviceMetadata(username) {
    return this.getTokenStore().clearDeviceMetadata(username);
  }
  setOAuthMetadata(metadata) {
    return this.getTokenStore().setOAuthMetadata(metadata);
  }
  getOAuthMetadata() {
    return this.getTokenStore().getOAuthMetadata();
  }
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/tokenProvider/CognitoUserPoolsTokenProvider.mjs
var CognitoUserPoolsTokenProvider = class {
  constructor() {
    this.authTokenStore = new DefaultTokenStore();
    this.authTokenStore.setKeyValueStorage(defaultStorage);
    this.tokenOrchestrator = new TokenOrchestrator();
    this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore);
    this.tokenOrchestrator.setTokenRefresher(refreshAuthTokens);
  }
  getTokens({
    forceRefresh
  } = {
    forceRefresh: false
  }) {
    return this.tokenOrchestrator.getTokens({
      forceRefresh
    });
  }
  setKeyValueStorage(keyValueStorage) {
    this.authTokenStore.setKeyValueStorage(keyValueStorage);
  }
  setAuthConfig(authConfig) {
    this.authTokenStore.setAuthConfig(authConfig);
    this.tokenOrchestrator.setAuthConfig(authConfig);
  }
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/tokenProvider/tokenProvider.mjs
var cognitoUserPoolsTokenProvider = new CognitoUserPoolsTokenProvider();
var {
  tokenOrchestrator
} = cognitoUserPoolsTokenProvider;

// node_modules/@aws-amplify/auth/dist/esm/foundation/factories/serviceClients/cognitoIdentityProvider/shared/serde/createEmptyResponseDeserializer.mjs
var createEmptyResponseDeserializer = () => (response) => __async(null, null, function* () {
  if (response.statusCode >= 300) {
    const error = yield parseJsonError(response);
    assertServiceError(error);
    throw new AuthError({
      name: error.name,
      message: error.message
    });
  } else {
    return void 0;
  }
});

// node_modules/@aws-amplify/auth/dist/esm/foundation/factories/serviceClients/cognitoIdentityProvider/createDeleteUserClient.mjs
var createDeleteUserClient = (config) => composeServiceApi(cognitoUserPoolTransferHandler, createUserPoolSerializer("DeleteUser"), createEmptyResponseDeserializer(), __spreadValues(__spreadValues({}, DEFAULT_SERVICE_CLIENT_API_CONFIG2), config));

// node_modules/@aws-amplify/auth/node_modules/@aws-crypto/sha256-js/build/module/constants.js
var BLOCK_SIZE2 = 64;
var DIGEST_LENGTH2 = 32;
var KEY2 = new Uint32Array([1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298]);
var INIT2 = [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225];
var MAX_HASHABLE_LENGTH2 = Math.pow(2, 53) - 1;

// node_modules/@aws-amplify/auth/node_modules/@aws-crypto/sha256-js/build/module/RawSha256.js
var RawSha2562 = (
  /** @class */
  function() {
    function RawSha2563() {
      this.state = Int32Array.from(INIT2);
      this.temp = new Int32Array(64);
      this.buffer = new Uint8Array(64);
      this.bufferLength = 0;
      this.bytesHashed = 0;
      this.finished = false;
    }
    RawSha2563.prototype.update = function(data) {
      if (this.finished) {
        throw new Error("Attempted to update an already finished hash.");
      }
      var position = 0;
      var byteLength = data.byteLength;
      this.bytesHashed += byteLength;
      if (this.bytesHashed * 8 > MAX_HASHABLE_LENGTH2) {
        throw new Error("Cannot hash more than 2^53 - 1 bits");
      }
      while (byteLength > 0) {
        this.buffer[this.bufferLength++] = data[position++];
        byteLength--;
        if (this.bufferLength === BLOCK_SIZE2) {
          this.hashBuffer();
          this.bufferLength = 0;
        }
      }
    };
    RawSha2563.prototype.digest = function() {
      if (!this.finished) {
        var bitsHashed = this.bytesHashed * 8;
        var bufferView = new DataView(this.buffer.buffer, this.buffer.byteOffset, this.buffer.byteLength);
        var undecoratedLength = this.bufferLength;
        bufferView.setUint8(this.bufferLength++, 128);
        if (undecoratedLength % BLOCK_SIZE2 >= BLOCK_SIZE2 - 8) {
          for (var i = this.bufferLength; i < BLOCK_SIZE2; i++) {
            bufferView.setUint8(i, 0);
          }
          this.hashBuffer();
          this.bufferLength = 0;
        }
        for (var i = this.bufferLength; i < BLOCK_SIZE2 - 8; i++) {
          bufferView.setUint8(i, 0);
        }
        bufferView.setUint32(BLOCK_SIZE2 - 8, Math.floor(bitsHashed / 4294967296), true);
        bufferView.setUint32(BLOCK_SIZE2 - 4, bitsHashed);
        this.hashBuffer();
        this.finished = true;
      }
      var out = new Uint8Array(DIGEST_LENGTH2);
      for (var i = 0; i < 8; i++) {
        out[i * 4] = this.state[i] >>> 24 & 255;
        out[i * 4 + 1] = this.state[i] >>> 16 & 255;
        out[i * 4 + 2] = this.state[i] >>> 8 & 255;
        out[i * 4 + 3] = this.state[i] >>> 0 & 255;
      }
      return out;
    };
    RawSha2563.prototype.hashBuffer = function() {
      var _a = this, buffer = _a.buffer, state = _a.state;
      var state0 = state[0], state1 = state[1], state2 = state[2], state3 = state[3], state4 = state[4], state5 = state[5], state6 = state[6], state7 = state[7];
      for (var i = 0; i < BLOCK_SIZE2; i++) {
        if (i < 16) {
          this.temp[i] = (buffer[i * 4] & 255) << 24 | (buffer[i * 4 + 1] & 255) << 16 | (buffer[i * 4 + 2] & 255) << 8 | buffer[i * 4 + 3] & 255;
        } else {
          var u = this.temp[i - 2];
          var t1_1 = (u >>> 17 | u << 15) ^ (u >>> 19 | u << 13) ^ u >>> 10;
          u = this.temp[i - 15];
          var t2_1 = (u >>> 7 | u << 25) ^ (u >>> 18 | u << 14) ^ u >>> 3;
          this.temp[i] = (t1_1 + this.temp[i - 7] | 0) + (t2_1 + this.temp[i - 16] | 0);
        }
        var t1 = (((state4 >>> 6 | state4 << 26) ^ (state4 >>> 11 | state4 << 21) ^ (state4 >>> 25 | state4 << 7)) + (state4 & state5 ^ ~state4 & state6) | 0) + (state7 + (KEY2[i] + this.temp[i] | 0) | 0) | 0;
        var t2 = ((state0 >>> 2 | state0 << 30) ^ (state0 >>> 13 | state0 << 19) ^ (state0 >>> 22 | state0 << 10)) + (state0 & state1 ^ state0 & state2 ^ state1 & state2) | 0;
        state7 = state6;
        state6 = state5;
        state5 = state4;
        state4 = state3 + t1 | 0;
        state3 = state2;
        state2 = state1;
        state1 = state0;
        state0 = t1 + t2 | 0;
      }
      state[0] += state0;
      state[1] += state1;
      state[2] += state2;
      state[3] += state3;
      state[4] += state4;
      state[5] += state5;
      state[6] += state6;
      state[7] += state7;
    };
    return RawSha2563;
  }()
);

// node_modules/@aws-amplify/auth/node_modules/@aws-crypto/util/build/module/convertToBuffer.js
var fromUtf83 = typeof Buffer !== "undefined" && Buffer.from ? function(input) {
  return Buffer.from(input, "utf8");
} : fromUtf8;
function convertToBuffer2(data) {
  if (data instanceof Uint8Array) return data;
  if (typeof data === "string") {
    return fromUtf83(data);
  }
  if (ArrayBuffer.isView(data)) {
    return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);
  }
  return new Uint8Array(data);
}

// node_modules/@aws-amplify/auth/node_modules/@aws-crypto/util/build/module/isEmptyData.js
function isEmptyData2(data) {
  if (typeof data === "string") {
    return data.length === 0;
  }
  return data.byteLength === 0;
}

// node_modules/@aws-amplify/auth/node_modules/@aws-crypto/sha256-js/build/module/jsSha256.js
var Sha2562 = (
  /** @class */
  function() {
    function Sha2563(secret) {
      this.secret = secret;
      this.hash = new RawSha2562();
      this.reset();
    }
    Sha2563.prototype.update = function(toHash) {
      if (isEmptyData2(toHash) || this.error) {
        return;
      }
      try {
        this.hash.update(convertToBuffer2(toHash));
      } catch (e) {
        this.error = e;
      }
    };
    Sha2563.prototype.digestSync = function() {
      if (this.error) {
        throw this.error;
      }
      if (this.outer) {
        if (!this.outer.finished) {
          this.outer.update(this.hash.digest());
        }
        return this.outer.digest();
      }
      return this.hash.digest();
    };
    Sha2563.prototype.digest = function() {
      return __awaiter(this, void 0, void 0, function() {
        return __generator(this, function(_a) {
          return [2, this.digestSync()];
        });
      });
    };
    Sha2563.prototype.reset = function() {
      this.hash = new RawSha2562();
      if (this.secret) {
        this.outer = new RawSha2562();
        var inner = bufferFromSecret2(this.secret);
        var outer = new Uint8Array(BLOCK_SIZE2);
        outer.set(inner);
        for (var i = 0; i < BLOCK_SIZE2; i++) {
          inner[i] ^= 54;
          outer[i] ^= 92;
        }
        this.hash.update(inner);
        this.outer.update(outer);
        for (var i = 0; i < inner.byteLength; i++) {
          inner[i] = 0;
        }
      }
    };
    return Sha2563;
  }()
);
function bufferFromSecret2(secret) {
  var input = convertToBuffer2(secret);
  if (input.byteLength > BLOCK_SIZE2) {
    var bufferHash = new RawSha2562();
    bufferHash.update(input);
    input = bufferHash.digest();
  }
  var buffer = new Uint8Array(BLOCK_SIZE2);
  buffer.set(input);
  return buffer;
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/oauth/completeOAuthSignOut.mjs
var completeOAuthSignOut = (store) => __async(null, null, function* () {
  yield store.clearOAuthData();
  tokenOrchestrator.clearTokens();
  yield clearCredentials();
  Hub.dispatch("auth", {
    event: "signedOut"
  }, "Auth", AMPLIFY_SYMBOL);
});

// node_modules/@aws-amplify/auth/dist/esm/utils/openAuthSession.mjs
var openAuthSession = (url) => __async(null, null, function* () {
  if (!(window == null ? void 0 : window.location)) {
    return;
  }
  window.location.href = url.replace("http://", "https://");
});

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/oauth/getRedirectUrl.mjs
function getRedirectUrl2(redirects, preferredRedirectUrl) {
  var _a, _b;
  if (preferredRedirectUrl) {
    const redirectUrl = redirects == null ? void 0 : redirects.find((redirect) => redirect === preferredRedirectUrl);
    if (!redirectUrl) {
      throw invalidPreferredRedirectUrlException;
    }
    return redirectUrl;
  } else {
    const redirectUrlFromTheSameOrigin = (_a = redirects == null ? void 0 : redirects.find(isSameOriginAndPathName)) != null ? _a : redirects == null ? void 0 : redirects.find(isTheSameDomain);
    const redirectUrlFromDifferentOrigin = (_b = redirects == null ? void 0 : redirects.find(isHttps)) != null ? _b : redirects == null ? void 0 : redirects.find(isHttp);
    if (redirectUrlFromTheSameOrigin) {
      return redirectUrlFromTheSameOrigin;
    } else if (redirectUrlFromDifferentOrigin) {
      throw invalidOriginException;
    }
    throw invalidRedirectException;
  }
}
var isSameOriginAndPathName = (redirect) => redirect.startsWith(String(window.location.origin + (window.location.pathname || "/")));
var isTheSameDomain = (redirect) => redirect.includes(String(window.location.hostname));
var isHttp = (redirect) => redirect.startsWith("http://");
var isHttps = (redirect) => redirect.startsWith("https://");

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/oauth/oAuthSignOutRedirect.mjs
var oAuthSignOutRedirect = (authConfig, preferPrivateSession = false, redirectUrl) => __async(null, null, function* () {
  assertOAuthConfig(authConfig);
  const {
    loginWith,
    userPoolClientId
  } = authConfig;
  const {
    domain,
    redirectSignOut
  } = loginWith.oauth;
  const signoutUri = getRedirectUrl2(redirectSignOut, redirectUrl);
  const oAuthLogoutEndpoint = `https://${domain}/logout?${Object.entries({
    client_id: userPoolClientId,
    logout_uri: encodeURIComponent(signoutUri)
  }).map(([k, v]) => `${k}=${v}`).join("&")}`;
  return openAuthSession(oAuthLogoutEndpoint);
});

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/oauth/handleOAuthSignOut.mjs
var handleOAuthSignOut = (cognitoConfig, store, tokenOrchestrator2, redirectUrl) => __async(null, null, function* () {
  const {
    isOAuthSignIn
  } = yield store.loadOAuthSignIn();
  const oauthMetadata = yield tokenOrchestrator2.getOAuthMetadata();
  yield completeOAuthSignOut(store);
  if (isOAuthSignIn || (oauthMetadata == null ? void 0 : oauthMetadata.oauthSignIn)) {
    return oAuthSignOutRedirect(cognitoConfig, false, redirectUrl);
  }
});

// node_modules/@aws-amplify/auth/dist/esm/Errors.mjs
var logger9 = new ConsoleLogger("AuthError");
var authErrorMessages = {
  oauthSignInError: {
    message: AuthErrorStrings.OAUTH_ERROR,
    log: "Make sure Cognito Hosted UI has been configured correctly"
  },
  noConfig: {
    message: AuthErrorStrings.DEFAULT_MSG,
    log: `
            Error: Amplify has not been configured correctly.
            This error is typically caused by one of the following scenarios:

            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point
                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information
            
            2. There might be multiple conflicting versions of amplify packages in your node_modules.
				Refer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)
        `
  },
  missingAuthConfig: {
    message: AuthErrorStrings.DEFAULT_MSG,
    log: `
            Error: Amplify has not been configured correctly. 
            The configuration object is missing required auth properties.
            This error is typically caused by one of the following scenarios:

            1. Did you run \`amplify push\` after adding auth via \`amplify add auth\`?
                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information

            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.
        `
  },
  emptyUsername: {
    message: AuthErrorStrings.EMPTY_USERNAME
  },
  // TODO: should include a list of valid sign-in types
  invalidUsername: {
    message: AuthErrorStrings.INVALID_USERNAME
  },
  emptyPassword: {
    message: AuthErrorStrings.EMPTY_PASSWORD
  },
  emptyCode: {
    message: AuthErrorStrings.EMPTY_CODE
  },
  signUpError: {
    message: AuthErrorStrings.SIGN_UP_ERROR,
    log: "The first parameter should either be non-null string or object"
  },
  noMFA: {
    message: AuthErrorStrings.NO_MFA
  },
  invalidMFA: {
    message: AuthErrorStrings.INVALID_MFA
  },
  emptyChallengeResponse: {
    message: AuthErrorStrings.EMPTY_CHALLENGE
  },
  noUserSession: {
    message: AuthErrorStrings.NO_USER_SESSION
  },
  deviceConfig: {
    message: AuthErrorStrings.DEVICE_CONFIG
  },
  networkError: {
    message: AuthErrorStrings.NETWORK_ERROR
  },
  autoSignInError: {
    message: AuthErrorStrings.AUTOSIGNIN_ERROR
  },
  default: {
    message: AuthErrorStrings.DEFAULT_MSG
  }
};

// node_modules/@aws-amplify/auth/dist/esm/types/Auth.mjs
var AuthErrorTypes;
(function(AuthErrorTypes2) {
  AuthErrorTypes2["NoConfig"] = "noConfig";
  AuthErrorTypes2["MissingAuthConfig"] = "missingAuthConfig";
  AuthErrorTypes2["EmptyUsername"] = "emptyUsername";
  AuthErrorTypes2["InvalidUsername"] = "invalidUsername";
  AuthErrorTypes2["EmptyPassword"] = "emptyPassword";
  AuthErrorTypes2["EmptyCode"] = "emptyCode";
  AuthErrorTypes2["SignUpError"] = "signUpError";
  AuthErrorTypes2["NoMFA"] = "noMFA";
  AuthErrorTypes2["InvalidMFA"] = "invalidMFA";
  AuthErrorTypes2["EmptyChallengeResponse"] = "emptyChallengeResponse";
  AuthErrorTypes2["NoUserSession"] = "noUserSession";
  AuthErrorTypes2["Default"] = "default";
  AuthErrorTypes2["DeviceConfig"] = "deviceConfig";
  AuthErrorTypes2["NetworkError"] = "networkError";
  AuthErrorTypes2["AutoSignInError"] = "autoSignInError";
  AuthErrorTypes2["OAuthSignInError"] = "oauthSignInError";
})(AuthErrorTypes || (AuthErrorTypes = {}));

// node_modules/@aws-amplify/auth/dist/esm/foundation/factories/serviceClients/cognitoIdentityProvider/createRevokeTokenClient.mjs
var createRevokeTokenClient = (config) => composeServiceApi(cognitoUserPoolTransferHandler, createUserPoolSerializer("RevokeToken"), createUserPoolDeserializer(), __spreadValues(__spreadValues({}, DEFAULT_SERVICE_CLIENT_API_CONFIG2), config));

// node_modules/@aws-amplify/auth/dist/esm/foundation/factories/serviceClients/cognitoIdentityProvider/createGlobalSignOutClient.mjs
var createGlobalSignOutClient = (config) => composeServiceApi(cognitoUserPoolTransferHandler, createUserPoolSerializer("GlobalSignOut"), createUserPoolDeserializer(), __spreadValues(__spreadValues({}, DEFAULT_SERVICE_CLIENT_API_CONFIG2), config));

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/apis/signOut.mjs
var logger10 = new ConsoleLogger("Auth");
function signOut(input) {
  return __async(this, null, function* () {
    var _a, _b, _c;
    const cognitoConfig = (_a = Amplify.getConfig().Auth) == null ? void 0 : _a.Cognito;
    assertTokenProviderConfig(cognitoConfig);
    if (input == null ? void 0 : input.global) {
      yield globalSignOut(cognitoConfig);
    } else {
      yield clientSignOut(cognitoConfig);
    }
    let hasOAuthConfig;
    try {
      assertOAuthConfig(cognitoConfig);
      hasOAuthConfig = true;
    } catch (err) {
      hasOAuthConfig = false;
    }
    if (hasOAuthConfig) {
      const oAuthStore2 = new DefaultOAuthStore(defaultStorage);
      oAuthStore2.setAuthConfig(cognitoConfig);
      const {
        type
      } = (_c = yield handleOAuthSignOut(cognitoConfig, oAuthStore2, tokenOrchestrator, (_b = input == null ? void 0 : input.oauth) == null ? void 0 : _b.redirectUrl)) != null ? _c : {};
      if (type === "error") {
        throw new AuthError({
          name: OAUTH_SIGNOUT_EXCEPTION,
          message: `An error occurred when attempting to log out from OAuth provider.`
        });
      }
    } else {
      tokenOrchestrator.clearTokens();
      yield clearCredentials();
      Hub.dispatch("auth", {
        event: "signedOut"
      }, "Auth", AMPLIFY_SYMBOL);
    }
  });
}
function clientSignOut(cognitoConfig) {
  return __async(this, null, function* () {
    try {
      const {
        userPoolEndpoint,
        userPoolId,
        userPoolClientId
      } = cognitoConfig;
      const authTokens = yield tokenOrchestrator.getTokenStore().loadTokens();
      assertAuthTokensWithRefreshToken(authTokens);
      if (isSessionRevocable(authTokens.accessToken)) {
        const revokeToken = createRevokeTokenClient({
          endpointResolver: createCognitoUserPoolEndpointResolver({
            endpointOverride: userPoolEndpoint
          })
        });
        yield revokeToken({
          region: getRegionFromUserPoolId(userPoolId),
          userAgentValue: getAuthUserAgentValue(AuthAction.SignOut)
        }, {
          ClientId: userPoolClientId,
          Token: authTokens.refreshToken
        });
      }
    } catch (err) {
      logger10.debug("Client signOut error caught but will proceed with token removal");
    }
  });
}
function globalSignOut(cognitoConfig) {
  return __async(this, null, function* () {
    try {
      const {
        userPoolEndpoint,
        userPoolId
      } = cognitoConfig;
      const authTokens = yield tokenOrchestrator.getTokenStore().loadTokens();
      assertAuthTokens(authTokens);
      const globalSignOutClient = createGlobalSignOutClient({
        endpointResolver: createCognitoUserPoolEndpointResolver({
          endpointOverride: userPoolEndpoint
        })
      });
      yield globalSignOutClient({
        region: getRegionFromUserPoolId(userPoolId),
        userAgentValue: getAuthUserAgentValue(AuthAction.SignOut)
      }, {
        AccessToken: authTokens.accessToken.toString()
      });
    } catch (err) {
      logger10.debug("Global signOut error caught but will proceed with token removal");
    }
  });
}
var isSessionRevocable = (token) => {
  var _a;
  return !!((_a = token == null ? void 0 : token.payload) == null ? void 0 : _a.origin_jti);
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/apis/deleteUser.mjs
function deleteUser() {
  return __async(this, null, function* () {
    var _a;
    const authConfig = (_a = Amplify.getConfig().Auth) == null ? void 0 : _a.Cognito;
    assertTokenProviderConfig(authConfig);
    const {
      userPoolEndpoint,
      userPoolId
    } = authConfig;
    const {
      tokens
    } = yield fetchAuthSession2();
    assertAuthTokens(tokens);
    const serviceDeleteUser = createDeleteUserClient({
      endpointResolver: createCognitoUserPoolEndpointResolver({
        endpointOverride: userPoolEndpoint
      })
    });
    yield serviceDeleteUser({
      region: getRegionFromUserPoolId(userPoolId),
      userAgentValue: getAuthUserAgentValue(AuthAction.DeleteUser)
    }, {
      AccessToken: tokens.accessToken.toString()
    });
    yield tokenOrchestrator.clearDeviceMetadata();
    yield signOut();
  });
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/apis/internal/getCurrentUser.mjs
var getCurrentUser = (amplify) => __async(null, null, function* () {
  var _a, _b, _c;
  const authConfig = (_a = amplify.getConfig().Auth) == null ? void 0 : _a.Cognito;
  assertTokenProviderConfig(authConfig);
  const tokens = yield amplify.Auth.getTokens({
    forceRefresh: false
  });
  assertAuthTokens(tokens);
  const {
    "cognito:username": username,
    sub
  } = (_c = (_b = tokens.idToken) == null ? void 0 : _b.payload) != null ? _c : {};
  const authUser = {
    username,
    userId: sub
  };
  const signInDetails = getSignInDetailsFromTokens(tokens);
  if (signInDetails) {
    authUser.signInDetails = signInDetails;
  }
  return authUser;
});
function getSignInDetailsFromTokens(tokens) {
  return tokens == null ? void 0 : tokens.signInDetails;
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/apis/getCurrentUser.mjs
var getCurrentUser2 = () => __async(null, null, function* () {
  return getCurrentUser(Amplify);
});

// node_modules/@aws-amplify/auth/dist/esm/foundation/factories/serviceClients/cognitoIdentityProvider/createInitiateAuthClient.mjs
var createInitiateAuthClient = (config) => composeServiceApi(cognitoUserPoolTransferHandler, createUserPoolSerializer("InitiateAuth"), createUserPoolDeserializer(), __spreadValues(__spreadValues({}, DEFAULT_SERVICE_CLIENT_API_CONFIG2), config));

// node_modules/@aws-amplify/auth/dist/esm/foundation/factories/serviceClients/cognitoIdentityProvider/createRespondToAuthChallengeClient.mjs
var createRespondToAuthChallengeClient = (config) => composeServiceApi(cognitoUserPoolTransferHandler, createUserPoolSerializer("RespondToAuthChallenge"), createUserPoolDeserializer(), __spreadValues(__spreadValues({}, DEFAULT_SERVICE_CLIENT_API_CONFIG2), config));

// node_modules/@aws-amplify/auth/dist/esm/foundation/factories/serviceClients/cognitoIdentityProvider/createAssociateSoftwareTokenClient.mjs
var createAssociateSoftwareTokenClient = (config) => composeServiceApi(cognitoUserPoolTransferHandler, createUserPoolSerializer("AssociateSoftwareToken"), createUserPoolDeserializer(), __spreadValues(__spreadValues({}, DEFAULT_SERVICE_CLIENT_API_CONFIG2), config));

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/tokenProvider/cacheTokens.mjs
function cacheCognitoTokens(AuthenticationResult) {
  return __async(this, null, function* () {
    if (AuthenticationResult.AccessToken) {
      const accessToken = decodeJWT(AuthenticationResult.AccessToken);
      const accessTokenIssuedAtInMillis = (accessToken.payload.iat || 0) * 1e3;
      const currentTime = (/* @__PURE__ */ new Date()).getTime();
      const clockDrift = accessTokenIssuedAtInMillis > 0 ? accessTokenIssuedAtInMillis - currentTime : 0;
      let idToken;
      let refreshToken;
      let deviceMetadata;
      if (AuthenticationResult.RefreshToken) {
        refreshToken = AuthenticationResult.RefreshToken;
      }
      if (AuthenticationResult.IdToken) {
        idToken = decodeJWT(AuthenticationResult.IdToken);
      }
      if (AuthenticationResult == null ? void 0 : AuthenticationResult.NewDeviceMetadata) {
        deviceMetadata = AuthenticationResult.NewDeviceMetadata;
      }
      const tokens = {
        accessToken,
        idToken,
        refreshToken,
        clockDrift,
        deviceMetadata,
        username: AuthenticationResult.username
      };
      if (AuthenticationResult == null ? void 0 : AuthenticationResult.signInDetails) {
        tokens.signInDetails = AuthenticationResult.signInDetails;
      }
      yield tokenOrchestrator.setTokens({
        tokens
      });
    } else {
      throw new AmplifyError({
        message: "Invalid tokens",
        name: "InvalidTokens",
        recoverySuggestion: "Check Cognito UserPool settings"
      });
    }
  });
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/dispatchSignedInHubEvent.mjs
var ERROR_MESSAGE = "Unable to get user session following successful sign-in.";
var dispatchSignedInHubEvent = () => __async(null, null, function* () {
  try {
    Hub.dispatch("auth", {
      event: "signedIn",
      data: yield getCurrentUser2()
    }, "Auth", AMPLIFY_SYMBOL);
  } catch (error) {
    if (error.name === USER_UNAUTHENTICATED_EXCEPTION) {
      throw new AuthError({
        name: UNEXPECTED_SIGN_IN_INTERRUPTION_EXCEPTION,
        message: ERROR_MESSAGE,
        recoverySuggestion: "This most likely is due to auth tokens not being persisted. If you are using cookie store, please ensure cookies can be correctly set from your server."
      });
    }
    throw error;
  }
});

// node_modules/@aws-amplify/auth/dist/esm/client/utils/store/autoSignInStore.mjs
function defaultState() {
  return {
    active: false
  };
}
var autoSignInReducer = (state, action) => {
  switch (action.type) {
    case "SET_USERNAME":
      return __spreadProps(__spreadValues({}, state), {
        username: action.value
      });
    case "SET_SESSION":
      return __spreadProps(__spreadValues({}, state), {
        session: action.value
      });
    case "START":
      return __spreadProps(__spreadValues({}, state), {
        active: true
      });
    case "RESET":
      return defaultState();
    default:
      return state;
  }
};
var createAutoSignInStore = (reducer) => {
  let currentState = reducer(defaultState(), {
    type: "RESET"
  });
  return {
    getState: () => currentState,
    dispatch: (action) => {
      currentState = reducer(currentState, action);
    }
  };
};
var autoSignInStore = createAutoSignInStore(autoSignInReducer);

// node_modules/@aws-amplify/auth/dist/esm/client/utils/store/signInStore.mjs
var MS_TO_EXPIRY = 3 * 60 * 1e3;
var TGT_STATE = "CognitoSignInState";
var SIGN_IN_STATE_KEYS = {
  username: `${TGT_STATE}.username`,
  challengeName: `${TGT_STATE}.challengeName`,
  signInSession: `${TGT_STATE}.signInSession`,
  expiry: `${TGT_STATE}.expiry`
};
var signInReducer = (state, action) => {
  switch (action.type) {
    case "SET_SIGN_IN_SESSION":
      persistSignInState({
        signInSession: action.value
      });
      return __spreadProps(__spreadValues({}, state), {
        signInSession: action.value
      });
    case "SET_SIGN_IN_STATE":
      persistSignInState(action.value);
      return __spreadValues({}, action.value);
    case "SET_CHALLENGE_NAME":
      persistSignInState({
        challengeName: action.value
      });
      return __spreadProps(__spreadValues({}, state), {
        challengeName: action.value
      });
    case "SET_USERNAME":
      persistSignInState({
        username: action.value
      });
      return __spreadProps(__spreadValues({}, state), {
        username: action.value
      });
    case "SET_INITIAL_STATE":
      return getInitialState();
    case "RESET_STATE":
      clearPersistedSignInState();
      return getDefaultState();
    // this state is never reachable
    default:
      return state;
  }
};
var isExpired = (expiryDate) => {
  const expiryTimestamp = Number(expiryDate);
  const currentTimestamp = Date.now();
  return expiryTimestamp <= currentTimestamp;
};
var resetActiveSignInState = () => {
  signInStore.dispatch({
    type: "RESET_STATE"
  });
};
var clearPersistedSignInState = () => {
  for (const stateKey of Object.values(SIGN_IN_STATE_KEYS)) {
    syncSessionStorage.removeItem(stateKey);
  }
};
var getDefaultState = () => ({
  username: void 0,
  challengeName: void 0,
  signInSession: void 0
});
var getInitialState = () => {
  var _a, _b, _c;
  const expiry = syncSessionStorage.getItem(SIGN_IN_STATE_KEYS.expiry);
  if (!expiry || isExpired(expiry)) {
    clearPersistedSignInState();
    return getDefaultState();
  }
  const username = (_a = syncSessionStorage.getItem(SIGN_IN_STATE_KEYS.username)) != null ? _a : void 0;
  const challengeName = (_b = syncSessionStorage.getItem(SIGN_IN_STATE_KEYS.challengeName)) != null ? _b : void 0;
  const signInSession = (_c = syncSessionStorage.getItem(SIGN_IN_STATE_KEYS.signInSession)) != null ? _c : void 0;
  return {
    username,
    challengeName,
    signInSession
  };
};
var createStore = (reducer) => {
  let currentState = reducer(getDefaultState(), {
    type: "SET_INITIAL_STATE"
  });
  return {
    getState: () => currentState,
    dispatch: (action) => {
      currentState = reducer(currentState, action);
    }
  };
};
var signInStore = createStore(signInReducer);
function setActiveSignInState(state) {
  signInStore.dispatch({
    type: "SET_SIGN_IN_STATE",
    value: state
  });
}
var persistSignInState = ({
  challengeName,
  signInSession,
  username
}) => {
  username && syncSessionStorage.setItem(SIGN_IN_STATE_KEYS.username, username);
  challengeName && syncSessionStorage.setItem(SIGN_IN_STATE_KEYS.challengeName, challengeName);
  if (signInSession) {
    syncSessionStorage.setItem(SIGN_IN_STATE_KEYS.signInSession, signInSession);
    syncSessionStorage.setItem(SIGN_IN_STATE_KEYS.expiry, String(Date.now() + MS_TO_EXPIRY));
  }
};

// node_modules/@aws-amplify/auth/dist/esm/client/utils/passkey/errors.mjs
var PasskeyError = class _PasskeyError extends AmplifyError {
  constructor(params) {
    super(params);
    this.constructor = _PasskeyError;
    Object.setPrototypeOf(this, _PasskeyError.prototype);
  }
};
var PasskeyErrorCode;
(function(PasskeyErrorCode2) {
  PasskeyErrorCode2["PasskeyNotSupported"] = "PasskeyNotSupported";
  PasskeyErrorCode2["PasskeyAlreadyExists"] = "PasskeyAlreadyExists";
  PasskeyErrorCode2["InvalidPasskeyRegistrationOptions"] = "InvalidPasskeyRegistrationOptions";
  PasskeyErrorCode2["InvalidPasskeyAuthenticationOptions"] = "InvalidPasskeyAuthenticationOptions";
  PasskeyErrorCode2["RelyingPartyMismatch"] = "RelyingPartyMismatch";
  PasskeyErrorCode2["PasskeyRegistrationFailed"] = "PasskeyRegistrationFailed";
  PasskeyErrorCode2["PasskeyRetrievalFailed"] = "PasskeyRetrievalFailed";
  PasskeyErrorCode2["PasskeyRegistrationCanceled"] = "PasskeyRegistrationCanceled";
  PasskeyErrorCode2["PasskeyAuthenticationCanceled"] = "PasskeyAuthenticationCanceled";
  PasskeyErrorCode2["PasskeyOperationAborted"] = "PasskeyOperationAborted";
})(PasskeyErrorCode || (PasskeyErrorCode = {}));
var notSupportedRecoverySuggestion = "Passkeys may not be supported on this device. Ensure your application is running in a secure context (HTTPS) and Web Authentication API is supported.";
var abortOrCancelRecoverySuggestion = "User may have canceled the ceremony or another interruption has occurred. Check underlying error for details.";
var misconfigurationRecoverySuggestion = "Ensure your user pool is configured to support the WEB_AUTHN as an authentication factor.";
var passkeyErrorMap = {
  [PasskeyErrorCode.PasskeyNotSupported]: {
    message: "Passkeys may not be supported on this device.",
    recoverySuggestion: notSupportedRecoverySuggestion
  },
  [PasskeyErrorCode.InvalidPasskeyRegistrationOptions]: {
    message: "Invalid passkey registration options.",
    recoverySuggestion: misconfigurationRecoverySuggestion
  },
  [PasskeyErrorCode.InvalidPasskeyAuthenticationOptions]: {
    message: "Invalid passkey authentication options.",
    recoverySuggestion: misconfigurationRecoverySuggestion
  },
  [PasskeyErrorCode.PasskeyRegistrationFailed]: {
    message: "Device failed to create passkey.",
    recoverySuggestion: notSupportedRecoverySuggestion
  },
  [PasskeyErrorCode.PasskeyRetrievalFailed]: {
    message: "Device failed to retrieve passkey.",
    recoverySuggestion: "Passkeys may not be available on this device. Try an alternative authentication factor like PASSWORD, EMAIL_OTP, or SMS_OTP."
  },
  [PasskeyErrorCode.PasskeyAlreadyExists]: {
    message: "Passkey already exists in authenticator.",
    recoverySuggestion: "Proceed with existing passkey or try again after deleting the credential."
  },
  [PasskeyErrorCode.PasskeyRegistrationCanceled]: {
    message: "Passkey registration ceremony has been canceled.",
    recoverySuggestion: abortOrCancelRecoverySuggestion
  },
  [PasskeyErrorCode.PasskeyAuthenticationCanceled]: {
    message: "Passkey authentication ceremony has been canceled.",
    recoverySuggestion: abortOrCancelRecoverySuggestion
  },
  [PasskeyErrorCode.PasskeyOperationAborted]: {
    message: "Passkey operation has been aborted.",
    recoverySuggestion: abortOrCancelRecoverySuggestion
  },
  [PasskeyErrorCode.RelyingPartyMismatch]: {
    message: "Relying party does not match current domain.",
    recoverySuggestion: "Ensure relying party identifier matches current domain."
  }
};
var assertPasskeyError = createAssertionFunction(passkeyErrorMap, PasskeyError);
var handlePasskeyAuthenticationError = (err) => {
  if (err instanceof PasskeyError) {
    return err;
  }
  if (err instanceof Error) {
    if (err.name === "NotAllowedError") {
      const {
        message,
        recoverySuggestion
      } = passkeyErrorMap[PasskeyErrorCode.PasskeyAuthenticationCanceled];
      return new PasskeyError({
        name: PasskeyErrorCode.PasskeyAuthenticationCanceled,
        message,
        recoverySuggestion,
        underlyingError: err
      });
    }
  }
  return handlePasskeyError(err);
};
var handlePasskeyError = (err) => {
  if (err instanceof Error) {
    if (err.name === "AbortError") {
      const {
        message,
        recoverySuggestion
      } = passkeyErrorMap[PasskeyErrorCode.PasskeyOperationAborted];
      return new PasskeyError({
        name: PasskeyErrorCode.PasskeyOperationAborted,
        message,
        recoverySuggestion,
        underlyingError: err
      });
    }
    if (err.name === "SecurityError") {
      const {
        message,
        recoverySuggestion
      } = passkeyErrorMap[PasskeyErrorCode.RelyingPartyMismatch];
      return new PasskeyError({
        name: PasskeyErrorCode.RelyingPartyMismatch,
        message,
        recoverySuggestion,
        underlyingError: err
      });
    }
  }
  return new PasskeyError({
    name: AmplifyErrorCode.Unknown,
    message: "An unknown error has occurred.",
    underlyingError: err
  });
};

// node_modules/@aws-amplify/auth/dist/esm/client/utils/passkey/getIsPasskeySupported.mjs
var getIsPasskeySupported = () => {
  return isBrowser() && window.isSecureContext && "credentials" in navigator && typeof window.PublicKeyCredential === "function";
};

// node_modules/@aws-amplify/auth/dist/esm/foundation/convert/base64url/convertArrayBufferToBase64Url.mjs
var convertArrayBufferToBase64Url = (buffer) => {
  return base64Encoder.convert(new Uint8Array(buffer), {
    urlSafe: true,
    skipPadding: true
  });
};

// node_modules/@aws-amplify/auth/dist/esm/foundation/convert/base64url/convertBase64UrlToArrayBuffer.mjs
var convertBase64UrlToArrayBuffer = (base64url) => {
  return Uint8Array.from(base64Decoder.convert(base64url, {
    urlSafe: true
  }), (x) => x.charCodeAt(0)).buffer;
};

// node_modules/@aws-amplify/auth/dist/esm/client/utils/passkey/serde.mjs
var deserializeJsonToPkcGetOptions = (input) => {
  const challengeBuffer = convertBase64UrlToArrayBuffer(input.challenge);
  const allowedCredentialsWithBuffer = (input.allowCredentials || []).map((allowedCred) => __spreadProps(__spreadValues({}, allowedCred), {
    id: convertBase64UrlToArrayBuffer(allowedCred.id)
  }));
  return __spreadProps(__spreadValues({}, input), {
    challenge: challengeBuffer,
    allowCredentials: allowedCredentialsWithBuffer
  });
};
var serializePkcWithAssertionToJson = (input) => {
  const response = {
    clientDataJSON: convertArrayBufferToBase64Url(input.response.clientDataJSON),
    authenticatorData: convertArrayBufferToBase64Url(input.response.authenticatorData),
    signature: convertArrayBufferToBase64Url(input.response.signature)
  };
  if (input.response.userHandle) {
    response.userHandle = convertArrayBufferToBase64Url(input.response.userHandle);
  }
  const resultJson = {
    id: input.id,
    rawId: convertArrayBufferToBase64Url(input.rawId),
    type: input.type,
    clientExtensionResults: input.getClientExtensionResults(),
    response
  };
  if (input.authenticatorAttachment) {
    resultJson.authenticatorAttachment = input.authenticatorAttachment;
  }
  return resultJson;
};

// node_modules/@aws-amplify/auth/dist/esm/client/utils/passkey/types/index.mjs
function assertCredentialIsPkcWithAuthenticatorAssertionResponse(credential) {
  assertPasskeyError(credential && credential instanceof PublicKeyCredential && credential.response instanceof AuthenticatorAssertionResponse, PasskeyErrorCode.PasskeyRetrievalFailed);
}

// node_modules/@aws-amplify/auth/dist/esm/client/utils/passkey/getPasskey.mjs
var getPasskey = (input) => __async(null, null, function* () {
  try {
    const isPasskeySupported = getIsPasskeySupported();
    assertPasskeyError(isPasskeySupported, PasskeyErrorCode.PasskeyNotSupported);
    const passkeyGetOptions = deserializeJsonToPkcGetOptions(input);
    const credential = yield navigator.credentials.get({
      publicKey: passkeyGetOptions
    });
    assertCredentialIsPkcWithAuthenticatorAssertionResponse(credential);
    return serializePkcWithAssertionToJson(credential);
  } catch (err) {
    throw handlePasskeyAuthenticationError(err);
  }
});

// node_modules/@aws-amplify/auth/dist/esm/foundation/factories/serviceClients/cognitoIdentityProvider/createConfirmDeviceClient.mjs
var createConfirmDeviceClient = (config) => composeServiceApi(cognitoUserPoolTransferHandler, createUserPoolSerializer("ConfirmDevice"), createUserPoolDeserializer(), __spreadValues(__spreadValues({}, DEFAULT_SERVICE_CLIENT_API_CONFIG2), config));

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/textEncoder/index.mjs
var textEncoder = {
  convert(input) {
    return new TextEncoder().encode(input);
  }
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/srp/BigInteger/BigInteger.mjs
function BigInteger(a, b) {
  if (a != null) this.fromString(a, b);
}
function nbi() {
  return new BigInteger(null, null);
}
var dbits;
var canary = 244837814094590;
var j_lm = (canary & 16777215) === 15715070;
function am1(i, x, w, j, c, n) {
  while (--n >= 0) {
    const v = x * this[i++] + w[j] + c;
    c = Math.floor(v / 67108864);
    w[j++] = v & 67108863;
  }
  return c;
}
function am2(i, x, w, j, c, n) {
  const xl = x & 32767;
  const xh = x >> 15;
  while (--n >= 0) {
    let l = this[i] & 32767;
    const h = this[i++] >> 15;
    const m = xh * l + h * xl;
    l = xl * l + ((m & 32767) << 15) + w[j] + (c & 1073741823);
    c = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30);
    w[j++] = l & 1073741823;
  }
  return c;
}
function am3(i, x, w, j, c, n) {
  const xl = x & 16383;
  const xh = x >> 14;
  while (--n >= 0) {
    let l = this[i] & 16383;
    const h = this[i++] >> 14;
    const m = xh * l + h * xl;
    l = xl * l + ((m & 16383) << 14) + w[j] + c;
    c = (l >> 28) + (m >> 14) + xh * h;
    w[j++] = l & 268435455;
  }
  return c;
}
var inBrowser = typeof navigator !== "undefined";
if (inBrowser && j_lm && navigator.appName === "Microsoft Internet Explorer") {
  BigInteger.prototype.am = am2;
  dbits = 30;
} else if (inBrowser && j_lm && navigator.appName !== "Netscape") {
  BigInteger.prototype.am = am1;
  dbits = 26;
} else {
  BigInteger.prototype.am = am3;
  dbits = 28;
}
BigInteger.prototype.DB = dbits;
BigInteger.prototype.DM = (1 << dbits) - 1;
BigInteger.prototype.DV = 1 << dbits;
var BI_FP = 52;
BigInteger.prototype.FV = Math.pow(2, BI_FP);
BigInteger.prototype.F1 = BI_FP - dbits;
BigInteger.prototype.F2 = 2 * dbits - BI_FP;
var BI_RM = "0123456789abcdefghijklmnopqrstuvwxyz";
var BI_RC = [];
var rr;
var vv;
rr = "0".charCodeAt(0);
for (vv = 0; vv <= 9; ++vv) BI_RC[rr++] = vv;
rr = "a".charCodeAt(0);
for (vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;
rr = "A".charCodeAt(0);
for (vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;
function int2char(n) {
  return BI_RM.charAt(n);
}
function intAt(s, i) {
  const c = BI_RC[s.charCodeAt(i)];
  return c == null ? -1 : c;
}
function bnpCopyTo(r) {
  for (let i = this.t - 1; i >= 0; --i) r[i] = this[i];
  r.t = this.t;
  r.s = this.s;
}
function bnpFromInt(x) {
  this.t = 1;
  this.s = x < 0 ? -1 : 0;
  if (x > 0) this[0] = x;
  else if (x < -1) this[0] = x + this.DV;
  else this.t = 0;
}
function nbv(i) {
  const r = nbi();
  r.fromInt(i);
  return r;
}
function bnpFromString(s, b) {
  let k;
  if (b === 16) k = 4;
  else if (b === 8) k = 3;
  else if (b === 2) k = 1;
  else if (b === 32) k = 5;
  else if (b === 4) k = 2;
  else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");
  this.t = 0;
  this.s = 0;
  let i = s.length;
  let mi = false;
  let sh = 0;
  while (--i >= 0) {
    const x = intAt(s, i);
    if (x < 0) {
      if (s.charAt(i) === "-") mi = true;
      continue;
    }
    mi = false;
    if (sh === 0) this[this.t++] = x;
    else if (sh + k > this.DB) {
      this[this.t - 1] |= (x & (1 << this.DB - sh) - 1) << sh;
      this[this.t++] = x >> this.DB - sh;
    } else this[this.t - 1] |= x << sh;
    sh += k;
    if (sh >= this.DB) sh -= this.DB;
  }
  this.clamp();
  if (mi) BigInteger.ZERO.subTo(this, this);
}
function bnpClamp() {
  const c = this.s & this.DM;
  while (this.t > 0 && this[this.t - 1] == c) --this.t;
}
function bnToString(b) {
  if (this.s < 0) return "-" + this.negate().toString(b);
  let k;
  if (b == 16) k = 4;
  else if (b === 8) k = 3;
  else if (b === 2) k = 1;
  else if (b === 32) k = 5;
  else if (b === 4) k = 2;
  else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");
  const km = (1 << k) - 1;
  let d;
  let m = false;
  let r = "";
  let i = this.t;
  let p = this.DB - i * this.DB % k;
  if (i-- > 0) {
    if (p < this.DB && (d = this[i] >> p) > 0) {
      m = true;
      r = int2char(d);
    }
    while (i >= 0) {
      if (p < k) {
        d = (this[i] & (1 << p) - 1) << k - p;
        d |= this[--i] >> (p += this.DB - k);
      } else {
        d = this[i] >> (p -= k) & km;
        if (p <= 0) {
          p += this.DB;
          --i;
        }
      }
      if (d > 0) m = true;
      if (m) r += int2char(d);
    }
  }
  return m ? r : "0";
}
function bnNegate() {
  const r = nbi();
  BigInteger.ZERO.subTo(this, r);
  return r;
}
function bnAbs() {
  return this.s < 0 ? this.negate() : this;
}
function bnCompareTo(a) {
  let r = this.s - a.s;
  if (r != 0) return r;
  let i = this.t;
  r = i - a.t;
  if (r != 0) return this.s < 0 ? -r : r;
  while (--i >= 0) if ((r = this[i] - a[i]) != 0) return r;
  return 0;
}
function nbits(x) {
  let r = 1;
  let t;
  if ((t = x >>> 16) !== 0) {
    x = t;
    r += 16;
  }
  if ((t = x >> 8) !== 0) {
    x = t;
    r += 8;
  }
  if ((t = x >> 4) !== 0) {
    x = t;
    r += 4;
  }
  if ((t = x >> 2) !== 0) {
    x = t;
    r += 2;
  }
  if ((t = x >> 1) !== 0) {
    x = t;
    r += 1;
  }
  return r;
}
function bnBitLength() {
  if (this.t <= 0) return 0;
  return this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ this.s & this.DM);
}
function bnpDLShiftTo(n, r) {
  let i;
  for (i = this.t - 1; i >= 0; --i) r[i + n] = this[i];
  for (i = n - 1; i >= 0; --i) r[i] = 0;
  r.t = this.t + n;
  r.s = this.s;
}
function bnpDRShiftTo(n, r) {
  for (let i = n; i < this.t; ++i) r[i - n] = this[i];
  r.t = Math.max(this.t - n, 0);
  r.s = this.s;
}
function bnpLShiftTo(n, r) {
  const bs = n % this.DB;
  const cbs = this.DB - bs;
  const bm = (1 << cbs) - 1;
  const ds = Math.floor(n / this.DB);
  let c = this.s << bs & this.DM;
  let i;
  for (i = this.t - 1; i >= 0; --i) {
    r[i + ds + 1] = this[i] >> cbs | c;
    c = (this[i] & bm) << bs;
  }
  for (i = ds - 1; i >= 0; --i) r[i] = 0;
  r[ds] = c;
  r.t = this.t + ds + 1;
  r.s = this.s;
  r.clamp();
}
function bnpRShiftTo(n, r) {
  r.s = this.s;
  const ds = Math.floor(n / this.DB);
  if (ds >= this.t) {
    r.t = 0;
    return;
  }
  const bs = n % this.DB;
  const cbs = this.DB - bs;
  const bm = (1 << bs) - 1;
  r[0] = this[ds] >> bs;
  for (let i = ds + 1; i < this.t; ++i) {
    r[i - ds - 1] |= (this[i] & bm) << cbs;
    r[i - ds] = this[i] >> bs;
  }
  if (bs > 0) r[this.t - ds - 1] |= (this.s & bm) << cbs;
  r.t = this.t - ds;
  r.clamp();
}
function bnpSubTo(a, r) {
  let i = 0;
  let c = 0;
  const m = Math.min(a.t, this.t);
  while (i < m) {
    c += this[i] - a[i];
    r[i++] = c & this.DM;
    c >>= this.DB;
  }
  if (a.t < this.t) {
    c -= a.s;
    while (i < this.t) {
      c += this[i];
      r[i++] = c & this.DM;
      c >>= this.DB;
    }
    c += this.s;
  } else {
    c += this.s;
    while (i < a.t) {
      c -= a[i];
      r[i++] = c & this.DM;
      c >>= this.DB;
    }
    c -= a.s;
  }
  r.s = c < 0 ? -1 : 0;
  if (c < -1) r[i++] = this.DV + c;
  else if (c > 0) r[i++] = c;
  r.t = i;
  r.clamp();
}
function bnpMultiplyTo(a, r) {
  const x = this.abs();
  const y = a.abs();
  let i = x.t;
  r.t = i + y.t;
  while (--i >= 0) r[i] = 0;
  for (i = 0; i < y.t; ++i) r[i + x.t] = x.am(0, y[i], r, i, 0, x.t);
  r.s = 0;
  r.clamp();
  if (this.s !== a.s) BigInteger.ZERO.subTo(r, r);
}
function bnpSquareTo(r) {
  const x = this.abs();
  let i = r.t = 2 * x.t;
  while (--i >= 0) r[i] = 0;
  for (i = 0; i < x.t - 1; ++i) {
    const c = x.am(i, x[i], r, 2 * i, 0, 1);
    if ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {
      r[i + x.t] -= x.DV;
      r[i + x.t + 1] = 1;
    }
  }
  if (r.t > 0) r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1);
  r.s = 0;
  r.clamp();
}
function bnpDivRemTo(m, q, r) {
  const pm = m.abs();
  if (pm.t <= 0) return;
  const pt = this.abs();
  if (pt.t < pm.t) {
    if (q != null) q.fromInt(0);
    if (r != null) this.copyTo(r);
    return;
  }
  if (r === null) r = nbi();
  const y = nbi();
  const ts = this.s;
  const ms = m.s;
  const nsh = this.DB - nbits(pm[pm.t - 1]);
  if (nsh > 0) {
    pm.lShiftTo(nsh, y);
    pt.lShiftTo(nsh, r);
  } else {
    pm.copyTo(y);
    pt.copyTo(r);
  }
  const ys = y.t;
  const y0 = y[ys - 1];
  if (y0 === 0) return;
  const yt = y0 * (1 << this.F1) + (ys > 1 ? y[ys - 2] >> this.F2 : 0);
  const d1 = this.FV / yt;
  const d2 = (1 << this.F1) / yt;
  const e = 1 << this.F2;
  let i = r.t;
  let j = i - ys;
  const t = q === null ? nbi() : q;
  y.dlShiftTo(j, t);
  if (r.compareTo(t) >= 0) {
    r[r.t++] = 1;
    r.subTo(t, r);
  }
  BigInteger.ONE.dlShiftTo(ys, t);
  t.subTo(y, y);
  while (y.t < ys) y[y.t++] = 0;
  while (--j >= 0) {
    let qd = r[--i] === y0 ? this.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2);
    if ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) {
      y.dlShiftTo(j, t);
      r.subTo(t, r);
      while (r[i] < --qd) r.subTo(t, r);
    }
  }
  if (q !== null) {
    r.drShiftTo(ys, q);
    if (ts !== ms) BigInteger.ZERO.subTo(q, q);
  }
  r.t = ys;
  r.clamp();
  if (nsh > 0) r.rShiftTo(nsh, r);
  if (ts < 0) BigInteger.ZERO.subTo(r, r);
}
function bnMod(a) {
  const r = nbi();
  this.abs().divRemTo(a, null, r);
  if (this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r, r);
  return r;
}
function bnpInvDigit() {
  if (this.t < 1) return 0;
  const x = this[0];
  if ((x & 1) === 0) return 0;
  let y = x & 3;
  y = y * (2 - (x & 15) * y) & 15;
  y = y * (2 - (x & 255) * y) & 255;
  y = y * (2 - ((x & 65535) * y & 65535)) & 65535;
  y = y * (2 - x * y % this.DV) % this.DV;
  return y > 0 ? this.DV - y : -y;
}
function bnEquals(a) {
  return this.compareTo(a) === 0;
}
function bnpAddTo(a, r) {
  let i = 0;
  let c = 0;
  const m = Math.min(a.t, this.t);
  while (i < m) {
    c += this[i] + a[i];
    r[i++] = c & this.DM;
    c >>= this.DB;
  }
  if (a.t < this.t) {
    c += a.s;
    while (i < this.t) {
      c += this[i];
      r[i++] = c & this.DM;
      c >>= this.DB;
    }
    c += this.s;
  } else {
    c += this.s;
    while (i < a.t) {
      c += a[i];
      r[i++] = c & this.DM;
      c >>= this.DB;
    }
    c += a.s;
  }
  r.s = c < 0 ? -1 : 0;
  if (c > 0) r[i++] = c;
  else if (c < -1) r[i++] = this.DV + c;
  r.t = i;
  r.clamp();
}
function bnAdd(a) {
  const r = nbi();
  this.addTo(a, r);
  return r;
}
function bnSubtract(a) {
  const r = nbi();
  this.subTo(a, r);
  return r;
}
function bnMultiply(a) {
  const r = nbi();
  this.multiplyTo(a, r);
  return r;
}
function bnDivide(a) {
  const r = nbi();
  this.divRemTo(a, r, null);
  return r;
}
function Montgomery(m) {
  this.m = m;
  this.mp = m.invDigit();
  this.mpl = this.mp & 32767;
  this.mph = this.mp >> 15;
  this.um = (1 << m.DB - 15) - 1;
  this.mt2 = 2 * m.t;
}
function montConvert(x) {
  const r = nbi();
  x.abs().dlShiftTo(this.m.t, r);
  r.divRemTo(this.m, null, r);
  if (x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r, r);
  return r;
}
function montRevert(x) {
  const r = nbi();
  x.copyTo(r);
  this.reduce(r);
  return r;
}
function montReduce(x) {
  while (x.t <= this.mt2)
    x[x.t++] = 0;
  for (let i = 0; i < this.m.t; ++i) {
    let j = x[i] & 32767;
    const u0 = j * this.mpl + ((j * this.mph + (x[i] >> 15) * this.mpl & this.um) << 15) & x.DM;
    j = i + this.m.t;
    x[j] += this.m.am(0, u0, x, i, 0, this.m.t);
    while (x[j] >= x.DV) {
      x[j] -= x.DV;
      x[++j]++;
    }
  }
  x.clamp();
  x.drShiftTo(this.m.t, x);
  if (x.compareTo(this.m) >= 0) x.subTo(this.m, x);
}
function montSqrTo(x, r) {
  x.squareTo(r);
  this.reduce(r);
}
function montMulTo(x, y, r) {
  x.multiplyTo(y, r);
  this.reduce(r);
}
Montgomery.prototype.convert = montConvert;
Montgomery.prototype.revert = montRevert;
Montgomery.prototype.reduce = montReduce;
Montgomery.prototype.mulTo = montMulTo;
Montgomery.prototype.sqrTo = montSqrTo;
function bnModPow(e, m, callback) {
  let i = e.bitLength();
  let k;
  let r = nbv(1);
  const z = new Montgomery(m);
  if (i <= 0) return r;
  else if (i < 18) k = 1;
  else if (i < 48) k = 3;
  else if (i < 144) k = 4;
  else if (i < 768) k = 5;
  else k = 6;
  const g = [];
  let n = 3;
  const k1 = k - 1;
  const km = (1 << k) - 1;
  g[1] = z.convert(this);
  if (k > 1) {
    const g2 = nbi();
    z.sqrTo(g[1], g2);
    while (n <= km) {
      g[n] = nbi();
      z.mulTo(g2, g[n - 2], g[n]);
      n += 2;
    }
  }
  let j = e.t - 1;
  let w;
  let is1 = true;
  let r2 = nbi();
  let t;
  i = nbits(e[j]) - 1;
  while (j >= 0) {
    if (i >= k1) w = e[j] >> i - k1 & km;
    else {
      w = (e[j] & (1 << i + 1) - 1) << k1 - i;
      if (j > 0) w |= e[j - 1] >> this.DB + i - k1;
    }
    n = k;
    while ((w & 1) === 0) {
      w >>= 1;
      --n;
    }
    if ((i -= n) < 0) {
      i += this.DB;
      --j;
    }
    if (is1) {
      g[w].copyTo(r);
      is1 = false;
    } else {
      while (n > 1) {
        z.sqrTo(r, r2);
        z.sqrTo(r2, r);
        n -= 2;
      }
      if (n > 0) z.sqrTo(r, r2);
      else {
        t = r;
        r = r2;
        r2 = t;
      }
      z.mulTo(r2, g[w], r);
    }
    while (j >= 0 && (e[j] & 1 << i) === 0) {
      z.sqrTo(r, r2);
      t = r;
      r = r2;
      r2 = t;
      if (--i < 0) {
        i = this.DB - 1;
        --j;
      }
    }
  }
  const result = z.revert(r);
  callback(null, result);
  return result;
}
BigInteger.prototype.copyTo = bnpCopyTo;
BigInteger.prototype.fromInt = bnpFromInt;
BigInteger.prototype.fromString = bnpFromString;
BigInteger.prototype.clamp = bnpClamp;
BigInteger.prototype.dlShiftTo = bnpDLShiftTo;
BigInteger.prototype.drShiftTo = bnpDRShiftTo;
BigInteger.prototype.lShiftTo = bnpLShiftTo;
BigInteger.prototype.rShiftTo = bnpRShiftTo;
BigInteger.prototype.subTo = bnpSubTo;
BigInteger.prototype.multiplyTo = bnpMultiplyTo;
BigInteger.prototype.squareTo = bnpSquareTo;
BigInteger.prototype.divRemTo = bnpDivRemTo;
BigInteger.prototype.invDigit = bnpInvDigit;
BigInteger.prototype.addTo = bnpAddTo;
BigInteger.prototype.toString = bnToString;
BigInteger.prototype.negate = bnNegate;
BigInteger.prototype.abs = bnAbs;
BigInteger.prototype.compareTo = bnCompareTo;
BigInteger.prototype.bitLength = bnBitLength;
BigInteger.prototype.mod = bnMod;
BigInteger.prototype.equals = bnEquals;
BigInteger.prototype.add = bnAdd;
BigInteger.prototype.subtract = bnSubtract;
BigInteger.prototype.multiply = bnMultiply;
BigInteger.prototype.divide = bnDivide;
BigInteger.prototype.modPow = bnModPow;
BigInteger.ZERO = nbv(0);
BigInteger.ONE = nbv(1);

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/srp/calculate/calculateS.mjs
var calculateS = (_0) => __async(null, [_0], function* ({
  a,
  g,
  k,
  x,
  B,
  N,
  U
}) {
  return new Promise((resolve, reject) => {
    g.modPow(x, N, (outerErr, outerResult) => {
      if (outerErr) {
        reject(outerErr);
        return;
      }
      B.subtract(k.multiply(outerResult)).modPow(a.add(U.multiply(x)), N, (innerErr, innerResult) => {
        if (innerErr) {
          reject(innerErr);
          return;
        }
        resolve(innerResult.mod(N));
      });
    });
  });
});

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/srp/constants.mjs
var INIT_N = "FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF";
var SHORT_TO_HEX2 = {};
var HEX_TO_SHORT2 = {};
for (let i = 0; i < 256; i++) {
  let encodedByte = i.toString(16).toLowerCase();
  if (encodedByte.length === 1) {
    encodedByte = `0${encodedByte}`;
  }
  SHORT_TO_HEX2[i] = encodedByte;
  HEX_TO_SHORT2[encodedByte] = i;
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/srp/getBytesFromHex.mjs
var getBytesFromHex = (encoded) => {
  if (encoded.length % 2 !== 0) {
    throw new Error("Hex encoded strings must have an even number length");
  }
  const out = new Uint8Array(encoded.length / 2);
  for (let i = 0; i < encoded.length; i += 2) {
    const encodedByte = encoded.slice(i, i + 2).toLowerCase();
    if (encodedByte in HEX_TO_SHORT2) {
      out[i / 2] = HEX_TO_SHORT2[encodedByte];
    } else {
      throw new Error(`Cannot decode unrecognized sequence ${encodedByte} as hexadecimal`);
    }
  }
  return out;
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/srp/getHexFromBytes.mjs
var getHexFromBytes = (bytes) => {
  let out = "";
  for (let i = 0; i < bytes.byteLength; i++) {
    out += SHORT_TO_HEX2[bytes[i]];
  }
  return out;
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/srp/getHashFromData.mjs
var getHashFromData = (data) => {
  const sha256 = new Sha2562();
  sha256.update(data);
  const hashedData = sha256.digestSync();
  const hashHexFromUint8 = getHexFromBytes(hashedData);
  return new Array(64 - hashHexFromUint8.length).join("0") + hashHexFromUint8;
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/srp/getHashFromHex.mjs
var getHashFromHex = (hexStr) => getHashFromData(getBytesFromHex(hexStr));

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/srp/getPaddedHex.mjs
var HEX_MSB_REGEX = /^[89a-f]/i;
var getPaddedHex = (bigInt) => {
  if (!(bigInt instanceof BigInteger)) {
    throw new Error("Not a BigInteger");
  }
  const isNegative = bigInt.compareTo(BigInteger.ZERO) < 0;
  let hexStr = bigInt.abs().toString(16);
  hexStr = hexStr.length % 2 !== 0 ? `0${hexStr}` : hexStr;
  hexStr = HEX_MSB_REGEX.test(hexStr) ? `00${hexStr}` : hexStr;
  if (isNegative) {
    const invertedNibbles = hexStr.split("").map((x) => {
      const invertedNibble = ~parseInt(x, 16) & 15;
      return "0123456789ABCDEF".charAt(invertedNibble);
    }).join("");
    const flippedBitsBI = new BigInteger(invertedNibbles, 16).add(BigInteger.ONE);
    hexStr = flippedBitsBI.toString(16);
    if (hexStr.toUpperCase().startsWith("FF8")) {
      hexStr = hexStr.substring(2);
    }
  }
  return hexStr;
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/srp/calculate/calculateU.mjs
var calculateU = ({
  A,
  B
}) => {
  const U = new BigInteger(getHashFromHex(getPaddedHex(A) + getPaddedHex(B)), 16);
  if (U.equals(BigInteger.ZERO)) {
    throw new Error("U cannot be zero.");
  }
  return U;
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/srp/getHkdfKey.mjs
var getHkdfKey = (ikm, salt, info) => {
  const awsCryptoHash = new Sha2562(salt);
  awsCryptoHash.update(ikm);
  const resultFromAWSCryptoPrk = awsCryptoHash.digestSync();
  const awsCryptoHashHmac = new Sha2562(resultFromAWSCryptoPrk);
  awsCryptoHashHmac.update(info);
  const resultFromAWSCryptoHmac = awsCryptoHashHmac.digestSync();
  const hashHexFromAWSCrypto = resultFromAWSCryptoHmac;
  return hashHexFromAWSCrypto.slice(0, 16);
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/srp/getRandomBytes.mjs
var getRandomBytes = (nBytes) => {
  const str = new WordArray().random(nBytes).toString();
  return getBytesFromHex(str);
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/srp/getRandomString.mjs
var getRandomString = () => base64Encoder.convert(getRandomBytes(40));

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/srp/AuthenticationHelper/AuthenticationHelper.mjs
var AuthenticationHelper = class {
  constructor({
    userPoolName,
    a,
    g,
    A,
    N
  }) {
    this.encoder = textEncoder;
    this.userPoolName = userPoolName;
    this.a = a;
    this.g = g;
    this.A = A;
    this.N = N;
    this.k = new BigInteger(getHashFromHex(`${getPaddedHex(N)}${getPaddedHex(g)}`), 16);
  }
  /**
   * @returns {string} Generated random value included in password hash.
   */
  getRandomPassword() {
    if (!this.randomPassword) {
      throw new AuthError({
        name: "EmptyBigIntegerRandomPassword",
        message: "random password is empty"
      });
    }
    return this.randomPassword;
  }
  /**
   * @returns {string} Generated random value included in devices hash.
   */
  getSaltToHashDevices() {
    if (!this.saltToHashDevices) {
      throw new AuthError({
        name: "EmptyBigIntegersaltToHashDevices",
        message: "saltToHashDevices is empty"
      });
    }
    return this.saltToHashDevices;
  }
  /**
   * @returns {string} Value used to verify devices.
   */
  getVerifierDevices() {
    if (!this.verifierDevices) {
      throw new AuthError({
        name: "EmptyBigIntegerVerifierDevices",
        message: "verifyDevices is empty"
      });
    }
    return this.verifierDevices;
  }
  /**
   * Generate salts and compute verifier.
   *
   * @param {string} deviceGroupKey Devices to generate verifier for.
   * @param {string} username User to generate verifier for.
   *
   * @returns {Promise<void>}
   */
  generateHashDevice(deviceGroupKey, username) {
    return __async(this, null, function* () {
      this.randomPassword = getRandomString();
      const combinedString = `${deviceGroupKey}${username}:${this.randomPassword}`;
      const hashedString = getHashFromData(combinedString);
      const hexRandom = getHexFromBytes(getRandomBytes(16));
      this.saltToHashDevices = getPaddedHex(new BigInteger(hexRandom, 16));
      return new Promise((resolve, reject) => {
        this.g.modPow(new BigInteger(getHashFromHex(this.saltToHashDevices + hashedString), 16), this.N, (err, result) => {
          if (err) {
            reject(err);
            return;
          }
          this.verifierDevices = getPaddedHex(result);
          resolve();
        });
      });
    });
  }
  /**
   * Calculates the final HKDF key based on computed S value, computed U value and the key
   *
   * @param {String} username Username.
   * @param {String} password Password.
   * @param {AuthBigInteger} B Server B value.
   * @param {AuthBigInteger} salt Generated salt.
   */
  getPasswordAuthenticationKey(_0) {
    return __async(this, arguments, function* ({
      username,
      password,
      serverBValue,
      salt
    }) {
      if (serverBValue.mod(this.N).equals(BigInteger.ZERO)) {
        throw new Error("B cannot be zero.");
      }
      const U = calculateU({
        A: this.A,
        B: serverBValue
      });
      const usernamePassword = `${this.userPoolName}${username}:${password}`;
      const usernamePasswordHash = getHashFromData(usernamePassword);
      const x = new BigInteger(getHashFromHex(getPaddedHex(salt) + usernamePasswordHash), 16);
      const S = yield calculateS({
        a: this.a,
        g: this.g,
        k: this.k,
        x,
        B: serverBValue,
        N: this.N,
        U
      });
      const context = this.encoder.convert("Caldera Derived Key");
      const spacer = this.encoder.convert(String.fromCharCode(1));
      const info = new Uint8Array(context.byteLength + spacer.byteLength);
      info.set(context, 0);
      info.set(spacer, context.byteLength);
      const hkdfKey = getHkdfKey(getBytesFromHex(getPaddedHex(S)), getBytesFromHex(getPaddedHex(U)), info);
      return hkdfKey;
    });
  }
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/srp/calculate/calculateA.mjs
var calculateA = (_0) => __async(null, [_0], function* ({
  a,
  g,
  N
}) {
  return new Promise((resolve, reject) => {
    g.modPow(a, N, (err, A) => {
      if (err) {
        reject(err);
        return;
      }
      if (A.mod(N).equals(BigInteger.ZERO)) {
        reject(new Error("Illegal parameter. A mod N cannot be 0."));
        return;
      }
      resolve(A);
    });
  });
});

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/srp/getAuthenticationHelper.mjs
var getAuthenticationHelper = (userPoolName) => __async(null, null, function* () {
  const N = new BigInteger(INIT_N, 16);
  const g = new BigInteger("2", 16);
  const a = generateRandomBigInteger();
  const A = yield calculateA({
    a,
    g,
    N
  });
  return new AuthenticationHelper({
    userPoolName,
    a,
    g,
    A,
    N
  });
});
var generateRandomBigInteger = () => {
  const hexRandom = getHexFromBytes(getRandomBytes(128));
  return new BigInteger(hexRandom, 16);
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/getNewDeviceMetadata.mjs
function getNewDeviceMetadata(_0) {
  return __async(this, arguments, function* ({
    userPoolId,
    userPoolEndpoint,
    newDeviceMetadata,
    accessToken
  }) {
    if (!newDeviceMetadata) return void 0;
    const userPoolName = userPoolId.split("_")[1] || "";
    const authenticationHelper = yield getAuthenticationHelper(userPoolName);
    const deviceKey = newDeviceMetadata == null ? void 0 : newDeviceMetadata.DeviceKey;
    const deviceGroupKey = newDeviceMetadata == null ? void 0 : newDeviceMetadata.DeviceGroupKey;
    try {
      yield authenticationHelper.generateHashDevice(deviceGroupKey != null ? deviceGroupKey : "", deviceKey != null ? deviceKey : "");
    } catch (errGenHash) {
      return void 0;
    }
    const deviceSecretVerifierConfig = {
      Salt: base64Encoder.convert(getBytesFromHex(authenticationHelper.getSaltToHashDevices())),
      PasswordVerifier: base64Encoder.convert(getBytesFromHex(authenticationHelper.getVerifierDevices()))
    };
    const randomPassword = authenticationHelper.getRandomPassword();
    try {
      const confirmDevice = createConfirmDeviceClient({
        endpointResolver: createCognitoUserPoolEndpointResolver({
          endpointOverride: userPoolEndpoint
        })
      });
      yield confirmDevice({
        region: getRegionFromUserPoolId(userPoolId)
      }, {
        AccessToken: accessToken,
        DeviceName: yield getDeviceName(),
        DeviceKey: newDeviceMetadata == null ? void 0 : newDeviceMetadata.DeviceKey,
        DeviceSecretVerifierConfig: deviceSecretVerifierConfig
      });
      return {
        deviceKey,
        deviceGroupKey,
        randomPassword
      };
    } catch (error) {
      return void 0;
    }
  });
}

// node_modules/@aws-amplify/auth/dist/esm/client/flows/userAuth/handleWebAuthnSignInResult.mjs
function handleWebAuthnSignInResult(challengeParameters) {
  return __async(this, null, function* () {
    var _a;
    const authConfig = (_a = Amplify.getConfig().Auth) == null ? void 0 : _a.Cognito;
    assertTokenProviderConfig(authConfig);
    const {
      username,
      signInSession,
      signInDetails,
      challengeName
    } = signInStore.getState();
    if (challengeName !== "WEB_AUTHN" || !username) {
      throw new AuthError({
        name: AuthErrorCodes.SignInException,
        message: "Unable to proceed due to invalid sign in state."
      });
    }
    const {
      CREDENTIAL_REQUEST_OPTIONS: credentialRequestOptions
    } = challengeParameters;
    assertPasskeyError(!!credentialRequestOptions, PasskeyErrorCode.InvalidPasskeyAuthenticationOptions);
    const cred = yield getPasskey(JSON.parse(credentialRequestOptions));
    const respondToAuthChallenge = createRespondToAuthChallengeClient({
      endpointResolver: createCognitoUserPoolEndpointResolver({
        endpointOverride: authConfig.userPoolEndpoint
      })
    });
    const {
      ChallengeName: nextChallengeName,
      ChallengeParameters: nextChallengeParameters,
      AuthenticationResult: authenticationResult,
      Session: nextSession
    } = yield respondToAuthChallenge({
      region: getRegionFromUserPoolId(authConfig.userPoolId),
      userAgentValue: getAuthUserAgentValue(AuthAction.ConfirmSignIn)
    }, {
      ChallengeName: "WEB_AUTHN",
      ChallengeResponses: {
        USERNAME: username,
        CREDENTIAL: JSON.stringify(cred)
      },
      ClientId: authConfig.userPoolClientId,
      Session: signInSession
    });
    setActiveSignInState({
      signInSession: nextSession,
      username,
      challengeName: nextChallengeName,
      signInDetails
    });
    if (authenticationResult) {
      yield cacheCognitoTokens(__spreadProps(__spreadValues({}, authenticationResult), {
        username,
        NewDeviceMetadata: yield getNewDeviceMetadata({
          userPoolId: authConfig.userPoolId,
          userPoolEndpoint: authConfig.userPoolEndpoint,
          newDeviceMetadata: authenticationResult.NewDeviceMetadata,
          accessToken: authenticationResult.AccessToken
        }),
        signInDetails
      }));
      signInStore.dispatch({
        type: "RESET_STATE"
      });
      yield dispatchSignedInHubEvent();
      return {
        isSignedIn: true,
        nextStep: {
          signInStep: "DONE"
        }
      };
    }
    if (nextChallengeName === "WEB_AUTHN") {
      throw new AuthError({
        name: AuthErrorCodes.SignInException,
        message: "Sequential WEB_AUTHN challenges returned from underlying service cannot be handled."
      });
    }
    return {
      challengeName: nextChallengeName,
      challengeParameters: nextChallengeParameters
    };
  });
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/srp/getNowString.mjs
var MONTH_NAMES = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
var WEEK_NAMES = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
var getNowString = () => {
  const now = /* @__PURE__ */ new Date();
  const weekDay = WEEK_NAMES[now.getUTCDay()];
  const month = MONTH_NAMES[now.getUTCMonth()];
  const day = now.getUTCDate();
  let hours = now.getUTCHours();
  if (hours < 10) {
    hours = `0${hours}`;
  }
  let minutes = now.getUTCMinutes();
  if (minutes < 10) {
    minutes = `0${minutes}`;
  }
  let seconds = now.getUTCSeconds();
  if (seconds < 10) {
    seconds = `0${seconds}`;
  }
  const year = now.getUTCFullYear();
  const dateNow = `${weekDay} ${month} ${day} ${hours}:${minutes}:${seconds} UTC ${year}`;
  return dateNow;
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/srp/getSignatureString.mjs
var getSignatureString = ({
  userPoolName,
  username,
  challengeParameters,
  dateNow,
  hkdf
}) => {
  const bufUPIDaToB = textEncoder.convert(userPoolName);
  const bufUNaToB = textEncoder.convert(username);
  const bufSBaToB = urlB64ToUint8Array(challengeParameters.SECRET_BLOCK);
  const bufDNaToB = textEncoder.convert(dateNow);
  const bufConcat = new Uint8Array(bufUPIDaToB.byteLength + bufUNaToB.byteLength + bufSBaToB.byteLength + bufDNaToB.byteLength);
  bufConcat.set(bufUPIDaToB, 0);
  bufConcat.set(bufUNaToB, bufUPIDaToB.byteLength);
  bufConcat.set(bufSBaToB, bufUPIDaToB.byteLength + bufUNaToB.byteLength);
  bufConcat.set(bufDNaToB, bufUPIDaToB.byteLength + bufUNaToB.byteLength + bufSBaToB.byteLength);
  const awsCryptoHash = new Sha2562(hkdf);
  awsCryptoHash.update(bufConcat);
  const resultFromAWSCrypto = awsCryptoHash.digestSync();
  const signatureString = base64Encoder.convert(resultFromAWSCrypto);
  return signatureString;
};
var urlB64ToUint8Array = (base64String) => {
  const padding = "=".repeat((4 - base64String.length % 4) % 4);
  const base64 = (base64String + padding).replace(/-/g, "+").replace(/_/g, "/");
  const rawData = base64Decoder.convert(base64);
  const outputArray = new Uint8Array(rawData.length);
  for (let i = 0; i < rawData.length; ++i) {
    outputArray[i] = rawData.charCodeAt(i);
  }
  return outputArray;
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/handleDeviceSRPAuth.mjs
function handleDeviceSRPAuth(_0) {
  return __async(this, arguments, function* ({
    username,
    config,
    clientMetadata,
    session,
    tokenOrchestrator: tokenOrchestrator2
  }) {
    const {
      userPoolId,
      userPoolEndpoint
    } = config;
    const clientId = config.userPoolClientId;
    const deviceMetadata = yield tokenOrchestrator2 == null ? void 0 : tokenOrchestrator2.getDeviceMetadata(username);
    assertDeviceMetadata(deviceMetadata);
    const authenticationHelper = yield getAuthenticationHelper(deviceMetadata.deviceGroupKey);
    const challengeResponses = {
      USERNAME: username,
      SRP_A: authenticationHelper.A.toString(16),
      DEVICE_KEY: deviceMetadata.deviceKey
    };
    const jsonReqResponseChallenge = {
      ChallengeName: "DEVICE_SRP_AUTH",
      ClientId: clientId,
      ChallengeResponses: challengeResponses,
      ClientMetadata: clientMetadata,
      Session: session
    };
    const respondToAuthChallenge = createRespondToAuthChallengeClient({
      endpointResolver: createCognitoUserPoolEndpointResolver({
        endpointOverride: userPoolEndpoint
      })
    });
    const {
      ChallengeParameters: respondedChallengeParameters,
      Session
    } = yield respondToAuthChallenge({
      region: getRegionFromUserPoolId(userPoolId)
    }, jsonReqResponseChallenge);
    return handleDevicePasswordVerifier(username, respondedChallengeParameters, clientMetadata, Session, authenticationHelper, config, tokenOrchestrator2);
  });
}
function handleDevicePasswordVerifier(_0, _1, _2, _3, _4, _5, _6) {
  return __async(this, arguments, function* (username, challengeParameters, clientMetadata, session, authenticationHelper, {
    userPoolId,
    userPoolClientId,
    userPoolEndpoint
  }, tokenOrchestrator2) {
    var _a;
    const deviceMetadata = yield tokenOrchestrator2 == null ? void 0 : tokenOrchestrator2.getDeviceMetadata(username);
    assertDeviceMetadata(deviceMetadata);
    const serverBValue = new BigInteger(challengeParameters == null ? void 0 : challengeParameters.SRP_B, 16);
    const salt = new BigInteger(challengeParameters == null ? void 0 : challengeParameters.SALT, 16);
    const {
      deviceKey
    } = deviceMetadata;
    const {
      deviceGroupKey
    } = deviceMetadata;
    const hkdf = yield authenticationHelper.getPasswordAuthenticationKey({
      username: deviceMetadata.deviceKey,
      password: deviceMetadata.randomPassword,
      serverBValue,
      salt
    });
    const dateNow = getNowString();
    const challengeResponses = {
      USERNAME: (_a = challengeParameters == null ? void 0 : challengeParameters.USERNAME) != null ? _a : username,
      PASSWORD_CLAIM_SECRET_BLOCK: challengeParameters == null ? void 0 : challengeParameters.SECRET_BLOCK,
      TIMESTAMP: dateNow,
      PASSWORD_CLAIM_SIGNATURE: getSignatureString({
        username: deviceKey,
        userPoolName: deviceGroupKey,
        challengeParameters,
        dateNow,
        hkdf
      }),
      DEVICE_KEY: deviceKey
    };
    const UserContextData = getUserContextData({
      username,
      userPoolId,
      userPoolClientId
    });
    const jsonReqResponseChallenge = {
      ChallengeName: "DEVICE_PASSWORD_VERIFIER",
      ClientId: userPoolClientId,
      ChallengeResponses: challengeResponses,
      Session: session,
      ClientMetadata: clientMetadata,
      UserContextData
    };
    const respondToAuthChallenge = createRespondToAuthChallengeClient({
      endpointResolver: createCognitoUserPoolEndpointResolver({
        endpointOverride: userPoolEndpoint
      })
    });
    return respondToAuthChallenge({
      region: getRegionFromUserPoolId(userPoolId)
    }, jsonReqResponseChallenge);
  });
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/handlePasswordVerifierChallenge.mjs
function handlePasswordVerifierChallenge(password, challengeParameters, clientMetadata, session, authenticationHelper, config, tokenOrchestrator2) {
  return __async(this, null, function* () {
    const {
      userPoolId,
      userPoolClientId,
      userPoolEndpoint
    } = config;
    const userPoolName = (userPoolId == null ? void 0 : userPoolId.split("_")[1]) || "";
    const serverBValue = new BigInteger(challengeParameters == null ? void 0 : challengeParameters.SRP_B, 16);
    const salt = new BigInteger(challengeParameters == null ? void 0 : challengeParameters.SALT, 16);
    const username = challengeParameters == null ? void 0 : challengeParameters.USER_ID_FOR_SRP;
    if (!username) throw new AuthError({
      name: "EmptyUserIdForSRPException",
      message: "USER_ID_FOR_SRP was not found in challengeParameters"
    });
    const hkdf = yield authenticationHelper.getPasswordAuthenticationKey({
      username,
      password,
      serverBValue,
      salt
    });
    const dateNow = getNowString();
    const challengeResponses = {
      USERNAME: username,
      PASSWORD_CLAIM_SECRET_BLOCK: challengeParameters == null ? void 0 : challengeParameters.SECRET_BLOCK,
      TIMESTAMP: dateNow,
      PASSWORD_CLAIM_SIGNATURE: getSignatureString({
        username,
        userPoolName,
        challengeParameters,
        dateNow,
        hkdf
      })
    };
    const deviceMetadata = yield tokenOrchestrator2.getDeviceMetadata(username);
    if (deviceMetadata && deviceMetadata.deviceKey) {
      challengeResponses.DEVICE_KEY = deviceMetadata.deviceKey;
    }
    const UserContextData = getUserContextData({
      username,
      userPoolId,
      userPoolClientId
    });
    const jsonReqResponseChallenge = {
      ChallengeName: "PASSWORD_VERIFIER",
      ChallengeResponses: challengeResponses,
      ClientMetadata: clientMetadata,
      Session: session,
      ClientId: userPoolClientId,
      UserContextData
    };
    const respondToAuthChallenge = createRespondToAuthChallengeClient({
      endpointResolver: createCognitoUserPoolEndpointResolver({
        endpointOverride: userPoolEndpoint
      })
    });
    const response = yield respondToAuthChallenge({
      region: getRegionFromUserPoolId(userPoolId)
    }, jsonReqResponseChallenge);
    if (response.ChallengeName === "DEVICE_SRP_AUTH") return handleDeviceSRPAuth({
      username,
      config,
      clientMetadata,
      session: response.Session,
      tokenOrchestrator: tokenOrchestrator2
    });
    return response;
  });
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/retryOnResourceNotFoundException.mjs
function retryOnResourceNotFoundException(func, args, username, tokenOrchestrator2) {
  return __async(this, null, function* () {
    try {
      return yield func(...args);
    } catch (error) {
      if (error instanceof AuthError && error.name === "ResourceNotFoundException" && error.message.includes("Device does not exist.")) {
        yield tokenOrchestrator2.clearDeviceMetadata(username);
        return func(...args);
      }
      throw error;
    }
  });
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/setActiveSignInUsername.mjs
function setActiveSignInUsername(username) {
  const {
    dispatch
  } = signInStore;
  dispatch({
    type: "SET_USERNAME",
    value: username
  });
}

// node_modules/@aws-amplify/auth/dist/esm/client/flows/shared/handlePasswordSRP.mjs
function handlePasswordSRP(_0) {
  return __async(this, arguments, function* ({
    username,
    password,
    clientMetadata,
    config,
    tokenOrchestrator: tokenOrchestrator2,
    authFlow,
    preferredChallenge
  }) {
    var _a;
    const {
      userPoolId,
      userPoolClientId,
      userPoolEndpoint
    } = config;
    const userPoolName = (userPoolId == null ? void 0 : userPoolId.split("_")[1]) || "";
    const authenticationHelper = yield getAuthenticationHelper(userPoolName);
    const authParameters = {
      USERNAME: username,
      SRP_A: authenticationHelper.A.toString(16)
    };
    if (authFlow === "USER_AUTH" && preferredChallenge) {
      authParameters.PREFERRED_CHALLENGE = preferredChallenge;
    }
    const UserContextData = getUserContextData({
      username,
      userPoolId,
      userPoolClientId
    });
    const jsonReq = {
      AuthFlow: authFlow,
      AuthParameters: authParameters,
      ClientMetadata: clientMetadata,
      ClientId: userPoolClientId,
      UserContextData
    };
    const initiateAuth = createInitiateAuthClient({
      endpointResolver: createCognitoUserPoolEndpointResolver({
        endpointOverride: userPoolEndpoint
      })
    });
    const resp = yield initiateAuth({
      region: getRegionFromUserPoolId(userPoolId),
      userAgentValue: getAuthUserAgentValue(AuthAction.SignIn)
    }, jsonReq);
    const {
      ChallengeParameters: challengeParameters,
      Session: session
    } = resp;
    const activeUsername = (_a = challengeParameters == null ? void 0 : challengeParameters.USERNAME) != null ? _a : username;
    setActiveSignInUsername(activeUsername);
    if (resp.ChallengeName === "PASSWORD_VERIFIER") {
      return retryOnResourceNotFoundException(handlePasswordVerifierChallenge, [password, challengeParameters, clientMetadata, session, authenticationHelper, config, tokenOrchestrator2], activeUsername, tokenOrchestrator2);
    }
    return resp;
  });
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/signInHelpers.mjs
var USER_ATTRIBUTES = "userAttributes.";
function isWebAuthnResultAuthSignInOutput(result) {
  return "isSignedIn" in result && "nextStep" in result;
}
function handleUserPasswordAuthFlow(username, password, clientMetadata, config, tokenOrchestrator2) {
  return __async(this, null, function* () {
    var _a, _b, _c, _d;
    const {
      userPoolClientId,
      userPoolId,
      userPoolEndpoint
    } = config;
    const authParameters = {
      USERNAME: username,
      PASSWORD: password
    };
    const deviceMetadata = yield tokenOrchestrator2.getDeviceMetadata(username);
    if (deviceMetadata && deviceMetadata.deviceKey) {
      authParameters.DEVICE_KEY = deviceMetadata.deviceKey;
    }
    const UserContextData = getUserContextData({
      username,
      userPoolId,
      userPoolClientId
    });
    const jsonReq = {
      AuthFlow: "USER_PASSWORD_AUTH",
      AuthParameters: authParameters,
      ClientMetadata: clientMetadata,
      ClientId: userPoolClientId,
      UserContextData
    };
    const initiateAuth = createInitiateAuthClient({
      endpointResolver: createCognitoUserPoolEndpointResolver({
        endpointOverride: userPoolEndpoint
      })
    });
    const response = yield initiateAuth({
      region: getRegionFromUserPoolId(userPoolId),
      userAgentValue: getAuthUserAgentValue(AuthAction.SignIn)
    }, jsonReq);
    const activeUsername = (_d = (_c = (_a = response.ChallengeParameters) == null ? void 0 : _a.USERNAME) != null ? _c : (_b = response.ChallengeParameters) == null ? void 0 : _b.USER_ID_FOR_SRP) != null ? _d : username;
    setActiveSignInUsername(activeUsername);
    if (response.ChallengeName === "DEVICE_SRP_AUTH") return handleDeviceSRPAuth({
      username: activeUsername,
      config,
      clientMetadata,
      session: response.Session,
      tokenOrchestrator: tokenOrchestrator2
    });
    return response;
  });
}
function handleUserSRPAuthFlow(username, password, clientMetadata, config, tokenOrchestrator2) {
  return __async(this, null, function* () {
    return handlePasswordSRP({
      username,
      password,
      clientMetadata,
      config,
      tokenOrchestrator: tokenOrchestrator2,
      authFlow: "USER_SRP_AUTH"
    });
  });
}
function handleCustomAuthFlowWithoutSRP(username, clientMetadata, config, tokenOrchestrator2) {
  return __async(this, null, function* () {
    var _a, _b;
    const {
      userPoolClientId,
      userPoolId,
      userPoolEndpoint
    } = config;
    const authParameters = {
      USERNAME: username
    };
    const deviceMetadata = yield tokenOrchestrator2.getDeviceMetadata(username);
    if (deviceMetadata && deviceMetadata.deviceKey) {
      authParameters.DEVICE_KEY = deviceMetadata.deviceKey;
    }
    const UserContextData = getUserContextData({
      username,
      userPoolId,
      userPoolClientId
    });
    const jsonReq = {
      AuthFlow: "CUSTOM_AUTH",
      AuthParameters: authParameters,
      ClientMetadata: clientMetadata,
      ClientId: userPoolClientId,
      UserContextData
    };
    const initiateAuth = createInitiateAuthClient({
      endpointResolver: createCognitoUserPoolEndpointResolver({
        endpointOverride: userPoolEndpoint
      })
    });
    const response = yield initiateAuth({
      region: getRegionFromUserPoolId(userPoolId),
      userAgentValue: getAuthUserAgentValue(AuthAction.SignIn)
    }, jsonReq);
    const activeUsername = (_b = (_a = response.ChallengeParameters) == null ? void 0 : _a.USERNAME) != null ? _b : username;
    setActiveSignInUsername(activeUsername);
    if (response.ChallengeName === "DEVICE_SRP_AUTH") return handleDeviceSRPAuth({
      username: activeUsername,
      config,
      clientMetadata,
      session: response.Session,
      tokenOrchestrator: tokenOrchestrator2
    });
    return response;
  });
}
function handleCustomSRPAuthFlow(username, password, clientMetadata, config, tokenOrchestrator2) {
  return __async(this, null, function* () {
    var _a;
    assertTokenProviderConfig(config);
    const {
      userPoolId,
      userPoolClientId,
      userPoolEndpoint
    } = config;
    const userPoolName = (userPoolId == null ? void 0 : userPoolId.split("_")[1]) || "";
    const authenticationHelper = yield getAuthenticationHelper(userPoolName);
    const authParameters = {
      USERNAME: username,
      SRP_A: authenticationHelper.A.toString(16),
      CHALLENGE_NAME: "SRP_A"
    };
    const UserContextData = getUserContextData({
      username,
      userPoolId,
      userPoolClientId
    });
    const jsonReq = {
      AuthFlow: "CUSTOM_AUTH",
      AuthParameters: authParameters,
      ClientMetadata: clientMetadata,
      ClientId: userPoolClientId,
      UserContextData
    };
    const initiateAuth = createInitiateAuthClient({
      endpointResolver: createCognitoUserPoolEndpointResolver({
        endpointOverride: userPoolEndpoint
      })
    });
    const {
      ChallengeParameters: challengeParameters,
      Session: session
    } = yield initiateAuth({
      region: getRegionFromUserPoolId(userPoolId),
      userAgentValue: getAuthUserAgentValue(AuthAction.SignIn)
    }, jsonReq);
    const activeUsername = (_a = challengeParameters == null ? void 0 : challengeParameters.USERNAME) != null ? _a : username;
    setActiveSignInUsername(activeUsername);
    return retryOnResourceNotFoundException(handlePasswordVerifierChallenge, [password, challengeParameters, clientMetadata, session, authenticationHelper, config, tokenOrchestrator2], activeUsername, tokenOrchestrator2);
  });
}
function getSignInResult(params) {
  return __async(this, null, function* () {
    var _a;
    const {
      challengeName,
      challengeParameters,
      availableChallenges
    } = params;
    const authConfig = (_a = Amplify.getConfig().Auth) == null ? void 0 : _a.Cognito;
    assertTokenProviderConfig(authConfig);
    switch (challengeName) {
      case "CUSTOM_CHALLENGE":
        return {
          isSignedIn: false,
          nextStep: {
            signInStep: "CONFIRM_SIGN_IN_WITH_CUSTOM_CHALLENGE",
            additionalInfo: challengeParameters
          }
        };
      case "MFA_SETUP": {
        const {
          signInSession,
          username
        } = signInStore.getState();
        const mfaSetupTypes = getMFATypes(parseMFATypes(challengeParameters.MFAS_CAN_SETUP)) || [];
        const allowedMfaSetupTypes = getAllowedMfaSetupTypes(mfaSetupTypes);
        const isTotpMfaSetupAvailable = allowedMfaSetupTypes.includes("TOTP");
        const isEmailMfaSetupAvailable = allowedMfaSetupTypes.includes("EMAIL");
        if (isTotpMfaSetupAvailable && isEmailMfaSetupAvailable) {
          return {
            isSignedIn: false,
            nextStep: {
              signInStep: "CONTINUE_SIGN_IN_WITH_MFA_SETUP_SELECTION",
              allowedMFATypes: allowedMfaSetupTypes
            }
          };
        }
        if (isEmailMfaSetupAvailable) {
          return {
            isSignedIn: false,
            nextStep: {
              signInStep: "CONTINUE_SIGN_IN_WITH_EMAIL_SETUP"
            }
          };
        }
        if (isTotpMfaSetupAvailable) {
          const associateSoftwareToken = createAssociateSoftwareTokenClient({
            endpointResolver: createCognitoUserPoolEndpointResolver({
              endpointOverride: authConfig.userPoolEndpoint
            })
          });
          const {
            Session,
            SecretCode: secretCode
          } = yield associateSoftwareToken({
            region: getRegionFromUserPoolId(authConfig.userPoolId)
          }, {
            Session: signInSession
          });
          signInStore.dispatch({
            type: "SET_SIGN_IN_SESSION",
            value: Session
          });
          return {
            isSignedIn: false,
            nextStep: {
              signInStep: "CONTINUE_SIGN_IN_WITH_TOTP_SETUP",
              totpSetupDetails: getTOTPSetupDetails(secretCode, username)
            }
          };
        }
        throw new AuthError({
          name: AuthErrorCodes.SignInException,
          message: `Cannot initiate MFA setup from available types: ${mfaSetupTypes}`
        });
      }
      case "NEW_PASSWORD_REQUIRED":
        return {
          isSignedIn: false,
          nextStep: {
            signInStep: "CONFIRM_SIGN_IN_WITH_NEW_PASSWORD_REQUIRED",
            missingAttributes: parseAttributes(challengeParameters.requiredAttributes)
          }
        };
      case "SELECT_MFA_TYPE":
        return {
          isSignedIn: false,
          nextStep: {
            signInStep: "CONTINUE_SIGN_IN_WITH_MFA_SELECTION",
            allowedMFATypes: getMFATypes(parseMFATypes(challengeParameters.MFAS_CAN_CHOOSE))
          }
        };
      case "SMS_OTP":
      case "SMS_MFA":
        return {
          isSignedIn: false,
          nextStep: {
            signInStep: "CONFIRM_SIGN_IN_WITH_SMS_CODE",
            codeDeliveryDetails: {
              deliveryMedium: challengeParameters.CODE_DELIVERY_DELIVERY_MEDIUM,
              destination: challengeParameters.CODE_DELIVERY_DESTINATION
            }
          }
        };
      case "SOFTWARE_TOKEN_MFA":
        return {
          isSignedIn: false,
          nextStep: {
            signInStep: "CONFIRM_SIGN_IN_WITH_TOTP_CODE"
          }
        };
      case "EMAIL_OTP":
        return {
          isSignedIn: false,
          nextStep: {
            signInStep: "CONFIRM_SIGN_IN_WITH_EMAIL_CODE",
            codeDeliveryDetails: {
              deliveryMedium: challengeParameters.CODE_DELIVERY_DELIVERY_MEDIUM,
              destination: challengeParameters.CODE_DELIVERY_DESTINATION
            }
          }
        };
      case "WEB_AUTHN": {
        const result = yield handleWebAuthnSignInResult(challengeParameters);
        if (isWebAuthnResultAuthSignInOutput(result)) {
          return result;
        }
        return getSignInResult(result);
      }
      case "PASSWORD":
      case "PASSWORD_SRP":
        return {
          isSignedIn: false,
          nextStep: {
            signInStep: "CONFIRM_SIGN_IN_WITH_PASSWORD"
          }
        };
      case "SELECT_CHALLENGE":
        return {
          isSignedIn: false,
          nextStep: {
            signInStep: "CONTINUE_SIGN_IN_WITH_FIRST_FACTOR_SELECTION",
            availableChallenges
          }
        };
    }
    throw new AuthError({
      name: AuthErrorCodes.SignInException,
      message: `An error occurred during the sign in process. ${challengeName} challengeName returned by the underlying service was not addressed.`
    });
  });
}
function getTOTPSetupDetails(secretCode, username) {
  return {
    sharedSecret: secretCode,
    getSetupUri: (appName, accountName) => {
      const totpUri = `otpauth://totp/${appName}:${accountName != null ? accountName : username}?secret=${secretCode}&issuer=${appName}`;
      return new AmplifyUrl(totpUri);
    }
  };
}
function getSignInResultFromError(errorName) {
  if (errorName === InitiateAuthException.PasswordResetRequiredException) {
    return {
      isSignedIn: false,
      nextStep: {
        signInStep: "RESET_PASSWORD"
      }
    };
  } else if (errorName === InitiateAuthException.UserNotConfirmedException) {
    return {
      isSignedIn: false,
      nextStep: {
        signInStep: "CONFIRM_SIGN_UP"
      }
    };
  }
}
function parseAttributes(attributes) {
  if (!attributes) return [];
  const parsedAttributes = JSON.parse(attributes).map((att) => att.includes(USER_ATTRIBUTES) ? att.replace(USER_ATTRIBUTES, "") : att);
  return parsedAttributes;
}
function getMFAType(type) {
  if (type === "SMS_MFA") return "SMS";
  if (type === "SOFTWARE_TOKEN_MFA") return "TOTP";
  if (type === "EMAIL_OTP") return "EMAIL";
}
function getMFATypes(types) {
  if (!types) return void 0;
  return types.map(getMFAType).filter(Boolean);
}
function parseMFATypes(mfa) {
  if (!mfa) return [];
  return JSON.parse(mfa);
}
function getAllowedMfaSetupTypes(availableMfaSetupTypes) {
  return availableMfaSetupTypes.filter((authMfaType) => authMfaType === "EMAIL" || authMfaType === "TOTP");
}
function assertUserNotAuthenticated() {
  return __async(this, null, function* () {
    let authUser;
    try {
      authUser = yield getCurrentUser2();
    } catch (error) {
    }
    if (authUser && authUser.userId && authUser.username) {
      throw new AuthError({
        name: USER_ALREADY_AUTHENTICATED_EXCEPTION,
        message: "There is already a signed in user.",
        recoverySuggestion: "Call signOut before calling signIn again."
      });
    }
  });
}
function getActiveSignInUsername(username) {
  var _a;
  const state = signInStore.getState();
  return (_a = state.username) != null ? _a : username;
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/apis/signInWithCustomAuth.mjs
function signInWithCustomAuth(input) {
  return __async(this, null, function* () {
    var _a;
    const authConfig = (_a = Amplify.getConfig().Auth) == null ? void 0 : _a.Cognito;
    assertTokenProviderConfig(authConfig);
    const {
      username,
      password,
      options
    } = input;
    const signInDetails = {
      loginId: username,
      authFlowType: "CUSTOM_WITHOUT_SRP"
    };
    const metadata = options == null ? void 0 : options.clientMetadata;
    assertValidationError(!!username, AuthValidationErrorCode.EmptySignInUsername);
    assertValidationError(!password, AuthValidationErrorCode.CustomAuthSignInPassword);
    try {
      const {
        ChallengeName: retriedChallengeName,
        ChallengeParameters: retiredChallengeParameters,
        AuthenticationResult,
        Session
      } = yield retryOnResourceNotFoundException(handleCustomAuthFlowWithoutSRP, [username, metadata, authConfig, tokenOrchestrator], username, tokenOrchestrator);
      const activeUsername = getActiveSignInUsername(username);
      setActiveSignInState({
        signInSession: Session,
        username: activeUsername,
        challengeName: retriedChallengeName,
        signInDetails
      });
      if (AuthenticationResult) {
        yield cacheCognitoTokens(__spreadProps(__spreadValues({
          username: activeUsername
        }, AuthenticationResult), {
          NewDeviceMetadata: yield getNewDeviceMetadata({
            userPoolId: authConfig.userPoolId,
            userPoolEndpoint: authConfig.userPoolEndpoint,
            newDeviceMetadata: AuthenticationResult.NewDeviceMetadata,
            accessToken: AuthenticationResult.AccessToken
          }),
          signInDetails
        }));
        resetActiveSignInState();
        yield dispatchSignedInHubEvent();
        return {
          isSignedIn: true,
          nextStep: {
            signInStep: "DONE"
          }
        };
      }
      return getSignInResult({
        challengeName: retriedChallengeName,
        challengeParameters: retiredChallengeParameters
      });
    } catch (error) {
      resetActiveSignInState();
      assertServiceError(error);
      const result = getSignInResultFromError(error.name);
      if (result) return result;
      throw error;
    }
  });
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/apis/signInWithCustomSRPAuth.mjs
function signInWithCustomSRPAuth(input) {
  return __async(this, null, function* () {
    var _a;
    const {
      username,
      password,
      options
    } = input;
    const signInDetails = {
      loginId: username,
      authFlowType: "CUSTOM_WITH_SRP"
    };
    const authConfig = (_a = Amplify.getConfig().Auth) == null ? void 0 : _a.Cognito;
    assertTokenProviderConfig(authConfig);
    const metadata = options == null ? void 0 : options.clientMetadata;
    assertValidationError(!!username, AuthValidationErrorCode.EmptySignInUsername);
    assertValidationError(!!password, AuthValidationErrorCode.EmptySignInPassword);
    try {
      const {
        ChallengeName: handledChallengeName,
        ChallengeParameters: handledChallengeParameters,
        AuthenticationResult,
        Session
      } = yield handleCustomSRPAuthFlow(username, password, metadata, authConfig, tokenOrchestrator);
      const activeUsername = getActiveSignInUsername(username);
      setActiveSignInState({
        signInSession: Session,
        username: activeUsername,
        challengeName: handledChallengeName,
        signInDetails
      });
      if (AuthenticationResult) {
        yield cacheCognitoTokens(__spreadProps(__spreadValues({
          username: activeUsername
        }, AuthenticationResult), {
          NewDeviceMetadata: yield getNewDeviceMetadata({
            userPoolId: authConfig.userPoolId,
            userPoolEndpoint: authConfig.userPoolEndpoint,
            newDeviceMetadata: AuthenticationResult.NewDeviceMetadata,
            accessToken: AuthenticationResult.AccessToken
          }),
          signInDetails
        }));
        resetActiveSignInState();
        yield dispatchSignedInHubEvent();
        return {
          isSignedIn: true,
          nextStep: {
            signInStep: "DONE"
          }
        };
      }
      return getSignInResult({
        challengeName: handledChallengeName,
        challengeParameters: handledChallengeParameters
      });
    } catch (error) {
      resetActiveSignInState();
      assertServiceError(error);
      const result = getSignInResultFromError(error.name);
      if (result) return result;
      throw error;
    }
  });
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/apis/autoSignIn.mjs
var initialAutoSignIn = () => __async(null, null, function* () {
  throw new AuthError({
    name: AUTO_SIGN_IN_EXCEPTION,
    message: "The autoSignIn flow has not started, or has been cancelled/completed.",
    recoverySuggestion: "Please try to use the signIn API or log out before starting a new autoSignIn flow."
  });
});
var autoSignIn = initialAutoSignIn;
function setAutoSignIn(callback) {
  autoSignIn = callback;
}
function resetAutoSignIn(resetCallback = true) {
  if (resetCallback) {
    autoSignIn = initialAutoSignIn;
  }
  autoSignInStore.dispatch({
    type: "RESET"
  });
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/apis/signInWithSRP.mjs
function signInWithSRP(input) {
  return __async(this, null, function* () {
    var _a, _b;
    const {
      username,
      password
    } = input;
    const authConfig = (_a = Amplify.getConfig().Auth) == null ? void 0 : _a.Cognito;
    const signInDetails = {
      loginId: username,
      authFlowType: "USER_SRP_AUTH"
    };
    assertTokenProviderConfig(authConfig);
    const clientMetaData = (_b = input.options) == null ? void 0 : _b.clientMetadata;
    assertValidationError(!!username, AuthValidationErrorCode.EmptySignInUsername);
    assertValidationError(!!password, AuthValidationErrorCode.EmptySignInPassword);
    try {
      const {
        ChallengeName: handledChallengeName,
        ChallengeParameters: handledChallengeParameters,
        AuthenticationResult,
        Session
      } = yield handleUserSRPAuthFlow(username, password, clientMetaData, authConfig, tokenOrchestrator);
      const activeUsername = getActiveSignInUsername(username);
      setActiveSignInState({
        signInSession: Session,
        username: activeUsername,
        challengeName: handledChallengeName,
        signInDetails
      });
      if (AuthenticationResult) {
        yield cacheCognitoTokens(__spreadProps(__spreadValues({
          username: activeUsername
        }, AuthenticationResult), {
          NewDeviceMetadata: yield getNewDeviceMetadata({
            userPoolId: authConfig.userPoolId,
            userPoolEndpoint: authConfig.userPoolEndpoint,
            newDeviceMetadata: AuthenticationResult.NewDeviceMetadata,
            accessToken: AuthenticationResult.AccessToken
          }),
          signInDetails
        }));
        resetActiveSignInState();
        yield dispatchSignedInHubEvent();
        resetAutoSignIn();
        return {
          isSignedIn: true,
          nextStep: {
            signInStep: "DONE"
          }
        };
      }
      return getSignInResult({
        challengeName: handledChallengeName,
        challengeParameters: handledChallengeParameters
      });
    } catch (error) {
      resetActiveSignInState();
      resetAutoSignIn();
      assertServiceError(error);
      const result = getSignInResultFromError(error.name);
      if (result) return result;
      throw error;
    }
  });
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/apis/signInWithUserPassword.mjs
function signInWithUserPassword(input) {
  return __async(this, null, function* () {
    var _a;
    const {
      username,
      password,
      options
    } = input;
    const authConfig = (_a = Amplify.getConfig().Auth) == null ? void 0 : _a.Cognito;
    const signInDetails = {
      loginId: username,
      authFlowType: "USER_PASSWORD_AUTH"
    };
    assertTokenProviderConfig(authConfig);
    const metadata = options == null ? void 0 : options.clientMetadata;
    assertValidationError(!!username, AuthValidationErrorCode.EmptySignInUsername);
    assertValidationError(!!password, AuthValidationErrorCode.EmptySignInPassword);
    try {
      const {
        ChallengeName: retiredChallengeName,
        ChallengeParameters: retriedChallengeParameters,
        AuthenticationResult,
        Session
      } = yield retryOnResourceNotFoundException(handleUserPasswordAuthFlow, [username, password, metadata, authConfig, tokenOrchestrator], username, tokenOrchestrator);
      const activeUsername = getActiveSignInUsername(username);
      setActiveSignInState({
        signInSession: Session,
        username: activeUsername,
        challengeName: retiredChallengeName,
        signInDetails
      });
      if (AuthenticationResult) {
        yield cacheCognitoTokens(__spreadProps(__spreadValues({}, AuthenticationResult), {
          username: activeUsername,
          NewDeviceMetadata: yield getNewDeviceMetadata({
            userPoolId: authConfig.userPoolId,
            userPoolEndpoint: authConfig.userPoolEndpoint,
            newDeviceMetadata: AuthenticationResult.NewDeviceMetadata,
            accessToken: AuthenticationResult.AccessToken
          }),
          signInDetails
        }));
        resetActiveSignInState();
        yield dispatchSignedInHubEvent();
        resetAutoSignIn();
        return {
          isSignedIn: true,
          nextStep: {
            signInStep: "DONE"
          }
        };
      }
      return getSignInResult({
        challengeName: retiredChallengeName,
        challengeParameters: retriedChallengeParameters
      });
    } catch (error) {
      resetActiveSignInState();
      resetAutoSignIn();
      assertServiceError(error);
      const result = getSignInResultFromError(error.name);
      if (result) return result;
      throw error;
    }
  });
}

// node_modules/@aws-amplify/auth/dist/esm/client/flows/userAuth/handleUserAuthFlow.mjs
function handleUserAuthFlow(_0) {
  return __async(this, arguments, function* ({
    username,
    clientMetadata,
    config,
    tokenOrchestrator: tokenOrchestrator2,
    preferredChallenge,
    password,
    session
  }) {
    const {
      userPoolId,
      userPoolClientId,
      userPoolEndpoint
    } = config;
    const UserContextData = getUserContextData({
      username,
      userPoolId,
      userPoolClientId
    });
    const authParameters = {
      USERNAME: username
    };
    if (preferredChallenge) {
      if (preferredChallenge === "PASSWORD_SRP") {
        assertValidationError(!!password, AuthValidationErrorCode.EmptySignInPassword);
        return handlePasswordSRP({
          username,
          password,
          clientMetadata,
          config,
          tokenOrchestrator: tokenOrchestrator2,
          authFlow: "USER_AUTH",
          preferredChallenge
        });
      }
      if (preferredChallenge === "PASSWORD") {
        assertValidationError(!!password, AuthValidationErrorCode.EmptySignInPassword);
        authParameters.PASSWORD = password;
      }
      authParameters.PREFERRED_CHALLENGE = preferredChallenge;
    }
    const jsonReq = {
      AuthFlow: "USER_AUTH",
      AuthParameters: authParameters,
      ClientMetadata: clientMetadata,
      ClientId: userPoolClientId,
      UserContextData
    };
    if (session) {
      jsonReq.Session = session;
    }
    const initiateAuth = createInitiateAuthClient({
      endpointResolver: createCognitoUserPoolEndpointResolver({
        endpointOverride: userPoolEndpoint
      })
    });
    const response = yield initiateAuth({
      region: getRegionFromUserPoolId(userPoolId),
      userAgentValue: getAuthUserAgentValue(AuthAction.SignIn)
    }, jsonReq);
    setActiveSignInUsername(username);
    return response;
  });
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/apis/signInWithUserAuth.mjs
function signInWithUserAuth(input) {
  return __async(this, null, function* () {
    var _a;
    const {
      username,
      password,
      options
    } = input;
    const authConfig = (_a = Amplify.getConfig().Auth) == null ? void 0 : _a.Cognito;
    const signInDetails = {
      loginId: username,
      authFlowType: "USER_AUTH"
    };
    assertTokenProviderConfig(authConfig);
    const clientMetaData = options == null ? void 0 : options.clientMetadata;
    const preferredChallenge = options == null ? void 0 : options.preferredChallenge;
    assertValidationError(!!username, AuthValidationErrorCode.EmptySignInUsername);
    try {
      const handleUserAuthFlowInput = {
        username,
        config: authConfig,
        tokenOrchestrator,
        clientMetadata: clientMetaData,
        preferredChallenge,
        password
      };
      const autoSignInStoreState = autoSignInStore.getState();
      if (autoSignInStoreState.active && autoSignInStoreState.username === username) {
        handleUserAuthFlowInput.session = autoSignInStoreState.session;
      }
      const response = yield handleUserAuthFlow(handleUserAuthFlowInput);
      const activeUsername = getActiveSignInUsername(username);
      setActiveSignInState({
        signInSession: response.Session,
        username: activeUsername,
        challengeName: response.ChallengeName,
        signInDetails
      });
      if (response.AuthenticationResult) {
        yield cacheCognitoTokens(__spreadProps(__spreadValues({
          username: activeUsername
        }, response.AuthenticationResult), {
          NewDeviceMetadata: yield getNewDeviceMetadata({
            userPoolId: authConfig.userPoolId,
            userPoolEndpoint: authConfig.userPoolEndpoint,
            newDeviceMetadata: response.AuthenticationResult.NewDeviceMetadata,
            accessToken: response.AuthenticationResult.AccessToken
          }),
          signInDetails
        }));
        resetActiveSignInState();
        yield dispatchSignedInHubEvent();
        resetAutoSignIn();
        return {
          isSignedIn: true,
          nextStep: {
            signInStep: "DONE"
          }
        };
      }
      return getSignInResult({
        challengeName: response.ChallengeName,
        challengeParameters: response.ChallengeParameters,
        availableChallenges: "AvailableChallenges" in response ? response.AvailableChallenges : void 0
      });
    } catch (error) {
      resetActiveSignInState();
      resetAutoSignIn();
      assertServiceError(error);
      const result = getSignInResultFromError(error.name);
      if (result) return result;
      throw error;
    }
  });
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/apis/signIn.mjs
function signIn(input) {
  return __async(this, null, function* () {
    var _a;
    resetAutoSignIn(false);
    const authFlowType = (_a = input.options) == null ? void 0 : _a.authFlowType;
    yield assertUserNotAuthenticated();
    switch (authFlowType) {
      case "USER_SRP_AUTH":
        return signInWithSRP(input);
      case "USER_PASSWORD_AUTH":
        return signInWithUserPassword(input);
      case "CUSTOM_WITHOUT_SRP":
        return signInWithCustomAuth(input);
      case "CUSTOM_WITH_SRP":
        return signInWithCustomSRPAuth(input);
      case "USER_AUTH":
        return signInWithUserAuth(input);
      default:
        return signInWithSRP(input);
    }
  });
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/signUpHelpers.mjs
var MAX_AUTOSIGNIN_POLLING_MS = 3 * 60 * 1e3;
function handleCodeAutoSignIn(signInInput) {
  const stopHubListener = HubInternal.listen("auth-internal", (_0) => __async(null, [_0], function* ({
    payload
  }) {
    switch (payload.event) {
      case "confirmSignUp": {
        const response = payload.data;
        if (response == null ? void 0 : response.isSignUpComplete) {
          HubInternal.dispatch("auth-internal", {
            event: "autoSignIn"
          });
          setAutoSignIn(autoSignInWithCode(signInInput));
          stopHubListener();
        }
      }
    }
  }));
  const timeOutId = setTimeout(() => {
    stopHubListener();
    clearTimeout(timeOutId);
    resetAutoSignIn();
  }, MAX_AUTOSIGNIN_POLLING_MS);
}
function debounce(fun, delay) {
  let timer;
  return (args) => {
    if (!timer) {
      fun(...args);
    }
    clearTimeout(timer);
    timer = setTimeout(() => {
      timer = void 0;
    }, delay);
  };
}
function handleAutoSignInWithLink(signInInput, resolve, reject) {
  const start = Date.now();
  const autoSignInPollingIntervalId = setInterval(() => __async(null, null, function* () {
    const elapsedTime = Date.now() - start;
    const maxTime = MAX_AUTOSIGNIN_POLLING_MS;
    if (elapsedTime > maxTime) {
      clearInterval(autoSignInPollingIntervalId);
      reject(new AuthError({
        name: AUTO_SIGN_IN_EXCEPTION,
        message: "The account was not confirmed on time.",
        recoverySuggestion: "Try to verify your account by clicking the link sent your email or phone and then login manually."
      }));
      resetAutoSignIn();
    } else {
      try {
        const signInOutput = yield signIn(signInInput);
        if (signInOutput.nextStep.signInStep !== "CONFIRM_SIGN_UP") {
          resolve(signInOutput);
          clearInterval(autoSignInPollingIntervalId);
          resetAutoSignIn();
        }
      } catch (error) {
        clearInterval(autoSignInPollingIntervalId);
        reject(error);
        resetAutoSignIn();
      }
    }
  }), 5e3);
}
var debouncedAutoSignInWithLink = debounce(handleAutoSignInWithLink, 300);
var debouncedAutoSignWithCodeOrUserConfirmed = debounce(handleAutoSignInWithCodeOrUserConfirmed, 300);
function autoSignInWhenUserIsConfirmedWithLink(signInInput) {
  return () => __async(null, null, function* () {
    return new Promise((resolve, reject) => {
      debouncedAutoSignInWithLink([signInInput, resolve, reject]);
    });
  });
}
function handleAutoSignInWithCodeOrUserConfirmed(signInInput, resolve, reject) {
  return __async(this, null, function* () {
    var _a;
    try {
      const output = ((_a = signInInput == null ? void 0 : signInInput.options) == null ? void 0 : _a.authFlowType) === "USER_AUTH" ? yield signInWithUserAuth(signInInput) : yield signIn(signInInput);
      resolve(output);
      resetAutoSignIn();
    } catch (error) {
      reject(error);
      resetAutoSignIn();
    }
  });
}
function autoSignInWithCode(signInInput) {
  return () => __async(null, null, function* () {
    return new Promise((resolve, reject) => {
      debouncedAutoSignWithCodeOrUserConfirmed([signInInput, resolve, reject]);
    });
  });
}
var autoSignInUserConfirmed = autoSignInWithCode;

// node_modules/@aws-amplify/auth/dist/esm/foundation/factories/serviceClients/cognitoIdentityProvider/createSignUpClient.mjs
var createSignUpClientDeserializer = () => (response) => __async(null, null, function* () {
  if (response.statusCode >= 300) {
    const error = yield parseJsonError(response);
    assertServiceError(error);
    if (
      // Missing Password Error
      // 1 validation error detected: Value at 'password'failed to satisfy constraint: Member must not be null
      error.name === SignUpException.InvalidParameterException && /'password'/.test(error.message) && /Member must not be null/.test(error.message)
    ) {
      const name2 = AuthValidationErrorCode.EmptySignUpPassword;
      const {
        message,
        recoverySuggestion
      } = validationErrorMap[name2];
      throw new AuthError({
        name: name2,
        message,
        recoverySuggestion
      });
    }
    throw new AuthError({
      name: error.name,
      message: error.message
    });
  }
  return parseJsonBody(response);
});
var createSignUpClient = (config) => composeServiceApi(cognitoUserPoolTransferHandler, createUserPoolSerializer("SignUp"), createSignUpClientDeserializer(), __spreadValues(__spreadValues({}, DEFAULT_SERVICE_CLIENT_API_CONFIG2), config));

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/apis/signUp.mjs
function signUp(input) {
  return __async(this, null, function* () {
    var _a, _b, _c;
    const {
      username,
      password,
      options
    } = input;
    const authConfig = (_a = Amplify.getConfig().Auth) == null ? void 0 : _a.Cognito;
    const signUpVerificationMethod = (_b = authConfig == null ? void 0 : authConfig.signUpVerificationMethod) != null ? _b : "code";
    const {
      clientMetadata,
      validationData,
      autoSignIn: autoSignIn2
    } = (_c = input.options) != null ? _c : {};
    assertTokenProviderConfig(authConfig);
    assertValidationError(!!username, AuthValidationErrorCode.EmptySignUpUsername);
    const signInServiceOptions = typeof autoSignIn2 !== "boolean" ? autoSignIn2 : void 0;
    const signInInput = {
      username,
      options: signInServiceOptions
    };
    if ((signInServiceOptions == null ? void 0 : signInServiceOptions.authFlowType) !== "CUSTOM_WITHOUT_SRP") {
      signInInput.password = password;
    }
    const {
      userPoolId,
      userPoolClientId,
      userPoolEndpoint
    } = authConfig;
    const signUpClient = createSignUpClient({
      endpointResolver: createCognitoUserPoolEndpointResolver({
        endpointOverride: userPoolEndpoint
      })
    });
    const signUpClientInput = {
      Username: username,
      Password: void 0,
      UserAttributes: (options == null ? void 0 : options.userAttributes) && toAttributeType(options == null ? void 0 : options.userAttributes),
      ClientMetadata: clientMetadata,
      ValidationData: validationData && toAttributeType(validationData),
      ClientId: userPoolClientId,
      UserContextData: getUserContextData({
        username,
        userPoolId,
        userPoolClientId
      })
    };
    if (password) {
      signUpClientInput.Password = password;
    }
    const {
      UserSub: userId,
      CodeDeliveryDetails: cdd,
      UserConfirmed: userConfirmed,
      Session: session
    } = yield signUpClient({
      region: getRegionFromUserPoolId(userPoolId),
      userAgentValue: getAuthUserAgentValue(AuthAction.SignUp)
    }, signUpClientInput);
    if (signInServiceOptions || autoSignIn2 === true) {
      autoSignInStore.dispatch({
        type: "START"
      });
      autoSignInStore.dispatch({
        type: "SET_USERNAME",
        value: username
      });
      autoSignInStore.dispatch({
        type: "SET_SESSION",
        value: session
      });
    }
    const codeDeliveryDetails = {
      destination: cdd == null ? void 0 : cdd.Destination,
      deliveryMedium: cdd == null ? void 0 : cdd.DeliveryMedium,
      attributeName: cdd == null ? void 0 : cdd.AttributeName
    };
    const isSignUpComplete = !!userConfirmed;
    const isAutoSignInStarted = autoSignInStore.getState().active;
    if (isSignUpComplete) {
      if (isAutoSignInStarted) {
        setAutoSignIn(autoSignInUserConfirmed(signInInput));
        return {
          isSignUpComplete: true,
          nextStep: {
            signUpStep: "COMPLETE_AUTO_SIGN_IN"
          },
          userId
        };
      }
      return {
        isSignUpComplete: true,
        nextStep: {
          signUpStep: "DONE"
        },
        userId
      };
    }
    if (isAutoSignInStarted) {
      if (signUpVerificationMethod === "link") {
        setAutoSignIn(autoSignInWhenUserIsConfirmedWithLink(signInInput));
        return {
          isSignUpComplete: false,
          nextStep: {
            signUpStep: "COMPLETE_AUTO_SIGN_IN",
            codeDeliveryDetails
          },
          userId
        };
      }
      handleCodeAutoSignIn(signInInput);
    }
    return {
      isSignUpComplete: false,
      nextStep: {
        signUpStep: "CONFIRM_SIGN_UP",
        codeDeliveryDetails
      },
      userId
    };
  });
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/oauth/createOAuthError.mjs
var createOAuthError = (message, recoverySuggestion) => new AuthError({
  message: message != null ? message : "An error has occurred during the oauth process.",
  name: AuthErrorCodes.OAuthSignInError,
  recoverySuggestion: recoverySuggestion != null ? recoverySuggestion : authErrorMessages.oauthSignInError.log
});

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/oauth/validateState.mjs
var flowCancelledMessage = "`signInWithRedirect` has been canceled.";
var validationFailedMessage = "An error occurred while validating the state.";
var validationRecoverySuggestion = "Try to initiate an OAuth flow from Amplify";
var validateState = (state) => __async(null, null, function* () {
  const savedState = yield oAuthStore.loadOAuthState();
  const validatedState = state === savedState ? savedState : void 0;
  if (!validatedState) {
    throw new AuthError({
      name: AuthErrorTypes.OAuthSignInError,
      message: state === null ? flowCancelledMessage : validationFailedMessage,
      recoverySuggestion: state === null ? void 0 : validationRecoverySuggestion
    });
  }
  return validatedState;
});

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/oauth/completeOAuthFlow.mjs
var completeOAuthFlow = (_0) => __async(null, [_0], function* ({
  currentUrl,
  userAgentValue,
  clientId,
  redirectUri,
  responseType,
  domain,
  preferPrivateSession
}) {
  const urlParams = new AmplifyUrl(currentUrl);
  const error = urlParams.searchParams.get("error");
  const errorMessage = urlParams.searchParams.get("error_description");
  if (error) {
    throw createOAuthError(errorMessage != null ? errorMessage : error);
  }
  if (responseType === "code") {
    return handleCodeFlow({
      currentUrl,
      userAgentValue,
      clientId,
      redirectUri,
      domain,
      preferPrivateSession
    });
  }
  return handleImplicitFlow({
    currentUrl,
    redirectUri,
    preferPrivateSession
  });
});
var handleCodeFlow = (_0) => __async(null, [_0], function* ({
  currentUrl,
  userAgentValue,
  clientId,
  redirectUri,
  domain,
  preferPrivateSession
}) {
  var _a;
  const url = new AmplifyUrl(currentUrl);
  const code = url.searchParams.get("code");
  const state = url.searchParams.get("state");
  if (!code || !state) {
    throw createOAuthError("User cancelled OAuth flow.");
  }
  const validatedState = yield validateState(state);
  const oAuthTokenEndpoint = "https://" + domain + "/oauth2/token";
  const codeVerifier = yield oAuthStore.loadPKCE();
  const oAuthTokenBody = __spreadValues({
    grant_type: "authorization_code",
    code,
    client_id: clientId,
    redirect_uri: redirectUri
  }, codeVerifier ? {
    code_verifier: codeVerifier
  } : {});
  const body = Object.entries(oAuthTokenBody).map(([k, v]) => `${encodeURIComponent(k)}=${encodeURIComponent(v)}`).join("&");
  const {
    access_token,
    refresh_token: refreshToken,
    id_token,
    error,
    error_message: errorMessage,
    token_type,
    expires_in
  } = yield (yield fetch(oAuthTokenEndpoint, {
    method: "POST",
    headers: {
      "Content-Type": "application/x-www-form-urlencoded",
      [USER_AGENT_HEADER]: userAgentValue
    },
    body
  })).json();
  if (error) {
    throw createOAuthError(errorMessage != null ? errorMessage : error);
  }
  const username = (_a = access_token && decodeJWT(access_token).payload.username) != null ? _a : "username";
  yield cacheCognitoTokens({
    username,
    AccessToken: access_token,
    IdToken: id_token,
    RefreshToken: refreshToken
  });
  return completeFlow({
    redirectUri,
    state: validatedState,
    preferPrivateSession
  });
});
var handleImplicitFlow = (_0) => __async(null, [_0], function* ({
  currentUrl,
  redirectUri,
  preferPrivateSession
}) {
  var _a, _b;
  const url = new AmplifyUrl(currentUrl);
  const {
    id_token,
    access_token,
    state,
    token_type,
    expires_in,
    error_description,
    error
  } = ((_a = url.hash) != null ? _a : "#").substring(1).split("&").map((pairings) => pairings.split("=")).reduce((accum, [k, v]) => __spreadProps(__spreadValues({}, accum), {
    [k]: v
  }), {
    id_token: void 0,
    access_token: void 0,
    state: void 0,
    token_type: void 0,
    expires_in: void 0,
    error_description: void 0,
    error: void 0
  });
  if (error) {
    throw createOAuthError(error_description != null ? error_description : error);
  }
  if (!access_token) {
    throw createOAuthError("No access token returned from OAuth flow.");
  }
  const validatedState = yield validateState(state);
  const username = (_b = access_token && decodeJWT(access_token).payload.username) != null ? _b : "username";
  yield cacheCognitoTokens({
    username,
    AccessToken: access_token,
    IdToken: id_token
  });
  return completeFlow({
    redirectUri,
    state: validatedState,
    preferPrivateSession
  });
});
var completeFlow = (_0) => __async(null, [_0], function* ({
  redirectUri,
  state,
  preferPrivateSession
}) {
  yield tokenOrchestrator.setOAuthMetadata({
    oauthSignIn: true
  });
  yield oAuthStore.clearOAuthData();
  yield oAuthStore.storeOAuthSignIn(true, preferPrivateSession);
  resolveAndClearInflightPromises();
  clearHistory(redirectUri);
  if (isCustomState(state)) {
    Hub.dispatch("auth", {
      event: "customOAuthState",
      data: urlSafeDecode(getCustomState(state))
    }, "Auth", AMPLIFY_SYMBOL);
  }
  Hub.dispatch("auth", {
    event: "signInWithRedirect"
  }, "Auth", AMPLIFY_SYMBOL);
  yield dispatchSignedInHubEvent();
});
var isCustomState = (state) => {
  return /-/.test(state);
};
var getCustomState = (state) => {
  return state.split("-").splice(1).join("-");
};
var clearHistory = (redirectUri) => {
  if (typeof window !== "undefined" && typeof window.history !== "undefined") {
    window.history.replaceState(window.history.state, "", redirectUri);
  }
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/oauth/handleFailure.mjs
var handleFailure = (error) => __async(null, null, function* () {
  resolveAndClearInflightPromises();
  yield oAuthStore.clearOAuthInflightData();
  Hub.dispatch("auth", {
    event: "signInWithRedirect_failure",
    data: {
      error
    }
  }, "Auth", AMPLIFY_SYMBOL);
});

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/oauth/attemptCompleteOAuthFlow.mjs
var attemptCompleteOAuthFlow = (authConfig) => __async(null, null, function* () {
  try {
    assertTokenProviderConfig(authConfig);
    assertOAuthConfig(authConfig);
    oAuthStore.setAuthConfig(authConfig);
  } catch (_) {
    return;
  }
  if (!(yield oAuthStore.loadOAuthInFlight())) {
    return;
  }
  try {
    const currentUrl = window.location.href;
    const {
      loginWith,
      userPoolClientId
    } = authConfig;
    const {
      domain,
      redirectSignIn,
      responseType
    } = loginWith.oauth;
    const redirectUri = getRedirectUrl2(redirectSignIn);
    yield completeOAuthFlow({
      currentUrl,
      clientId: userPoolClientId,
      domain,
      redirectUri,
      responseType,
      userAgentValue: getAuthUserAgentValue(AuthAction.SignInWithRedirect)
    });
  } catch (err) {
    yield handleFailure(err);
  }
});

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/utils/oauth/enableOAuthListener.mjs
isBrowser() && (() => {
  Amplify[ADD_OAUTH_LISTENER](attemptCompleteOAuthFlow);
})();

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/credentialsProvider/types.mjs
var IdentityIdStorageKeys = {
  identityId: "identityId"
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/credentialsProvider/IdentityIdStore.mjs
var logger11 = new ConsoleLogger("DefaultIdentityIdStore");
var DefaultIdentityIdStore = class {
  setAuthConfig(authConfigParam) {
    assertIdentityPoolIdConfig(authConfigParam.Cognito);
    this.authConfig = authConfigParam;
    this._authKeys = createKeysForAuthStorage3("Cognito", authConfigParam.Cognito.identityPoolId);
  }
  constructor(keyValueStorage) {
    this._authKeys = {};
    this._hasGuestIdentityId = false;
    this.keyValueStorage = keyValueStorage;
  }
  loadIdentityId() {
    return __async(this, null, function* () {
      var _a;
      assertIdentityPoolIdConfig((_a = this.authConfig) == null ? void 0 : _a.Cognito);
      try {
        if (this._primaryIdentityId) {
          return {
            id: this._primaryIdentityId,
            type: "primary"
          };
        } else {
          const storedIdentityId = yield this.keyValueStorage.getItem(this._authKeys.identityId);
          if (storedIdentityId) {
            this._hasGuestIdentityId = true;
            return {
              id: storedIdentityId,
              type: "guest"
            };
          }
          return null;
        }
      } catch (err) {
        logger11.log("Error getting stored IdentityId.", err);
        return null;
      }
    });
  }
  storeIdentityId(identity) {
    return __async(this, null, function* () {
      var _a;
      assertIdentityPoolIdConfig((_a = this.authConfig) == null ? void 0 : _a.Cognito);
      if (identity.type === "guest") {
        this.keyValueStorage.setItem(this._authKeys.identityId, identity.id);
        this._primaryIdentityId = void 0;
        this._hasGuestIdentityId = true;
      } else {
        this._primaryIdentityId = identity.id;
        if (this._hasGuestIdentityId) {
          this.keyValueStorage.removeItem(this._authKeys.identityId);
          this._hasGuestIdentityId = false;
        }
      }
    });
  }
  clearIdentityId() {
    return __async(this, null, function* () {
      this._primaryIdentityId = void 0;
      yield this.keyValueStorage.removeItem(this._authKeys.identityId);
    });
  }
};
var createKeysForAuthStorage3 = (provider, identifier) => {
  return getAuthStorageKeys(IdentityIdStorageKeys)(`com.amplify.${provider}`, identifier);
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/factories/createCognitoIdentityPoolEndpointResolver.mjs
var createCognitoIdentityPoolEndpointResolver = ({
  endpointOverride
}) => (input) => {
  if (endpointOverride) {
    return {
      url: new AmplifyUrl(endpointOverride)
    };
  }
  return cognitoIdentityPoolEndpointResolver(input);
};

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/credentialsProvider/utils.mjs
function formLoginsMap(idToken) {
  const issuer = decodeJWT(idToken).payload.iss;
  const res = {};
  if (!issuer) {
    throw new AuthError({
      name: "InvalidIdTokenException",
      message: "Invalid Idtoken."
    });
  }
  const domainName = issuer.replace(/(^\w+:|^)\/\//, "");
  res[domainName] = idToken;
  return res;
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/credentialsProvider/IdentityIdProvider.mjs
function cognitoIdentityIdProvider(_0) {
  return __async(this, arguments, function* ({
    tokens,
    authConfig,
    identityIdStore
  }) {
    identityIdStore.setAuthConfig({
      Cognito: authConfig
    });
    const identityId = yield identityIdStore.loadIdentityId();
    if (identityId) {
      return identityId.id;
    }
    const logins = (tokens == null ? void 0 : tokens.idToken) ? formLoginsMap(tokens.idToken.toString()) : {};
    const generatedIdentityId = yield generateIdentityId(logins, authConfig);
    identityIdStore.storeIdentityId({
      id: generatedIdentityId,
      type: tokens ? "primary" : "guest"
    });
    return generatedIdentityId;
  });
}
function generateIdentityId(logins, authConfig) {
  return __async(this, null, function* () {
    const identityPoolId = authConfig == null ? void 0 : authConfig.identityPoolId;
    const region = getRegionFromIdentityPoolId(identityPoolId);
    const getId = createGetIdClient({
      endpointResolver: createCognitoIdentityPoolEndpointResolver({
        endpointOverride: authConfig.identityPoolEndpoint
      })
    });
    let idResult;
    try {
      idResult = (yield getId({
        region
      }, {
        IdentityPoolId: identityPoolId,
        Logins: logins
      })).IdentityId;
    } catch (e) {
      assertServiceError(e);
      throw new AuthError(e);
    }
    if (!idResult) {
      throw new AuthError({
        name: "GetIdResponseException",
        message: "Received undefined response from getId operation",
        recoverySuggestion: "Make sure to pass a valid identityPoolId in the configuration."
      });
    }
    return idResult;
  });
}

// node_modules/@aws-amplify/auth/dist/esm/providers/cognito/credentialsProvider/credentialsProvider.mjs
var logger12 = new ConsoleLogger("CognitoCredentialsProvider");
var CREDENTIALS_TTL = 50 * 60 * 1e3;
var CognitoAWSCredentialsAndIdentityIdProvider = class {
  constructor(identityIdStore) {
    this._nextCredentialsRefresh = 0;
    this._identityIdStore = identityIdStore;
  }
  clearCredentialsAndIdentityId() {
    return __async(this, null, function* () {
      logger12.debug("Clearing out credentials and identityId");
      this._credentialsAndIdentityId = void 0;
      yield this._identityIdStore.clearIdentityId();
    });
  }
  clearCredentials() {
    return __async(this, null, function* () {
      logger12.debug("Clearing out in-memory credentials");
      this._credentialsAndIdentityId = void 0;
    });
  }
  getCredentialsAndIdentityId(getCredentialsOptions) {
    return __async(this, null, function* () {
      const isAuthenticated2 = getCredentialsOptions.authenticated;
      const {
        tokens
      } = getCredentialsOptions;
      const {
        authConfig
      } = getCredentialsOptions;
      try {
        assertIdentityPoolIdConfig(authConfig == null ? void 0 : authConfig.Cognito);
      } catch {
        return;
      }
      if (!isAuthenticated2 && !authConfig.Cognito.allowGuestAccess) {
        return;
      }
      const {
        forceRefresh
      } = getCredentialsOptions;
      const tokenHasChanged = this.hasTokenChanged(tokens);
      const identityId = yield cognitoIdentityIdProvider({
        tokens,
        authConfig: authConfig.Cognito,
        identityIdStore: this._identityIdStore
      });
      if (forceRefresh || tokenHasChanged) {
        this.clearCredentials();
      }
      if (!isAuthenticated2) {
        return this.getGuestCredentials(identityId, authConfig.Cognito);
      } else {
        assertIdTokenInAuthTokens(tokens);
        return this.credsForOIDCTokens(authConfig.Cognito, tokens, identityId);
      }
    });
  }
  getGuestCredentials(identityId, authConfig) {
    return __async(this, null, function* () {
      var _a, _b;
      if (this._credentialsAndIdentityId && !this.isPastTTL() && this._credentialsAndIdentityId.isAuthenticatedCreds === false) {
        logger12.info("returning stored credentials as they neither past TTL nor expired.");
        return this._credentialsAndIdentityId;
      }
      this.clearCredentials();
      const region = getRegionFromIdentityPoolId(authConfig.identityPoolId);
      const getCredentialsForIdentity = createGetCredentialsForIdentityClient({
        endpointResolver: createCognitoIdentityPoolEndpointResolver({
          endpointOverride: authConfig.identityPoolEndpoint
        })
      });
      let clientResult;
      try {
        clientResult = yield getCredentialsForIdentity({
          region
        }, {
          IdentityId: identityId
        });
      } catch (e) {
        assertServiceError(e);
        throw new AuthError(e);
      }
      if (((_a = clientResult == null ? void 0 : clientResult.Credentials) == null ? void 0 : _a.AccessKeyId) && ((_b = clientResult == null ? void 0 : clientResult.Credentials) == null ? void 0 : _b.SecretKey)) {
        this._nextCredentialsRefresh = (/* @__PURE__ */ new Date()).getTime() + CREDENTIALS_TTL;
        const res = {
          credentials: {
            accessKeyId: clientResult.Credentials.AccessKeyId,
            secretAccessKey: clientResult.Credentials.SecretKey,
            sessionToken: clientResult.Credentials.SessionToken,
            expiration: clientResult.Credentials.Expiration
          },
          identityId
        };
        if (clientResult.IdentityId) {
          res.identityId = clientResult.IdentityId;
          this._identityIdStore.storeIdentityId({
            id: clientResult.IdentityId,
            type: "guest"
          });
        }
        this._credentialsAndIdentityId = __spreadProps(__spreadValues({}, res), {
          isAuthenticatedCreds: false
        });
        return res;
      } else {
        throw new AuthError({
          name: "CredentialsNotFoundException",
          message: `Cognito did not respond with either Credentials, AccessKeyId or SecretKey.`
        });
      }
    });
  }
  credsForOIDCTokens(authConfig, authTokens, identityId) {
    return __async(this, null, function* () {
      var _a, _b, _c;
      if (this._credentialsAndIdentityId && !this.isPastTTL() && this._credentialsAndIdentityId.isAuthenticatedCreds === true) {
        logger12.debug("returning stored credentials as they neither past TTL nor expired.");
        return this._credentialsAndIdentityId;
      }
      this.clearCredentials();
      const logins = authTokens.idToken ? formLoginsMap(authTokens.idToken.toString()) : {};
      const region = getRegionFromIdentityPoolId(authConfig.identityPoolId);
      const getCredentialsForIdentity = createGetCredentialsForIdentityClient({
        endpointResolver: createCognitoIdentityPoolEndpointResolver({
          endpointOverride: authConfig.identityPoolEndpoint
        })
      });
      let clientResult;
      try {
        clientResult = yield getCredentialsForIdentity({
          region
        }, {
          IdentityId: identityId,
          Logins: logins
        });
      } catch (e) {
        assertServiceError(e);
        throw new AuthError(e);
      }
      if (((_a = clientResult == null ? void 0 : clientResult.Credentials) == null ? void 0 : _a.AccessKeyId) && ((_b = clientResult == null ? void 0 : clientResult.Credentials) == null ? void 0 : _b.SecretKey)) {
        this._nextCredentialsRefresh = (/* @__PURE__ */ new Date()).getTime() + CREDENTIALS_TTL;
        const res = {
          credentials: {
            accessKeyId: clientResult.Credentials.AccessKeyId,
            secretAccessKey: clientResult.Credentials.SecretKey,
            sessionToken: clientResult.Credentials.SessionToken,
            expiration: clientResult.Credentials.Expiration
          },
          identityId
        };
        if (clientResult.IdentityId) {
          res.identityId = clientResult.IdentityId;
          this._identityIdStore.storeIdentityId({
            id: clientResult.IdentityId,
            type: "primary"
          });
        }
        this._credentialsAndIdentityId = __spreadProps(__spreadValues({}, res), {
          isAuthenticatedCreds: true,
          associatedIdToken: (_c = authTokens.idToken) == null ? void 0 : _c.toString()
        });
        return res;
      } else {
        throw new AuthError({
          name: "CredentialsException",
          message: `Cognito did not respond with either Credentials, AccessKeyId or SecretKey.`
        });
      }
    });
  }
  isPastTTL() {
    return this._nextCredentialsRefresh === void 0 ? true : this._nextCredentialsRefresh <= Date.now();
  }
  hasTokenChanged(tokens) {
    var _a, _b;
    return !!tokens && !!((_a = this._credentialsAndIdentityId) == null ? void 0 : _a.associatedIdToken) && ((_b = tokens.idToken) == null ? void 0 : _b.toString()) !== this._credentialsAndIdentityId.associatedIdToken;
  }
};

export {
  parseAmplifyConfig,
  Amplify,
  fetchAuthSession2 as fetchAuthSession,
  CookieStorage,
  defaultStorage,
  cognitoUserPoolsTokenProvider,
  signIn,
  signUp,
  resetPassword,
  confirmResetPassword,
  updatePassword,
  confirmUserAttribute,
  fetchUserAttributes2 as fetchUserAttributes,
  signOut,
  sendUserAttributeVerificationCode,
  deleteUser,
  DefaultIdentityIdStore,
  CognitoAWSCredentialsAndIdentityIdProvider
};
/*! Bundled license information:

js-cookie/dist/js.cookie.mjs:
  (*! js-cookie v3.0.5 | MIT *)
*/
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9jb25zdGFudHMubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL0xvZ2dlci90eXBlcy5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vTG9nZ2VyL0NvbnNvbGVMb2dnZXIubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL2Vycm9ycy9BbXBsaWZ5RXJyb3IubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL3R5cGVzL2Vycm9ycy5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vZXJyb3JzL2NyZWF0ZUFzc2VydGlvbkZ1bmN0aW9uLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9IdWIvaW5kZXgubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL3V0aWxzL2dsb2JhbEhlbHBlcnMvaW5kZXgubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL3V0aWxzL2NvbnZlcnQvYmFzZTY0L2Jhc2U2NERlY29kZXIubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL3NpbmdsZXRvbi9BdXRoL3V0aWxzL2Vycm9ySGVscGVycy5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vc2luZ2xldG9uL0F1dGgvdXRpbHMvaW5kZXgubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL3V0aWxzL2RlZXBGcmVlemUubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL3BhcnNlQVdTRXhwb3J0cy5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vc2luZ2xldG9uL2NvbnN0YW50cy5tanMiLCJub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3N0cmluZ2lmeS5qcyIsIm5vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcm5nLmpzIiwibm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9uYXRpdmUuanMiLCJub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y0LmpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL3BhcnNlQW1wbGlmeU91dHB1dHMubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL3V0aWxzL3BhcnNlQW1wbGlmeUNvbmZpZy5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvbm9kZV9tb2R1bGVzL0Bhd3MtY3J5cHRvL3NoYTI1Ni1qcy9idWlsZC9tb2R1bGUvY29uc3RhbnRzLmpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL25vZGVfbW9kdWxlcy9AYXdzLWNyeXB0by9zaGEyNTYtanMvYnVpbGQvbW9kdWxlL1Jhd1NoYTI1Ni5qcyIsIm5vZGVfbW9kdWxlcy9Ac21pdGh5L3V0aWwtdXRmOC9kaXN0LWVzL2Zyb21VdGY4LmJyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvbm9kZV9tb2R1bGVzL0Bhd3MtY3J5cHRvL3V0aWwvYnVpbGQvbW9kdWxlL2NvbnZlcnRUb0J1ZmZlci5qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9ub2RlX21vZHVsZXMvQGF3cy1jcnlwdG8vdXRpbC9idWlsZC9tb2R1bGUvaXNFbXB0eURhdGEuanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvbm9kZV9tb2R1bGVzL0Bhd3MtY3J5cHRvL3NoYTI1Ni1qcy9idWlsZC9tb2R1bGUvanNTaGEyNTYuanMiLCJub2RlX21vZHVsZXMvQHNtaXRoeS91dGlsLWhleC1lbmNvZGluZy9kaXN0LWVzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL1BsYXRmb3JtL3R5cGVzLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9QbGF0Zm9ybS92ZXJzaW9uLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9QbGF0Zm9ybS9kZXRlY3Rpb24vaGVscGVycy5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vUGxhdGZvcm0vZGV0ZWN0aW9uL1JlYWN0Lm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9QbGF0Zm9ybS9kZXRlY3Rpb24vVnVlLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9QbGF0Zm9ybS9kZXRlY3Rpb24vU3ZlbHRlLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9QbGF0Zm9ybS9kZXRlY3Rpb24vTmV4dC5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vUGxhdGZvcm0vZGV0ZWN0aW9uL051eHQubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL1BsYXRmb3JtL2RldGVjdGlvbi9Bbmd1bGFyLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9QbGF0Zm9ybS9kZXRlY3Rpb24vUmVhY3ROYXRpdmUubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL1BsYXRmb3JtL2RldGVjdGlvbi9FeHBvLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9QbGF0Zm9ybS9kZXRlY3Rpb24vV2ViLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9QbGF0Zm9ybS9kZXRlY3Rpb24vaW5kZXgubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL1BsYXRmb3JtL2RldGVjdEZyYW1ld29yay5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vUGxhdGZvcm0vY3VzdG9tVXNlckFnZW50Lm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9QbGF0Zm9ybS9pbmRleC5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vdXRpbHMvaXNCcm93c2VyLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9zaW5nbGV0b24vQXV0aC9pbmRleC5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vc2luZ2xldG9uL0FtcGxpZnkubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL3NpbmdsZXRvbi9hcGlzL2ludGVybmFsL2ZldGNoQXV0aFNlc3Npb24ubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL3NpbmdsZXRvbi9hcGlzL2ZldGNoQXV0aFNlc3Npb24ubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL3NpbmdsZXRvbi9hcGlzL2NsZWFyQ3JlZGVudGlhbHMubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL2NsaWVudHMvc2VyZGUvcmVzcG9uc2VJbmZvLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9jbGllbnRzL3NlcmRlL2pzb24ubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL2NsaWVudHMvaW50ZXJuYWwvY29tcG9zZVNlcnZpY2VBcGkubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL3V0aWxzL3JldHJ5L2NvbnN0YW50cy5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vdXRpbHMvcmV0cnkvaml0dGVyZWRCYWNrb2ZmLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9jbGllbnRzL21pZGRsZXdhcmUvcmV0cnkvY29uc3RhbnRzLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9jbGllbnRzL21pZGRsZXdhcmUvcmV0cnkvaml0dGVyZWRCYWNrb2ZmLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9jbGllbnRzL21pZGRsZXdhcmUvcmV0cnkvaXNDbG9ja1NrZXdFcnJvci5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vY2xpZW50cy9taWRkbGV3YXJlL3JldHJ5L2RlZmF1bHRSZXRyeURlY2lkZXIubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eS9jb25zdGFudHMubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL2NsaWVudHMvbWlkZGxld2FyZS9yZXRyeS9yZXRyeU1pZGRsZXdhcmUubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL3V0aWxzL2FtcGxpZnlVdWlkL2luZGV4Lm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9jbGllbnRzL21pZGRsZXdhcmUvcmV0cnkvYW16U2RrSW52b2NhdGlvbklkSGVhZGVyTWlkZGxld2FyZS5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vY2xpZW50cy9taWRkbGV3YXJlL3JldHJ5L2FtelNka1JlcXVlc3RIZWFkZXJNaWRkbGV3YXJlLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9jbGllbnRzL21pZGRsZXdhcmUvdXNlckFnZW50L21pZGRsZXdhcmUubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL2NsaWVudHMvaW50ZXJuYWwvY29tcG9zZVRyYW5zZmVySGFuZGxlci5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vY2xpZW50cy91dGlscy9tZW1vaXphdGlvbi5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vY2xpZW50cy9oYW5kbGVycy9mZXRjaC5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vY2xpZW50cy9oYW5kbGVycy9hd3MvdW5hdXRoZW50aWNhdGVkLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9taWRkbGV3YXJlL2NyZWF0ZURpc2FibGVDYWNoZU1pZGRsZXdhcmUubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eS9oYW5kbGVyL2NvZ25pdG9JZGVudGl0eVRyYW5zZmVySGFuZGxlci5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5L3NlcmRlL2NyZWF0ZUNsaWVudFNlcmlhbGl6ZXIubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eS9jcmVhdGVHZXRDcmVkZW50aWFsc0ZvcklkZW50aXR5Q2xpZW50Lm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHkvY3JlYXRlR2V0SWRDbGllbnQubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL2NsaWVudHMvZW5kcG9pbnRzL3BhcnRpdGlvbnMubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL2NsaWVudHMvZW5kcG9pbnRzL2dldERuc1N1ZmZpeC5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vdXRpbHMvYW1wbGlmeVVybC9pbmRleC5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5L2NvZ25pdG9JZGVudGl0eVBvb2xFbmRwb2ludFJlc29sdmVyLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9lcnJvcnMvUGxhdGZvcm1Ob3RTdXBwb3J0ZWRFcnJvci5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vc3RvcmFnZS9LZXlWYWx1ZVN0b3JhZ2UubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL3N0b3JhZ2UvSW5NZW1vcnlTdG9yYWdlLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9zdG9yYWdlL3V0aWxzLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9zdG9yYWdlL0RlZmF1bHRTdG9yYWdlLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9zdG9yYWdlL1Nlc3Npb25TdG9yYWdlLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9zdG9yYWdlL1N5bmNLZXlWYWx1ZVN0b3JhZ2UubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL3N0b3JhZ2UvU3luY1Nlc3Npb25TdG9yYWdlLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9ub2RlX21vZHVsZXMvanMtY29va2llL2Rpc3QvanMuY29va2llLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9zdG9yYWdlL0Nvb2tpZVN0b3JhZ2UubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL3N0b3JhZ2UvaW5kZXgubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL0NhY2hlL2NvbnN0YW50cy5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vQ2FjaGUvdXRpbHMvY2FjaGVIZWxwZXJzLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9DYWNoZS91dGlscy9lcnJvckhlbHBlcnMubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL0NhY2hlL1N0b3JhZ2VDYWNoZUNvbW1vbi5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vQ2FjaGUvU3RvcmFnZUNhY2hlLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9DYWNoZS9pbmRleC5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vSTE4bi9JMThuLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS9JMThuL2Vycm9ySGVscGVycy5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vSTE4bi9pbmRleC5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vdXRpbHMvdXJsU2FmZURlY29kZS5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vdXRpbHMvZGVEdXBlQXN5bmNGdW5jdGlvbi5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vdXRpbHMvaXNUb2tlbkV4cGlyZWQubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9jb3JlL2Rpc3QvZXNtL3V0aWxzL2RldmljZU5hbWUvZ2V0RGV2aWNlTmFtZS5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vdXRpbHMvY29udmVydC9iYXNlNjQvYnl0ZXNUb1N0cmluZy5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vdXRpbHMvY29udmVydC9iYXNlNjQvYmFzZTY0RW5jb2Rlci5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2NvcmUvZGlzdC9lc20vdXRpbHMvY3J5cHRvU2VjdXJlUmFuZG9tSW50Lm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvY29yZS9kaXN0L2VzbS91dGlscy9Xb3JkQXJyYXkubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL2Vycm9ycy90eXBlcy92YWxpZGF0aW9uLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9jb21tb24vQXV0aEVycm9yU3RyaW5ncy5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vZXJyb3JzL0F1dGhFcnJvci5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vZXJyb3JzL3V0aWxzL2Fzc2VydFZhbGlkYXRpb25FcnJvci5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vZm91bmRhdGlvbi9wYXJzZXJzL3JlZ2lvblBhcnNlcnMubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3V0aWxzL2dldEF1dGhVc2VyQWdlbnRWYWx1ZS5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vdXRpbHMvdXNlckNvbnRleHREYXRhLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9zaGFyZWQvaGFuZGxlci9jb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL2ZvdW5kYXRpb24vY29uc3RhbnRzLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9jb25zdGFudHMubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3Byb3ZpZGVycy9jb2duaXRvL3R5cGVzL2Vycm9ycy5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvc2hhcmVkL3NlcmRlL2NyZWF0ZVVzZXJQb29sU2VyaWFsaXplci5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vZXJyb3JzL3V0aWxzL2Fzc2VydFNlcnZpY2VFcnJvci5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvc2hhcmVkL3NlcmRlL2NyZWF0ZVVzZXJQb29sRGVzZXJpYWxpemVyLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9jcmVhdGVGb3Jnb3RQYXNzd29yZENsaWVudC5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vZm91bmRhdGlvbi9jb2duaXRvVXNlclBvb2xFbmRwb2ludFJlc29sdmVyLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by9mYWN0b3JpZXMvY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlci5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vYXBpcy9yZXNldFBhc3N3b3JkLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9jcmVhdGVDb25maXJtRm9yZ290UGFzc3dvcmRDbGllbnQubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3Byb3ZpZGVycy9jb2duaXRvL2FwaXMvY29uZmlybVJlc2V0UGFzc3dvcmQubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL2Vycm9ycy9jb25zdGFudHMubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3Byb3ZpZGVycy9jb2duaXRvL3V0aWxzL3R5cGVzLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9jcmVhdGVDaGFuZ2VQYXNzd29yZENsaWVudC5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vYXBpcy91cGRhdGVQYXNzd29yZC5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvY3JlYXRlVmVyaWZ5VXNlckF0dHJpYnV0ZUNsaWVudC5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vYXBpcy9jb25maXJtVXNlckF0dHJpYnV0ZS5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vdXRpbHMvYXBpSGVscGVycy5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvY3JlYXRlR2V0VXNlckNsaWVudC5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vYXBpcy9pbnRlcm5hbC9mZXRjaFVzZXJBdHRyaWJ1dGVzLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by9hcGlzL2ZldGNoVXNlckF0dHJpYnV0ZXMubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eVByb3ZpZGVyL2NyZWF0ZUdldFVzZXJBdHRyaWJ1dGVWZXJpZmljYXRpb25Db2RlQ2xpZW50Lm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by9hcGlzL3NlbmRVc2VyQXR0cmlidXRlVmVyaWZpY2F0aW9uQ29kZS5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvY3JlYXRlR2V0VG9rZW5zRnJvbVJlZnJlc2hUb2tlbkNsaWVudC5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vdXRpbHMvcmVmcmVzaEF1dGhUb2tlbnMubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3Byb3ZpZGVycy9jb2duaXRvL3Rva2VuUHJvdmlkZXIvZXJyb3JIZWxwZXJzLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by90b2tlblByb3ZpZGVyL3R5cGVzLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by90b2tlblByb3ZpZGVyL2NvbnN0YW50cy5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vdG9rZW5Qcm92aWRlci9Ub2tlblN0b3JlLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by91dGlscy9zaWduSW5XaXRoUmVkaXJlY3RTdG9yZS5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vdXRpbHMvb2F1dGgvb0F1dGhTdG9yZS5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vdXRpbHMvb2F1dGgvaW5mbGlnaHRQcm9taXNlLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by90b2tlblByb3ZpZGVyL1Rva2VuT3JjaGVzdHJhdG9yLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by90b2tlblByb3ZpZGVyL0NvZ25pdG9Vc2VyUG9vbHNUb2tlblByb3ZpZGVyLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by90b2tlblByb3ZpZGVyL3Rva2VuUHJvdmlkZXIubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eVByb3ZpZGVyL3NoYXJlZC9zZXJkZS9jcmVhdGVFbXB0eVJlc3BvbnNlRGVzZXJpYWxpemVyLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9jcmVhdGVEZWxldGVVc2VyQ2xpZW50Lm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9ub2RlX21vZHVsZXMvQGF3cy1jcnlwdG8vc2hhMjU2LWpzL2J1aWxkL21vZHVsZS9jb25zdGFudHMuanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvbm9kZV9tb2R1bGVzL0Bhd3MtY3J5cHRvL3NoYTI1Ni1qcy9idWlsZC9tb2R1bGUvUmF3U2hhMjU2LmpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL25vZGVfbW9kdWxlcy9AYXdzLWNyeXB0by91dGlsL2J1aWxkL21vZHVsZS9jb252ZXJ0VG9CdWZmZXIuanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvbm9kZV9tb2R1bGVzL0Bhd3MtY3J5cHRvL3V0aWwvYnVpbGQvbW9kdWxlL2lzRW1wdHlEYXRhLmpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL25vZGVfbW9kdWxlcy9AYXdzLWNyeXB0by9zaGEyNTYtanMvYnVpbGQvbW9kdWxlL2pzU2hhMjU2LmpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3Byb3ZpZGVycy9jb2duaXRvL3V0aWxzL29hdXRoL2NvbXBsZXRlT0F1dGhTaWduT3V0Lm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS91dGlscy9vcGVuQXV0aFNlc3Npb24ubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3Byb3ZpZGVycy9jb2duaXRvL3V0aWxzL29hdXRoL2dldFJlZGlyZWN0VXJsLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by91dGlscy9vYXV0aC9vQXV0aFNpZ25PdXRSZWRpcmVjdC5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vdXRpbHMvb2F1dGgvaGFuZGxlT0F1dGhTaWduT3V0Lm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9FcnJvcnMubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3R5cGVzL0F1dGgubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eVByb3ZpZGVyL2NyZWF0ZVJldm9rZVRva2VuQ2xpZW50Lm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9jcmVhdGVHbG9iYWxTaWduT3V0Q2xpZW50Lm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by9hcGlzL3NpZ25PdXQubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3Byb3ZpZGVycy9jb2duaXRvL2FwaXMvZGVsZXRlVXNlci5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vYXBpcy9pbnRlcm5hbC9nZXRDdXJyZW50VXNlci5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vYXBpcy9nZXRDdXJyZW50VXNlci5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvY3JlYXRlSW5pdGlhdGVBdXRoQ2xpZW50Lm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9jcmVhdGVSZXNwb25kVG9BdXRoQ2hhbGxlbmdlQ2xpZW50Lm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9jcmVhdGVBc3NvY2lhdGVTb2Z0d2FyZVRva2VuQ2xpZW50Lm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by90b2tlblByb3ZpZGVyL2NhY2hlVG9rZW5zLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by91dGlscy9kaXNwYXRjaFNpZ25lZEluSHViRXZlbnQubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL2NsaWVudC91dGlscy9zdG9yZS9hdXRvU2lnbkluU3RvcmUubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL2NsaWVudC91dGlscy9zdG9yZS9zaWduSW5TdG9yZS5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vY2xpZW50L3V0aWxzL3Bhc3NrZXkvZXJyb3JzLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9jbGllbnQvdXRpbHMvcGFzc2tleS9nZXRJc1Bhc3NrZXlTdXBwb3J0ZWQubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL2ZvdW5kYXRpb24vY29udmVydC9iYXNlNjR1cmwvY29udmVydEFycmF5QnVmZmVyVG9CYXNlNjRVcmwubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL2ZvdW5kYXRpb24vY29udmVydC9iYXNlNjR1cmwvY29udmVydEJhc2U2NFVybFRvQXJyYXlCdWZmZXIubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL2NsaWVudC91dGlscy9wYXNza2V5L3NlcmRlLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9jbGllbnQvdXRpbHMvcGFzc2tleS90eXBlcy9pbmRleC5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vY2xpZW50L3V0aWxzL3Bhc3NrZXkvZ2V0UGFzc2tleS5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvY3JlYXRlQ29uZmlybURldmljZUNsaWVudC5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vdXRpbHMvdGV4dEVuY29kZXIvaW5kZXgubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3Byb3ZpZGVycy9jb2duaXRvL3V0aWxzL3NycC9CaWdJbnRlZ2VyL0JpZ0ludGVnZXIubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3Byb3ZpZGVycy9jb2duaXRvL3V0aWxzL3NycC9jYWxjdWxhdGUvY2FsY3VsYXRlUy5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vdXRpbHMvc3JwL2NvbnN0YW50cy5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vdXRpbHMvc3JwL2dldEJ5dGVzRnJvbUhleC5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vdXRpbHMvc3JwL2dldEhleEZyb21CeXRlcy5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vdXRpbHMvc3JwL2dldEhhc2hGcm9tRGF0YS5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vdXRpbHMvc3JwL2dldEhhc2hGcm9tSGV4Lm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by91dGlscy9zcnAvZ2V0UGFkZGVkSGV4Lm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by91dGlscy9zcnAvY2FsY3VsYXRlL2NhbGN1bGF0ZVUubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3Byb3ZpZGVycy9jb2duaXRvL3V0aWxzL3NycC9nZXRIa2RmS2V5Lm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by91dGlscy9zcnAvZ2V0UmFuZG9tQnl0ZXMubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3Byb3ZpZGVycy9jb2duaXRvL3V0aWxzL3NycC9nZXRSYW5kb21TdHJpbmcubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3Byb3ZpZGVycy9jb2duaXRvL3V0aWxzL3NycC9BdXRoZW50aWNhdGlvbkhlbHBlci9BdXRoZW50aWNhdGlvbkhlbHBlci5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vdXRpbHMvc3JwL2NhbGN1bGF0ZS9jYWxjdWxhdGVBLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by91dGlscy9zcnAvZ2V0QXV0aGVudGljYXRpb25IZWxwZXIubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3Byb3ZpZGVycy9jb2duaXRvL3V0aWxzL2dldE5ld0RldmljZU1ldGFkYXRhLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9jbGllbnQvZmxvd3MvdXNlckF1dGgvaGFuZGxlV2ViQXV0aG5TaWduSW5SZXN1bHQubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3Byb3ZpZGVycy9jb2duaXRvL3V0aWxzL3NycC9nZXROb3dTdHJpbmcubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3Byb3ZpZGVycy9jb2duaXRvL3V0aWxzL3NycC9nZXRTaWduYXR1cmVTdHJpbmcubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3Byb3ZpZGVycy9jb2duaXRvL3V0aWxzL2hhbmRsZURldmljZVNSUEF1dGgubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3Byb3ZpZGVycy9jb2duaXRvL3V0aWxzL2hhbmRsZVBhc3N3b3JkVmVyaWZpZXJDaGFsbGVuZ2UubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3Byb3ZpZGVycy9jb2duaXRvL3V0aWxzL3JldHJ5T25SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by91dGlscy9zZXRBY3RpdmVTaWduSW5Vc2VybmFtZS5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vY2xpZW50L2Zsb3dzL3NoYXJlZC9oYW5kbGVQYXNzd29yZFNSUC5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vdXRpbHMvc2lnbkluSGVscGVycy5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vYXBpcy9zaWduSW5XaXRoQ3VzdG9tQXV0aC5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vYXBpcy9zaWduSW5XaXRoQ3VzdG9tU1JQQXV0aC5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vYXBpcy9hdXRvU2lnbkluLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by9hcGlzL3NpZ25JbldpdGhTUlAubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3Byb3ZpZGVycy9jb2duaXRvL2FwaXMvc2lnbkluV2l0aFVzZXJQYXNzd29yZC5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vY2xpZW50L2Zsb3dzL3VzZXJBdXRoL2hhbmRsZVVzZXJBdXRoRmxvdy5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vYXBpcy9zaWduSW5XaXRoVXNlckF1dGgubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3Byb3ZpZGVycy9jb2duaXRvL2FwaXMvc2lnbkluLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by91dGlscy9zaWduVXBIZWxwZXJzLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9jcmVhdGVTaWduVXBDbGllbnQubWpzIiwibm9kZV9tb2R1bGVzL0Bhd3MtYW1wbGlmeS9hdXRoL2Rpc3QvZXNtL3Byb3ZpZGVycy9jb2duaXRvL2FwaXMvc2lnblVwLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by91dGlscy9vYXV0aC9jcmVhdGVPQXV0aEVycm9yLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by91dGlscy9vYXV0aC92YWxpZGF0ZVN0YXRlLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by91dGlscy9vYXV0aC9jb21wbGV0ZU9BdXRoRmxvdy5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vdXRpbHMvb2F1dGgvaGFuZGxlRmFpbHVyZS5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vdXRpbHMvb2F1dGgvYXR0ZW1wdENvbXBsZXRlT0F1dGhGbG93Lm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by91dGlscy9vYXV0aC9lbmFibGVPQXV0aExpc3RlbmVyLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by9jcmVkZW50aWFsc1Byb3ZpZGVyL3R5cGVzLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by9jcmVkZW50aWFsc1Byb3ZpZGVyL0lkZW50aXR5SWRTdG9yZS5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vZmFjdG9yaWVzL2NyZWF0ZUNvZ25pdG9JZGVudGl0eVBvb2xFbmRwb2ludFJlc29sdmVyLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by9jcmVkZW50aWFsc1Byb3ZpZGVyL3V0aWxzLm1qcyIsIm5vZGVfbW9kdWxlcy9AYXdzLWFtcGxpZnkvYXV0aC9kaXN0L2VzbS9wcm92aWRlcnMvY29nbml0by9jcmVkZW50aWFsc1Byb3ZpZGVyL0lkZW50aXR5SWRQcm92aWRlci5tanMiLCJub2RlX21vZHVsZXMvQGF3cy1hbXBsaWZ5L2F1dGgvZGlzdC9lc20vcHJvdmlkZXJzL2NvZ25pdG8vY3JlZGVudGlhbHNQcm92aWRlci9jcmVkZW50aWFsc1Byb3ZpZGVyLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vLyBMb2dnaW5nIGNvbnN0YW50c1xuY29uc3QgQVdTX0NMT1VEV0FUQ0hfQ0FURUdPUlkgPSAnTG9nZ2luZyc7XG5jb25zdCBVU0VSX0FHRU5UX0hFQURFUiA9ICd4LWFtei11c2VyLWFnZW50Jztcbi8vIEVycm9yIGV4Y2VwdGlvbiBjb2RlIGNvbnN0YW50c1xuY29uc3QgTk9fSFVCQ0FMTEJBQ0tfUFJPVklERURfRVhDRVBUSU9OID0gJ05vSHViY2FsbGJhY2tQcm92aWRlZEV4Y2VwdGlvbic7XG5leHBvcnQgeyBBV1NfQ0xPVURXQVRDSF9DQVRFR09SWSwgTk9fSFVCQ0FMTEJBQ0tfUFJPVklERURfRVhDRVBUSU9OLCBVU0VSX0FHRU5UX0hFQURFUiB9O1xuIiwiLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxudmFyIExvZ1R5cGU7XG4oZnVuY3Rpb24gKExvZ1R5cGUpIHtcbiAgTG9nVHlwZVtcIkRFQlVHXCJdID0gXCJERUJVR1wiO1xuICBMb2dUeXBlW1wiRVJST1JcIl0gPSBcIkVSUk9SXCI7XG4gIExvZ1R5cGVbXCJJTkZPXCJdID0gXCJJTkZPXCI7XG4gIExvZ1R5cGVbXCJXQVJOXCJdID0gXCJXQVJOXCI7XG4gIExvZ1R5cGVbXCJWRVJCT1NFXCJdID0gXCJWRVJCT1NFXCI7XG4gIExvZ1R5cGVbXCJOT05FXCJdID0gXCJOT05FXCI7XG59KShMb2dUeXBlIHx8IChMb2dUeXBlID0ge30pKTtcbmV4cG9ydCB7IExvZ1R5cGUgfTtcbiIsImltcG9ydCB7IEFXU19DTE9VRFdBVENIX0NBVEVHT1JZIH0gZnJvbSAnLi4vY29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyBMb2dUeXBlIH0gZnJvbSAnLi90eXBlcy5tanMnO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBMT0dfTEVWRUxTID0ge1xuICBWRVJCT1NFOiAxLFxuICBERUJVRzogMixcbiAgSU5GTzogMyxcbiAgV0FSTjogNCxcbiAgRVJST1I6IDUsXG4gIE5PTkU6IDZcbn07XG4vKipcbiAqIFdyaXRlIGxvZ3NcbiAqIEBjbGFzcyBMb2dnZXJcbiAqL1xuY2xhc3MgQ29uc29sZUxvZ2dlciB7XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBOYW1lIG9mIHRoZSBsb2dnZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKG5hbWUsIGxldmVsID0gTG9nVHlwZS5XQVJOKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmxldmVsID0gbGV2ZWw7XG4gICAgdGhpcy5fcGx1Z2dhYmxlcyA9IFtdO1xuICB9XG4gIF9wYWRkaW5nKG4pIHtcbiAgICByZXR1cm4gbiA8IDEwID8gJzAnICsgbiA6ICcnICsgbjtcbiAgfVxuICBfdHMoKSB7XG4gICAgY29uc3QgZHQgPSBuZXcgRGF0ZSgpO1xuICAgIHJldHVybiBbdGhpcy5fcGFkZGluZyhkdC5nZXRNaW51dGVzKCkpLCB0aGlzLl9wYWRkaW5nKGR0LmdldFNlY29uZHMoKSldLmpvaW4oJzonKSArICcuJyArIGR0LmdldE1pbGxpc2Vjb25kcygpO1xuICB9XG4gIGNvbmZpZ3VyZShjb25maWcpIHtcbiAgICBpZiAoIWNvbmZpZykgcmV0dXJuIHRoaXMuX2NvbmZpZztcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgcmV0dXJuIHRoaXMuX2NvbmZpZztcbiAgfVxuICAvKipcbiAgICogV3JpdGUgbG9nXG4gICAqIEBtZXRob2RcbiAgICogQG1lbWViZXJvZiBMb2dnZXJcbiAgICogQHBhcmFtIHtMb2dUeXBlfHN0cmluZ30gdHlwZSAtIGxvZyB0eXBlLCBkZWZhdWx0IElORk9cbiAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSBtc2cgLSBMb2dnaW5nIG1lc3NhZ2Ugb3Igb2JqZWN0XG4gICAqL1xuICBfbG9nKHR5cGUsIC4uLm1zZykge1xuICAgIGxldCBsb2dnZXJMZXZlbE5hbWUgPSB0aGlzLmxldmVsO1xuICAgIGlmIChDb25zb2xlTG9nZ2VyLkxPR19MRVZFTCkge1xuICAgICAgbG9nZ2VyTGV2ZWxOYW1lID0gQ29uc29sZUxvZ2dlci5MT0dfTEVWRUw7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTE9HX0xFVkVMKSB7XG4gICAgICBsb2dnZXJMZXZlbE5hbWUgPSB3aW5kb3cuTE9HX0xFVkVMO1xuICAgIH1cbiAgICBjb25zdCBsb2dnZXJMZXZlbCA9IExPR19MRVZFTFNbbG9nZ2VyTGV2ZWxOYW1lXTtcbiAgICBjb25zdCB0eXBlTGV2ZWwgPSBMT0dfTEVWRUxTW3R5cGVdO1xuICAgIGlmICghKHR5cGVMZXZlbCA+PSBsb2dnZXJMZXZlbCkpIHtcbiAgICAgIC8vIERvIG5vdGhpbmcgaWYgdHlwZSBpcyBub3QgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGxvZ2dlciBsZXZlbCAoaGFuZGxlIHVuZGVmaW5lZClcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGxvZyA9IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7XG4gICAgaWYgKHR5cGUgPT09IExvZ1R5cGUuRVJST1IgJiYgY29uc29sZS5lcnJvcikge1xuICAgICAgbG9nID0gY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUpO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gTG9nVHlwZS5XQVJOICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgbG9nID0gY29uc29sZS53YXJuLmJpbmQoY29uc29sZSk7XG4gICAgfVxuICAgIGlmIChDb25zb2xlTG9nZ2VyLkJJTkRfQUxMX0xPR19MRVZFTFMpIHtcbiAgICAgIGlmICh0eXBlID09PSBMb2dUeXBlLklORk8gJiYgY29uc29sZS5pbmZvKSB7XG4gICAgICAgIGxvZyA9IGNvbnNvbGUuaW5mby5iaW5kKGNvbnNvbGUpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUgPT09IExvZ1R5cGUuREVCVUcgJiYgY29uc29sZS5kZWJ1Zykge1xuICAgICAgICBsb2cgPSBjb25zb2xlLmRlYnVnLmJpbmQoY29uc29sZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHByZWZpeCA9IGBbJHt0eXBlfV0gJHt0aGlzLl90cygpfSAke3RoaXMubmFtZX1gO1xuICAgIGxldCBtZXNzYWdlID0gJyc7XG4gICAgaWYgKG1zZy5sZW5ndGggPT09IDEgJiYgdHlwZW9mIG1zZ1swXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG1lc3NhZ2UgPSBgJHtwcmVmaXh9IC0gJHttc2dbMF19YDtcbiAgICAgIGxvZyhtZXNzYWdlKTtcbiAgICB9IGVsc2UgaWYgKG1zZy5sZW5ndGggPT09IDEpIHtcbiAgICAgIG1lc3NhZ2UgPSBgJHtwcmVmaXh9ICR7bXNnWzBdfWA7XG4gICAgICBsb2cocHJlZml4LCBtc2dbMF0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1zZ1swXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGxldCBvYmogPSBtc2cuc2xpY2UoMSk7XG4gICAgICBpZiAob2JqLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBvYmogPSBvYmpbMF07XG4gICAgICB9XG4gICAgICBtZXNzYWdlID0gYCR7cHJlZml4fSAtICR7bXNnWzBdfSAke29ian1gO1xuICAgICAgbG9nKGAke3ByZWZpeH0gLSAke21zZ1swXX1gLCBvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlID0gYCR7cHJlZml4fSAke21zZ31gO1xuICAgICAgbG9nKHByZWZpeCwgbXNnKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBwbHVnaW4gb2YgdGhpcy5fcGx1Z2dhYmxlcykge1xuICAgICAgY29uc3QgbG9nRXZlbnQgPSB7XG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgfTtcbiAgICAgIHBsdWdpbi5wdXNoTG9ncyhbbG9nRXZlbnRdKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFdyaXRlIEdlbmVyYWwgbG9nLiBEZWZhdWx0IHRvIElORk9cbiAgICogQG1ldGhvZFxuICAgKiBAbWVtZWJlcm9mIExvZ2dlclxuICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IG1zZyAtIExvZ2dpbmcgbWVzc2FnZSBvciBvYmplY3RcbiAgICovXG4gIGxvZyguLi5tc2cpIHtcbiAgICB0aGlzLl9sb2coTG9nVHlwZS5JTkZPLCAuLi5tc2cpO1xuICB9XG4gIC8qKlxuICAgKiBXcml0ZSBJTkZPIGxvZ1xuICAgKiBAbWV0aG9kXG4gICAqIEBtZW1lYmVyb2YgTG9nZ2VyXG4gICAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gbXNnIC0gTG9nZ2luZyBtZXNzYWdlIG9yIG9iamVjdFxuICAgKi9cbiAgaW5mbyguLi5tc2cpIHtcbiAgICB0aGlzLl9sb2coTG9nVHlwZS5JTkZPLCAuLi5tc2cpO1xuICB9XG4gIC8qKlxuICAgKiBXcml0ZSBXQVJOIGxvZ1xuICAgKiBAbWV0aG9kXG4gICAqIEBtZW1lYmVyb2YgTG9nZ2VyXG4gICAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gbXNnIC0gTG9nZ2luZyBtZXNzYWdlIG9yIG9iamVjdFxuICAgKi9cbiAgd2FybiguLi5tc2cpIHtcbiAgICB0aGlzLl9sb2coTG9nVHlwZS5XQVJOLCAuLi5tc2cpO1xuICB9XG4gIC8qKlxuICAgKiBXcml0ZSBFUlJPUiBsb2dcbiAgICogQG1ldGhvZFxuICAgKiBAbWVtZWJlcm9mIExvZ2dlclxuICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IG1zZyAtIExvZ2dpbmcgbWVzc2FnZSBvciBvYmplY3RcbiAgICovXG4gIGVycm9yKC4uLm1zZykge1xuICAgIHRoaXMuX2xvZyhMb2dUeXBlLkVSUk9SLCAuLi5tc2cpO1xuICB9XG4gIC8qKlxuICAgKiBXcml0ZSBERUJVRyBsb2dcbiAgICogQG1ldGhvZFxuICAgKiBAbWVtZWJlcm9mIExvZ2dlclxuICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IG1zZyAtIExvZ2dpbmcgbWVzc2FnZSBvciBvYmplY3RcbiAgICovXG4gIGRlYnVnKC4uLm1zZykge1xuICAgIHRoaXMuX2xvZyhMb2dUeXBlLkRFQlVHLCAuLi5tc2cpO1xuICB9XG4gIC8qKlxuICAgKiBXcml0ZSBWRVJCT1NFIGxvZ1xuICAgKiBAbWV0aG9kXG4gICAqIEBtZW1lYmVyb2YgTG9nZ2VyXG4gICAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gbXNnIC0gTG9nZ2luZyBtZXNzYWdlIG9yIG9iamVjdFxuICAgKi9cbiAgdmVyYm9zZSguLi5tc2cpIHtcbiAgICB0aGlzLl9sb2coTG9nVHlwZS5WRVJCT1NFLCAuLi5tc2cpO1xuICB9XG4gIGFkZFBsdWdnYWJsZShwbHVnZ2FibGUpIHtcbiAgICBpZiAocGx1Z2dhYmxlICYmIHBsdWdnYWJsZS5nZXRDYXRlZ29yeU5hbWUoKSA9PT0gQVdTX0NMT1VEV0FUQ0hfQ0FURUdPUlkpIHtcbiAgICAgIHRoaXMuX3BsdWdnYWJsZXMucHVzaChwbHVnZ2FibGUpO1xuICAgICAgcGx1Z2dhYmxlLmNvbmZpZ3VyZSh0aGlzLl9jb25maWcpO1xuICAgIH1cbiAgfVxuICBsaXN0UGx1Z2dhYmxlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fcGx1Z2dhYmxlcztcbiAgfVxufVxuQ29uc29sZUxvZ2dlci5MT0dfTEVWRUwgPSBudWxsO1xuQ29uc29sZUxvZ2dlci5CSU5EX0FMTF9MT0dfTEVWRUxTID0gZmFsc2U7XG5leHBvcnQgeyBDb25zb2xlTG9nZ2VyIH07XG4iLCJjbGFzcyBBbXBsaWZ5RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIC8qKlxuICAgKiAgQ29uc3RydWN0cyBhbiBBbXBsaWZ5RXJyb3IuXG4gICAqXG4gICAqIEBwYXJhbSBtZXNzYWdlIHRleHQgdGhhdCBkZXNjcmliZXMgdGhlIG1haW4gcHJvYmxlbS5cbiAgICogQHBhcmFtIHVuZGVybHlpbmdFcnJvciB0aGUgdW5kZXJseWluZyBjYXVzZSBvZiB0aGUgZXJyb3IuXG4gICAqIEBwYXJhbSByZWNvdmVyeVN1Z2dlc3Rpb24gc3VnZ2VzdGlvbiB0byByZWNvdmVyIGZyb20gdGhlIGVycm9yLlxuICAgKlxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UsXG4gICAgbmFtZSxcbiAgICByZWNvdmVyeVN1Z2dlc3Rpb24sXG4gICAgdW5kZXJseWluZ0Vycm9yLFxuICAgIG1ldGFkYXRhXG4gIH0pIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMudW5kZXJseWluZ0Vycm9yID0gdW5kZXJseWluZ0Vycm9yO1xuICAgIHRoaXMucmVjb3ZlcnlTdWdnZXN0aW9uID0gcmVjb3ZlcnlTdWdnZXN0aW9uO1xuICAgIGlmIChtZXRhZGF0YSkge1xuICAgICAgLy8gSWYgbWV0YWRhdGEgZXhpc3RzLCBleHBsaWNpdGx5IG9ubHkgcmVjb3JkIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllcy5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZXh0ZW5kZWRSZXF1ZXN0SWQsXG4gICAgICAgIGh0dHBTdGF0dXNDb2RlLFxuICAgICAgICByZXF1ZXN0SWRcbiAgICAgIH0gPSBtZXRhZGF0YTtcbiAgICAgIHRoaXMubWV0YWRhdGEgPSB7XG4gICAgICAgIGV4dGVuZGVkUmVxdWVzdElkLFxuICAgICAgICBodHRwU3RhdHVzQ29kZSxcbiAgICAgICAgcmVxdWVzdElkXG4gICAgICB9O1xuICAgIH1cbiAgICAvLyBIYWNrIGZvciBtYWtpbmcgdGhlIGN1c3RvbSBlcnJvciBjbGFzcyB3b3JrIHdoZW4gdHJhbnNwaWxlZCB0byBlczVcbiAgICAvLyBUT0RPOiBEZWxldGUgdGhlIGZvbGxvd2luZyAyIGxpbmVzIGFmdGVyIHdlIGNoYW5nZSB0aGUgYnVpbGQgdGFyZ2V0IHRvID49IGVzMjAxNVxuICAgIHRoaXMuY29uc3RydWN0b3IgPSBBbXBsaWZ5RXJyb3I7XG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEFtcGxpZnlFcnJvci5wcm90b3R5cGUpO1xuICB9XG59XG5leHBvcnQgeyBBbXBsaWZ5RXJyb3IgfTtcbiIsInZhciBBbXBsaWZ5RXJyb3JDb2RlO1xuKGZ1bmN0aW9uIChBbXBsaWZ5RXJyb3JDb2RlKSB7XG4gIEFtcGxpZnlFcnJvckNvZGVbXCJOb0VuZHBvaW50SWRcIl0gPSBcIk5vRW5kcG9pbnRJZFwiO1xuICBBbXBsaWZ5RXJyb3JDb2RlW1wiUGxhdGZvcm1Ob3RTdXBwb3J0ZWRcIl0gPSBcIlBsYXRmb3JtTm90U3VwcG9ydGVkXCI7XG4gIEFtcGxpZnlFcnJvckNvZGVbXCJVbmtub3duXCJdID0gXCJVbmtub3duXCI7XG4gIEFtcGxpZnlFcnJvckNvZGVbXCJOZXR3b3JrRXJyb3JcIl0gPSBcIk5ldHdvcmtFcnJvclwiO1xufSkoQW1wbGlmeUVycm9yQ29kZSB8fCAoQW1wbGlmeUVycm9yQ29kZSA9IHt9KSk7XG5leHBvcnQgeyBBbXBsaWZ5RXJyb3JDb2RlIH07XG4iLCJpbXBvcnQgeyBBbXBsaWZ5RXJyb3IgfSBmcm9tICcuL0FtcGxpZnlFcnJvci5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBjcmVhdGVBc3NlcnRpb25GdW5jdGlvbiA9IChlcnJvck1hcCwgQXNzZXJ0aW9uRXJyb3IgPSBBbXBsaWZ5RXJyb3IpID0+IChhc3NlcnRpb24sIG5hbWUsIGFkZGl0aW9uYWxDb250ZXh0KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBtZXNzYWdlLFxuICAgIHJlY292ZXJ5U3VnZ2VzdGlvblxuICB9ID0gZXJyb3JNYXBbbmFtZV07XG4gIGlmICghYXNzZXJ0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEFzc2VydGlvbkVycm9yKHtcbiAgICAgIG5hbWUsXG4gICAgICBtZXNzYWdlOiBhZGRpdGlvbmFsQ29udGV4dCA/IGAke21lc3NhZ2V9ICR7YWRkaXRpb25hbENvbnRleHR9YCA6IG1lc3NhZ2UsXG4gICAgICByZWNvdmVyeVN1Z2dlc3Rpb25cbiAgICB9KTtcbiAgfVxufTtcbmV4cG9ydCB7IGNyZWF0ZUFzc2VydGlvbkZ1bmN0aW9uIH07XG4iLCJpbXBvcnQgeyBDb25zb2xlTG9nZ2VyIH0gZnJvbSAnLi4vTG9nZ2VyL0NvbnNvbGVMb2dnZXIubWpzJztcbmltcG9ydCB7IE5PX0hVQkNBTExCQUNLX1BST1ZJREVEX0VYQ0VQVElPTiB9IGZyb20gJy4uL2NvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgQW1wbGlmeUVycm9yIH0gZnJvbSAnLi4vZXJyb3JzL0FtcGxpZnlFcnJvci5tanMnO1xuaW1wb3J0ICcuLi90eXBlcy9lcnJvcnMubWpzJztcbmltcG9ydCAnLi4vZXJyb3JzL2Vycm9ySGVscGVycy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBBTVBMSUZZX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnID8gU3ltYm9sKCdhbXBsaWZ5X2RlZmF1bHQnKSA6ICdAQGFtcGxpZnlfZGVmYXVsdCc7XG5jb25zdCBsb2dnZXIgPSBuZXcgQ29uc29sZUxvZ2dlcignSHViJyk7XG5jbGFzcyBIdWJDbGFzcyB7XG4gIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICB0aGlzLmxpc3RlbmVycyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLnByb3RlY3RlZENoYW5uZWxzID0gWydjb3JlJywgJ2F1dGgnLCAnYXBpJywgJ2FuYWx5dGljcycsICdpbnRlcmFjdGlvbnMnLCAncHVic3ViJywgJ3N0b3JhZ2UnLCAndWknLCAneHInXTtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICB9XG4gIC8qKlxuICAgKiBVc2VkIGludGVybmFsbHkgdG8gcmVtb3ZlIGEgSHViIGxpc3RlbmVyLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBUaGlzIHByaXZhdGUgbWV0aG9kIGlzIGZvciBpbnRlcm5hbCB1c2Ugb25seS4gSW5zdGVhZCBvZiBjYWxsaW5nIEh1Yi5yZW1vdmUsIGNhbGwgdGhlIHJlc3VsdCBvZiBIdWIubGlzdGVuLlxuICAgKi9cbiAgX3JlbW92ZShjaGFubmVsLCBsaXN0ZW5lcikge1xuICAgIGNvbnN0IGhvbGRlciA9IHRoaXMubGlzdGVuZXJzLmdldChjaGFubmVsKTtcbiAgICBpZiAoIWhvbGRlcikge1xuICAgICAgbG9nZ2VyLndhcm4oYE5vIGxpc3RlbmVycyBmb3IgJHtjaGFubmVsfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmxpc3RlbmVycy5zZXQoY2hhbm5lbCwgWy4uLmhvbGRlci5maWx0ZXIoKHtcbiAgICAgIGNhbGxiYWNrXG4gICAgfSkgPT4gY2FsbGJhY2sgIT09IGxpc3RlbmVyKV0pO1xuICB9XG4gIGRpc3BhdGNoKGNoYW5uZWwsIHBheWxvYWQsIHNvdXJjZSwgYW1wU3ltYm9sKSB7XG4gICAgaWYgKHR5cGVvZiBjaGFubmVsID09PSAnc3RyaW5nJyAmJiB0aGlzLnByb3RlY3RlZENoYW5uZWxzLmluZGV4T2YoY2hhbm5lbCkgPiAtMSkge1xuICAgICAgY29uc3QgaGFzQWNjZXNzID0gYW1wU3ltYm9sID09PSBBTVBMSUZZX1NZTUJPTDtcbiAgICAgIGlmICghaGFzQWNjZXNzKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKGBXQVJOSU5HOiAke2NoYW5uZWx9IGlzIHByb3RlY3RlZCBhbmQgZGlzcGF0Y2hpbmcgb24gaXQgY2FuIGhhdmUgdW5pbnRlbmRlZCBjb25zZXF1ZW5jZXNgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY2Fwc3VsZSA9IHtcbiAgICAgIGNoYW5uZWwsXG4gICAgICBwYXlsb2FkOiB7XG4gICAgICAgIC4uLnBheWxvYWRcbiAgICAgIH0sXG4gICAgICBzb3VyY2UsXG4gICAgICBwYXR0ZXJuSW5mbzogW11cbiAgICB9O1xuICAgIHRyeSB7XG4gICAgICB0aGlzLl90b0xpc3RlbmVycyhjYXBzdWxlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoZSk7XG4gICAgfVxuICB9XG4gIGxpc3RlbihjaGFubmVsLCBjYWxsYmFjaywgbGlzdGVuZXJOYW1lID0gJ25vbmFtZScpIHtcbiAgICBsZXQgY2I7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEFtcGxpZnlFcnJvcih7XG4gICAgICAgIG5hbWU6IE5PX0hVQkNBTExCQUNLX1BST1ZJREVEX0VYQ0VQVElPTixcbiAgICAgICAgbWVzc2FnZTogJ05vIGNhbGxiYWNrIHN1cHBsaWVkIHRvIEh1YidcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBOZWVkcyB0byBiZSBjYXN0ZWQgYXMgYSBtb3JlIGdlbmVyaWMgdHlwZVxuICAgICAgY2IgPSBjYWxsYmFjaztcbiAgICB9XG4gICAgbGV0IGhvbGRlciA9IHRoaXMubGlzdGVuZXJzLmdldChjaGFubmVsKTtcbiAgICBpZiAoIWhvbGRlcikge1xuICAgICAgaG9sZGVyID0gW107XG4gICAgICB0aGlzLmxpc3RlbmVycy5zZXQoY2hhbm5lbCwgaG9sZGVyKTtcbiAgICB9XG4gICAgaG9sZGVyLnB1c2goe1xuICAgICAgbmFtZTogbGlzdGVuZXJOYW1lLFxuICAgICAgY2FsbGJhY2s6IGNiXG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRoaXMuX3JlbW92ZShjaGFubmVsLCBjYik7XG4gICAgfTtcbiAgfVxuICBfdG9MaXN0ZW5lcnMoY2Fwc3VsZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNoYW5uZWwsXG4gICAgICBwYXlsb2FkXG4gICAgfSA9IGNhcHN1bGU7XG4gICAgY29uc3QgaG9sZGVyID0gdGhpcy5saXN0ZW5lcnMuZ2V0KGNoYW5uZWwpO1xuICAgIGlmIChob2xkZXIpIHtcbiAgICAgIGhvbGRlci5mb3JFYWNoKGxpc3RlbmVyID0+IHtcbiAgICAgICAgbG9nZ2VyLmRlYnVnKGBEaXNwYXRjaGluZyB0byAke2NoYW5uZWx9IHdpdGggYCwgcGF5bG9hZCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGlzdGVuZXIuY2FsbGJhY2soY2Fwc3VsZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBsb2dnZXIuZXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuLyogV2UgZXhwb3J0IGEgX19kZWZhdWx0X18gaW5zdGFuY2Ugb2YgSHViQ2xhc3MgdG8gdXNlIGl0IGFzIGFcbnBzZXVkbyBTaW5nbGV0b24gZm9yIHRoZSBtYWluIG1lc3NhZ2luZyBidXMsIGhvd2V2ZXIgeW91IGNhbiBzdGlsbCBjcmVhdGVcbnlvdXIgb3duIGluc3RhbmNlIG9mIEh1YkNsYXNzKCkgZm9yIGEgc2VwYXJhdGUgXCJwcml2YXRlIGJ1c1wiIG9mIGV2ZW50cy4gKi9cbmNvbnN0IEh1YiA9IG5ldyBIdWJDbGFzcygnX19kZWZhdWx0X18nKTtcbi8qKlxuICogQGludGVybmFsXG4gKlxuICogSW50ZXJuYWwgaHViIHVzZWQgZm9yIGNvcmUgQW1wbGlmeSBmdW5jdGlvbmFsaXR5LiBOb3QgaW50ZW5kZWQgZm9yIHVzZSBvdXRzaWRlIG9mIEFtcGxpZnkuXG4gKlxuICovXG5jb25zdCBIdWJJbnRlcm5hbCA9IG5ldyBIdWJDbGFzcygnaW50ZXJuYWwtaHViJyk7XG5leHBvcnQgeyBBTVBMSUZZX1NZTUJPTCwgSHViLCBIdWJDbGFzcywgSHViSW50ZXJuYWwgfTtcbiIsImltcG9ydCB7IEFtcGxpZnlFcnJvciB9IGZyb20gJy4uLy4uL2Vycm9ycy9BbXBsaWZ5RXJyb3IubWpzJztcbmltcG9ydCAnLi4vLi4vdHlwZXMvZXJyb3JzLm1qcyc7XG5pbXBvcnQgJy4uLy4uL2Vycm9ycy9lcnJvckhlbHBlcnMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuY29uc3QgZ2V0Q3J5cHRvID0gKCkgPT4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHdpbmRvdy5jcnlwdG8gPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5jcnlwdG87XG4gIH1cbiAgLy8gTmV4dC5qcyBnbG9iYWwgcG9seWZpbGxcbiAgaWYgKHR5cGVvZiBjcnlwdG8gPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGNyeXB0bztcbiAgfVxuICB0aHJvdyBuZXcgQW1wbGlmeUVycm9yKHtcbiAgICBuYW1lOiAnTWlzc2luZ1BvbHlmaWxsJyxcbiAgICBtZXNzYWdlOiAnQ2Fubm90IHJlc29sdmUgdGhlIGBjcnlwdG9gIGZ1bmN0aW9uIGZyb20gdGhlIGVudmlyb25tZW50LidcbiAgfSk7XG59O1xuY29uc3QgZ2V0QnRvYSA9ICgpID0+IHtcbiAgLy8gYnJvd3NlclxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5idG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5idG9hO1xuICB9XG4gIC8vIE5leHQuanMgZ2xvYmFsIHBvbHlmaWxsXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBidG9hO1xuICB9XG4gIHRocm93IG5ldyBBbXBsaWZ5RXJyb3Ioe1xuICAgIG5hbWU6ICdCYXNlNjRFbmNvZGVyRXJyb3InLFxuICAgIG1lc3NhZ2U6ICdDYW5ub3QgcmVzb2x2ZSB0aGUgYGJ0b2FgIGZ1bmN0aW9uIGZyb20gdGhlIGVudmlyb25tZW50LidcbiAgfSk7XG59O1xuY29uc3QgZ2V0QXRvYiA9ICgpID0+IHtcbiAgLy8gYnJvd3NlclxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5hdG9iID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5hdG9iO1xuICB9XG4gIC8vIE5leHQuanMgZ2xvYmFsIHBvbHlmaWxsXG4gIGlmICh0eXBlb2YgYXRvYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBhdG9iO1xuICB9XG4gIHRocm93IG5ldyBBbXBsaWZ5RXJyb3Ioe1xuICAgIG5hbWU6ICdCYXNlNjRFbmNvZGVyRXJyb3InLFxuICAgIG1lc3NhZ2U6ICdDYW5ub3QgcmVzb2x2ZSB0aGUgYGF0b2JgIGZ1bmN0aW9uIGZyb20gdGhlIGVudmlyb25tZW50LidcbiAgfSk7XG59O1xuZXhwb3J0IHsgZ2V0QXRvYiwgZ2V0QnRvYSwgZ2V0Q3J5cHRvIH07XG4iLCJpbXBvcnQgeyBnZXRBdG9iIH0gZnJvbSAnLi4vLi4vZ2xvYmFsSGVscGVycy9pbmRleC5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBiYXNlNjREZWNvZGVyID0ge1xuICBjb252ZXJ0KGlucHV0LCBvcHRpb25zKSB7XG4gICAgbGV0IGlucHV0U3RyID0gaW5wdXQ7XG4gICAgLy8gdXJsU2FmZSBjaGFyYWN0ZXIgcmVwbGFjZW1lbnQgb3B0aW9ucyBjb25mb3JtIHRvIHRoZSBiYXNlNjQgdXJsIHNwZWNcbiAgICAvLyBodHRwczovL2RhdGF0cmFja2VyLmlldGYub3JnL2RvYy9odG1sL3JmYzQ2NDgjcGFnZS03XG4gICAgaWYgKG9wdGlvbnM/LnVybFNhZmUpIHtcbiAgICAgIGlucHV0U3RyID0gaW5wdXRTdHIucmVwbGFjZSgvLS9nLCAnKycpLnJlcGxhY2UoL18vZywgJy8nKTtcbiAgICB9XG4gICAgcmV0dXJuIGdldEF0b2IoKShpbnB1dFN0cik7XG4gIH1cbn07XG5leHBvcnQgeyBiYXNlNjREZWNvZGVyIH07XG4iLCJpbXBvcnQgeyBjcmVhdGVBc3NlcnRpb25GdW5jdGlvbiB9IGZyb20gJy4uLy4uLy4uL2Vycm9ycy9jcmVhdGVBc3NlcnRpb25GdW5jdGlvbi5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi90eXBlcy9lcnJvcnMubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vZXJyb3JzL2Vycm9ySGVscGVycy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG52YXIgQXV0aENvbmZpZ3VyYXRpb25FcnJvckNvZGU7XG4oZnVuY3Rpb24gKEF1dGhDb25maWd1cmF0aW9uRXJyb3JDb2RlKSB7XG4gIEF1dGhDb25maWd1cmF0aW9uRXJyb3JDb2RlW1wiQXV0aFRva2VuQ29uZmlnRXhjZXB0aW9uXCJdID0gXCJBdXRoVG9rZW5Db25maWdFeGNlcHRpb25cIjtcbiAgQXV0aENvbmZpZ3VyYXRpb25FcnJvckNvZGVbXCJBdXRoVXNlclBvb2xBbmRJZGVudGl0eVBvb2xFeGNlcHRpb25cIl0gPSBcIkF1dGhVc2VyUG9vbEFuZElkZW50aXR5UG9vbEV4Y2VwdGlvblwiO1xuICBBdXRoQ29uZmlndXJhdGlvbkVycm9yQ29kZVtcIkF1dGhVc2VyUG9vbEV4Y2VwdGlvblwiXSA9IFwiQXV0aFVzZXJQb29sRXhjZXB0aW9uXCI7XG4gIEF1dGhDb25maWd1cmF0aW9uRXJyb3JDb2RlW1wiSW52YWxpZElkZW50aXR5UG9vbElkRXhjZXB0aW9uXCJdID0gXCJJbnZhbGlkSWRlbnRpdHlQb29sSWRFeGNlcHRpb25cIjtcbiAgQXV0aENvbmZpZ3VyYXRpb25FcnJvckNvZGVbXCJPQXV0aE5vdENvbmZpZ3VyZUV4Y2VwdGlvblwiXSA9IFwiT0F1dGhOb3RDb25maWd1cmVFeGNlcHRpb25cIjtcbn0pKEF1dGhDb25maWd1cmF0aW9uRXJyb3JDb2RlIHx8IChBdXRoQ29uZmlndXJhdGlvbkVycm9yQ29kZSA9IHt9KSk7XG5jb25zdCBhdXRoQ29uZmlndXJhdGlvbkVycm9yTWFwID0ge1xuICBbQXV0aENvbmZpZ3VyYXRpb25FcnJvckNvZGUuQXV0aFRva2VuQ29uZmlnRXhjZXB0aW9uXToge1xuICAgIG1lc3NhZ2U6ICdBdXRoIFRva2VuIFByb3ZpZGVyIG5vdCBjb25maWd1cmVkLicsXG4gICAgcmVjb3ZlcnlTdWdnZXN0aW9uOiAnTWFrZSBzdXJlIHRvIGNhbGwgQW1wbGlmeS5jb25maWd1cmUgaW4geW91ciBhcHAuJ1xuICB9LFxuICBbQXV0aENvbmZpZ3VyYXRpb25FcnJvckNvZGUuQXV0aFVzZXJQb29sQW5kSWRlbnRpdHlQb29sRXhjZXB0aW9uXToge1xuICAgIG1lc3NhZ2U6ICdBdXRoIFVzZXJQb29sIG9yIElkZW50aXR5UG9vbCBub3QgY29uZmlndXJlZC4nLFxuICAgIHJlY292ZXJ5U3VnZ2VzdGlvbjogJ01ha2Ugc3VyZSB0byBjYWxsIEFtcGxpZnkuY29uZmlndXJlIGluIHlvdXIgYXBwIHdpdGggVXNlclBvb2xJZCBhbmQgSWRlbnRpdHlQb29sSWQuJ1xuICB9LFxuICBbQXV0aENvbmZpZ3VyYXRpb25FcnJvckNvZGUuQXV0aFVzZXJQb29sRXhjZXB0aW9uXToge1xuICAgIG1lc3NhZ2U6ICdBdXRoIFVzZXJQb29sIG5vdCBjb25maWd1cmVkLicsXG4gICAgcmVjb3ZlcnlTdWdnZXN0aW9uOiAnTWFrZSBzdXJlIHRvIGNhbGwgQW1wbGlmeS5jb25maWd1cmUgaW4geW91ciBhcHAgd2l0aCB1c2VyUG9vbElkIGFuZCB1c2VyUG9vbENsaWVudElkLidcbiAgfSxcbiAgW0F1dGhDb25maWd1cmF0aW9uRXJyb3JDb2RlLkludmFsaWRJZGVudGl0eVBvb2xJZEV4Y2VwdGlvbl06IHtcbiAgICBtZXNzYWdlOiAnSW52YWxpZCBpZGVudGl0eSBwb29sIGlkIHByb3ZpZGVkLicsXG4gICAgcmVjb3ZlcnlTdWdnZXN0aW9uOiAnTWFrZSBzdXJlIGEgdmFsaWQgaWRlbnRpdHlQb29sSWQgaXMgZ2l2ZW4gaW4gdGhlIGNvbmZpZy4nXG4gIH0sXG4gIFtBdXRoQ29uZmlndXJhdGlvbkVycm9yQ29kZS5PQXV0aE5vdENvbmZpZ3VyZUV4Y2VwdGlvbl06IHtcbiAgICBtZXNzYWdlOiAnb2F1dGggcGFyYW0gbm90IGNvbmZpZ3VyZWQuJyxcbiAgICByZWNvdmVyeVN1Z2dlc3Rpb246ICdNYWtlIHN1cmUgdG8gY2FsbCBBbXBsaWZ5LmNvbmZpZ3VyZSB3aXRoIG9hdXRoIHBhcmFtZXRlciBpbiB5b3VyIGFwcC4nXG4gIH1cbn07XG5jb25zdCBhc3NlcnQgPSBjcmVhdGVBc3NlcnRpb25GdW5jdGlvbihhdXRoQ29uZmlndXJhdGlvbkVycm9yTWFwKTtcbmV4cG9ydCB7IEF1dGhDb25maWd1cmF0aW9uRXJyb3JDb2RlLCBhc3NlcnQgfTtcbiIsImltcG9ydCB7IGJhc2U2NERlY29kZXIgfSBmcm9tICcuLi8uLi8uLi91dGlscy9jb252ZXJ0L2Jhc2U2NC9iYXNlNjREZWNvZGVyLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uL3R5cGVzL2Vycm9ycy5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi9lcnJvcnMvZXJyb3JIZWxwZXJzLm1qcyc7XG5pbXBvcnQgeyBhc3NlcnQsIEF1dGhDb25maWd1cmF0aW9uRXJyb3JDb2RlIH0gZnJvbSAnLi9lcnJvckhlbHBlcnMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuZnVuY3Rpb24gYXNzZXJ0VG9rZW5Qcm92aWRlckNvbmZpZyhjb2duaXRvQ29uZmlnKSB7XG4gIGxldCBhc3NlcnRpb25WYWxpZCA9IHRydWU7IC8vIGFzc3VtZSB2YWxpZCB1bnRpbCBvdGhlcndpc2UgcHJvdmVlZFxuICBpZiAoIWNvZ25pdG9Db25maWcpIHtcbiAgICBhc3NlcnRpb25WYWxpZCA9IGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIGFzc2VydGlvblZhbGlkID0gISFjb2duaXRvQ29uZmlnLnVzZXJQb29sSWQgJiYgISFjb2duaXRvQ29uZmlnLnVzZXJQb29sQ2xpZW50SWQ7XG4gIH1cbiAgYXNzZXJ0KGFzc2VydGlvblZhbGlkLCBBdXRoQ29uZmlndXJhdGlvbkVycm9yQ29kZS5BdXRoVXNlclBvb2xFeGNlcHRpb24pO1xufVxuZnVuY3Rpb24gYXNzZXJ0T0F1dGhDb25maWcoY29nbml0b0NvbmZpZykge1xuICBjb25zdCB2YWxpZE9BdXRoQ29uZmlnID0gISFjb2duaXRvQ29uZmlnPy5sb2dpbldpdGg/Lm9hdXRoPy5kb21haW4gJiYgISFjb2duaXRvQ29uZmlnPy5sb2dpbldpdGg/Lm9hdXRoPy5yZWRpcmVjdFNpZ25PdXQgJiYgISFjb2duaXRvQ29uZmlnPy5sb2dpbldpdGg/Lm9hdXRoPy5yZWRpcmVjdFNpZ25JbiAmJiAhIWNvZ25pdG9Db25maWc/LmxvZ2luV2l0aD8ub2F1dGg/LnJlc3BvbnNlVHlwZTtcbiAgYXNzZXJ0KHZhbGlkT0F1dGhDb25maWcsIEF1dGhDb25maWd1cmF0aW9uRXJyb3JDb2RlLk9BdXRoTm90Q29uZmlndXJlRXhjZXB0aW9uKTtcbn1cbmZ1bmN0aW9uIGFzc2VydElkZW50aXR5UG9vbElkQ29uZmlnKGNvZ25pdG9Db25maWcpIHtcbiAgY29uc3QgdmFsaWRDb25maWcgPSAhIWNvZ25pdG9Db25maWc/LmlkZW50aXR5UG9vbElkO1xuICBhc3NlcnQodmFsaWRDb25maWcsIEF1dGhDb25maWd1cmF0aW9uRXJyb3JDb2RlLkludmFsaWRJZGVudGl0eVBvb2xJZEV4Y2VwdGlvbik7XG59XG4vKipcbiAqIERlY29kZXMgcGF5bG9hZCBvZiBKV1QgdG9rZW5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdG9rZW4gQSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgdG9rZW4gdG8gYmUgZGVjb2RlZFxuICogQHRocm93cyB7QGxpbmsgRXJyb3J9IC0gVGhyb3dzIGVycm9yIHdoZW4gdG9rZW4gaXMgaW52YWxpZCBvciBwYXlsb2FkIG1hbGZvcm1lZC5cbiAqL1xuZnVuY3Rpb24gZGVjb2RlSldUKHRva2VuKSB7XG4gIGNvbnN0IHRva2VuUGFydHMgPSB0b2tlbi5zcGxpdCgnLicpO1xuICBpZiAodG9rZW5QYXJ0cy5sZW5ndGggIT09IDMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdG9rZW4nKTtcbiAgfVxuICB0cnkge1xuICAgIGNvbnN0IGJhc2U2NFdpdGhVcmxTYWZlID0gdG9rZW5QYXJ0c1sxXTtcbiAgICBjb25zdCBiYXNlNjQgPSBiYXNlNjRXaXRoVXJsU2FmZS5yZXBsYWNlKC8tL2csICcrJykucmVwbGFjZSgvXy9nLCAnLycpO1xuICAgIGNvbnN0IGpzb25TdHIgPSBkZWNvZGVVUklDb21wb25lbnQoYmFzZTY0RGVjb2Rlci5jb252ZXJ0KGJhc2U2NCkuc3BsaXQoJycpLm1hcChjaGFyID0+IGAlJHtgMDAke2NoYXIuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNil9YC5zbGljZSgtMil9YCkuam9pbignJykpO1xuICAgIGNvbnN0IHBheWxvYWQgPSBKU09OLnBhcnNlKGpzb25TdHIpO1xuICAgIHJldHVybiB7XG4gICAgICB0b1N0cmluZzogKCkgPT4gdG9rZW4sXG4gICAgICBwYXlsb2FkXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRva2VuIHBheWxvYWQnKTtcbiAgfVxufVxuZXhwb3J0IHsgYXNzZXJ0SWRlbnRpdHlQb29sSWRDb25maWcsIGFzc2VydE9BdXRoQ29uZmlnLCBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnLCBkZWNvZGVKV1QgfTtcbiIsIi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IGRlZXBGcmVlemUgPSBvYmplY3QgPT4ge1xuICBjb25zdCBwcm9wTmFtZXMgPSBSZWZsZWN0Lm93bktleXMob2JqZWN0KTtcbiAgZm9yIChjb25zdCBuYW1lIG9mIHByb3BOYW1lcykge1xuICAgIGNvbnN0IHZhbHVlID0gb2JqZWN0W25hbWVdO1xuICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZGVlcEZyZWV6ZSh2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBPYmplY3QuZnJlZXplKG9iamVjdCk7XG59O1xuZXhwb3J0IHsgZGVlcEZyZWV6ZSB9O1xuIiwiaW1wb3J0IHsgQ29uc29sZUxvZ2dlciB9IGZyb20gJy4vTG9nZ2VyL0NvbnNvbGVMb2dnZXIubWpzJztcbmltcG9ydCB7IEFtcGxpZnlFcnJvciB9IGZyb20gJy4vZXJyb3JzL0FtcGxpZnlFcnJvci5tanMnO1xuaW1wb3J0ICcuL3R5cGVzL2Vycm9ycy5tanMnO1xuaW1wb3J0ICcuL2Vycm9ycy9lcnJvckhlbHBlcnMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuY29uc3QgbG9nZ2VyID0gbmV3IENvbnNvbGVMb2dnZXIoJ3BhcnNlQVdTRXhwb3J0cycpO1xuY29uc3QgYXV0aFR5cGVNYXBwaW5nID0ge1xuICBBUElfS0VZOiAnYXBpS2V5JyxcbiAgQVdTX0lBTTogJ2lhbScsXG4gIEFNQVpPTl9DT0dOSVRPX1VTRVJfUE9PTFM6ICd1c2VyUG9vbCcsXG4gIE9QRU5JRF9DT05ORUNUOiAnb2lkYycsXG4gIE5PTkU6ICdub25lJyxcbiAgQVdTX0xBTUJEQTogJ2xhbWJkYScsXG4gIC8vIGBMQU1CREFgIGlzIGFuIGluY29ycmVjdCB2YWx1ZSB0aGF0IHdhcyBhZGRlZCBkdXJpbmcgdGhlIHY2IHJld3JpdGUuXG4gIC8vIEtlZXBpbmcgaXQgYXMgYSB2YWxpZCB2YWx1ZSB1bnRpbCB2NyB0byBwcmV2ZW50IGJyZWFraW5nIGN1c3RvbWVycyB3aG8gbWlnaHRcbiAgLy8gYmUgcmVseWluZyBvbiBpdCBhcyBhIHdvcmthcm91bmQuXG4gIC8vIHJlZjogaHR0cHM6Ly9naXRodWIuY29tL2F3cy1hbXBsaWZ5L2FtcGxpZnktanMvcHVsbC8xMjkyMlxuICAvLyBUT0RPOiBAdjcgcmVtb3ZlIG5leHQgbGluZVxuICBMQU1CREE6ICdsYW1iZGEnXG59O1xuLyoqXG4gKiBDb252ZXJ0cyB0aGUgb2JqZWN0IGltcG9ydGVkIGZyb20gYGF3cy1leHBvcnRzLmpzYCBvciBgYW1wbGlmeWNvbmZpZ3VyYXRpb24uanNvbmAgZmlsZXMgZ2VuZXJhdGVkIGJ5XG4gKiB0aGUgQW1wbGlmeSBDTEkgaW50byBhbiBvYmplY3QgdGhhdCBjb25mb3JtcyB0byB0aGUge0BsaW5rIFJlc291cmNlc0NvbmZpZ30uXG4gKlxuICogQHBhcmFtIGNvbmZpZyBBIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGltcG9ydGVkICBmcm9tIGBhd3MtZXhwb3J0cy5qc2Agb3IgYGFtcGxpZnljb25maWd1cmF0aW9uLmpzb25gLlxuICpcbiAqIEByZXR1cm5zIEFuIG9iamVjdCB0aGF0IGNvbmZvcm1zIHRvIHRoZSB7QGxpbmsgUmVzb3VyY2VzQ29uZmlnfSAuXG4gKi9cbmNvbnN0IHBhcnNlQVdTRXhwb3J0cyA9IChjb25maWcgPSB7fSkgPT4ge1xuICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsICdhd3NfcHJvamVjdF9yZWdpb24nKSkge1xuICAgIHRocm93IG5ldyBBbXBsaWZ5RXJyb3Ioe1xuICAgICAgbmFtZTogJ0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb24nLFxuICAgICAgbWVzc2FnZTogJ0ludmFsaWQgY29uZmlnIHBhcmFtZXRlci4nLFxuICAgICAgcmVjb3ZlcnlTdWdnZXN0aW9uOiAnRW5zdXJlIHBhc3NpbmcgdGhlIGNvbmZpZyBvYmplY3QgaW1wb3J0ZWQgZnJvbSAgYGFtcGxpZnljb25maWd1cmF0aW9uLmpzb25gLidcbiAgICB9KTtcbiAgfVxuICBjb25zdCB7XG4gICAgYXdzX2FwcHN5bmNfYXBpS2V5LFxuICAgIGF3c19hcHBzeW5jX2F1dGhlbnRpY2F0aW9uVHlwZSxcbiAgICBhd3NfYXBwc3luY19ncmFwaHFsRW5kcG9pbnQsXG4gICAgYXdzX2FwcHN5bmNfcmVnaW9uLFxuICAgIGF3c19ib3RzX2NvbmZpZyxcbiAgICBhd3NfY29nbml0b19pZGVudGl0eV9wb29sX2lkLFxuICAgIGF3c19jb2duaXRvX3NpZ25fdXBfdmVyaWZpY2F0aW9uX21ldGhvZCxcbiAgICBhd3NfY29nbml0b19tZmFfY29uZmlndXJhdGlvbixcbiAgICBhd3NfY29nbml0b19tZmFfdHlwZXMsXG4gICAgYXdzX2NvZ25pdG9fcGFzc3dvcmRfcHJvdGVjdGlvbl9zZXR0aW5ncyxcbiAgICBhd3NfY29nbml0b192ZXJpZmljYXRpb25fbWVjaGFuaXNtcyxcbiAgICBhd3NfY29nbml0b19zaWdudXBfYXR0cmlidXRlcyxcbiAgICBhd3NfY29nbml0b19zb2NpYWxfcHJvdmlkZXJzLFxuICAgIGF3c19jb2duaXRvX3VzZXJuYW1lX2F0dHJpYnV0ZXMsXG4gICAgYXdzX21hbmRhdG9yeV9zaWduX2luLFxuICAgIGF3c19tb2JpbGVfYW5hbHl0aWNzX2FwcF9pZCxcbiAgICBhd3NfbW9iaWxlX2FuYWx5dGljc19hcHBfcmVnaW9uLFxuICAgIGF3c191c2VyX2ZpbGVzX3MzX2J1Y2tldCxcbiAgICBhd3NfdXNlcl9maWxlc19zM19idWNrZXRfcmVnaW9uLFxuICAgIGF3c191c2VyX2ZpbGVzX3MzX2Rhbmdlcm91c2x5X2Nvbm5lY3RfdG9faHR0cF9lbmRwb2ludF9mb3JfdGVzdGluZyxcbiAgICBhd3NfdXNlcl9wb29sc19pZCxcbiAgICBhd3NfdXNlcl9wb29sc193ZWJfY2xpZW50X2lkLFxuICAgIGdlbyxcbiAgICBvYXV0aCxcbiAgICBwcmVkaWN0aW9ucyxcbiAgICBhd3NfY2xvdWRfbG9naWNfY3VzdG9tLFxuICAgIE5vdGlmaWNhdGlvbnMsXG4gICAgbW9kZWxJbnRyb3NwZWN0aW9uXG4gIH0gPSBjb25maWc7XG4gIGNvbnN0IGFtcGxpZnlDb25maWcgPSB7fTtcbiAgLy8gQW5hbHl0aWNzXG4gIGlmIChhd3NfbW9iaWxlX2FuYWx5dGljc19hcHBfaWQpIHtcbiAgICBhbXBsaWZ5Q29uZmlnLkFuYWx5dGljcyA9IHtcbiAgICAgIFBpbnBvaW50OiB7XG4gICAgICAgIGFwcElkOiBhd3NfbW9iaWxlX2FuYWx5dGljc19hcHBfaWQsXG4gICAgICAgIHJlZ2lvbjogYXdzX21vYmlsZV9hbmFseXRpY3NfYXBwX3JlZ2lvblxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLy8gTm90aWZpY2F0aW9uc1xuICBjb25zdCB7XG4gICAgSW5BcHBNZXNzYWdpbmcsXG4gICAgUHVzaFxuICB9ID0gTm90aWZpY2F0aW9ucyA/PyB7fTtcbiAgaWYgKEluQXBwTWVzc2FnaW5nPy5BV1NQaW5wb2ludCB8fCBQdXNoPy5BV1NQaW5wb2ludCkge1xuICAgIGlmIChJbkFwcE1lc3NhZ2luZz8uQVdTUGlucG9pbnQpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgYXBwSWQsXG4gICAgICAgIHJlZ2lvblxuICAgICAgfSA9IEluQXBwTWVzc2FnaW5nLkFXU1BpbnBvaW50O1xuICAgICAgYW1wbGlmeUNvbmZpZy5Ob3RpZmljYXRpb25zID0ge1xuICAgICAgICBJbkFwcE1lc3NhZ2luZzoge1xuICAgICAgICAgIFBpbnBvaW50OiB7XG4gICAgICAgICAgICBhcHBJZCxcbiAgICAgICAgICAgIHJlZ2lvblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKFB1c2g/LkFXU1BpbnBvaW50KSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGFwcElkLFxuICAgICAgICByZWdpb25cbiAgICAgIH0gPSBQdXNoLkFXU1BpbnBvaW50O1xuICAgICAgYW1wbGlmeUNvbmZpZy5Ob3RpZmljYXRpb25zID0ge1xuICAgICAgICAuLi5hbXBsaWZ5Q29uZmlnLk5vdGlmaWNhdGlvbnMsXG4gICAgICAgIFB1c2hOb3RpZmljYXRpb246IHtcbiAgICAgICAgICBQaW5wb2ludDoge1xuICAgICAgICAgICAgYXBwSWQsXG4gICAgICAgICAgICByZWdpb25cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9XG4gIC8vIEludGVyYWN0aW9uc1xuICBpZiAoQXJyYXkuaXNBcnJheShhd3NfYm90c19jb25maWcpKSB7XG4gICAgYW1wbGlmeUNvbmZpZy5JbnRlcmFjdGlvbnMgPSB7XG4gICAgICBMZXhWMTogT2JqZWN0LmZyb21FbnRyaWVzKGF3c19ib3RzX2NvbmZpZy5tYXAoYm90ID0+IFtib3QubmFtZSwgYm90XSkpXG4gICAgfTtcbiAgfVxuICAvLyBBUElcbiAgaWYgKGF3c19hcHBzeW5jX2dyYXBocWxFbmRwb2ludCkge1xuICAgIGNvbnN0IGRlZmF1bHRBdXRoTW9kZSA9IGF1dGhUeXBlTWFwcGluZ1thd3NfYXBwc3luY19hdXRoZW50aWNhdGlvblR5cGVdO1xuICAgIGlmICghZGVmYXVsdEF1dGhNb2RlKSB7XG4gICAgICBsb2dnZXIuZGVidWcoYEludmFsaWQgYXV0aGVudGljYXRpb24gdHlwZSAke2F3c19hcHBzeW5jX2F1dGhlbnRpY2F0aW9uVHlwZX0uIEZhbGxpbmcgYmFjayB0byBJQU0uYCk7XG4gICAgfVxuICAgIGFtcGxpZnlDb25maWcuQVBJID0ge1xuICAgICAgR3JhcGhRTDoge1xuICAgICAgICBlbmRwb2ludDogYXdzX2FwcHN5bmNfZ3JhcGhxbEVuZHBvaW50LFxuICAgICAgICBhcGlLZXk6IGF3c19hcHBzeW5jX2FwaUtleSxcbiAgICAgICAgcmVnaW9uOiBhd3NfYXBwc3luY19yZWdpb24sXG4gICAgICAgIGRlZmF1bHRBdXRoTW9kZTogZGVmYXVsdEF1dGhNb2RlID8/ICdpYW0nXG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAobW9kZWxJbnRyb3NwZWN0aW9uKSB7XG4gICAgICBhbXBsaWZ5Q29uZmlnLkFQSS5HcmFwaFFMLm1vZGVsSW50cm9zcGVjdGlvbiA9IG1vZGVsSW50cm9zcGVjdGlvbjtcbiAgICB9XG4gIH1cbiAgLy8gQXV0aFxuICBjb25zdCBtZmFDb25maWcgPSBhd3NfY29nbml0b19tZmFfY29uZmlndXJhdGlvbiA/IHtcbiAgICBzdGF0dXM6IGF3c19jb2duaXRvX21mYV9jb25maWd1cmF0aW9uICYmIGF3c19jb2duaXRvX21mYV9jb25maWd1cmF0aW9uLnRvTG93ZXJDYXNlKCksXG4gICAgdG90cEVuYWJsZWQ6IGF3c19jb2duaXRvX21mYV90eXBlcz8uaW5jbHVkZXMoJ1RPVFAnKSA/PyBmYWxzZSxcbiAgICBzbXNFbmFibGVkOiBhd3NfY29nbml0b19tZmFfdHlwZXM/LmluY2x1ZGVzKCdTTVMnKSA/PyBmYWxzZVxuICB9IDogdW5kZWZpbmVkO1xuICBjb25zdCBwYXNzd29yZEZvcm1hdENvbmZpZyA9IGF3c19jb2duaXRvX3Bhc3N3b3JkX3Byb3RlY3Rpb25fc2V0dGluZ3MgPyB7XG4gICAgbWluTGVuZ3RoOiBhd3NfY29nbml0b19wYXNzd29yZF9wcm90ZWN0aW9uX3NldHRpbmdzLnBhc3N3b3JkUG9saWN5TWluTGVuZ3RoLFxuICAgIHJlcXVpcmVMb3dlcmNhc2U6IGF3c19jb2duaXRvX3Bhc3N3b3JkX3Byb3RlY3Rpb25fc2V0dGluZ3MucGFzc3dvcmRQb2xpY3lDaGFyYWN0ZXJzPy5pbmNsdWRlcygnUkVRVUlSRVNfTE9XRVJDQVNFJykgPz8gZmFsc2UsXG4gICAgcmVxdWlyZVVwcGVyY2FzZTogYXdzX2NvZ25pdG9fcGFzc3dvcmRfcHJvdGVjdGlvbl9zZXR0aW5ncy5wYXNzd29yZFBvbGljeUNoYXJhY3RlcnM/LmluY2x1ZGVzKCdSRVFVSVJFU19VUFBFUkNBU0UnKSA/PyBmYWxzZSxcbiAgICByZXF1aXJlTnVtYmVyczogYXdzX2NvZ25pdG9fcGFzc3dvcmRfcHJvdGVjdGlvbl9zZXR0aW5ncy5wYXNzd29yZFBvbGljeUNoYXJhY3RlcnM/LmluY2x1ZGVzKCdSRVFVSVJFU19OVU1CRVJTJykgPz8gZmFsc2UsXG4gICAgcmVxdWlyZVNwZWNpYWxDaGFyYWN0ZXJzOiBhd3NfY29nbml0b19wYXNzd29yZF9wcm90ZWN0aW9uX3NldHRpbmdzLnBhc3N3b3JkUG9saWN5Q2hhcmFjdGVycz8uaW5jbHVkZXMoJ1JFUVVJUkVTX1NZTUJPTFMnKSA/PyBmYWxzZVxuICB9IDogdW5kZWZpbmVkO1xuICBjb25zdCBtZXJnZWRVc2VyQXR0cmlidXRlcyA9IEFycmF5LmZyb20obmV3IFNldChbLi4uKGF3c19jb2duaXRvX3ZlcmlmaWNhdGlvbl9tZWNoYW5pc21zID8/IFtdKSwgLi4uKGF3c19jb2duaXRvX3NpZ251cF9hdHRyaWJ1dGVzID8/IFtdKV0pKTtcbiAgY29uc3QgdXNlckF0dHJpYnV0ZXMgPSBtZXJnZWRVc2VyQXR0cmlidXRlcy5yZWR1Y2UoKGF0dHJpYnV0ZXMsIGtleSkgPT4gKHtcbiAgICAuLi5hdHRyaWJ1dGVzLFxuICAgIC8vIEFsbCB1c2VyIGF0dHJpYnV0ZXMgZ2VuZXJhdGVkIGJ5IHRoZSBDTEkgYXJlIHJlcXVpcmVkXG4gICAgW2tleS50b0xvd2VyQ2FzZSgpXToge1xuICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9XG4gIH0pLCB7fSk7XG4gIGNvbnN0IGxvZ2luV2l0aEVtYWlsRW5hYmxlZCA9IGF3c19jb2duaXRvX3VzZXJuYW1lX2F0dHJpYnV0ZXM/LmluY2x1ZGVzKCdFTUFJTCcpID8/IGZhbHNlO1xuICBjb25zdCBsb2dpbldpdGhQaG9uZUVuYWJsZWQgPSBhd3NfY29nbml0b191c2VybmFtZV9hdHRyaWJ1dGVzPy5pbmNsdWRlcygnUEhPTkVfTlVNQkVSJykgPz8gZmFsc2U7XG4gIGlmIChhd3NfY29nbml0b19pZGVudGl0eV9wb29sX2lkIHx8IGF3c191c2VyX3Bvb2xzX2lkKSB7XG4gICAgYW1wbGlmeUNvbmZpZy5BdXRoID0ge1xuICAgICAgQ29nbml0bzoge1xuICAgICAgICBpZGVudGl0eVBvb2xJZDogYXdzX2NvZ25pdG9faWRlbnRpdHlfcG9vbF9pZCxcbiAgICAgICAgYWxsb3dHdWVzdEFjY2VzczogYXdzX21hbmRhdG9yeV9zaWduX2luICE9PSAnZW5hYmxlJyxcbiAgICAgICAgc2lnblVwVmVyaWZpY2F0aW9uTWV0aG9kOiBhd3NfY29nbml0b19zaWduX3VwX3ZlcmlmaWNhdGlvbl9tZXRob2QsXG4gICAgICAgIHVzZXJBdHRyaWJ1dGVzLFxuICAgICAgICB1c2VyUG9vbENsaWVudElkOiBhd3NfdXNlcl9wb29sc193ZWJfY2xpZW50X2lkLFxuICAgICAgICB1c2VyUG9vbElkOiBhd3NfdXNlcl9wb29sc19pZCxcbiAgICAgICAgbWZhOiBtZmFDb25maWcsXG4gICAgICAgIHBhc3N3b3JkRm9ybWF0OiBwYXNzd29yZEZvcm1hdENvbmZpZyxcbiAgICAgICAgbG9naW5XaXRoOiB7XG4gICAgICAgICAgdXNlcm5hbWU6ICEobG9naW5XaXRoRW1haWxFbmFibGVkIHx8IGxvZ2luV2l0aFBob25lRW5hYmxlZCksXG4gICAgICAgICAgZW1haWw6IGxvZ2luV2l0aEVtYWlsRW5hYmxlZCxcbiAgICAgICAgICBwaG9uZTogbG9naW5XaXRoUGhvbmVFbmFibGVkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGNvbnN0IGhhc09BdXRoQ29uZmlnID0gb2F1dGggPyBPYmplY3Qua2V5cyhvYXV0aCkubGVuZ3RoID4gMCA6IGZhbHNlO1xuICBjb25zdCBoYXNTb2NpYWxQcm92aWRlckNvbmZpZyA9IGF3c19jb2duaXRvX3NvY2lhbF9wcm92aWRlcnMgPyBhd3NfY29nbml0b19zb2NpYWxfcHJvdmlkZXJzLmxlbmd0aCA+IDAgOiBmYWxzZTtcbiAgaWYgKGFtcGxpZnlDb25maWcuQXV0aCAmJiBoYXNPQXV0aENvbmZpZykge1xuICAgIGFtcGxpZnlDb25maWcuQXV0aC5Db2duaXRvLmxvZ2luV2l0aCA9IHtcbiAgICAgIC4uLmFtcGxpZnlDb25maWcuQXV0aC5Db2duaXRvLmxvZ2luV2l0aCxcbiAgICAgIG9hdXRoOiB7XG4gICAgICAgIC4uLmdldE9BdXRoQ29uZmlnKG9hdXRoKSxcbiAgICAgICAgLi4uKGhhc1NvY2lhbFByb3ZpZGVyQ29uZmlnICYmIHtcbiAgICAgICAgICBwcm92aWRlcnM6IHBhcnNlU29jaWFsUHJvdmlkZXJzKGF3c19jb2duaXRvX3NvY2lhbF9wcm92aWRlcnMpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvLyBTdG9yYWdlXG4gIGlmIChhd3NfdXNlcl9maWxlc19zM19idWNrZXQpIHtcbiAgICBhbXBsaWZ5Q29uZmlnLlN0b3JhZ2UgPSB7XG4gICAgICBTMzoge1xuICAgICAgICBidWNrZXQ6IGF3c191c2VyX2ZpbGVzX3MzX2J1Y2tldCxcbiAgICAgICAgcmVnaW9uOiBhd3NfdXNlcl9maWxlc19zM19idWNrZXRfcmVnaW9uLFxuICAgICAgICBkYW5nZXJvdXNseUNvbm5lY3RUb0h0dHBFbmRwb2ludEZvclRlc3Rpbmc6IGF3c191c2VyX2ZpbGVzX3MzX2Rhbmdlcm91c2x5X2Nvbm5lY3RfdG9faHR0cF9lbmRwb2ludF9mb3JfdGVzdGluZ1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLy8gR2VvXG4gIGlmIChnZW8pIHtcbiAgICBjb25zdCB7XG4gICAgICBhbWF6b25fbG9jYXRpb25fc2VydmljZVxuICAgIH0gPSBnZW87XG4gICAgYW1wbGlmeUNvbmZpZy5HZW8gPSB7XG4gICAgICBMb2NhdGlvblNlcnZpY2U6IHtcbiAgICAgICAgbWFwczogYW1hem9uX2xvY2F0aW9uX3NlcnZpY2UubWFwcyxcbiAgICAgICAgZ2VvZmVuY2VDb2xsZWN0aW9uczogYW1hem9uX2xvY2F0aW9uX3NlcnZpY2UuZ2VvZmVuY2VDb2xsZWN0aW9ucyxcbiAgICAgICAgc2VhcmNoSW5kaWNlczogYW1hem9uX2xvY2F0aW9uX3NlcnZpY2Uuc2VhcmNoX2luZGljZXMsXG4gICAgICAgIHJlZ2lvbjogYW1hem9uX2xvY2F0aW9uX3NlcnZpY2UucmVnaW9uXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvLyBSRVNUIEFQSVxuICBpZiAoYXdzX2Nsb3VkX2xvZ2ljX2N1c3RvbSkge1xuICAgIGFtcGxpZnlDb25maWcuQVBJID0ge1xuICAgICAgLi4uYW1wbGlmeUNvbmZpZy5BUEksXG4gICAgICBSRVNUOiBhd3NfY2xvdWRfbG9naWNfY3VzdG9tLnJlZHVjZSgoYWNjLCBhcGkpID0+IHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgZW5kcG9pbnQsXG4gICAgICAgICAgcmVnaW9uLFxuICAgICAgICAgIHNlcnZpY2VcbiAgICAgICAgfSA9IGFwaTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAgW25hbWVdOiB7XG4gICAgICAgICAgICBlbmRwb2ludCxcbiAgICAgICAgICAgIC4uLihzZXJ2aWNlID8ge1xuICAgICAgICAgICAgICBzZXJ2aWNlXG4gICAgICAgICAgICB9IDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgIC4uLihyZWdpb24gPyB7XG4gICAgICAgICAgICAgIHJlZ2lvblxuICAgICAgICAgICAgfSA6IHVuZGVmaW5lZClcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9LCB7fSlcbiAgICB9O1xuICB9XG4gIC8vIFByZWRpY3Rpb25zXG4gIGlmIChwcmVkaWN0aW9ucykge1xuICAgIC8vIG1hcCBWb2ljZUlkIGZyb20gc3BlZWNoR2VuZXJhdG9yIGRlZmF1bHRzIHRvIHZvaWNlSWRcbiAgICBjb25zdCB7XG4gICAgICBWb2ljZUlkOiB2b2ljZUlkXG4gICAgfSA9IHByZWRpY3Rpb25zPy5jb252ZXJ0Py5zcGVlY2hHZW5lcmF0b3I/LmRlZmF1bHRzID8/IHt9O1xuICAgIGFtcGxpZnlDb25maWcuUHJlZGljdGlvbnMgPSB2b2ljZUlkID8ge1xuICAgICAgLi4ucHJlZGljdGlvbnMsXG4gICAgICBjb252ZXJ0OiB7XG4gICAgICAgIC4uLnByZWRpY3Rpb25zLmNvbnZlcnQsXG4gICAgICAgIHNwZWVjaEdlbmVyYXRvcjoge1xuICAgICAgICAgIC4uLnByZWRpY3Rpb25zLmNvbnZlcnQuc3BlZWNoR2VuZXJhdG9yLFxuICAgICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICB2b2ljZUlkXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSA6IHByZWRpY3Rpb25zO1xuICB9XG4gIHJldHVybiBhbXBsaWZ5Q29uZmlnO1xufTtcbmNvbnN0IGdldFJlZGlyZWN0VXJsID0gcmVkaXJlY3RTdHIgPT4gcmVkaXJlY3RTdHI/LnNwbGl0KCcsJykgPz8gW107XG5jb25zdCBnZXRPQXV0aENvbmZpZyA9ICh7XG4gIGRvbWFpbixcbiAgc2NvcGUsXG4gIHJlZGlyZWN0U2lnbkluLFxuICByZWRpcmVjdFNpZ25PdXQsXG4gIHJlc3BvbnNlVHlwZVxufSkgPT4gKHtcbiAgZG9tYWluLFxuICBzY29wZXM6IHNjb3BlLFxuICByZWRpcmVjdFNpZ25JbjogZ2V0UmVkaXJlY3RVcmwocmVkaXJlY3RTaWduSW4pLFxuICByZWRpcmVjdFNpZ25PdXQ6IGdldFJlZGlyZWN0VXJsKHJlZGlyZWN0U2lnbk91dCksXG4gIHJlc3BvbnNlVHlwZVxufSk7XG5jb25zdCBwYXJzZVNvY2lhbFByb3ZpZGVycyA9IGF3c19jb2duaXRvX3NvY2lhbF9wcm92aWRlcnMgPT4ge1xuICByZXR1cm4gYXdzX2NvZ25pdG9fc29jaWFsX3Byb3ZpZGVycy5tYXAocHJvdmlkZXIgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZWRQcm92aWRlciA9IHByb3ZpZGVyLnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIHVwZGF0ZWRQcm92aWRlci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHVwZGF0ZWRQcm92aWRlci5zbGljZSgxKTtcbiAgfSk7XG59O1xuZXhwb3J0IHsgcGFyc2VBV1NFeHBvcnRzIH07XG4iLCIvLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBBRERfT0FVVEhfTElTVEVORVIgPSBTeW1ib2woJ29hdXRoLWxpc3RlbmVyJyk7XG5leHBvcnQgeyBBRERfT0FVVEhfTElTVEVORVIgfTtcbiIsImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbmNvbnN0IGJ5dGVUb0hleCA9IFtdO1xuZm9yIChsZXQgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICBieXRlVG9IZXgucHVzaCgoaSArIDB4MTAwKS50b1N0cmluZygxNikuc2xpY2UoMSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVuc2FmZVN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgcmV0dXJuIChieXRlVG9IZXhbYXJyW29mZnNldCArIDBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDNdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA1XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDZdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgN11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA4XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDldXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTNdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTVdXSkudG9Mb3dlckNhc2UoKTtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgY29uc3QgdXVpZCA9IHVuc2FmZVN0cmluZ2lmeShhcnIsIG9mZnNldCk7XG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ1N0cmluZ2lmaWVkIFVVSUQgaXMgaW52YWxpZCcpO1xuICB9XG4gIHJldHVybiB1dWlkO1xufVxuZXhwb3J0IGRlZmF1bHQgc3RyaW5naWZ5OyIsImxldCBnZXRSYW5kb21WYWx1ZXM7XG5jb25zdCBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJuZygpIHtcbiAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICBpZiAodHlwZW9mIGNyeXB0byA9PT0gJ3VuZGVmaW5lZCcgfHwgIWNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWQnKTtcbiAgICB9XG4gICAgZ2V0UmFuZG9tVmFsdWVzID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byk7XG4gIH1cbiAgcmV0dXJuIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG59IiwiY29uc3QgcmFuZG9tVVVJRCA9IHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5yYW5kb21VVUlEICYmIGNyeXB0by5yYW5kb21VVUlELmJpbmQoY3J5cHRvKTtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmFuZG9tVVVJRFxufTsiLCJpbXBvcnQgbmF0aXZlIGZyb20gJy4vbmF0aXZlLmpzJztcbmltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHsgdW5zYWZlU3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgaWYgKG5hdGl2ZS5yYW5kb21VVUlEICYmICFidWYgJiYgIW9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmF0aXZlLnJhbmRvbVVVSUQoKTtcbiAgfVxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgY29uc3Qgcm5kcyA9IG9wdGlvbnMucmFuZG9tID8/IG9wdGlvbnMucm5nPy4oKSA/PyBybmcoKTtcbiAgaWYgKHJuZHMubGVuZ3RoIDwgMTYpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1JhbmRvbSBieXRlcyBsZW5ndGggbXVzdCBiZSA+PSAxNicpO1xuICB9XG4gIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gIHJuZHNbOF0gPSBybmRzWzhdICYgMHgzZiB8IDB4ODA7XG4gIGlmIChidWYpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcbiAgICBpZiAob2Zmc2V0IDwgMCB8fCBvZmZzZXQgKyAxNiA+IGJ1Zi5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGBVVUlEIGJ5dGUgcmFuZ2UgJHtvZmZzZXR9OiR7b2Zmc2V0ICsgMTV9IGlzIG91dCBvZiBidWZmZXIgYm91bmRzYCk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgYnVmW29mZnNldCArIGldID0gcm5kc1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIGJ1ZjtcbiAgfVxuICByZXR1cm4gdW5zYWZlU3RyaW5naWZ5KHJuZHMpO1xufVxuZXhwb3J0IGRlZmF1bHQgdjQ7IiwiLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuZnVuY3Rpb24gaXNBbXBsaWZ5T3V0cHV0cyhjb25maWcpIHtcbiAgLy8gdmVyc2lvbiBmb3JtYXQgaW5pdGlhbGx5IHdpbGwgYmUgJzEnIGJ1dCBpcyBleHBlY3RlZCB0byBiZSBzb21ldGhpbmcgbGlrZSB4Lnkgd2hlcmUgeCBpcyBtYWpvciBhbmQgeSBtaW5vciB2ZXJzaW9uXG4gIGNvbnN0IHtcbiAgICB2ZXJzaW9uXG4gIH0gPSBjb25maWc7XG4gIGlmICghdmVyc2lvbikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdmVyc2lvbi5zdGFydHNXaXRoKCcxJyk7XG59XG5mdW5jdGlvbiBwYXJzZVN0b3JhZ2UoYW1wbGlmeU91dHB1dHNTdG9yYWdlUHJvcGVydGllcykge1xuICBpZiAoIWFtcGxpZnlPdXRwdXRzU3RvcmFnZVByb3BlcnRpZXMpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGNvbnN0IHtcbiAgICBidWNrZXRfbmFtZSxcbiAgICBhd3NfcmVnaW9uLFxuICAgIGJ1Y2tldHNcbiAgfSA9IGFtcGxpZnlPdXRwdXRzU3RvcmFnZVByb3BlcnRpZXM7XG4gIHJldHVybiB7XG4gICAgUzM6IHtcbiAgICAgIGJ1Y2tldDogYnVja2V0X25hbWUsXG4gICAgICByZWdpb246IGF3c19yZWdpb24sXG4gICAgICBidWNrZXRzOiBidWNrZXRzICYmIGNyZWF0ZUJ1Y2tldEluZm9NYXAoYnVja2V0cylcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBwYXJzZUF1dGgoYW1wbGlmeU91dHB1dHNBdXRoUHJvcGVydGllcykge1xuICBpZiAoIWFtcGxpZnlPdXRwdXRzQXV0aFByb3BlcnRpZXMpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGNvbnN0IHtcbiAgICB1c2VyX3Bvb2xfaWQsXG4gICAgdXNlcl9wb29sX2NsaWVudF9pZCxcbiAgICBpZGVudGl0eV9wb29sX2lkLFxuICAgIHBhc3N3b3JkX3BvbGljeSxcbiAgICBtZmFfY29uZmlndXJhdGlvbixcbiAgICBtZmFfbWV0aG9kcyxcbiAgICB1bmF1dGhlbnRpY2F0ZWRfaWRlbnRpdGllc19lbmFibGVkLFxuICAgIG9hdXRoLFxuICAgIHVzZXJuYW1lX2F0dHJpYnV0ZXMsXG4gICAgc3RhbmRhcmRfcmVxdWlyZWRfYXR0cmlidXRlcyxcbiAgICBncm91cHNcbiAgfSA9IGFtcGxpZnlPdXRwdXRzQXV0aFByb3BlcnRpZXM7XG4gIGNvbnN0IGF1dGhDb25maWcgPSB7XG4gICAgQ29nbml0bzoge1xuICAgICAgdXNlclBvb2xJZDogdXNlcl9wb29sX2lkLFxuICAgICAgdXNlclBvb2xDbGllbnRJZDogdXNlcl9wb29sX2NsaWVudF9pZCxcbiAgICAgIGdyb3Vwc1xuICAgIH1cbiAgfTtcbiAgaWYgKGlkZW50aXR5X3Bvb2xfaWQpIHtcbiAgICBhdXRoQ29uZmlnLkNvZ25pdG8gPSB7XG4gICAgICAuLi5hdXRoQ29uZmlnLkNvZ25pdG8sXG4gICAgICBpZGVudGl0eVBvb2xJZDogaWRlbnRpdHlfcG9vbF9pZFxuICAgIH07XG4gIH1cbiAgaWYgKHBhc3N3b3JkX3BvbGljeSkge1xuICAgIGF1dGhDb25maWcuQ29nbml0by5wYXNzd29yZEZvcm1hdCA9IHtcbiAgICAgIHJlcXVpcmVMb3dlcmNhc2U6IHBhc3N3b3JkX3BvbGljeS5yZXF1aXJlX2xvd2VyY2FzZSxcbiAgICAgIHJlcXVpcmVOdW1iZXJzOiBwYXNzd29yZF9wb2xpY3kucmVxdWlyZV9udW1iZXJzLFxuICAgICAgcmVxdWlyZVVwcGVyY2FzZTogcGFzc3dvcmRfcG9saWN5LnJlcXVpcmVfdXBwZXJjYXNlLFxuICAgICAgcmVxdWlyZVNwZWNpYWxDaGFyYWN0ZXJzOiBwYXNzd29yZF9wb2xpY3kucmVxdWlyZV9zeW1ib2xzLFxuICAgICAgbWluTGVuZ3RoOiBwYXNzd29yZF9wb2xpY3kubWluX2xlbmd0aCA/PyA2XG4gICAgfTtcbiAgfVxuICBpZiAobWZhX2NvbmZpZ3VyYXRpb24pIHtcbiAgICBhdXRoQ29uZmlnLkNvZ25pdG8ubWZhID0ge1xuICAgICAgc3RhdHVzOiBnZXRNZmFTdGF0dXMobWZhX2NvbmZpZ3VyYXRpb24pLFxuICAgICAgc21zRW5hYmxlZDogbWZhX21ldGhvZHM/LmluY2x1ZGVzKCdTTVMnKSxcbiAgICAgIHRvdHBFbmFibGVkOiBtZmFfbWV0aG9kcz8uaW5jbHVkZXMoJ1RPVFAnKVxuICAgIH07XG4gIH1cbiAgaWYgKHVuYXV0aGVudGljYXRlZF9pZGVudGl0aWVzX2VuYWJsZWQpIHtcbiAgICBhdXRoQ29uZmlnLkNvZ25pdG8uYWxsb3dHdWVzdEFjY2VzcyA9IHVuYXV0aGVudGljYXRlZF9pZGVudGl0aWVzX2VuYWJsZWQ7XG4gIH1cbiAgaWYgKG9hdXRoKSB7XG4gICAgYXV0aENvbmZpZy5Db2duaXRvLmxvZ2luV2l0aCA9IHtcbiAgICAgIG9hdXRoOiB7XG4gICAgICAgIGRvbWFpbjogb2F1dGguZG9tYWluLFxuICAgICAgICByZWRpcmVjdFNpZ25Jbjogb2F1dGgucmVkaXJlY3Rfc2lnbl9pbl91cmksXG4gICAgICAgIHJlZGlyZWN0U2lnbk91dDogb2F1dGgucmVkaXJlY3Rfc2lnbl9vdXRfdXJpLFxuICAgICAgICByZXNwb25zZVR5cGU6IG9hdXRoLnJlc3BvbnNlX3R5cGUgPT09ICd0b2tlbicgPyAndG9rZW4nIDogJ2NvZGUnLFxuICAgICAgICBzY29wZXM6IG9hdXRoLnNjb3BlcyxcbiAgICAgICAgcHJvdmlkZXJzOiBnZXRPQXV0aFByb3ZpZGVycyhvYXV0aC5pZGVudGl0eV9wcm92aWRlcnMpXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBpZiAodXNlcm5hbWVfYXR0cmlidXRlcykge1xuICAgIGF1dGhDb25maWcuQ29nbml0by5sb2dpbldpdGggPSB7XG4gICAgICAuLi5hdXRoQ29uZmlnLkNvZ25pdG8ubG9naW5XaXRoLFxuICAgICAgZW1haWw6IHVzZXJuYW1lX2F0dHJpYnV0ZXMuaW5jbHVkZXMoJ2VtYWlsJyksXG4gICAgICBwaG9uZTogdXNlcm5hbWVfYXR0cmlidXRlcy5pbmNsdWRlcygncGhvbmVfbnVtYmVyJyksXG4gICAgICAvLyBTaWduaW5nIGluIHdpdGggYSB1c2VybmFtZSBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBpbiBHZW4yLCB0aGlzIHNob3VsZCBhbHdheXMgZXZhbHVhdGUgdG8gZmFsc2VcbiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZV9hdHRyaWJ1dGVzLmluY2x1ZGVzKCd1c2VybmFtZScpXG4gICAgfTtcbiAgfVxuICBpZiAoc3RhbmRhcmRfcmVxdWlyZWRfYXR0cmlidXRlcykge1xuICAgIGF1dGhDb25maWcuQ29nbml0by51c2VyQXR0cmlidXRlcyA9IHN0YW5kYXJkX3JlcXVpcmVkX2F0dHJpYnV0ZXMucmVkdWNlKChhY2MsIGN1cnIpID0+ICh7XG4gICAgICAuLi5hY2MsXG4gICAgICBbY3Vycl06IHtcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgIH1cbiAgICB9KSwge30pO1xuICB9XG4gIHJldHVybiBhdXRoQ29uZmlnO1xufVxuZnVuY3Rpb24gcGFyc2VBbmFseXRpY3MoYW1wbGlmeU91dHB1dHNBbmFseXRpY3NQcm9wZXJ0aWVzKSB7XG4gIGlmICghYW1wbGlmeU91dHB1dHNBbmFseXRpY3NQcm9wZXJ0aWVzPy5hbWF6b25fcGlucG9pbnQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGNvbnN0IHtcbiAgICBhbWF6b25fcGlucG9pbnRcbiAgfSA9IGFtcGxpZnlPdXRwdXRzQW5hbHl0aWNzUHJvcGVydGllcztcbiAgcmV0dXJuIHtcbiAgICBQaW5wb2ludDoge1xuICAgICAgYXBwSWQ6IGFtYXpvbl9waW5wb2ludC5hcHBfaWQsXG4gICAgICByZWdpb246IGFtYXpvbl9waW5wb2ludC5hd3NfcmVnaW9uXG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gcGFyc2VHZW8oYW1wbGlmeU91dHB1dHNBbmFseXRpY3NQcm9wZXJ0aWVzKSB7XG4gIGlmICghYW1wbGlmeU91dHB1dHNBbmFseXRpY3NQcm9wZXJ0aWVzKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBjb25zdCB7XG4gICAgYXdzX3JlZ2lvbixcbiAgICBnZW9mZW5jZV9jb2xsZWN0aW9ucyxcbiAgICBtYXBzLFxuICAgIHNlYXJjaF9pbmRpY2VzXG4gIH0gPSBhbXBsaWZ5T3V0cHV0c0FuYWx5dGljc1Byb3BlcnRpZXM7XG4gIHJldHVybiB7XG4gICAgTG9jYXRpb25TZXJ2aWNlOiB7XG4gICAgICByZWdpb246IGF3c19yZWdpb24sXG4gICAgICBzZWFyY2hJbmRpY2VzOiBzZWFyY2hfaW5kaWNlcyxcbiAgICAgIGdlb2ZlbmNlQ29sbGVjdGlvbnM6IGdlb2ZlbmNlX2NvbGxlY3Rpb25zLFxuICAgICAgbWFwc1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlRGF0YShhbXBsaWZ5T3V0cHV0c0RhdGFQcm9wZXJ0aWVzKSB7XG4gIGlmICghYW1wbGlmeU91dHB1dHNEYXRhUHJvcGVydGllcykge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgY29uc3Qge1xuICAgIGF3c19yZWdpb24sXG4gICAgZGVmYXVsdF9hdXRob3JpemF0aW9uX3R5cGUsXG4gICAgdXJsLFxuICAgIGFwaV9rZXksXG4gICAgbW9kZWxfaW50cm9zcGVjdGlvblxuICB9ID0gYW1wbGlmeU91dHB1dHNEYXRhUHJvcGVydGllcztcbiAgY29uc3QgR3JhcGhRTCA9IHtcbiAgICBlbmRwb2ludDogdXJsLFxuICAgIGRlZmF1bHRBdXRoTW9kZTogZ2V0R3JhcGhRTEF1dGhNb2RlKGRlZmF1bHRfYXV0aG9yaXphdGlvbl90eXBlKSxcbiAgICByZWdpb246IGF3c19yZWdpb24sXG4gICAgYXBpS2V5OiBhcGlfa2V5LFxuICAgIG1vZGVsSW50cm9zcGVjdGlvbjogbW9kZWxfaW50cm9zcGVjdGlvblxuICB9O1xuICByZXR1cm4ge1xuICAgIEdyYXBoUUxcbiAgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlQ3VzdG9tKGFtcGxpZnlPdXRwdXRzQ3VzdG9tUHJvcGVydGllcykge1xuICBpZiAoIWFtcGxpZnlPdXRwdXRzQ3VzdG9tUHJvcGVydGllcz8uZXZlbnRzKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBjb25zdCB7XG4gICAgdXJsLFxuICAgIGF3c19yZWdpb24sXG4gICAgYXBpX2tleSxcbiAgICBkZWZhdWx0X2F1dGhvcml6YXRpb25fdHlwZVxuICB9ID0gYW1wbGlmeU91dHB1dHNDdXN0b21Qcm9wZXJ0aWVzLmV2ZW50cztcbiAgY29uc3QgRXZlbnRzID0ge1xuICAgIGVuZHBvaW50OiB1cmwsXG4gICAgZGVmYXVsdEF1dGhNb2RlOiBnZXRHcmFwaFFMQXV0aE1vZGUoZGVmYXVsdF9hdXRob3JpemF0aW9uX3R5cGUpLFxuICAgIHJlZ2lvbjogYXdzX3JlZ2lvbixcbiAgICBhcGlLZXk6IGFwaV9rZXlcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBFdmVudHNcbiAgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlTm90aWZpY2F0aW9ucyhhbXBsaWZ5T3V0cHV0c05vdGlmaWNhdGlvbnNQcm9wZXJ0aWVzKSB7XG4gIGlmICghYW1wbGlmeU91dHB1dHNOb3RpZmljYXRpb25zUHJvcGVydGllcykge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgY29uc3Qge1xuICAgIGF3c19yZWdpb24sXG4gICAgY2hhbm5lbHMsXG4gICAgYW1hem9uX3BpbnBvaW50X2FwcF9pZFxuICB9ID0gYW1wbGlmeU91dHB1dHNOb3RpZmljYXRpb25zUHJvcGVydGllcztcbiAgY29uc3QgaGFzSW5BcHBNZXNzYWdpbmcgPSBjaGFubmVscy5pbmNsdWRlcygnSU5fQVBQX01FU1NBR0lORycpO1xuICBjb25zdCBoYXNQdXNoTm90aWZpY2F0aW9uID0gY2hhbm5lbHMuaW5jbHVkZXMoJ0FQTlMnKSB8fCBjaGFubmVscy5pbmNsdWRlcygnRkNNJyk7XG4gIGlmICghKGhhc0luQXBwTWVzc2FnaW5nIHx8IGhhc1B1c2hOb3RpZmljYXRpb24pKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBrbm93IHRoZSBBbXBsaWZ5IG91dHB1dHMgY29udGFpbnMgYXQgbGVhc3Qgb25lIHN1cHBvcnRlZCBjaGFubmVsXG4gIGNvbnN0IG5vdGlmaWNhdGlvbnNDb25maWcgPSB7fTtcbiAgaWYgKGhhc0luQXBwTWVzc2FnaW5nKSB7XG4gICAgbm90aWZpY2F0aW9uc0NvbmZpZy5JbkFwcE1lc3NhZ2luZyA9IHtcbiAgICAgIFBpbnBvaW50OiB7XG4gICAgICAgIGFwcElkOiBhbWF6b25fcGlucG9pbnRfYXBwX2lkLFxuICAgICAgICByZWdpb246IGF3c19yZWdpb25cbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGlmIChoYXNQdXNoTm90aWZpY2F0aW9uKSB7XG4gICAgbm90aWZpY2F0aW9uc0NvbmZpZy5QdXNoTm90aWZpY2F0aW9uID0ge1xuICAgICAgUGlucG9pbnQ6IHtcbiAgICAgICAgYXBwSWQ6IGFtYXpvbl9waW5wb2ludF9hcHBfaWQsXG4gICAgICAgIHJlZ2lvbjogYXdzX3JlZ2lvblxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIG5vdGlmaWNhdGlvbnNDb25maWc7XG59XG5mdW5jdGlvbiBwYXJzZUFtcGxpZnlPdXRwdXRzKGFtcGxpZnlPdXRwdXRzKSB7XG4gIGNvbnN0IHJlc291cmNlc0NvbmZpZyA9IHt9O1xuICBpZiAoYW1wbGlmeU91dHB1dHMuc3RvcmFnZSkge1xuICAgIHJlc291cmNlc0NvbmZpZy5TdG9yYWdlID0gcGFyc2VTdG9yYWdlKGFtcGxpZnlPdXRwdXRzLnN0b3JhZ2UpO1xuICB9XG4gIGlmIChhbXBsaWZ5T3V0cHV0cy5hdXRoKSB7XG4gICAgcmVzb3VyY2VzQ29uZmlnLkF1dGggPSBwYXJzZUF1dGgoYW1wbGlmeU91dHB1dHMuYXV0aCk7XG4gIH1cbiAgaWYgKGFtcGxpZnlPdXRwdXRzLmFuYWx5dGljcykge1xuICAgIHJlc291cmNlc0NvbmZpZy5BbmFseXRpY3MgPSBwYXJzZUFuYWx5dGljcyhhbXBsaWZ5T3V0cHV0cy5hbmFseXRpY3MpO1xuICB9XG4gIGlmIChhbXBsaWZ5T3V0cHV0cy5nZW8pIHtcbiAgICByZXNvdXJjZXNDb25maWcuR2VvID0gcGFyc2VHZW8oYW1wbGlmeU91dHB1dHMuZ2VvKTtcbiAgfVxuICBpZiAoYW1wbGlmeU91dHB1dHMuZGF0YSkge1xuICAgIHJlc291cmNlc0NvbmZpZy5BUEkgPSBwYXJzZURhdGEoYW1wbGlmeU91dHB1dHMuZGF0YSk7XG4gIH1cbiAgaWYgKGFtcGxpZnlPdXRwdXRzLmN1c3RvbSkge1xuICAgIGNvbnN0IGN1c3RvbUNvbmZpZyA9IHBhcnNlQ3VzdG9tKGFtcGxpZnlPdXRwdXRzLmN1c3RvbSk7XG4gICAgaWYgKGN1c3RvbUNvbmZpZyAmJiAnRXZlbnRzJyBpbiBjdXN0b21Db25maWcpIHtcbiAgICAgIHJlc291cmNlc0NvbmZpZy5BUEkgPSB7XG4gICAgICAgIC4uLnJlc291cmNlc0NvbmZpZy5BUEksXG4gICAgICAgIC4uLmN1c3RvbUNvbmZpZ1xuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgaWYgKGFtcGxpZnlPdXRwdXRzLm5vdGlmaWNhdGlvbnMpIHtcbiAgICByZXNvdXJjZXNDb25maWcuTm90aWZpY2F0aW9ucyA9IHBhcnNlTm90aWZpY2F0aW9ucyhhbXBsaWZ5T3V0cHV0cy5ub3RpZmljYXRpb25zKTtcbiAgfVxuICByZXR1cm4gcmVzb3VyY2VzQ29uZmlnO1xufVxuY29uc3QgYXV0aE1vZGVOYW1lcyA9IHtcbiAgQU1BWk9OX0NPR05JVE9fVVNFUl9QT09MUzogJ3VzZXJQb29sJyxcbiAgQVBJX0tFWTogJ2FwaUtleScsXG4gIEFXU19JQU06ICdpYW0nLFxuICBBV1NfTEFNQkRBOiAnbGFtYmRhJyxcbiAgT1BFTklEX0NPTk5FQ1Q6ICdvaWRjJ1xufTtcbmZ1bmN0aW9uIGdldEdyYXBoUUxBdXRoTW9kZShhdXRoVHlwZSkge1xuICByZXR1cm4gYXV0aE1vZGVOYW1lc1thdXRoVHlwZV07XG59XG5jb25zdCBwcm92aWRlck5hbWVzID0ge1xuICBHT09HTEU6ICdHb29nbGUnLFxuICBMT0dJTl9XSVRIX0FNQVpPTjogJ0FtYXpvbicsXG4gIEZBQ0VCT09LOiAnRmFjZWJvb2snLFxuICBTSUdOX0lOX1dJVEhfQVBQTEU6ICdBcHBsZSdcbn07XG5mdW5jdGlvbiBnZXRPQXV0aFByb3ZpZGVycyhwcm92aWRlcnMgPSBbXSkge1xuICByZXR1cm4gcHJvdmlkZXJzLnJlZHVjZSgob0F1dGhQcm92aWRlcnMsIHByb3ZpZGVyKSA9PiB7XG4gICAgaWYgKHByb3ZpZGVyTmFtZXNbcHJvdmlkZXJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG9BdXRoUHJvdmlkZXJzLnB1c2gocHJvdmlkZXJOYW1lc1twcm92aWRlcl0pO1xuICAgIH1cbiAgICByZXR1cm4gb0F1dGhQcm92aWRlcnM7XG4gIH0sIFtdKTtcbn1cbmZ1bmN0aW9uIGdldE1mYVN0YXR1cyhtZmFDb25maWd1cmF0aW9uKSB7XG4gIGlmIChtZmFDb25maWd1cmF0aW9uID09PSAnT1BUSU9OQUwnKSByZXR1cm4gJ29wdGlvbmFsJztcbiAgaWYgKG1mYUNvbmZpZ3VyYXRpb24gPT09ICdSRVFVSVJFRCcpIHJldHVybiAnb24nO1xuICByZXR1cm4gJ29mZic7XG59XG5mdW5jdGlvbiBjcmVhdGVCdWNrZXRJbmZvTWFwKGJ1Y2tldHMpIHtcbiAgY29uc3QgbWFwcGVkQnVja2V0cyA9IHt9O1xuICBidWNrZXRzLmZvckVhY2goKHtcbiAgICBuYW1lLFxuICAgIGJ1Y2tldF9uYW1lOiBidWNrZXROYW1lLFxuICAgIGF3c19yZWdpb246IHJlZ2lvbixcbiAgICBwYXRoc1xuICB9KSA9PiB7XG4gICAgaWYgKG5hbWUgaW4gbWFwcGVkQnVja2V0cykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBEdXBsaWNhdGUgZnJpZW5kbHkgbmFtZSBmb3VuZDogJHtuYW1lfS4gTmFtZSBtdXN0IGJlIHVuaXF1ZS5gKTtcbiAgICB9XG4gICAgY29uc3Qgc2FuaXRpemVkUGF0aHMgPSBwYXRocyA/IE9iamVjdC5lbnRyaWVzKHBhdGhzKS5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhY2Nba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSkgOiB1bmRlZmluZWQ7XG4gICAgbWFwcGVkQnVja2V0c1tuYW1lXSA9IHtcbiAgICAgIGJ1Y2tldE5hbWUsXG4gICAgICByZWdpb24sXG4gICAgICBwYXRoczogc2FuaXRpemVkUGF0aHNcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIG1hcHBlZEJ1Y2tldHM7XG59XG5leHBvcnQgeyBpc0FtcGxpZnlPdXRwdXRzLCBwYXJzZUFtcGxpZnlPdXRwdXRzLCBwYXJzZUFuYWx5dGljcyB9O1xuIiwiaW1wb3J0IHsgcGFyc2VBV1NFeHBvcnRzIH0gZnJvbSAnLi4vcGFyc2VBV1NFeHBvcnRzLm1qcyc7XG5pbXBvcnQgeyBpc0FtcGxpZnlPdXRwdXRzLCBwYXJzZUFtcGxpZnlPdXRwdXRzIH0gZnJvbSAnLi4vcGFyc2VBbXBsaWZ5T3V0cHV0cy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIFBhcnNlcyB0aGUgdmFyaWV0eSBvZiBjb25maWd1cmF0aW9uIHNoYXBlcyB0aGF0IEFtcGxpZnkgY2FuIGFjY2VwdCBpbnRvIGEgUmVzb3VyY2VzQ29uZmlnLlxuICpcbiAqIEBwYXJhbSBhbXBsaWZ5Q29uZmlnIEFuIEFtcGxpZnkgY29uZmlndXJhdGlvbiBvYmplY3QgY29uZm9ybWluZyB0byBvbmUgb2YgdGhlIHN1cHBvcnRlZCBzY2hlbWFzLlxuICogQHJldHVybiBBIFJlc291cmNlc0NvbmZpZyBmb3IgdGhlIHByb3ZpZGVkIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuICovXG5jb25zdCBwYXJzZUFtcGxpZnlDb25maWcgPSBhbXBsaWZ5Q29uZmlnID0+IHtcbiAgaWYgKE9iamVjdC5rZXlzKGFtcGxpZnlDb25maWcpLnNvbWUoa2V5ID0+IGtleS5zdGFydHNXaXRoKCdhd3NfJykpKSB7XG4gICAgcmV0dXJuIHBhcnNlQVdTRXhwb3J0cyhhbXBsaWZ5Q29uZmlnKTtcbiAgfSBlbHNlIGlmIChpc0FtcGxpZnlPdXRwdXRzKGFtcGxpZnlDb25maWcpKSB7XG4gICAgcmV0dXJuIHBhcnNlQW1wbGlmeU91dHB1dHMoYW1wbGlmeUNvbmZpZyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFtcGxpZnlDb25maWc7XG4gIH1cbn07XG5leHBvcnQgeyBwYXJzZUFtcGxpZnlDb25maWcgfTtcbiIsIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCB2YXIgQkxPQ0tfU0laRSA9IDY0O1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IHZhciBESUdFU1RfTEVOR1RIID0gMzI7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgdmFyIEtFWSA9IG5ldyBVaW50MzJBcnJheShbMHg0MjhhMmY5OCwgMHg3MTM3NDQ5MSwgMHhiNWMwZmJjZiwgMHhlOWI1ZGJhNSwgMHgzOTU2YzI1YiwgMHg1OWYxMTFmMSwgMHg5MjNmODJhNCwgMHhhYjFjNWVkNSwgMHhkODA3YWE5OCwgMHgxMjgzNWIwMSwgMHgyNDMxODViZSwgMHg1NTBjN2RjMywgMHg3MmJlNWQ3NCwgMHg4MGRlYjFmZSwgMHg5YmRjMDZhNywgMHhjMTliZjE3NCwgMHhlNDliNjljMSwgMHhlZmJlNDc4NiwgMHgwZmMxOWRjNiwgMHgyNDBjYTFjYywgMHgyZGU5MmM2ZiwgMHg0YTc0ODRhYSwgMHg1Y2IwYTlkYywgMHg3NmY5ODhkYSwgMHg5ODNlNTE1MiwgMHhhODMxYzY2ZCwgMHhiMDAzMjdjOCwgMHhiZjU5N2ZjNywgMHhjNmUwMGJmMywgMHhkNWE3OTE0NywgMHgwNmNhNjM1MSwgMHgxNDI5Mjk2NywgMHgyN2I3MGE4NSwgMHgyZTFiMjEzOCwgMHg0ZDJjNmRmYywgMHg1MzM4MGQxMywgMHg2NTBhNzM1NCwgMHg3NjZhMGFiYiwgMHg4MWMyYzkyZSwgMHg5MjcyMmM4NSwgMHhhMmJmZThhMSwgMHhhODFhNjY0YiwgMHhjMjRiOGI3MCwgMHhjNzZjNTFhMywgMHhkMTkyZTgxOSwgMHhkNjk5MDYyNCwgMHhmNDBlMzU4NSwgMHgxMDZhYTA3MCwgMHgxOWE0YzExNiwgMHgxZTM3NmMwOCwgMHgyNzQ4Nzc0YywgMHgzNGIwYmNiNSwgMHgzOTFjMGNiMywgMHg0ZWQ4YWE0YSwgMHg1YjljY2E0ZiwgMHg2ODJlNmZmMywgMHg3NDhmODJlZSwgMHg3OGE1NjM2ZiwgMHg4NGM4NzgxNCwgMHg4Y2M3MDIwOCwgMHg5MGJlZmZmYSwgMHhhNDUwNmNlYiwgMHhiZWY5YTNmNywgMHhjNjcxNzhmMl0pO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IHZhciBJTklUID0gWzB4NmEwOWU2NjcsIDB4YmI2N2FlODUsIDB4M2M2ZWYzNzIsIDB4YTU0ZmY1M2EsIDB4NTEwZTUyN2YsIDB4OWIwNTY4OGMsIDB4MWY4M2Q5YWIsIDB4NWJlMGNkMTldO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IHZhciBNQVhfSEFTSEFCTEVfTEVOR1RIID0gTWF0aC5wb3coMiwgNTMpIC0gMTtcbiIsImltcG9ydCB7IEJMT0NLX1NJWkUsIERJR0VTVF9MRU5HVEgsIElOSVQsIEtFWSwgTUFYX0hBU0hBQkxFX0xFTkdUSCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xudmFyIFJhd1NoYTI1NiA9IC8qKiBAY2xhc3MgKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFJhd1NoYTI1NigpIHtcbiAgICB0aGlzLnN0YXRlID0gSW50MzJBcnJheS5mcm9tKElOSVQpO1xuICAgIHRoaXMudGVtcCA9IG5ldyBJbnQzMkFycmF5KDY0KTtcbiAgICB0aGlzLmJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDY0KTtcbiAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IDA7XG4gICAgdGhpcy5ieXRlc0hhc2hlZCA9IDA7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5maW5pc2hlZCA9IGZhbHNlO1xuICB9XG4gIFJhd1NoYTI1Ni5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBpZiAodGhpcy5maW5pc2hlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIHVwZGF0ZSBhbiBhbHJlYWR5IGZpbmlzaGVkIGhhc2guXCIpO1xuICAgIH1cbiAgICB2YXIgcG9zaXRpb24gPSAwO1xuICAgIHZhciBieXRlTGVuZ3RoID0gZGF0YS5ieXRlTGVuZ3RoO1xuICAgIHRoaXMuYnl0ZXNIYXNoZWQgKz0gYnl0ZUxlbmd0aDtcbiAgICBpZiAodGhpcy5ieXRlc0hhc2hlZCAqIDggPiBNQVhfSEFTSEFCTEVfTEVOR1RIKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgaGFzaCBtb3JlIHRoYW4gMl41MyAtIDEgYml0c1wiKTtcbiAgICB9XG4gICAgd2hpbGUgKGJ5dGVMZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmJ1ZmZlclt0aGlzLmJ1ZmZlckxlbmd0aCsrXSA9IGRhdGFbcG9zaXRpb24rK107XG4gICAgICBieXRlTGVuZ3RoLS07XG4gICAgICBpZiAodGhpcy5idWZmZXJMZW5ndGggPT09IEJMT0NLX1NJWkUpIHtcbiAgICAgICAgdGhpcy5oYXNoQnVmZmVyKCk7XG4gICAgICAgIHRoaXMuYnVmZmVyTGVuZ3RoID0gMDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIFJhd1NoYTI1Ni5wcm90b3R5cGUuZGlnZXN0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5maW5pc2hlZCkge1xuICAgICAgdmFyIGJpdHNIYXNoZWQgPSB0aGlzLmJ5dGVzSGFzaGVkICogODtcbiAgICAgIHZhciBidWZmZXJWaWV3ID0gbmV3IERhdGFWaWV3KHRoaXMuYnVmZmVyLmJ1ZmZlciwgdGhpcy5idWZmZXIuYnl0ZU9mZnNldCwgdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgICB2YXIgdW5kZWNvcmF0ZWRMZW5ndGggPSB0aGlzLmJ1ZmZlckxlbmd0aDtcbiAgICAgIGJ1ZmZlclZpZXcuc2V0VWludDgodGhpcy5idWZmZXJMZW5ndGgrKywgMHg4MCk7XG4gICAgICAvLyBFbnN1cmUgdGhlIGZpbmFsIGJsb2NrIGhhcyBlbm91Z2ggcm9vbSBmb3IgdGhlIGhhc2hlZCBsZW5ndGhcbiAgICAgIGlmICh1bmRlY29yYXRlZExlbmd0aCAlIEJMT0NLX1NJWkUgPj0gQkxPQ0tfU0laRSAtIDgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMuYnVmZmVyTGVuZ3RoOyBpIDwgQkxPQ0tfU0laRTsgaSsrKSB7XG4gICAgICAgICAgYnVmZmVyVmlldy5zZXRVaW50OChpLCAwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhhc2hCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5idWZmZXJMZW5ndGggPSAwO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMuYnVmZmVyTGVuZ3RoOyBpIDwgQkxPQ0tfU0laRSAtIDg7IGkrKykge1xuICAgICAgICBidWZmZXJWaWV3LnNldFVpbnQ4KGksIDApO1xuICAgICAgfVxuICAgICAgYnVmZmVyVmlldy5zZXRVaW50MzIoQkxPQ0tfU0laRSAtIDgsIE1hdGguZmxvb3IoYml0c0hhc2hlZCAvIDB4MTAwMDAwMDAwKSwgdHJ1ZSk7XG4gICAgICBidWZmZXJWaWV3LnNldFVpbnQzMihCTE9DS19TSVpFIC0gNCwgYml0c0hhc2hlZCk7XG4gICAgICB0aGlzLmhhc2hCdWZmZXIoKTtcbiAgICAgIHRoaXMuZmluaXNoZWQgPSB0cnVlO1xuICAgIH1cbiAgICAvLyBUaGUgdmFsdWUgaW4gc3RhdGUgaXMgbGl0dGxlLWVuZGlhbiByYXRoZXIgdGhhbiBiaWctZW5kaWFuLCBzbyBmbGlwXG4gICAgLy8gZWFjaCB3b3JkIGludG8gYSBuZXcgVWludDhBcnJheVxuICAgIHZhciBvdXQgPSBuZXcgVWludDhBcnJheShESUdFU1RfTEVOR1RIKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDg7IGkrKykge1xuICAgICAgb3V0W2kgKiA0XSA9IHRoaXMuc3RhdGVbaV0gPj4+IDI0ICYgMHhmZjtcbiAgICAgIG91dFtpICogNCArIDFdID0gdGhpcy5zdGF0ZVtpXSA+Pj4gMTYgJiAweGZmO1xuICAgICAgb3V0W2kgKiA0ICsgMl0gPSB0aGlzLnN0YXRlW2ldID4+PiA4ICYgMHhmZjtcbiAgICAgIG91dFtpICogNCArIDNdID0gdGhpcy5zdGF0ZVtpXSA+Pj4gMCAmIDB4ZmY7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG4gIH07XG4gIFJhd1NoYTI1Ni5wcm90b3R5cGUuaGFzaEJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB0aGlzLFxuICAgICAgYnVmZmVyID0gX2EuYnVmZmVyLFxuICAgICAgc3RhdGUgPSBfYS5zdGF0ZTtcbiAgICB2YXIgc3RhdGUwID0gc3RhdGVbMF0sXG4gICAgICBzdGF0ZTEgPSBzdGF0ZVsxXSxcbiAgICAgIHN0YXRlMiA9IHN0YXRlWzJdLFxuICAgICAgc3RhdGUzID0gc3RhdGVbM10sXG4gICAgICBzdGF0ZTQgPSBzdGF0ZVs0XSxcbiAgICAgIHN0YXRlNSA9IHN0YXRlWzVdLFxuICAgICAgc3RhdGU2ID0gc3RhdGVbNl0sXG4gICAgICBzdGF0ZTcgPSBzdGF0ZVs3XTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJMT0NLX1NJWkU7IGkrKykge1xuICAgICAgaWYgKGkgPCAxNikge1xuICAgICAgICB0aGlzLnRlbXBbaV0gPSAoYnVmZmVyW2kgKiA0XSAmIDB4ZmYpIDw8IDI0IHwgKGJ1ZmZlcltpICogNCArIDFdICYgMHhmZikgPDwgMTYgfCAoYnVmZmVyW2kgKiA0ICsgMl0gJiAweGZmKSA8PCA4IHwgYnVmZmVyW2kgKiA0ICsgM10gJiAweGZmO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHUgPSB0aGlzLnRlbXBbaSAtIDJdO1xuICAgICAgICB2YXIgdDFfMSA9ICh1ID4+PiAxNyB8IHUgPDwgMTUpIF4gKHUgPj4+IDE5IHwgdSA8PCAxMykgXiB1ID4+PiAxMDtcbiAgICAgICAgdSA9IHRoaXMudGVtcFtpIC0gMTVdO1xuICAgICAgICB2YXIgdDJfMSA9ICh1ID4+PiA3IHwgdSA8PCAyNSkgXiAodSA+Pj4gMTggfCB1IDw8IDE0KSBeIHUgPj4+IDM7XG4gICAgICAgIHRoaXMudGVtcFtpXSA9ICh0MV8xICsgdGhpcy50ZW1wW2kgLSA3XSB8IDApICsgKHQyXzEgKyB0aGlzLnRlbXBbaSAtIDE2XSB8IDApO1xuICAgICAgfVxuICAgICAgdmFyIHQxID0gKCgoc3RhdGU0ID4+PiA2IHwgc3RhdGU0IDw8IDI2KSBeIChzdGF0ZTQgPj4+IDExIHwgc3RhdGU0IDw8IDIxKSBeIChzdGF0ZTQgPj4+IDI1IHwgc3RhdGU0IDw8IDcpKSArIChzdGF0ZTQgJiBzdGF0ZTUgXiB+c3RhdGU0ICYgc3RhdGU2KSB8IDApICsgKHN0YXRlNyArIChLRVlbaV0gKyB0aGlzLnRlbXBbaV0gfCAwKSB8IDApIHwgMDtcbiAgICAgIHZhciB0MiA9ICgoc3RhdGUwID4+PiAyIHwgc3RhdGUwIDw8IDMwKSBeIChzdGF0ZTAgPj4+IDEzIHwgc3RhdGUwIDw8IDE5KSBeIChzdGF0ZTAgPj4+IDIyIHwgc3RhdGUwIDw8IDEwKSkgKyAoc3RhdGUwICYgc3RhdGUxIF4gc3RhdGUwICYgc3RhdGUyIF4gc3RhdGUxICYgc3RhdGUyKSB8IDA7XG4gICAgICBzdGF0ZTcgPSBzdGF0ZTY7XG4gICAgICBzdGF0ZTYgPSBzdGF0ZTU7XG4gICAgICBzdGF0ZTUgPSBzdGF0ZTQ7XG4gICAgICBzdGF0ZTQgPSBzdGF0ZTMgKyB0MSB8IDA7XG4gICAgICBzdGF0ZTMgPSBzdGF0ZTI7XG4gICAgICBzdGF0ZTIgPSBzdGF0ZTE7XG4gICAgICBzdGF0ZTEgPSBzdGF0ZTA7XG4gICAgICBzdGF0ZTAgPSB0MSArIHQyIHwgMDtcbiAgICB9XG4gICAgc3RhdGVbMF0gKz0gc3RhdGUwO1xuICAgIHN0YXRlWzFdICs9IHN0YXRlMTtcbiAgICBzdGF0ZVsyXSArPSBzdGF0ZTI7XG4gICAgc3RhdGVbM10gKz0gc3RhdGUzO1xuICAgIHN0YXRlWzRdICs9IHN0YXRlNDtcbiAgICBzdGF0ZVs1XSArPSBzdGF0ZTU7XG4gICAgc3RhdGVbNl0gKz0gc3RhdGU2O1xuICAgIHN0YXRlWzddICs9IHN0YXRlNztcbiAgfTtcbiAgcmV0dXJuIFJhd1NoYTI1Njtcbn0oKTtcbmV4cG9ydCB7IFJhd1NoYTI1NiB9O1xuIiwiZXhwb3J0IGNvbnN0IGZyb21VdGY4ID0gaW5wdXQgPT4gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGlucHV0KTsiLCIvLyBDb3B5cmlnaHQgQW1hem9uLmNvbSBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmltcG9ydCB7IGZyb21VdGY4IGFzIGZyb21VdGY4QnJvd3NlciB9IGZyb20gXCJAc21pdGh5L3V0aWwtdXRmOFwiO1xuLy8gUXVpY2sgcG9seWZpbGxcbnZhciBmcm9tVXRmOCA9IHR5cGVvZiBCdWZmZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgQnVmZmVyLmZyb20gPyBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGlucHV0LCBcInV0ZjhcIik7XG59IDogZnJvbVV0ZjhCcm93c2VyO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb0J1ZmZlcihkYXRhKSB7XG4gIC8vIEFscmVhZHkgYSBVaW50OCwgZG8gbm90aGluZ1xuICBpZiAoZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHJldHVybiBkYXRhO1xuICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gZnJvbVV0ZjgoZGF0YSk7XG4gIH1cbiAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhkYXRhKSkge1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBkYXRhLmJ5dGVMZW5ndGggLyBVaW50OEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKTtcbiAgfVxuICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG59XG4iLCIvLyBDb3B5cmlnaHQgQW1hem9uLmNvbSBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5RGF0YShkYXRhKSB7XG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBkYXRhLmxlbmd0aCA9PT0gMDtcbiAgfVxuICByZXR1cm4gZGF0YS5ieXRlTGVuZ3RoID09PSAwO1xufVxuIiwiaW1wb3J0IHsgX19hd2FpdGVyLCBfX2dlbmVyYXRvciB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQkxPQ0tfU0laRSB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgUmF3U2hhMjU2IH0gZnJvbSBcIi4vUmF3U2hhMjU2XCI7XG5pbXBvcnQgeyBpc0VtcHR5RGF0YSwgY29udmVydFRvQnVmZmVyIH0gZnJvbSBcIkBhd3MtY3J5cHRvL3V0aWxcIjtcbnZhciBTaGEyNTYgPSAvKiogQGNsYXNzICovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTaGEyNTYoc2VjcmV0KSB7XG4gICAgdGhpcy5zZWNyZXQgPSBzZWNyZXQ7XG4gICAgdGhpcy5oYXNoID0gbmV3IFJhd1NoYTI1NigpO1xuICAgIHRoaXMucmVzZXQoKTtcbiAgfVxuICBTaGEyNTYucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICh0b0hhc2gpIHtcbiAgICBpZiAoaXNFbXB0eURhdGEodG9IYXNoKSB8fCB0aGlzLmVycm9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICB0aGlzLmhhc2gudXBkYXRlKGNvbnZlcnRUb0J1ZmZlcih0b0hhc2gpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmVycm9yID0gZTtcbiAgICB9XG4gIH07XG4gIC8qIFRoaXMgc3luY2hyb25vdXMgbWV0aG9kIGtlZXBzIGNvbXBhdGliaWxpdHlcbiAgICogd2l0aCB0aGUgdjIgYXdzLXNkay5cbiAgICovXG4gIFNoYTI1Ni5wcm90b3R5cGUuZGlnZXN0U3luYyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5lcnJvcikge1xuICAgICAgdGhyb3cgdGhpcy5lcnJvcjtcbiAgICB9XG4gICAgaWYgKHRoaXMub3V0ZXIpIHtcbiAgICAgIGlmICghdGhpcy5vdXRlci5maW5pc2hlZCkge1xuICAgICAgICB0aGlzLm91dGVyLnVwZGF0ZSh0aGlzLmhhc2guZGlnZXN0KCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMub3V0ZXIuZGlnZXN0KCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmhhc2guZGlnZXN0KCk7XG4gIH07XG4gIC8qIFRoZSB1bmRlcmx5aW5nIGRpZ2VzdCBtZXRob2QgaGVyZSBpcyBzeW5jaHJvbm91cy5cbiAgICogVG8ga2VlcCB0aGUgc2FtZSBpbnRlcmZhY2Ugd2l0aCB0aGUgb3RoZXIgaGFzaCBmdW5jdGlvbnNcbiAgICogdGhlIGRlZmF1bHQgaXMgdG8gZXhwb3NlIHRoaXMgYXMgYW4gYXN5bmMgbWV0aG9kLlxuICAgKiBIb3dldmVyLCBpdCBjYW4gc29tZXRpbWVzIGJlIHVzZWZ1bCB0byBoYXZlIGEgc3luYyBtZXRob2QuXG4gICAqL1xuICBTaGEyNTYucHJvdG90eXBlLmRpZ2VzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLmRpZ2VzdFN5bmMoKV07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbiAgU2hhMjU2LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmhhc2ggPSBuZXcgUmF3U2hhMjU2KCk7XG4gICAgaWYgKHRoaXMuc2VjcmV0KSB7XG4gICAgICB0aGlzLm91dGVyID0gbmV3IFJhd1NoYTI1NigpO1xuICAgICAgdmFyIGlubmVyID0gYnVmZmVyRnJvbVNlY3JldCh0aGlzLnNlY3JldCk7XG4gICAgICB2YXIgb3V0ZXIgPSBuZXcgVWludDhBcnJheShCTE9DS19TSVpFKTtcbiAgICAgIG91dGVyLnNldChpbm5lcik7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJMT0NLX1NJWkU7IGkrKykge1xuICAgICAgICBpbm5lcltpXSBePSAweDM2O1xuICAgICAgICBvdXRlcltpXSBePSAweDVjO1xuICAgICAgfVxuICAgICAgdGhpcy5oYXNoLnVwZGF0ZShpbm5lcik7XG4gICAgICB0aGlzLm91dGVyLnVwZGF0ZShvdXRlcik7XG4gICAgICAvLyBvdmVyd3JpdGUgdGhlIGNvcGllZCBrZXkgaW4gbWVtb3J5XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlubmVyLmJ5dGVMZW5ndGg7IGkrKykge1xuICAgICAgICBpbm5lcltpXSA9IDA7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gU2hhMjU2O1xufSgpO1xuZXhwb3J0IHsgU2hhMjU2IH07XG5mdW5jdGlvbiBidWZmZXJGcm9tU2VjcmV0KHNlY3JldCkge1xuICB2YXIgaW5wdXQgPSBjb252ZXJ0VG9CdWZmZXIoc2VjcmV0KTtcbiAgaWYgKGlucHV0LmJ5dGVMZW5ndGggPiBCTE9DS19TSVpFKSB7XG4gICAgdmFyIGJ1ZmZlckhhc2ggPSBuZXcgUmF3U2hhMjU2KCk7XG4gICAgYnVmZmVySGFzaC51cGRhdGUoaW5wdXQpO1xuICAgIGlucHV0ID0gYnVmZmVySGFzaC5kaWdlc3QoKTtcbiAgfVxuICB2YXIgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoQkxPQ0tfU0laRSk7XG4gIGJ1ZmZlci5zZXQoaW5wdXQpO1xuICByZXR1cm4gYnVmZmVyO1xufVxuIiwiY29uc3QgU0hPUlRfVE9fSEVYID0ge307XG5jb25zdCBIRVhfVE9fU0hPUlQgPSB7fTtcbmZvciAobGV0IGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcbiAgbGV0IGVuY29kZWRCeXRlID0gaS50b1N0cmluZygxNikudG9Mb3dlckNhc2UoKTtcbiAgaWYgKGVuY29kZWRCeXRlLmxlbmd0aCA9PT0gMSkge1xuICAgIGVuY29kZWRCeXRlID0gYDAke2VuY29kZWRCeXRlfWA7XG4gIH1cbiAgU0hPUlRfVE9fSEVYW2ldID0gZW5jb2RlZEJ5dGU7XG4gIEhFWF9UT19TSE9SVFtlbmNvZGVkQnl0ZV0gPSBpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21IZXgoZW5jb2RlZCkge1xuICBpZiAoZW5jb2RlZC5sZW5ndGggJSAyICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSGV4IGVuY29kZWQgc3RyaW5ncyBtdXN0IGhhdmUgYW4gZXZlbiBudW1iZXIgbGVuZ3RoXCIpO1xuICB9XG4gIGNvbnN0IG91dCA9IG5ldyBVaW50OEFycmF5KGVuY29kZWQubGVuZ3RoIC8gMik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZW5jb2RlZC5sZW5ndGg7IGkgKz0gMikge1xuICAgIGNvbnN0IGVuY29kZWRCeXRlID0gZW5jb2RlZC5zbGljZShpLCBpICsgMikudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoZW5jb2RlZEJ5dGUgaW4gSEVYX1RPX1NIT1JUKSB7XG4gICAgICBvdXRbaSAvIDJdID0gSEVYX1RPX1NIT1JUW2VuY29kZWRCeXRlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZGVjb2RlIHVucmVjb2duaXplZCBzZXF1ZW5jZSAke2VuY29kZWRCeXRlfSBhcyBoZXhhZGVjaW1hbGApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvSGV4KGJ5dGVzKSB7XG4gIGxldCBvdXQgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmJ5dGVMZW5ndGg7IGkrKykge1xuICAgIG91dCArPSBTSE9SVF9UT19IRVhbYnl0ZXNbaV1dO1xuICB9XG4gIHJldHVybiBvdXQ7XG59IiwiLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxudmFyIEZyYW1ld29yaztcbihmdW5jdGlvbiAoRnJhbWV3b3JrKSB7XG4gIC8vIDwgMTAwIC0gV2ViIGZyYW1ld29ya3NcbiAgRnJhbWV3b3JrW1wiV2ViVW5rbm93blwiXSA9IFwiMFwiO1xuICBGcmFtZXdvcmtbXCJSZWFjdFwiXSA9IFwiMVwiO1xuICBGcmFtZXdvcmtbXCJOZXh0SnNcIl0gPSBcIjJcIjtcbiAgRnJhbWV3b3JrW1wiQW5ndWxhclwiXSA9IFwiM1wiO1xuICBGcmFtZXdvcmtbXCJWdWVKc1wiXSA9IFwiNFwiO1xuICBGcmFtZXdvcmtbXCJOdXh0XCJdID0gXCI1XCI7XG4gIEZyYW1ld29ya1tcIlN2ZWx0ZVwiXSA9IFwiNlwiO1xuICAvLyAxMDBzIC0gU2VydmVyIHNpZGUgZnJhbWV3b3Jrc1xuICBGcmFtZXdvcmtbXCJTZXJ2ZXJTaWRlVW5rbm93blwiXSA9IFwiMTAwXCI7XG4gIEZyYW1ld29ya1tcIlJlYWN0U1NSXCJdID0gXCIxMDFcIjtcbiAgRnJhbWV3b3JrW1wiTmV4dEpzU1NSXCJdID0gXCIxMDJcIjtcbiAgRnJhbWV3b3JrW1wiQW5ndWxhclNTUlwiXSA9IFwiMTAzXCI7XG4gIEZyYW1ld29ya1tcIlZ1ZUpzU1NSXCJdID0gXCIxMDRcIjtcbiAgRnJhbWV3b3JrW1wiTnV4dFNTUlwiXSA9IFwiMTA1XCI7XG4gIEZyYW1ld29ya1tcIlN2ZWx0ZVNTUlwiXSA9IFwiMTA2XCI7XG4gIC8vIDIwMHMgLSBNb2JpbGUgZnJhbWV3b3JrXG4gIEZyYW1ld29ya1tcIlJlYWN0TmF0aXZlXCJdID0gXCIyMDFcIjtcbiAgRnJhbWV3b3JrW1wiRXhwb1wiXSA9IFwiMjAyXCI7XG59KShGcmFtZXdvcmsgfHwgKEZyYW1ld29yayA9IHt9KSk7XG52YXIgQ2F0ZWdvcnk7XG4oZnVuY3Rpb24gKENhdGVnb3J5KSB7XG4gIENhdGVnb3J5W1wiQUlcIl0gPSBcImFpXCI7XG4gIENhdGVnb3J5W1wiQVBJXCJdID0gXCJhcGlcIjtcbiAgQ2F0ZWdvcnlbXCJBdXRoXCJdID0gXCJhdXRoXCI7XG4gIENhdGVnb3J5W1wiQW5hbHl0aWNzXCJdID0gXCJhbmFseXRpY3NcIjtcbiAgQ2F0ZWdvcnlbXCJEYXRhU3RvcmVcIl0gPSBcImRhdGFzdG9yZVwiO1xuICBDYXRlZ29yeVtcIkdlb1wiXSA9IFwiZ2VvXCI7XG4gIENhdGVnb3J5W1wiSW5BcHBNZXNzYWdpbmdcIl0gPSBcImluYXBwbWVzc2FnaW5nXCI7XG4gIENhdGVnb3J5W1wiSW50ZXJhY3Rpb25zXCJdID0gXCJpbnRlcmFjdGlvbnNcIjtcbiAgQ2F0ZWdvcnlbXCJQcmVkaWN0aW9uc1wiXSA9IFwicHJlZGljdGlvbnNcIjtcbiAgQ2F0ZWdvcnlbXCJQdWJTdWJcIl0gPSBcInB1YnN1YlwiO1xuICBDYXRlZ29yeVtcIlB1c2hOb3RpZmljYXRpb25cIl0gPSBcInB1c2hub3RpZmljYXRpb25cIjtcbiAgQ2F0ZWdvcnlbXCJTdG9yYWdlXCJdID0gXCJzdG9yYWdlXCI7XG59KShDYXRlZ29yeSB8fCAoQ2F0ZWdvcnkgPSB7fSkpO1xudmFyIEFpQWN0aW9uO1xuKGZ1bmN0aW9uIChBaUFjdGlvbikge1xuICBBaUFjdGlvbltcIkNyZWF0ZUNvbnZlcnNhdGlvblwiXSA9IFwiMVwiO1xuICBBaUFjdGlvbltcIkdldENvbnZlcnNhdGlvblwiXSA9IFwiMlwiO1xuICBBaUFjdGlvbltcIkxpc3RDb252ZXJzYXRpb25zXCJdID0gXCIzXCI7XG4gIEFpQWN0aW9uW1wiRGVsZXRlQ29udmVyc2F0aW9uXCJdID0gXCI0XCI7XG4gIEFpQWN0aW9uW1wiU2VuZE1lc3NhZ2VcIl0gPSBcIjVcIjtcbiAgQWlBY3Rpb25bXCJMaXN0TWVzc2FnZXNcIl0gPSBcIjZcIjtcbiAgQWlBY3Rpb25bXCJPbk1lc3NhZ2VcIl0gPSBcIjdcIjtcbiAgQWlBY3Rpb25bXCJHZW5lcmF0aW9uXCJdID0gXCI4XCI7XG4gIEFpQWN0aW9uW1wiVXBkYXRlQ29udmVyc2F0aW9uXCJdID0gXCI5XCI7XG59KShBaUFjdGlvbiB8fCAoQWlBY3Rpb24gPSB7fSkpO1xudmFyIEFuYWx5dGljc0FjdGlvbjtcbihmdW5jdGlvbiAoQW5hbHl0aWNzQWN0aW9uKSB7XG4gIEFuYWx5dGljc0FjdGlvbltcIlJlY29yZFwiXSA9IFwiMVwiO1xuICBBbmFseXRpY3NBY3Rpb25bXCJJZGVudGlmeVVzZXJcIl0gPSBcIjJcIjtcbn0pKEFuYWx5dGljc0FjdGlvbiB8fCAoQW5hbHl0aWNzQWN0aW9uID0ge30pKTtcbnZhciBBcGlBY3Rpb247XG4oZnVuY3Rpb24gKEFwaUFjdGlvbikge1xuICBBcGlBY3Rpb25bXCJHcmFwaFFsXCJdID0gXCIxXCI7XG4gIEFwaUFjdGlvbltcIkdldFwiXSA9IFwiMlwiO1xuICBBcGlBY3Rpb25bXCJQb3N0XCJdID0gXCIzXCI7XG4gIEFwaUFjdGlvbltcIlB1dFwiXSA9IFwiNFwiO1xuICBBcGlBY3Rpb25bXCJQYXRjaFwiXSA9IFwiNVwiO1xuICBBcGlBY3Rpb25bXCJEZWxcIl0gPSBcIjZcIjtcbiAgQXBpQWN0aW9uW1wiSGVhZFwiXSA9IFwiN1wiO1xufSkoQXBpQWN0aW9uIHx8IChBcGlBY3Rpb24gPSB7fSkpO1xudmFyIEF1dGhBY3Rpb247XG4oZnVuY3Rpb24gKEF1dGhBY3Rpb24pIHtcbiAgQXV0aEFjdGlvbltcIlNpZ25VcFwiXSA9IFwiMVwiO1xuICBBdXRoQWN0aW9uW1wiQ29uZmlybVNpZ25VcFwiXSA9IFwiMlwiO1xuICBBdXRoQWN0aW9uW1wiUmVzZW5kU2lnblVwQ29kZVwiXSA9IFwiM1wiO1xuICBBdXRoQWN0aW9uW1wiU2lnbkluXCJdID0gXCI0XCI7XG4gIEF1dGhBY3Rpb25bXCJGZXRjaE1GQVByZWZlcmVuY2VcIl0gPSBcIjZcIjtcbiAgQXV0aEFjdGlvbltcIlVwZGF0ZU1GQVByZWZlcmVuY2VcIl0gPSBcIjdcIjtcbiAgQXV0aEFjdGlvbltcIlNldFVwVE9UUFwiXSA9IFwiMTBcIjtcbiAgQXV0aEFjdGlvbltcIlZlcmlmeVRPVFBTZXR1cFwiXSA9IFwiMTFcIjtcbiAgQXV0aEFjdGlvbltcIkNvbmZpcm1TaWduSW5cIl0gPSBcIjEyXCI7XG4gIEF1dGhBY3Rpb25bXCJEZWxldGVVc2VyQXR0cmlidXRlc1wiXSA9IFwiMTVcIjtcbiAgQXV0aEFjdGlvbltcIkRlbGV0ZVVzZXJcIl0gPSBcIjE2XCI7XG4gIEF1dGhBY3Rpb25bXCJVcGRhdGVVc2VyQXR0cmlidXRlc1wiXSA9IFwiMTdcIjtcbiAgQXV0aEFjdGlvbltcIkZldGNoVXNlckF0dHJpYnV0ZXNcIl0gPSBcIjE4XCI7XG4gIEF1dGhBY3Rpb25bXCJDb25maXJtVXNlckF0dHJpYnV0ZVwiXSA9IFwiMjJcIjtcbiAgQXV0aEFjdGlvbltcIlNpZ25PdXRcIl0gPSBcIjI2XCI7XG4gIEF1dGhBY3Rpb25bXCJVcGRhdGVQYXNzd29yZFwiXSA9IFwiMjdcIjtcbiAgQXV0aEFjdGlvbltcIlJlc2V0UGFzc3dvcmRcIl0gPSBcIjI4XCI7XG4gIEF1dGhBY3Rpb25bXCJDb25maXJtUmVzZXRQYXNzd29yZFwiXSA9IFwiMjlcIjtcbiAgQXV0aEFjdGlvbltcIkZlZGVyYXRlZFNpZ25JblwiXSA9IFwiMzBcIjtcbiAgQXV0aEFjdGlvbltcIlJlbWVtYmVyRGV2aWNlXCJdID0gXCIzMlwiO1xuICBBdXRoQWN0aW9uW1wiRm9yZ2V0RGV2aWNlXCJdID0gXCIzM1wiO1xuICBBdXRoQWN0aW9uW1wiRmV0Y2hEZXZpY2VzXCJdID0gXCIzNFwiO1xuICBBdXRoQWN0aW9uW1wiU2VuZFVzZXJBdHRyaWJ1dGVWZXJpZmljYXRpb25Db2RlXCJdID0gXCIzNVwiO1xuICBBdXRoQWN0aW9uW1wiU2lnbkluV2l0aFJlZGlyZWN0XCJdID0gXCIzNlwiO1xuICBBdXRoQWN0aW9uW1wiU3RhcnRXZWJBdXRoblJlZ2lzdHJhdGlvblwiXSA9IFwiMzdcIjtcbiAgQXV0aEFjdGlvbltcIkNvbXBsZXRlV2ViQXV0aG5SZWdpc3RyYXRpb25cIl0gPSBcIjM4XCI7XG4gIEF1dGhBY3Rpb25bXCJMaXN0V2ViQXV0aG5DcmVkZW50aWFsc1wiXSA9IFwiMzlcIjtcbiAgQXV0aEFjdGlvbltcIkRlbGV0ZVdlYkF1dGhuQ3JlZGVudGlhbFwiXSA9IFwiNDBcIjtcbn0pKEF1dGhBY3Rpb24gfHwgKEF1dGhBY3Rpb24gPSB7fSkpO1xudmFyIERhdGFTdG9yZUFjdGlvbjtcbihmdW5jdGlvbiAoRGF0YVN0b3JlQWN0aW9uKSB7XG4gIERhdGFTdG9yZUFjdGlvbltcIlN1YnNjcmliZVwiXSA9IFwiMVwiO1xuICBEYXRhU3RvcmVBY3Rpb25bXCJHcmFwaFFsXCJdID0gXCIyXCI7XG59KShEYXRhU3RvcmVBY3Rpb24gfHwgKERhdGFTdG9yZUFjdGlvbiA9IHt9KSk7XG52YXIgR2VvQWN0aW9uO1xuKGZ1bmN0aW9uIChHZW9BY3Rpb24pIHtcbiAgR2VvQWN0aW9uW1wiU2VhcmNoQnlUZXh0XCJdID0gXCIwXCI7XG4gIEdlb0FjdGlvbltcIlNlYXJjaEJ5Q29vcmRpbmF0ZXNcIl0gPSBcIjFcIjtcbiAgR2VvQWN0aW9uW1wiU2VhcmNoRm9yU3VnZ2VzdGlvbnNcIl0gPSBcIjJcIjtcbiAgR2VvQWN0aW9uW1wiU2VhcmNoQnlQbGFjZUlkXCJdID0gXCIzXCI7XG4gIEdlb0FjdGlvbltcIlNhdmVHZW9mZW5jZXNcIl0gPSBcIjRcIjtcbiAgR2VvQWN0aW9uW1wiR2V0R2VvZmVuY2VcIl0gPSBcIjVcIjtcbiAgR2VvQWN0aW9uW1wiTGlzdEdlb2ZlbmNlc1wiXSA9IFwiNlwiO1xuICBHZW9BY3Rpb25bXCJEZWxldGVHZW9mZW5jZXNcIl0gPSBcIjdcIjtcbn0pKEdlb0FjdGlvbiB8fCAoR2VvQWN0aW9uID0ge30pKTtcbnZhciBJbkFwcE1lc3NhZ2luZ0FjdGlvbjtcbihmdW5jdGlvbiAoSW5BcHBNZXNzYWdpbmdBY3Rpb24pIHtcbiAgSW5BcHBNZXNzYWdpbmdBY3Rpb25bXCJTeW5jTWVzc2FnZXNcIl0gPSBcIjFcIjtcbiAgSW5BcHBNZXNzYWdpbmdBY3Rpb25bXCJJZGVudGlmeVVzZXJcIl0gPSBcIjJcIjtcbiAgSW5BcHBNZXNzYWdpbmdBY3Rpb25bXCJOb3RpZnlNZXNzYWdlSW50ZXJhY3Rpb25cIl0gPSBcIjNcIjtcbn0pKEluQXBwTWVzc2FnaW5nQWN0aW9uIHx8IChJbkFwcE1lc3NhZ2luZ0FjdGlvbiA9IHt9KSk7XG52YXIgSW50ZXJhY3Rpb25zQWN0aW9uO1xuKGZ1bmN0aW9uIChJbnRlcmFjdGlvbnNBY3Rpb24pIHtcbiAgSW50ZXJhY3Rpb25zQWN0aW9uW1wiTm9uZVwiXSA9IFwiMFwiO1xufSkoSW50ZXJhY3Rpb25zQWN0aW9uIHx8IChJbnRlcmFjdGlvbnNBY3Rpb24gPSB7fSkpO1xudmFyIFByZWRpY3Rpb25zQWN0aW9uO1xuKGZ1bmN0aW9uIChQcmVkaWN0aW9uc0FjdGlvbikge1xuICBQcmVkaWN0aW9uc0FjdGlvbltcIkNvbnZlcnRcIl0gPSBcIjFcIjtcbiAgUHJlZGljdGlvbnNBY3Rpb25bXCJJZGVudGlmeVwiXSA9IFwiMlwiO1xuICBQcmVkaWN0aW9uc0FjdGlvbltcIkludGVycHJldFwiXSA9IFwiM1wiO1xufSkoUHJlZGljdGlvbnNBY3Rpb24gfHwgKFByZWRpY3Rpb25zQWN0aW9uID0ge30pKTtcbnZhciBQdWJTdWJBY3Rpb247XG4oZnVuY3Rpb24gKFB1YlN1YkFjdGlvbikge1xuICBQdWJTdWJBY3Rpb25bXCJTdWJzY3JpYmVcIl0gPSBcIjFcIjtcbn0pKFB1YlN1YkFjdGlvbiB8fCAoUHViU3ViQWN0aW9uID0ge30pKTtcbnZhciBQdXNoTm90aWZpY2F0aW9uQWN0aW9uO1xuKGZ1bmN0aW9uIChQdXNoTm90aWZpY2F0aW9uQWN0aW9uKSB7XG4gIFB1c2hOb3RpZmljYXRpb25BY3Rpb25bXCJJbml0aWFsaXplUHVzaE5vdGlmaWNhdGlvbnNcIl0gPSBcIjFcIjtcbiAgUHVzaE5vdGlmaWNhdGlvbkFjdGlvbltcIklkZW50aWZ5VXNlclwiXSA9IFwiMlwiO1xufSkoUHVzaE5vdGlmaWNhdGlvbkFjdGlvbiB8fCAoUHVzaE5vdGlmaWNhdGlvbkFjdGlvbiA9IHt9KSk7XG52YXIgU3RvcmFnZUFjdGlvbjtcbihmdW5jdGlvbiAoU3RvcmFnZUFjdGlvbikge1xuICBTdG9yYWdlQWN0aW9uW1wiVXBsb2FkRGF0YVwiXSA9IFwiMVwiO1xuICBTdG9yYWdlQWN0aW9uW1wiRG93bmxvYWREYXRhXCJdID0gXCIyXCI7XG4gIFN0b3JhZ2VBY3Rpb25bXCJMaXN0XCJdID0gXCIzXCI7XG4gIFN0b3JhZ2VBY3Rpb25bXCJDb3B5XCJdID0gXCI0XCI7XG4gIFN0b3JhZ2VBY3Rpb25bXCJSZW1vdmVcIl0gPSBcIjVcIjtcbiAgU3RvcmFnZUFjdGlvbltcIkdldFByb3BlcnRpZXNcIl0gPSBcIjZcIjtcbiAgU3RvcmFnZUFjdGlvbltcIkdldFVybFwiXSA9IFwiN1wiO1xuICBTdG9yYWdlQWN0aW9uW1wiR2V0RGF0YUFjY2Vzc1wiXSA9IFwiOFwiO1xuICBTdG9yYWdlQWN0aW9uW1wiTGlzdENhbGxlckFjY2Vzc0dyYW50c1wiXSA9IFwiOVwiO1xufSkoU3RvcmFnZUFjdGlvbiB8fCAoU3RvcmFnZUFjdGlvbiA9IHt9KSk7XG5leHBvcnQgeyBBaUFjdGlvbiwgQW5hbHl0aWNzQWN0aW9uLCBBcGlBY3Rpb24sIEF1dGhBY3Rpb24sIENhdGVnb3J5LCBEYXRhU3RvcmVBY3Rpb24sIEZyYW1ld29yaywgR2VvQWN0aW9uLCBJbkFwcE1lc3NhZ2luZ0FjdGlvbiwgSW50ZXJhY3Rpb25zQWN0aW9uLCBQcmVkaWN0aW9uc0FjdGlvbiwgUHViU3ViQWN0aW9uLCBQdXNoTm90aWZpY2F0aW9uQWN0aW9uLCBTdG9yYWdlQWN0aW9uIH07XG4iLCIvLyBnZW5lcmF0ZWQgYnkgZ2VudmVyc2lvblxuY29uc3QgdmVyc2lvbiA9ICc2LjE1LjYnO1xuZXhwb3J0IHsgdmVyc2lvbiB9O1xuIiwiLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuY29uc3QgZ2xvYmFsRXhpc3RzID0gKCkgPT4ge1xuICByZXR1cm4gdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCc7XG59O1xuY29uc3QgZ2xvYmFsVGhpc0V4aXN0cyA9ICgpID0+IHtcbiAgcmV0dXJuIHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJztcbn07XG5jb25zdCB3aW5kb3dFeGlzdHMgPSAoKSA9PiB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbn07XG5jb25zdCBkb2N1bWVudEV4aXN0cyA9ICgpID0+IHtcbiAgcmV0dXJuIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG59O1xuY29uc3QgcHJvY2Vzc0V4aXN0cyA9ICgpID0+IHtcbiAgcmV0dXJuIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJztcbn07XG5jb25zdCBrZXlQcmVmaXhNYXRjaCA9IChvYmplY3QsIHByZWZpeCkgPT4ge1xuICByZXR1cm4gISFPYmplY3Qua2V5cyhvYmplY3QpLmZpbmQoa2V5ID0+IGtleS5zdGFydHNXaXRoKHByZWZpeCkpO1xufTtcbmV4cG9ydCB7IGRvY3VtZW50RXhpc3RzLCBnbG9iYWxFeGlzdHMsIGdsb2JhbFRoaXNFeGlzdHMsIGtleVByZWZpeE1hdGNoLCBwcm9jZXNzRXhpc3RzLCB3aW5kb3dFeGlzdHMgfTtcbiIsImltcG9ydCB7IGRvY3VtZW50RXhpc3RzLCBwcm9jZXNzRXhpc3RzIH0gZnJvbSAnLi9oZWxwZXJzLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8vIFRlc3RlZCB3aXRoIHJlYWN0IDE4LjIgLSBidWlsdCB1c2luZyBWaXRlXG5mdW5jdGlvbiByZWFjdFdlYkRldGVjdCgpIHtcbiAgY29uc3QgZWxlbWVudEtleVByZWZpeGVkV2l0aFJlYWN0ID0ga2V5ID0+IHtcbiAgICByZXR1cm4ga2V5LnN0YXJ0c1dpdGgoJ19yZWFjdCcpIHx8IGtleS5zdGFydHNXaXRoKCdfX3JlYWN0Jyk7XG4gIH07XG4gIGNvbnN0IGVsZW1lbnRJc1JlYWN0RW5hYmxlZCA9IGVsZW1lbnQgPT4ge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhlbGVtZW50KS5maW5kKGVsZW1lbnRLZXlQcmVmaXhlZFdpdGhSZWFjdCk7XG4gIH07XG4gIGNvbnN0IGFsbEVsZW1lbnRzV2l0aElkID0gKCkgPT4gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbaWRdJykpO1xuICByZXR1cm4gZG9jdW1lbnRFeGlzdHMoKSAmJiBhbGxFbGVtZW50c1dpdGhJZCgpLnNvbWUoZWxlbWVudElzUmVhY3RFbmFibGVkKTtcbn1cbmZ1bmN0aW9uIHJlYWN0U1NSRGV0ZWN0KCkge1xuICByZXR1cm4gcHJvY2Vzc0V4aXN0cygpICYmIHR5cGVvZiBwcm9jZXNzLmVudiAhPT0gJ3VuZGVmaW5lZCcgJiYgISFPYmplY3Qua2V5cyhwcm9jZXNzLmVudikuZmluZChrZXkgPT4ga2V5LmluY2x1ZGVzKCdyZWFjdCcpKTtcbn1cbi8vIHVzZSB0aGUgc29tZVxuXG5leHBvcnQgeyByZWFjdFNTUkRldGVjdCwgcmVhY3RXZWJEZXRlY3QgfTtcbiIsImltcG9ydCB7IHdpbmRvd0V4aXN0cywga2V5UHJlZml4TWF0Y2gsIGdsb2JhbEV4aXN0cyB9IGZyb20gJy4vaGVscGVycy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vLyBUZXN0ZWQgd2l0aCB2dWUgMy4zLjJcbmZ1bmN0aW9uIHZ1ZVdlYkRldGVjdCgpIHtcbiAgcmV0dXJuIHdpbmRvd0V4aXN0cygpICYmIGtleVByZWZpeE1hdGNoKHdpbmRvdywgJ19fVlVFJyk7XG59XG5mdW5jdGlvbiB2dWVTU1JEZXRlY3QoKSB7XG4gIHJldHVybiBnbG9iYWxFeGlzdHMoKSAmJiBrZXlQcmVmaXhNYXRjaChnbG9iYWwsICdfX1ZVRScpO1xufVxuZXhwb3J0IHsgdnVlU1NSRGV0ZWN0LCB2dWVXZWJEZXRlY3QgfTtcbiIsImltcG9ydCB7IHdpbmRvd0V4aXN0cywga2V5UHJlZml4TWF0Y2gsIHByb2Nlc3NFeGlzdHMgfSBmcm9tICcuL2hlbHBlcnMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLy8gVGVzdGVkIHdpdGggc3ZlbHRlIDMuNTlcbmZ1bmN0aW9uIHN2ZWx0ZVdlYkRldGVjdCgpIHtcbiAgcmV0dXJuIHdpbmRvd0V4aXN0cygpICYmIGtleVByZWZpeE1hdGNoKHdpbmRvdywgJ19fU1ZFTFRFJyk7XG59XG5mdW5jdGlvbiBzdmVsdGVTU1JEZXRlY3QoKSB7XG4gIHJldHVybiBwcm9jZXNzRXhpc3RzKCkgJiYgdHlwZW9mIHByb2Nlc3MuZW52ICE9PSAndW5kZWZpbmVkJyAmJiAhIU9iamVjdC5rZXlzKHByb2Nlc3MuZW52KS5maW5kKGtleSA9PiBrZXkuaW5jbHVkZXMoJ3N2ZWx0ZScpKTtcbn1cbmV4cG9ydCB7IHN2ZWx0ZVNTUkRldGVjdCwgc3ZlbHRlV2ViRGV0ZWN0IH07XG4iLCJpbXBvcnQgeyB3aW5kb3dFeGlzdHMsIGdsb2JhbEV4aXN0cywga2V5UHJlZml4TWF0Y2ggfSBmcm9tICcuL2hlbHBlcnMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLy8gVGVzdGVkIHdpdGggbmV4dCAxMy40IC8gcmVhY3QgMTguMlxuZnVuY3Rpb24gbmV4dFdlYkRldGVjdCgpIHtcbiAgcmV0dXJuIHdpbmRvd0V4aXN0cygpICYmIHdpbmRvdy5uZXh0ICYmIHR5cGVvZiB3aW5kb3cubmV4dCA9PT0gJ29iamVjdCc7XG59XG5mdW5jdGlvbiBuZXh0U1NSRGV0ZWN0KCkge1xuICByZXR1cm4gZ2xvYmFsRXhpc3RzKCkgJiYgKGtleVByZWZpeE1hdGNoKGdsb2JhbCwgJ19fbmV4dCcpIHx8IGtleVByZWZpeE1hdGNoKGdsb2JhbCwgJ19fTkVYVCcpKTtcbn1cbmV4cG9ydCB7IG5leHRTU1JEZXRlY3QsIG5leHRXZWJEZXRlY3QgfTtcbiIsImltcG9ydCB7IHdpbmRvd0V4aXN0cywgZ2xvYmFsRXhpc3RzIH0gZnJvbSAnLi9oZWxwZXJzLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8vIFRlc3RlZCB3aXRoIG51eHQgMi4xNSAvIHZ1ZSAyLjdcbmZ1bmN0aW9uIG51eHRXZWJEZXRlY3QoKSB7XG4gIHJldHVybiB3aW5kb3dFeGlzdHMoKSAmJiAod2luZG93Ll9fTlVYVF9fICE9PSB1bmRlZmluZWQgfHwgd2luZG93LiRudXh0ICE9PSB1bmRlZmluZWQpO1xufVxuZnVuY3Rpb24gbnV4dFNTUkRldGVjdCgpIHtcbiAgcmV0dXJuIGdsb2JhbEV4aXN0cygpICYmIHR5cGVvZiBnbG9iYWwuX19OVVhUX1BBVEhTX18gIT09ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0IHsgbnV4dFNTUkRldGVjdCwgbnV4dFdlYkRldGVjdCB9O1xuIiwiaW1wb3J0IHsgZG9jdW1lbnRFeGlzdHMsIHByb2Nlc3NFeGlzdHMsIHdpbmRvd0V4aXN0cyB9IGZyb20gJy4vaGVscGVycy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vLyBUZXN0ZWQgd2l0aCBAYW5ndWxhci9jb3JlIDE2LjAuMFxuZnVuY3Rpb24gYW5ndWxhcldlYkRldGVjdCgpIHtcbiAgY29uc3QgYW5ndWxhclZlcnNpb25TZXRJbkRvY3VtZW50ID0gQm9vbGVhbihkb2N1bWVudEV4aXN0cygpICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuZy12ZXJzaW9uXScpKTtcbiAgY29uc3QgYW5ndWxhckNvbnRlbnRTZXRJbldpbmRvdyA9IEJvb2xlYW4od2luZG93RXhpc3RzKCkgJiYgdHlwZW9mIHdpbmRvdy5uZyAhPT0gJ3VuZGVmaW5lZCcpO1xuICByZXR1cm4gYW5ndWxhclZlcnNpb25TZXRJbkRvY3VtZW50IHx8IGFuZ3VsYXJDb250ZW50U2V0SW5XaW5kb3c7XG59XG5mdW5jdGlvbiBhbmd1bGFyU1NSRGV0ZWN0KCkge1xuICByZXR1cm4gcHJvY2Vzc0V4aXN0cygpICYmIHR5cGVvZiBwcm9jZXNzLmVudiA9PT0gJ29iamVjdCcgJiYgcHJvY2Vzcy5lbnYubnBtX2xpZmVjeWNsZV9zY3JpcHQ/LnN0YXJ0c1dpdGgoJ25nICcpIHx8IGZhbHNlO1xufVxuZXhwb3J0IHsgYW5ndWxhclNTUkRldGVjdCwgYW5ndWxhcldlYkRldGVjdCB9O1xuIiwiLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLy8gVGVzdGVkIHdpdGggcmVhY3QtbmF0aXZlIDAuMTcuN1xuZnVuY3Rpb24gcmVhY3ROYXRpdmVEZXRlY3QoKSB7XG4gIHJldHVybiB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbmF2aWdhdG9yLnByb2R1Y3QgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnO1xufVxuZXhwb3J0IHsgcmVhY3ROYXRpdmVEZXRlY3QgfTtcbiIsImltcG9ydCB7IGdsb2JhbEV4aXN0cyB9IGZyb20gJy4vaGVscGVycy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vLyBUZXN0ZWQgd2l0aCBleHBvIDQ4IC8gcmVhY3QtbmF0aXZlIDAuNzEuM1xuZnVuY3Rpb24gZXhwb0RldGVjdCgpIHtcbiAgcmV0dXJuIGdsb2JhbEV4aXN0cygpICYmIHR5cGVvZiBnbG9iYWwuZXhwbyAhPT0gJ3VuZGVmaW5lZCc7XG59XG5leHBvcnQgeyBleHBvRGV0ZWN0IH07XG4iLCJpbXBvcnQgeyB3aW5kb3dFeGlzdHMgfSBmcm9tICcuL2hlbHBlcnMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuZnVuY3Rpb24gd2ViRGV0ZWN0KCkge1xuICByZXR1cm4gd2luZG93RXhpc3RzKCk7XG59XG5leHBvcnQgeyB3ZWJEZXRlY3QgfTtcbiIsImltcG9ydCB7IEZyYW1ld29yayB9IGZyb20gJy4uL3R5cGVzLm1qcyc7XG5pbXBvcnQgeyByZWFjdFdlYkRldGVjdCwgcmVhY3RTU1JEZXRlY3QgfSBmcm9tICcuL1JlYWN0Lm1qcyc7XG5pbXBvcnQgeyB2dWVXZWJEZXRlY3QsIHZ1ZVNTUkRldGVjdCB9IGZyb20gJy4vVnVlLm1qcyc7XG5pbXBvcnQgeyBzdmVsdGVXZWJEZXRlY3QsIHN2ZWx0ZVNTUkRldGVjdCB9IGZyb20gJy4vU3ZlbHRlLm1qcyc7XG5pbXBvcnQgeyBuZXh0V2ViRGV0ZWN0LCBuZXh0U1NSRGV0ZWN0IH0gZnJvbSAnLi9OZXh0Lm1qcyc7XG5pbXBvcnQgeyBudXh0V2ViRGV0ZWN0LCBudXh0U1NSRGV0ZWN0IH0gZnJvbSAnLi9OdXh0Lm1qcyc7XG5pbXBvcnQgeyBhbmd1bGFyV2ViRGV0ZWN0LCBhbmd1bGFyU1NSRGV0ZWN0IH0gZnJvbSAnLi9Bbmd1bGFyLm1qcyc7XG5pbXBvcnQgeyByZWFjdE5hdGl2ZURldGVjdCB9IGZyb20gJy4vUmVhY3ROYXRpdmUubWpzJztcbmltcG9ydCB7IGV4cG9EZXRlY3QgfSBmcm9tICcuL0V4cG8ubWpzJztcbmltcG9ydCB7IHdlYkRldGVjdCB9IGZyb20gJy4vV2ViLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8vIFRoZXNlIGFyZSBpbiB0aGUgb3JkZXIgb2YgZGV0ZWN0aW9uIHdoZXJlIHdoZW4gYm90aCBhcmUgZGV0ZWN0YWJsZSwgdGhlIGVhcmx5IEZyYW1ld29yayB3aWxsIGJlIHJlcG9ydGVkXG5jb25zdCBkZXRlY3Rpb25NYXAgPSBbXG4vLyBGaXJzdCwgZGV0ZWN0IG1vYmlsZVxue1xuICBwbGF0Zm9ybTogRnJhbWV3b3JrLkV4cG8sXG4gIGRldGVjdGlvbk1ldGhvZDogZXhwb0RldGVjdFxufSwge1xuICBwbGF0Zm9ybTogRnJhbWV3b3JrLlJlYWN0TmF0aXZlLFxuICBkZXRlY3Rpb25NZXRob2Q6IHJlYWN0TmF0aXZlRGV0ZWN0XG59LFxuLy8gTmV4dCwgZGV0ZWN0IHdlYiBmcmFtZXdvcmtzXG57XG4gIHBsYXRmb3JtOiBGcmFtZXdvcmsuTmV4dEpzLFxuICBkZXRlY3Rpb25NZXRob2Q6IG5leHRXZWJEZXRlY3Rcbn0sIHtcbiAgcGxhdGZvcm06IEZyYW1ld29yay5OdXh0LFxuICBkZXRlY3Rpb25NZXRob2Q6IG51eHRXZWJEZXRlY3Rcbn0sIHtcbiAgcGxhdGZvcm06IEZyYW1ld29yay5Bbmd1bGFyLFxuICBkZXRlY3Rpb25NZXRob2Q6IGFuZ3VsYXJXZWJEZXRlY3Rcbn0sIHtcbiAgcGxhdGZvcm06IEZyYW1ld29yay5SZWFjdCxcbiAgZGV0ZWN0aW9uTWV0aG9kOiByZWFjdFdlYkRldGVjdFxufSwge1xuICBwbGF0Zm9ybTogRnJhbWV3b3JrLlZ1ZUpzLFxuICBkZXRlY3Rpb25NZXRob2Q6IHZ1ZVdlYkRldGVjdFxufSwge1xuICBwbGF0Zm9ybTogRnJhbWV3b3JrLlN2ZWx0ZSxcbiAgZGV0ZWN0aW9uTWV0aG9kOiBzdmVsdGVXZWJEZXRlY3Rcbn0sIHtcbiAgcGxhdGZvcm06IEZyYW1ld29yay5XZWJVbmtub3duLFxuICBkZXRlY3Rpb25NZXRob2Q6IHdlYkRldGVjdFxufSxcbi8vIExhc3QsIGRldGVjdCBzc3IgZnJhbWV3b3Jrc1xue1xuICBwbGF0Zm9ybTogRnJhbWV3b3JrLk5leHRKc1NTUixcbiAgZGV0ZWN0aW9uTWV0aG9kOiBuZXh0U1NSRGV0ZWN0XG59LCB7XG4gIHBsYXRmb3JtOiBGcmFtZXdvcmsuTnV4dFNTUixcbiAgZGV0ZWN0aW9uTWV0aG9kOiBudXh0U1NSRGV0ZWN0XG59LCB7XG4gIHBsYXRmb3JtOiBGcmFtZXdvcmsuUmVhY3RTU1IsXG4gIGRldGVjdGlvbk1ldGhvZDogcmVhY3RTU1JEZXRlY3Rcbn0sIHtcbiAgcGxhdGZvcm06IEZyYW1ld29yay5WdWVKc1NTUixcbiAgZGV0ZWN0aW9uTWV0aG9kOiB2dWVTU1JEZXRlY3Rcbn0sIHtcbiAgcGxhdGZvcm06IEZyYW1ld29yay5Bbmd1bGFyU1NSLFxuICBkZXRlY3Rpb25NZXRob2Q6IGFuZ3VsYXJTU1JEZXRlY3Rcbn0sIHtcbiAgcGxhdGZvcm06IEZyYW1ld29yay5TdmVsdGVTU1IsXG4gIGRldGVjdGlvbk1ldGhvZDogc3ZlbHRlU1NSRGV0ZWN0XG59XTtcbmZ1bmN0aW9uIGRldGVjdCgpIHtcbiAgcmV0dXJuIGRldGVjdGlvbk1hcC5maW5kKGRldGVjdGlvbkVudHJ5ID0+IGRldGVjdGlvbkVudHJ5LmRldGVjdGlvbk1ldGhvZCgpKT8ucGxhdGZvcm0gfHwgRnJhbWV3b3JrLlNlcnZlclNpZGVVbmtub3duO1xufVxuZXhwb3J0IHsgZGV0ZWN0IH07XG4iLCJpbXBvcnQgeyBGcmFtZXdvcmsgfSBmcm9tICcuL3R5cGVzLm1qcyc7XG5pbXBvcnQgeyBkZXRlY3QgfSBmcm9tICcuL2RldGVjdGlvbi9pbmRleC5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vLyBXZSB3YW50IHRvIGNhY2hlIGRldGVjdGlvbiBzaW5jZSB0aGUgZnJhbWV3b3JrIHdvbid0IGNoYW5nZVxubGV0IGZyYW1ld29ya0NhY2hlO1xuY29uc3QgZnJhbWV3b3JrQ2hhbmdlT2JzZXJ2ZXJzID0gW107XG4vLyBTZXR1cCB0aGUgZGV0ZWN0aW9uIHJlc2V0IHRyYWNraW5nIC8gdGltZW91dCBkZWxheXNcbmxldCByZXNldFRyaWdnZXJlZCA9IGZhbHNlO1xuY29uc3QgU1NSX1JFU0VUX1RJTUVPVVQgPSAxMDsgLy8gbXNcbmNvbnN0IFdFQl9SRVNFVF9USU1FT1VUID0gMTA7IC8vIG1zXG5jb25zdCBQUklNRV9GUkFNRVdPUktfREVMQVkgPSAxMDAwOyAvLyBtc1xuY29uc3QgZGV0ZWN0RnJhbWV3b3JrID0gKCkgPT4ge1xuICBpZiAoIWZyYW1ld29ya0NhY2hlKSB7XG4gICAgZnJhbWV3b3JrQ2FjaGUgPSBkZXRlY3QoKTtcbiAgICBpZiAocmVzZXRUcmlnZ2VyZWQpIHtcbiAgICAgIC8vIFRoZSBmaW5hbCBydW4gb2YgZGV0ZWN0RnJhbWV3b3JrOlxuICAgICAgLy8gU3RhcnRpbmcgZnJvbSB0aGlzIHBvaW50LCB0aGUgYGZyYW1ld29ya0NhY2hlYCBiZWNvbWVzIFwiZmluYWxcIi5cbiAgICAgIC8vIFNvIHdlIGRvbid0IG5lZWQgdG8gbm90aWZ5IHRoZSBvYnNlcnZlcnMgYWdhaW4gc28gdGhlIG9ic2VydmVyXG4gICAgICAvLyBjYW4gYmUgcmVtb3ZlZCBhZnRlciB0aGUgZmluYWwgbm90aWNlLlxuICAgICAgd2hpbGUgKGZyYW1ld29ya0NoYW5nZU9ic2VydmVycy5sZW5ndGgpIHtcbiAgICAgICAgZnJhbWV3b3JrQ2hhbmdlT2JzZXJ2ZXJzLnBvcCgpPy4oKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlIGZpcnN0IHJ1biBvZiBkZXRlY3RGcmFtZXdvcms6XG4gICAgICAvLyBFdmVyeSB0aW1lIHdlIHVwZGF0ZSB0aGUgY2FjaGUsIGNhbGwgZWFjaCBvYnNlcnZlciBmdW5jdGlvblxuICAgICAgZnJhbWV3b3JrQ2hhbmdlT2JzZXJ2ZXJzLmZvckVhY2goZmNuID0+IHtcbiAgICAgICAgZmNuKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gUmV0cnkgb25jZSBmb3IgZWl0aGVyIFVua25vd24gdHlwZSBhZnRlciBhIGRlbGF5IChleHBsYWluZWQgYmVsb3cpXG4gICAgcmVzZXRUaW1lb3V0KEZyYW1ld29yay5TZXJ2ZXJTaWRlVW5rbm93biwgU1NSX1JFU0VUX1RJTUVPVVQpO1xuICAgIHJlc2V0VGltZW91dChGcmFtZXdvcmsuV2ViVW5rbm93biwgV0VCX1JFU0VUX1RJTUVPVVQpO1xuICB9XG4gIHJldHVybiBmcmFtZXdvcmtDYWNoZTtcbn07XG4vKipcbiAqIEBpbnRlcm5hbCBTZXR1cCBvYnNlcnZlciBjYWxsYmFjayB0aGF0IHdpbGwgYmUgY2FsbGVkIGV2ZXJ5dGltZSB0aGUgZnJhbWV3b3JrIGNoYW5nZXNcbiAqL1xuY29uc3Qgb2JzZXJ2ZUZyYW1ld29ya0NoYW5nZXMgPSBmY24gPT4ge1xuICAvLyBXaGVuIHRoZSBgZnJhbWV3b3JrQ2FjaGVgIHdvbid0IGJlIHVwZGF0ZWQgYWdhaW4sIHdlIGlnbm9yZSBhbGwgaW5jb21pbmdcbiAgLy8gb2JzZXJ2ZXJzLlxuICBpZiAocmVzZXRUcmlnZ2VyZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZnJhbWV3b3JrQ2hhbmdlT2JzZXJ2ZXJzLnB1c2goZmNuKTtcbn07XG5mdW5jdGlvbiBjbGVhckNhY2hlKCkge1xuICBmcmFtZXdvcmtDYWNoZSA9IHVuZGVmaW5lZDtcbn1cbi8vIEZvciBhIGZyYW1ld29yayB0eXBlIGFuZCBhIGRlbGF5IGFtb3VudCwgc2V0dXAgdGhlIGV2ZW50IHRvIHJlLWRldGVjdFxuLy8gICBEdXJpbmcgdGhlIHJ1bnRpbWUgYm9vdCwgaXQgaXMgcG9zc2libGUgdGhhdCBmcmFtZXdvcmsgZGV0ZWN0aW9uIHdpbGxcbi8vICAgYmUgdHJpZ2dlcmVkIGJlZm9yZSB0aGUgZnJhbWV3b3JrIGhhcyBtYWRlIG1vZGlmaWNhdGlvbnMgdG8gdGhlXG4vLyAgIGdsb2JhbC93aW5kb3cvZXRjIG5lZWRlZCBmb3IgZGV0ZWN0aW9uLiBXaGVuIG5vIGZyYW1ld29yayBpcyBkZXRlY3RlZFxuLy8gICB3ZSB3aWxsIHJlc2V0IGFuZCB0cnkgYWdhaW4gdG8gZW5zdXJlIHdlIGRvbid0IHVzZSBhIGNhY2hlZFxuLy8gICBub24tZnJhbWV3b3JrIGRldGVjdGlvbiByZXN1bHQgZm9yIGFsbCByZXF1ZXN0cy5cbmZ1bmN0aW9uIHJlc2V0VGltZW91dChmcmFtZXdvcmssIGRlbGF5KSB7XG4gIGlmIChmcmFtZXdvcmtDYWNoZSA9PT0gZnJhbWV3b3JrICYmICFyZXNldFRyaWdnZXJlZCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY2xlYXJDYWNoZSgpO1xuICAgICAgcmVzZXRUcmlnZ2VyZWQgPSB0cnVlO1xuICAgICAgc2V0VGltZW91dChkZXRlY3RGcmFtZXdvcmssIFBSSU1FX0ZSQU1FV09SS19ERUxBWSk7XG4gICAgfSwgZGVsYXkpO1xuICB9XG59XG5leHBvcnQgeyBjbGVhckNhY2hlLCBkZXRlY3RGcmFtZXdvcmssIGZyYW1ld29ya0NoYW5nZU9ic2VydmVycywgb2JzZXJ2ZUZyYW1ld29ya0NoYW5nZXMgfTtcbiIsIi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8vIE1haW50YWlucyBjdXN0b20gdXNlci1hZ2VudCBzdGF0ZSBzZXQgYnkgZXh0ZXJuYWwgY29uc3VtZXJzLlxuY29uc3QgY3VzdG9tVXNlckFnZW50U3RhdGUgPSB7fTtcbi8qKlxuICogU2V0cyBjdXN0b20gdXNlciBhZ2VudCBzdGF0ZSB3aGljaCB3aWxsIGJlIGFwcGVuZGVkIHRvIGFwcGxpY2FibGUgcmVxdWVzdHMuIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvXG4gKiBjbGVhbiB1cCBhbnkgY3VzdG9tIHN0YXRlIHNldCB3aXRoIHRoaXMgQVBJLlxuICpcbiAqIEBub3RlXG4gKiBUaGlzIEFQSSBvcGVyYXRlcyBnbG9iYWxseS4gQ2FsbGluZyB0aGlzIEFQSSBtdWx0aXBsZSB0aW1lcyB3aWxsIHJlc3VsdCBpbiB0aGUgbW9zdCByZWNlbnRseSBzZXQgdmFsdWVzIGZvciBhXG4gKiBwYXJ0aWN1bGFyIEFQSSBiZWluZyB1c2VkLlxuICpcbiAqIEBub3RlXG4gKiBUaGlzIHV0aWxpdHkgSVMgTk9UIGNvbXBhdGlibGUgd2l0aCBTU1IuXG4gKlxuICogQHBhcmFtIGlucHV0IC0gU2V0Q3VzdG9tVXNlckFnZW50SW5wdXQgdGhhdCBkZWZpbmVzIGN1c3RvbSBzdGF0ZSB0byBhcHBseSB0byB0aGUgc3BlY2lmaWVkIEFQSXMuXG4gKi9cbmNvbnN0IHNldEN1c3RvbVVzZXJBZ2VudCA9IGlucHV0ID0+IHtcbiAgLy8gU2F2ZSBjdXN0b20gdXNlci1hZ2VudCBzdGF0ZSAmIGluY3JlbWVudCByZWZlcmVuY2UgY291bnRlclxuICAvLyBUT0RPIFJlbW92ZSBgYW55YCB3aGVuIHdlIHVwZ3JhZGUgdG8gVHlwZVNjcmlwdCA1LjIsIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy80NDM3M1xuICBjdXN0b21Vc2VyQWdlbnRTdGF0ZVtpbnB1dC5jYXRlZ29yeV0gPSBpbnB1dC5hcGlzLnJlZHVjZSgoYWNjLCBhcGkpID0+ICh7XG4gICAgLi4uYWNjLFxuICAgIFthcGldOiB7XG4gICAgICByZWZDb3VudDogYWNjW2FwaV0/LnJlZkNvdW50ID8gYWNjW2FwaV0ucmVmQ291bnQgKyAxIDogMSxcbiAgICAgIGFkZGl0aW9uYWxEZXRhaWxzOiBpbnB1dC5hZGRpdGlvbmFsRGV0YWlsc1xuICAgIH1cbiAgfSksIGN1c3RvbVVzZXJBZ2VudFN0YXRlW2lucHV0LmNhdGVnb3J5XSA/PyB7fSk7XG4gIC8vIENhbGxiYWNrIHRoYXQgY2xlYW5zIHVwIHN0YXRlIGZvciBBUElzIHJlY29yZGVkIGJ5IHRoaXMgY2FsbFxuICBsZXQgY2xlYW5VcENhbGxiYWNrQ2FsbGVkID0gZmFsc2U7XG4gIGNvbnN0IGNsZWFuVXBDYWxsYmFjayA9ICgpID0+IHtcbiAgICAvLyBPbmx5IGFsbG93IHRoZSBjbGVhbnVwIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCBvbmNlXG4gICAgaWYgKGNsZWFuVXBDYWxsYmFja0NhbGxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjbGVhblVwQ2FsbGJhY2tDYWxsZWQgPSB0cnVlO1xuICAgIGlucHV0LmFwaXMuZm9yRWFjaChhcGkgPT4ge1xuICAgICAgY29uc3QgYXBpUmVmQ291bnQgPSBjdXN0b21Vc2VyQWdlbnRTdGF0ZVtpbnB1dC5jYXRlZ29yeV1bYXBpXS5yZWZDb3VudDtcbiAgICAgIGlmIChhcGlSZWZDb3VudCA+IDEpIHtcbiAgICAgICAgY3VzdG9tVXNlckFnZW50U3RhdGVbaW5wdXQuY2F0ZWdvcnldW2FwaV0ucmVmQ291bnQgPSBhcGlSZWZDb3VudCAtIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGUgY3VzdG9tVXNlckFnZW50U3RhdGVbaW5wdXQuY2F0ZWdvcnldW2FwaV07XG4gICAgICAgIC8vIENsZWFuIHVwIGNhdGVnb3J5IGlmIG5vIG1vcmUgQVBJcyBzZXRcbiAgICAgICAgaWYgKCFPYmplY3Qua2V5cyhjdXN0b21Vc2VyQWdlbnRTdGF0ZVtpbnB1dC5jYXRlZ29yeV0pLmxlbmd0aCkge1xuICAgICAgICAgIGRlbGV0ZSBjdXN0b21Vc2VyQWdlbnRTdGF0ZVtpbnB1dC5jYXRlZ29yeV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIGNsZWFuVXBDYWxsYmFjaztcbn07XG5jb25zdCBnZXRDdXN0b21Vc2VyQWdlbnQgPSAoY2F0ZWdvcnksIGFwaSkgPT4gY3VzdG9tVXNlckFnZW50U3RhdGVbY2F0ZWdvcnldPy5bYXBpXT8uYWRkaXRpb25hbERldGFpbHM7XG5leHBvcnQgeyBnZXRDdXN0b21Vc2VyQWdlbnQsIHNldEN1c3RvbVVzZXJBZ2VudCB9O1xuIiwiaW1wb3J0IHsgRnJhbWV3b3JrIH0gZnJvbSAnLi90eXBlcy5tanMnO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJy4vdmVyc2lvbi5tanMnO1xuaW1wb3J0IHsgZGV0ZWN0RnJhbWV3b3JrLCBvYnNlcnZlRnJhbWV3b3JrQ2hhbmdlcyB9IGZyb20gJy4vZGV0ZWN0RnJhbWV3b3JrLm1qcyc7XG5pbXBvcnQgeyBnZXRDdXN0b21Vc2VyQWdlbnQgfSBmcm9tICcuL2N1c3RvbVVzZXJBZ2VudC5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBCQVNFX1VTRVJfQUdFTlQgPSBgYXdzLWFtcGxpZnlgO1xuLyoqIFNhbml0aXplIEFtcGxpZnkgdmVyc2lvbiBzdHJpbmcgYmUgcmVtb3Zpbmcgc3BlY2lhbCBjaGFyYWN0ZXIgKyBhbmQgY2hhcmFjdGVyIHBvc3QgdGhlIHNwZWNpYWwgY2hhcmFjdGVyICAqL1xuY29uc3Qgc2FuaXRpemVBbXBsaWZ5VmVyc2lvbiA9IGFtcGxpZnlWZXJzaW9uID0+IGFtcGxpZnlWZXJzaW9uLnJlcGxhY2UoL1xcKy4qLywgJycpO1xuY2xhc3MgUGxhdGZvcm1CdWlsZGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy51c2VyQWdlbnQgPSBgJHtCQVNFX1VTRVJfQUdFTlR9LyR7c2FuaXRpemVBbXBsaWZ5VmVyc2lvbih2ZXJzaW9uKX1gO1xuICB9XG4gIGdldCBmcmFtZXdvcmsoKSB7XG4gICAgcmV0dXJuIGRldGVjdEZyYW1ld29yaygpO1xuICB9XG4gIGdldCBpc1JlYWN0TmF0aXZlKCkge1xuICAgIHJldHVybiB0aGlzLmZyYW1ld29yayA9PT0gRnJhbWV3b3JrLlJlYWN0TmF0aXZlIHx8IHRoaXMuZnJhbWV3b3JrID09PSBGcmFtZXdvcmsuRXhwbztcbiAgfVxuICBvYnNlcnZlRnJhbWV3b3JrQ2hhbmdlcyhmY24pIHtcbiAgICBvYnNlcnZlRnJhbWV3b3JrQ2hhbmdlcyhmY24pO1xuICB9XG59XG5jb25zdCBQbGF0Zm9ybSA9IG5ldyBQbGF0Zm9ybUJ1aWxkZXIoKTtcbmNvbnN0IGdldEFtcGxpZnlVc2VyQWdlbnRPYmplY3QgPSAoe1xuICBjYXRlZ29yeSxcbiAgYWN0aW9uXG59ID0ge30pID0+IHtcbiAgY29uc3QgdXNlckFnZW50ID0gW1tCQVNFX1VTRVJfQUdFTlQsIHNhbml0aXplQW1wbGlmeVZlcnNpb24odmVyc2lvbildXTtcbiAgaWYgKGNhdGVnb3J5KSB7XG4gICAgdXNlckFnZW50LnB1c2goW2NhdGVnb3J5LCBhY3Rpb25dKTtcbiAgfVxuICB1c2VyQWdlbnQucHVzaChbJ2ZyYW1ld29yaycsIGRldGVjdEZyYW1ld29yaygpXSk7XG4gIGlmIChjYXRlZ29yeSAmJiBhY3Rpb24pIHtcbiAgICBjb25zdCBjdXN0b21TdGF0ZSA9IGdldEN1c3RvbVVzZXJBZ2VudChjYXRlZ29yeSwgYWN0aW9uKTtcbiAgICBpZiAoY3VzdG9tU3RhdGUpIHtcbiAgICAgIGN1c3RvbVN0YXRlLmZvckVhY2goc3RhdGUgPT4ge1xuICAgICAgICB1c2VyQWdlbnQucHVzaChzdGF0ZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHVzZXJBZ2VudDtcbn07XG5jb25zdCBnZXRBbXBsaWZ5VXNlckFnZW50ID0gY3VzdG9tVXNlckFnZW50RGV0YWlscyA9PiB7XG4gIGNvbnN0IHVzZXJBZ2VudCA9IGdldEFtcGxpZnlVc2VyQWdlbnRPYmplY3QoY3VzdG9tVXNlckFnZW50RGV0YWlscyk7XG4gIGNvbnN0IHVzZXJBZ2VudFN0cmluZyA9IHVzZXJBZ2VudC5tYXAoKFthZ2VudEtleSwgYWdlbnRWYWx1ZV0pID0+IGFnZW50S2V5ICYmIGFnZW50VmFsdWUgPyBgJHthZ2VudEtleX0vJHthZ2VudFZhbHVlfWAgOiBhZ2VudEtleSkuam9pbignICcpO1xuICByZXR1cm4gdXNlckFnZW50U3RyaW5nO1xufTtcbmV4cG9ydCB7IFBsYXRmb3JtLCBnZXRBbXBsaWZ5VXNlckFnZW50LCBnZXRBbXBsaWZ5VXNlckFnZW50T2JqZWN0LCBzYW5pdGl6ZUFtcGxpZnlWZXJzaW9uIH07XG4iLCIvLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBpc0Jyb3dzZXIgPSAoKSA9PiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcbmV4cG9ydCB7IGlzQnJvd3NlciB9O1xuIiwiaW1wb3J0IHsgQ29uc29sZUxvZ2dlciB9IGZyb20gJy4uLy4uL0xvZ2dlci9Db25zb2xlTG9nZ2VyLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IGxvZ2dlciA9IG5ldyBDb25zb2xlTG9nZ2VyKCdBdXRoJyk7XG5jbGFzcyBBdXRoQ2xhc3Mge1xuICAvKipcbiAgICogQ29uZmlndXJlIEF1dGggY2F0ZWdvcnlcbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBhdXRoUmVzb3VyY2VzQ29uZmlnIC0gUmVzb3VyY2VzIGNvbmZpZ3VyYXRpb25zIHJlcXVpcmVkIGJ5IEF1dGggcHJvdmlkZXJzLlxuICAgKiBAcGFyYW0gYXV0aE9wdGlvbnMgLSBDbGllbnQgb3B0aW9ucyB1c2VkIGJ5IGxpYnJhcnlcbiAgICpcbiAgICogQHJldHVybnMgdm9pZFxuICAgKi9cbiAgY29uZmlndXJlKGF1dGhSZXNvdXJjZXNDb25maWcsIGF1dGhPcHRpb25zKSB7XG4gICAgdGhpcy5hdXRoQ29uZmlnID0gYXV0aFJlc291cmNlc0NvbmZpZztcbiAgICB0aGlzLmF1dGhPcHRpb25zID0gYXV0aE9wdGlvbnM7XG4gICAgaWYgKGF1dGhSZXNvdXJjZXNDb25maWcgJiYgYXV0aFJlc291cmNlc0NvbmZpZy5Db2duaXRvPy51c2VyUG9vbEVuZHBvaW50KSB7XG4gICAgICBsb2dnZXIud2FybihnZXRDdXN0b21FbmRwb2ludFdhcm5pbmdNZXNzYWdlKCdBbWF6b24gQ29nbml0byBVc2VyIFBvb2wnKSk7XG4gICAgfVxuICAgIGlmIChhdXRoUmVzb3VyY2VzQ29uZmlnICYmIGF1dGhSZXNvdXJjZXNDb25maWcuQ29nbml0bz8uaWRlbnRpdHlQb29sRW5kcG9pbnQpIHtcbiAgICAgIGxvZ2dlci53YXJuKGdldEN1c3RvbUVuZHBvaW50V2FybmluZ01lc3NhZ2UoJ0FtYXpvbiBDb2duaXRvIElkZW50aXR5IFBvb2wnKSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBGZXRjaCB0aGUgYXV0aCB0b2tlbnMsIGFuZCB0aGUgdGVtcG9yYXJ5IEFXUyBjcmVkZW50aWFscyBhbmQgaWRlbnRpdHkgaWYgdGhleSBhcmUgY29uZmlndXJlZC4gQnkgZGVmYXVsdCBpdFxuICAgKiB3aWxsIGF1dG9tYXRpY2FsbHkgcmVmcmVzaCBleHBpcmVkIGF1dGggdG9rZW5zIGlmIGEgdmFsaWQgcmVmcmVzaCB0b2tlbiBpcyBwcmVzZW50LiBZb3UgY2FuIGZvcmNlIGEgcmVmcmVzaFxuICAgKiBvZiBub24tZXhwaXJlZCB0b2tlbnMgd2l0aCBgeyBmb3JjZVJlZnJlc2g6IHRydWUgfWAgaW5wdXQuXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBjb25maWd1cmluZyB0aGUgZmV0Y2ggYmVoYXZpb3IuXG4gICAqXG4gICAqIEByZXR1cm5zIFByb21pc2Ugb2YgY3VycmVudCBhdXRoIHNlc3Npb24ge0BsaW5rIEF1dGhTZXNzaW9ufS5cbiAgICovXG4gIGFzeW5jIGZldGNoQXV0aFNlc3Npb24ob3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IGNyZWRlbnRpYWxzQW5kSWRlbnRpdHlJZDtcbiAgICBsZXQgdXNlclN1YjtcbiAgICAvLyBHZXQgdG9rZW5zIHdpbGwgdGhyb3cgaWYgc2Vzc2lvbiBjYW5ub3QgYmUgcmVmcmVzaGVkIChuZXR3b3JrIG9yIHNlcnZpY2UgZXJyb3IpIG9yIHJldHVybiBudWxsIGlmIG5vdCBhdmFpbGFibGVcbiAgICBjb25zdCB0b2tlbnMgPSBhd2FpdCB0aGlzLmdldFRva2VucyhvcHRpb25zKTtcbiAgICBpZiAodG9rZW5zKSB7XG4gICAgICB1c2VyU3ViID0gdG9rZW5zLmFjY2Vzc1Rva2VuPy5wYXlsb2FkPy5zdWI7XG4gICAgICAvLyBnZXRDcmVkZW50aWFsc0FuZElkZW50aXR5SWQgd2lsbCB0aHJvdyBpZiBjYW5ub3QgZ2V0IGNyZWRlbnRpYWxzIChuZXR3b3JrIG9yIHNlcnZpY2UgZXJyb3IpXG4gICAgICBjcmVkZW50aWFsc0FuZElkZW50aXR5SWQgPSBhd2FpdCB0aGlzLmF1dGhPcHRpb25zPy5jcmVkZW50aWFsc1Byb3ZpZGVyPy5nZXRDcmVkZW50aWFsc0FuZElkZW50aXR5SWQoe1xuICAgICAgICBhdXRoQ29uZmlnOiB0aGlzLmF1dGhDb25maWcsXG4gICAgICAgIHRva2VucyxcbiAgICAgICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICAgICAgZm9yY2VSZWZyZXNoOiBvcHRpb25zLmZvcmNlUmVmcmVzaFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGdldENyZWRlbnRpYWxzQW5kSWRlbnRpdHlJZCB3aWxsIHRocm93IGlmIGNhbm5vdCBnZXQgY3JlZGVudGlhbHMgKG5ldHdvcmsgb3Igc2VydmljZSBlcnJvcilcbiAgICAgIGNyZWRlbnRpYWxzQW5kSWRlbnRpdHlJZCA9IGF3YWl0IHRoaXMuYXV0aE9wdGlvbnM/LmNyZWRlbnRpYWxzUHJvdmlkZXI/LmdldENyZWRlbnRpYWxzQW5kSWRlbnRpdHlJZCh7XG4gICAgICAgIGF1dGhDb25maWc6IHRoaXMuYXV0aENvbmZpZyxcbiAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2UsXG4gICAgICAgIGZvcmNlUmVmcmVzaDogb3B0aW9ucy5mb3JjZVJlZnJlc2hcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdG9rZW5zLFxuICAgICAgY3JlZGVudGlhbHM6IGNyZWRlbnRpYWxzQW5kSWRlbnRpdHlJZD8uY3JlZGVudGlhbHMsXG4gICAgICBpZGVudGl0eUlkOiBjcmVkZW50aWFsc0FuZElkZW50aXR5SWQ/LmlkZW50aXR5SWQsXG4gICAgICB1c2VyU3ViXG4gICAgfTtcbiAgfVxuICBhc3luYyBjbGVhckNyZWRlbnRpYWxzKCkge1xuICAgIGF3YWl0IHRoaXMuYXV0aE9wdGlvbnM/LmNyZWRlbnRpYWxzUHJvdmlkZXI/LmNsZWFyQ3JlZGVudGlhbHNBbmRJZGVudGl0eUlkKCk7XG4gIH1cbiAgYXN5bmMgZ2V0VG9rZW5zKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gKGF3YWl0IHRoaXMuYXV0aE9wdGlvbnM/LnRva2VuUHJvdmlkZXI/LmdldFRva2VucyhvcHRpb25zKSkgPz8gdW5kZWZpbmVkO1xuICB9XG59XG5jb25zdCBnZXRDdXN0b21FbmRwb2ludFdhcm5pbmdNZXNzYWdlID0gdGFyZ2V0ID0+IGBZb3UgYXJlIHVzaW5nIGEgY3VzdG9tIEFtYXpvbiAke3RhcmdldH0gZW5kcG9pbnQsIGVuc3VyZSB0aGUgZW5kcG9pbnQgaXMgY29ycmVjdC5gO1xuZXhwb3J0IHsgQXV0aENsYXNzIH07XG4iLCJpbXBvcnQgeyBIdWIsIEFNUExJRllfU1lNQk9MIH0gZnJvbSAnLi4vSHViL2luZGV4Lm1qcyc7XG5pbXBvcnQgJy4uL3R5cGVzL2Vycm9ycy5tanMnO1xuaW1wb3J0ICcuLi9lcnJvcnMvZXJyb3JIZWxwZXJzLm1qcyc7XG5pbXBvcnQgJy4uL3V0aWxzL2dldENsaWVudEluZm8vZ2V0Q2xpZW50SW5mby5tanMnO1xuaW1wb3J0ICcuLi91dGlscy9yZXRyeS9yZXRyeS5tanMnO1xuaW1wb3J0IHsgZGVlcEZyZWV6ZSB9IGZyb20gJy4uL3V0aWxzL2RlZXBGcmVlemUubWpzJztcbmltcG9ydCAnLi4vcGFyc2VBV1NFeHBvcnRzLm1qcyc7XG5pbXBvcnQgeyBBRERfT0FVVEhfTElTVEVORVIgfSBmcm9tICcuL2NvbnN0YW50cy5tanMnO1xuaW1wb3J0ICd1dWlkJztcbmltcG9ydCB7IHBhcnNlQW1wbGlmeUNvbmZpZyB9IGZyb20gJy4uL3V0aWxzL3BhcnNlQW1wbGlmeUNvbmZpZy5tanMnO1xuaW1wb3J0ICcuL0F1dGgvdXRpbHMvZXJyb3JIZWxwZXJzLm1qcyc7XG5pbXBvcnQgJ0Bhd3MtY3J5cHRvL3NoYTI1Ni1qcyc7XG5pbXBvcnQgJ0BzbWl0aHkvdXRpbC1oZXgtZW5jb2RpbmcnO1xuaW1wb3J0ICcuLi9QbGF0Zm9ybS9pbmRleC5tanMnO1xuaW1wb3J0ICcuLi9QbGF0Zm9ybS90eXBlcy5tanMnO1xuaW1wb3J0ICcuLi9CYWNrZ3JvdW5kUHJvY2Vzc01hbmFnZXIvdHlwZXMubWpzJztcbmltcG9ydCAnLi4vUmVhY2hhYmlsaXR5L1JlYWNoYWJpbGl0eS5tanMnO1xuaW1wb3J0ICcuLi91dGlscy9zZXNzaW9uTGlzdGVuZXIvaW5kZXgubWpzJztcbmltcG9ydCB7IEF1dGhDbGFzcyB9IGZyb20gJy4vQXV0aC9pbmRleC5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jbGFzcyBBbXBsaWZ5Q2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm9BdXRoTGlzdGVuZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5pc0NvbmZpZ3VyZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlc291cmNlc0NvbmZpZyA9IHt9O1xuICAgIHRoaXMubGlicmFyeU9wdGlvbnMgPSB7fTtcbiAgICB0aGlzLkF1dGggPSBuZXcgQXV0aENsYXNzKCk7XG4gIH1cbiAgLyoqXG4gICAqIENvbmZpZ3VyZXMgQW1wbGlmeSBmb3IgdXNlIHdpdGggeW91ciBiYWNrLWVuZCByZXNvdXJjZXMuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIFRoaXMgQVBJIGRvZXMgbm90IHBlcmZvcm0gYW55IG1lcmdpbmcgb2YgZWl0aGVyIGByZXNvdXJjZXNDb25maWdgIG9yIGBsaWJyYXJ5T3B0aW9uc2AuIFRoZSBtb3N0IHJlY2VudGx5XG4gICAqIHByb3ZpZGVkIHZhbHVlcyB3aWxsIGJlIHVzZWQgYWZ0ZXIgY29uZmlndXJhdGlvbi5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogYGNvbmZpZ3VyZWAgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSBhZGRpdGlvbmFsIGxpYnJhcnkgb3B0aW9ucyB3aGVyZSBhdmFpbGFibGUgZm9yIHN1cHBvcnRlZCBjYXRlZ29yaWVzLlxuICAgKlxuICAgKiBAcGFyYW0gcmVzb3VyY2VDb25maWcgLSBCYWNrLWVuZCByZXNvdXJjZSBjb25maWd1cmF0aW9uLiBUeXBpY2FsbHkgcHJvdmlkZWQgdmlhIHRoZSBgYXdzLWV4cG9ydHMuanNgIGZpbGUuXG4gICAqIEBwYXJhbSBsaWJyYXJ5T3B0aW9ucyAtIEFkZGl0aW9uYWwgb3B0aW9ucyBmb3IgY3VzdG9taXppbmcgdGhlIGJlaGF2aW9yIG9mIHRoZSBsaWJyYXJ5LlxuICAgKi9cbiAgY29uZmlndXJlKHJlc291cmNlc0NvbmZpZywgbGlicmFyeU9wdGlvbnMpIHtcbiAgICBjb25zdCByZXNvbHZlZFJlc291cmNlQ29uZmlnID0gcGFyc2VBbXBsaWZ5Q29uZmlnKHJlc291cmNlc0NvbmZpZyk7XG4gICAgdGhpcy5yZXNvdXJjZXNDb25maWcgPSByZXNvbHZlZFJlc291cmNlQ29uZmlnO1xuICAgIGlmIChsaWJyYXJ5T3B0aW9ucykge1xuICAgICAgdGhpcy5saWJyYXJ5T3B0aW9ucyA9IGxpYnJhcnlPcHRpb25zO1xuICAgIH1cbiAgICAvLyBNYWtlIHJlc291cmNlIGNvbmZpZyBpbW11dGFibGVcbiAgICB0aGlzLnJlc291cmNlc0NvbmZpZyA9IGRlZXBGcmVlemUodGhpcy5yZXNvdXJjZXNDb25maWcpO1xuICAgIHRoaXMuQXV0aC5jb25maWd1cmUodGhpcy5yZXNvdXJjZXNDb25maWcuQXV0aCwgdGhpcy5saWJyYXJ5T3B0aW9ucy5BdXRoKTtcbiAgICBIdWIuZGlzcGF0Y2goJ2NvcmUnLCB7XG4gICAgICBldmVudDogJ2NvbmZpZ3VyZScsXG4gICAgICBkYXRhOiB0aGlzLnJlc291cmNlc0NvbmZpZ1xuICAgIH0sICdDb25maWd1cmUnLCBBTVBMSUZZX1NZTUJPTCk7XG4gICAgdGhpcy5ub3RpZnlPQXV0aExpc3RlbmVyKCk7XG4gICAgdGhpcy5pc0NvbmZpZ3VyZWQgPSB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBQcm92aWRlcyBhY2Nlc3MgdG8gdGhlIGN1cnJlbnQgYmFjay1lbmQgcmVzb3VyY2UgY29uZmlndXJhdGlvbiBmb3IgdGhlIExpYnJhcnkuXG4gICAqXG4gICAqIEByZXR1cm5zIFJldHVybnMgdGhlIGltbXV0YWJsZSBiYWNrLWVuZCByZXNvdXJjZSBjb25maWd1cmF0aW9uLlxuICAgKi9cbiAgZ2V0Q29uZmlnKCkge1xuICAgIGlmICghdGhpcy5pc0NvbmZpZ3VyZWQpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oYEFtcGxpZnkgaGFzIG5vdCBiZWVuIGNvbmZpZ3VyZWQuIFBsZWFzZSBjYWxsIEFtcGxpZnkuY29uZmlndXJlKCkgYmVmb3JlIHVzaW5nIHRoaXMgc2VydmljZS5gKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucmVzb3VyY2VzQ29uZmlnO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgW0FERF9PQVVUSF9MSVNURU5FUl0obGlzdGVuZXIpIHtcbiAgICBpZiAodGhpcy5yZXNvdXJjZXNDb25maWcuQXV0aD8uQ29nbml0by5sb2dpbldpdGg/Lm9hdXRoKSB7XG4gICAgICAvLyB3aGVuIEFtcGxpZnkgaGFzIGJlZW4gY29uZmlndXJlZCB3aXRoIGEgdmFsaWQgT0F1dGggY29uZmlnIHdoaWxlIGFkZGluZyB0aGUgbGlzdGVuZXIsIHJ1biBpdCBkaXJlY3RseVxuICAgICAgbGlzdGVuZXIodGhpcy5yZXNvdXJjZXNDb25maWcuQXV0aD8uQ29nbml0byk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG90aGVyd2lzZSByZWdpc3RlciB0aGUgbGlzdGVuZXIgYW5kIHJ1biBpdCBsYXRlciB3aGVuIEFtcGxpZnkgZ2V0cyBjb25maWd1cmVkIHdpdGggYSB2YWxpZCBvYXV0aCBjb25maWdcbiAgICAgIHRoaXMub0F1dGhMaXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgIH1cbiAgfVxuICBub3RpZnlPQXV0aExpc3RlbmVyKCkge1xuICAgIGlmICghdGhpcy5yZXNvdXJjZXNDb25maWcuQXV0aD8uQ29nbml0by5sb2dpbldpdGg/Lm9hdXRoIHx8ICF0aGlzLm9BdXRoTGlzdGVuZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5vQXV0aExpc3RlbmVyKHRoaXMucmVzb3VyY2VzQ29uZmlnLkF1dGg/LkNvZ25pdG8pO1xuICAgIC8vIHRoZSBsaXN0ZW5lciBzaG91bGQgb25seSBiZSBub3RpZmllZCBvbmNlIHdpdGggYSB2YWxpZCBvYXV0aCBjb25maWdcbiAgICB0aGlzLm9BdXRoTGlzdGVuZXIgPSB1bmRlZmluZWQ7XG4gIH1cbn1cbi8qKlxuICogVGhlIGBBbXBsaWZ5YCB1dGlsaXR5IGlzIHVzZWQgdG8gY29uZmlndXJlIHRoZSBsaWJyYXJ5LlxuICpcbiAqIEByZW1hcmtzXG4gKiBgQW1wbGlmeWAgb3JjaGVzdHJhdGVzIGNyb3NzLWNhdGVnb3J5IGNvbW11bmljYXRpb24gd2l0aGluIHRoZSBsaWJyYXJ5LlxuICovXG5jb25zdCBBbXBsaWZ5ID0gbmV3IEFtcGxpZnlDbGFzcygpO1xuZXhwb3J0IHsgQW1wbGlmeSwgQW1wbGlmeUNsYXNzIH07XG4iLCIvLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBmZXRjaEF1dGhTZXNzaW9uID0gKGFtcGxpZnksIG9wdGlvbnMpID0+IHtcbiAgcmV0dXJuIGFtcGxpZnkuQXV0aC5mZXRjaEF1dGhTZXNzaW9uKG9wdGlvbnMpO1xufTtcbmV4cG9ydCB7IGZldGNoQXV0aFNlc3Npb24gfTtcbiIsImltcG9ydCB7IEFtcGxpZnkgfSBmcm9tICcuLi9BbXBsaWZ5Lm1qcyc7XG5pbXBvcnQgeyBmZXRjaEF1dGhTZXNzaW9uIGFzIGZldGNoQXV0aFNlc3Npb24kMSB9IGZyb20gJy4vaW50ZXJuYWwvZmV0Y2hBdXRoU2Vzc2lvbi5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIEZldGNoIHRoZSBhdXRoIHNlc3Npb24gaW5jbHVkaW5nIHRoZSB0b2tlbnMgYW5kIGNyZWRlbnRpYWxzIGlmIHRoZXkgYXJlIGF2YWlsYWJsZS4gQnkgZGVmYXVsdCBpdFxuICogd2lsbCBhdXRvbWF0aWNhbGx5IHJlZnJlc2ggZXhwaXJlZCBhdXRoIHRva2VucyBpZiBhIHZhbGlkIHJlZnJlc2ggdG9rZW4gaXMgcHJlc2VudC4gWW91IGNhbiBmb3JjZSBhIHJlZnJlc2hcbiAqIG9mIG5vbi1leHBpcmVkIHRva2VucyB3aXRoIGB7IGZvcmNlUmVmcmVzaDogdHJ1ZSB9YCBpbnB1dC5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgY29uZmlndXJpbmcgdGhlIGZldGNoIGJlaGF2aW9yLlxuICogQHRocm93cyB7QGxpbmsgQXV0aEVycm9yfSAtIFRocm93cyBlcnJvciB3aGVuIHNlc3Npb24gaW5mb3JtYXRpb24gY2Fubm90IGJlIHJlZnJlc2hlZC5cbiAqIEByZXR1cm5zIFByb21pc2U8QXV0aFNlc3Npb24+XG4gKi9cbmNvbnN0IGZldGNoQXV0aFNlc3Npb24gPSBvcHRpb25zID0+IHtcbiAgcmV0dXJuIGZldGNoQXV0aFNlc3Npb24kMShBbXBsaWZ5LCBvcHRpb25zKTtcbn07XG5leHBvcnQgeyBmZXRjaEF1dGhTZXNzaW9uIH07XG4iLCJpbXBvcnQgeyBBbXBsaWZ5IH0gZnJvbSAnLi4vQW1wbGlmeS5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5mdW5jdGlvbiBjbGVhckNyZWRlbnRpYWxzKCkge1xuICByZXR1cm4gQW1wbGlmeS5BdXRoLmNsZWFyQ3JlZGVudGlhbHMoKTtcbn1cbmV4cG9ydCB7IGNsZWFyQ3JlZGVudGlhbHMgfTtcbiIsIi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IHBhcnNlTWV0YWRhdGEgPSByZXNwb25zZSA9PiB7XG4gIGNvbnN0IHtcbiAgICBoZWFkZXJzLFxuICAgIHN0YXR1c0NvZGVcbiAgfSA9IHJlc3BvbnNlO1xuICByZXR1cm4ge1xuICAgIC4uLihpc01ldGFkYXRhQmVhcmVyKHJlc3BvbnNlKSA/IHJlc3BvbnNlLiRtZXRhZGF0YSA6IHt9KSxcbiAgICBodHRwU3RhdHVzQ29kZTogc3RhdHVzQ29kZSxcbiAgICByZXF1ZXN0SWQ6IGhlYWRlcnNbJ3gtYW16bi1yZXF1ZXN0aWQnXSA/PyBoZWFkZXJzWyd4LWFtem4tcmVxdWVzdC1pZCddID8/IGhlYWRlcnNbJ3gtYW16LXJlcXVlc3QtaWQnXSxcbiAgICBleHRlbmRlZFJlcXVlc3RJZDogaGVhZGVyc1sneC1hbXotaWQtMiddLFxuICAgIGNmSWQ6IGhlYWRlcnNbJ3gtYW16LWNmLWlkJ11cbiAgfTtcbn07XG5jb25zdCBpc01ldGFkYXRhQmVhcmVyID0gcmVzcG9uc2UgPT4gdHlwZW9mIHJlc3BvbnNlPy4kbWV0YWRhdGEgPT09ICdvYmplY3QnO1xuZXhwb3J0IHsgcGFyc2VNZXRhZGF0YSB9O1xuIiwiaW1wb3J0IHsgcGFyc2VNZXRhZGF0YSB9IGZyb20gJy4vcmVzcG9uc2VJbmZvLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbnMgZm9yIHNlcmlhbGl6aW5nIGFuZCBkZXNlcmlhbGl6aW5nIG9mIEpTT04gcHJvdG9jb2wgaW4gZ2VuZXJhbChpbmNsdWRpbmc6IFJFU1QtSlNPTiwgSlNPTi1SUEMsIGV0Yy4pXG4gKi9cbi8qKlxuICogRXJyb3IgcGFyc2VyIGZvciBBV1MgSlNPTiBwcm90b2NvbC5cbiAqL1xuY29uc3QgcGFyc2VKc29uRXJyb3IgPSBhc3luYyByZXNwb25zZSA9PiB7XG4gIGlmICghcmVzcG9uc2UgfHwgcmVzcG9uc2Uuc3RhdHVzQ29kZSA8IDMwMCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBib2R5ID0gYXdhaXQgcGFyc2VKc29uQm9keShyZXNwb25zZSk7XG4gIGNvbnN0IHNhbml0aXplRXJyb3JDb2RlID0gcmF3VmFsdWUgPT4ge1xuICAgIGNvbnN0IFtjbGVhblZhbHVlXSA9IHJhd1ZhbHVlLnRvU3RyaW5nKCkuc3BsaXQoL1ssOl0rLyk7XG4gICAgaWYgKGNsZWFuVmFsdWUuaW5jbHVkZXMoJyMnKSkge1xuICAgICAgcmV0dXJuIGNsZWFuVmFsdWUuc3BsaXQoJyMnKVsxXTtcbiAgICB9XG4gICAgcmV0dXJuIGNsZWFuVmFsdWU7XG4gIH07XG4gIGNvbnN0IGNvZGUgPSBzYW5pdGl6ZUVycm9yQ29kZShyZXNwb25zZS5oZWFkZXJzWyd4LWFtem4tZXJyb3J0eXBlJ10gPz8gYm9keS5jb2RlID8/IGJvZHkuX190eXBlID8/ICdVbmtub3duRXJyb3InKTtcbiAgY29uc3QgbWVzc2FnZSA9IGJvZHkubWVzc2FnZSA/PyBib2R5Lk1lc3NhZ2UgPz8gJ1Vua25vd24gZXJyb3InO1xuICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZXJyb3IsIHtcbiAgICBuYW1lOiBjb2RlLFxuICAgICRtZXRhZGF0YTogcGFyc2VNZXRhZGF0YShyZXNwb25zZSlcbiAgfSk7XG59O1xuLyoqXG4gKiBQYXJzZSBKU09OIHJlc3BvbnNlIGJvZHkgdG8gSmF2YVNjcmlwdCBvYmplY3QuXG4gKi9cbmNvbnN0IHBhcnNlSnNvbkJvZHkgPSBhc3luYyByZXNwb25zZSA9PiB7XG4gIGlmICghcmVzcG9uc2UuYm9keSkge1xuICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXNwb25zZSBwYXlsb2FkJyk7XG4gIH1cbiAgY29uc3Qgb3V0cHV0ID0gYXdhaXQgcmVzcG9uc2UuYm9keS5qc29uKCk7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKG91dHB1dCwge1xuICAgICRtZXRhZGF0YTogcGFyc2VNZXRhZGF0YShyZXNwb25zZSlcbiAgfSk7XG59O1xuZXhwb3J0IHsgcGFyc2VKc29uQm9keSwgcGFyc2VKc29uRXJyb3IgfTtcbiIsIi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8qKlxuICogQ29tcG9zZSBhIHNlcnZpY2UgQVBJIGhhbmRsZXIgdGhhdCBhY2NlcHRzIGlucHV0IGFzIGRlZmluZWQgc2hhcGUgYW5kIHJlc3BvbmRzIGNvbmZvcm1pbmcgdG8gZGVmaW5lZCBvdXRwdXQgc2hhcGUuXG4gKiBBIHNlcnZpY2UgQVBJIGhhbmRsZXIgaXMgY29tcG9zZWQgd2l0aDpcbiAqICogQSB0cmFuc2ZlciBoYW5kbGVyXG4gKiAqIEEgc2VyaWFsaXplciBmdW5jdGlvblxuICogKiBBIGRlc2VyaWFsaXplciBmdW5jdGlvblxuICogKiBBIGRlZmF1bHQgY29uZmlnIG9iamVjdFxuICpcbiAqIFRoZSByZXR1cm5lZCBzZXJ2aWNlIEFQSSBoYW5kbGVyLCB3aGVuIGNhbGxlZCwgd2lsbCB0cmlnZ2VyIHRoZSBmb2xsb3dpbmcgd29ya2Zsb3c6XG4gKiAxLiBXaGVuIGNhbGxpbmcgdGhlIHNlcnZpY2UgQVBJIGhhbmRsZXIgZnVuY3Rpb24sIHRoZSBkZWZhdWx0IGNvbmZpZyBvYmplY3QgaXMgbWVyZ2VkIGludG8gdGhlIGlucHV0IGNvbmZpZ1xuICogb2JqZWN0IHRvIGFzc2lnbiB0aGUgZGVmYXVsdCB2YWx1ZXMgb2Ygc29tZSBvbWl0dGVkIGNvbmZpZ3MsIHJlc3VsdGluZyB0byBhIHJlc29sdmVkIGNvbmZpZyBvYmplY3QuXG4gKiAyLiBUaGUgYGVuZHBvaW50UmVzb2x2ZXJgIGZ1bmN0aW9uIGZyb20gdGhlIGRlZmF1bHQgY29uZmlnIG9iamVjdCB3aWxsIGJlIGludm9rZWQgd2l0aCB0aGUgcmVzb2x2ZWQgY29uZmlnIG9iamVjdCBhbmRcbiAqIEFQSSBpbnB1dCBvYmplY3QgcmVzdWx0aW5nIHRvIGFuIGVuZHBvaW50IGluc3RhbmNlLlxuICogMy4gVGhlIHNlcmlhbGl6ZXIgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIEFQSSBpbnB1dCBvYmplY3QgYW5kIHRoZSBlbmRwb2ludCBpbnN0YW5jZSByZXN1bHRpbmcgdG8gYW4gSFRUUCByZXF1ZXN0XG4gKiBpbnN0YW5jZS5cbiAqIDQuIFRoZSBIVFRQIHJlcXVlc3QgaW5zdGFuY2UgYW5kIHRoZSByZXNvbHZlZCBjb25maWcgb2JqZWN0IGlzIHBhc3NlZCB0byB0aGUgdHJhbnNmZXIgaGFuZGxlciBmdW5jdGlvbi5cbiAqIDUuIFRoZSB0cmFuc2ZlciBoYW5kbGVyIGZ1bmN0aW9uIHJlc29sdmVzIHRvIGFuIEhUVFAgcmVzcG9uc2UgaW5zdGFuY2UoY2FuIGJlIGVpdGhlciBzdWNjZXNzZnVsIG9yIGZhaWxlZCBzdGF0dXMgY29kZSkuXG4gKiA2LiBUaGUgZGVzZXJpYWxpemVyIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aGUgSFRUUCByZXNwb25zZSBpbnN0YW5jZSByZXN1bHRpbmcgdG8gdGhlIEFQSSBvdXRwdXQgb2JqZWN0LCBhbmRcbiAqIHJldHVybiB0byB0aGUgY2FsbGVyLlxuICpcbiAqXG4gKiBAcGFyYW0gdHJhbnNmZXJIYW5kbGVyIEFzeW5jIGZ1bmN0aW9uIGZvciBkaXNwYXRjaGluZyBIVFRQIHJlcXVlc3RzIGFuZCByZXR1cm5pbmcgSFRUUCByZXNwb25zZS5cbiAqIEBwYXJhbSBzZXJpYWxpemVyICBBc3luYyBmdW5jdGlvbiBmb3IgY29udmVydGluZyBvYmplY3QgaW4gZGVmaW5lZCBpbnB1dCBzaGFwZSBpbnRvIEhUVFAgcmVxdWVzdCB0YXJnZXRpbmcgYSBnaXZlblxuICogXHRlbmRwb2ludC5cbiAqIEBwYXJhbSBkZXNlcmlhbGl6ZXIgQXN5bmMgZnVuY3Rpb24gZm9yIGNvbnZlcnRpbmcgSFRUUCByZXNwb25zZSBpbnRvIG91dHB1dCBvYmplY3QgaW4gZGVmaW5lZCBvdXRwdXQgc2hhcGUsIG9yIGVycm9yXG4gKiBcdHNoYXBlLlxuICogQHBhcmFtIGRlZmF1bHRDb25maWcgIG9iamVjdCBjb250YWluaW5nIGRlZmF1bHQgb3B0aW9ucyB0byBiZSBjb25zdW1lZCBieSB0cmFuc2ZlciBoYW5kbGVyLCBzZXJpYWxpemVyIGFuZFxuICogIGRlc2VyaWFsaXplci5cbiAqIEByZXR1cm5zIGEgYXN5bmMgc2VydmljZSBBUEkgaGFuZGxlciBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgYSBjb25maWcgb2JqZWN0IGFuZCBpbnB1dCBvYmplY3QgaW4gZGVmaW5lZCBzaGFwZSwgcmV0dXJuc1xuICogXHRhbiBvdXRwdXQgb2JqZWN0IGluIGRlZmluZWQgc2hhcGUuIEl0IG1heSBhbHNvIHRocm93IGVycm9yIGluc3RhbmNlIGluIGRlZmluZWQgc2hhcGUgaW4gZGVzZXJpYWxpemVyLiBUaGUgY29uZmlnXG4gKiAgb2JqZWN0IHR5cGUgaXMgY29tcG9zZWQgd2l0aCBvcHRpb25zIHR5cGUgb2YgdHJhbnNmZXJIYW5kbGVyLCBlbmRwb2ludFJlc29sdmVyIGZ1bmN0aW9uIGFzIHdlbGwgYXMgZW5kcG9pbnRSZXNvbHZlclxuICogIGZ1bmN0aW9uJ3MgaW5wdXQgb3B0aW9ucyB0eXBlLCByZWdpb24gc3RyaW5nLiBUaGUgY29uZmlnIG9iamVjdCBwcm9wZXJ0eSB3aWxsIGJlIG1hcmtlZCBhcyBvcHRpb25hbCBpZiBpdCdzIGFsc29cbiAqIFx0ZGVmaW5lZCBpbiBkZWZhdWx0Q29uZmlnLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBjb21wb3NlU2VydmljZUFwaSA9ICh0cmFuc2ZlckhhbmRsZXIsIHNlcmlhbGl6ZXIsIGRlc2VyaWFsaXplciwgZGVmYXVsdENvbmZpZykgPT4ge1xuICByZXR1cm4gYXN5bmMgKGNvbmZpZywgaW5wdXQpID0+IHtcbiAgICBjb25zdCByZXNvbHZlZENvbmZpZyA9IHtcbiAgICAgIC4uLmRlZmF1bHRDb25maWcsXG4gICAgICAuLi5jb25maWdcbiAgICB9O1xuICAgIC8vIFdlIG5lZWQgdG8gYWxsb3cgZGlmZmVyZW50IGVuZHBvaW50cyBiYXNlZCBvbiBib3RoIGdpdmVuIGNvbmZpZyhvdGhlciB0aGFuIHJlZ2lvbikgYW5kIGlucHV0LlxuICAgIC8vIEhvd2V2ZXIgZm9yIG1vc3Qgb2Ygbm9uLVMzIHNlcnZpY2VzLCByZWdpb24gaXMgdGhlIG9ubHkgaW5wdXQgZm9yIGVuZHBvaW50IHJlc29sdmVyLlxuICAgIGNvbnN0IGVuZHBvaW50ID0gYXdhaXQgcmVzb2x2ZWRDb25maWcuZW5kcG9pbnRSZXNvbHZlcihyZXNvbHZlZENvbmZpZywgaW5wdXQpO1xuICAgIC8vIFVubGlrZSBBV1MgU0RLIGNsaWVudHMsIGEgc2VyaWFsaXplciBzaG91bGQgTk9UIHBvcHVsYXRlIHRoZSBgaG9zdGAgb3IgYGNvbnRlbnQtbGVuZ3RoYCBoZWFkZXJzLlxuICAgIC8vIEJvdGggb2YgdGhlc2UgaGVhZGVycyBhcmUgcHJvaGliaXRlZCBwZXIgU3BlYyhodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0dsb3NzYXJ5L0ZvcmJpZGRlbl9oZWFkZXJfbmFtZSkuXG4gICAgLy8gVGhleSB3aWxsIGJlIHBvcHVsYXRlZCBhdXRvbWF0aWNhbGx5IGJ5IGJyb3dzZXIsIG9yIG5vZGUtZmV0Y2ggcG9seWZpbGwuXG4gICAgY29uc3QgcmVxdWVzdCA9IGF3YWl0IHNlcmlhbGl6ZXIoaW5wdXQsIGVuZHBvaW50KTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRyYW5zZmVySGFuZGxlcihyZXF1ZXN0LCB7XG4gICAgICAuLi5yZXNvbHZlZENvbmZpZ1xuICAgIH0pO1xuICAgIHJldHVybiBkZXNlcmlhbGl6ZXIocmVzcG9uc2UpO1xuICB9O1xufTtcbmV4cG9ydCB7IGNvbXBvc2VTZXJ2aWNlQXBpIH07XG4iLCIvLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBNQVhfREVMQVlfTVMgPSA1ICogNjAgKiAxMDAwO1xuZXhwb3J0IHsgTUFYX0RFTEFZX01TIH07XG4iLCJpbXBvcnQgeyBNQVhfREVMQVlfTVMgfSBmcm9tICcuL2NvbnN0YW50cy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIEBwcml2YXRlXG4gKiBJbnRlcm5hbCB1c2Ugb2YgQW1wbGlmeSBvbmx5XG4gKi9cbmZ1bmN0aW9uIGppdHRlcmVkQmFja29mZihtYXhEZWxheU1zID0gTUFYX0RFTEFZX01TKSB7XG4gIGNvbnN0IEJBU0VfVElNRV9NUyA9IDEwMDtcbiAgY29uc3QgSklUVEVSX0ZBQ1RPUiA9IDEwMDtcbiAgcmV0dXJuIGF0dGVtcHQgPT4ge1xuICAgIGNvbnN0IGRlbGF5ID0gMiAqKiBhdHRlbXB0ICogQkFTRV9USU1FX01TICsgSklUVEVSX0ZBQ1RPUiAqIE1hdGgucmFuZG9tKCk7XG4gICAgcmV0dXJuIGRlbGF5ID4gbWF4RGVsYXlNcyA/IGZhbHNlIDogZGVsYXk7XG4gIH07XG59XG5leHBvcnQgeyBqaXR0ZXJlZEJhY2tvZmYgfTtcbiIsIi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IERFRkFVTFRfUkVUUllfQVRURU1QVFMgPSAzO1xuY29uc3QgQU1aX1NES19JTlZPQ0FUSU9OX0lEX0hFQURFUiA9ICdhbXotc2RrLWludm9jYXRpb24taWQnO1xuY29uc3QgQU1aX1NES19SRVFVRVNUX0hFQURFUiA9ICdhbXotc2RrLXJlcXVlc3QnO1xuY29uc3QgREVGQVVMVF9NQVhfREVMQVlfTVMgPSA1ICogNjAgKiAxMDAwO1xuZXhwb3J0IHsgQU1aX1NES19JTlZPQ0FUSU9OX0lEX0hFQURFUiwgQU1aX1NES19SRVFVRVNUX0hFQURFUiwgREVGQVVMVF9NQVhfREVMQVlfTVMsIERFRkFVTFRfUkVUUllfQVRURU1QVFMgfTtcbiIsImltcG9ydCAnLi4vLi4vLi4vdHlwZXMvZXJyb3JzLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uL2Vycm9ycy9lcnJvckhlbHBlcnMubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vdXRpbHMvZ2V0Q2xpZW50SW5mby9nZXRDbGllbnRJbmZvLm1qcyc7XG5pbXBvcnQgeyBqaXR0ZXJlZEJhY2tvZmYgYXMgaml0dGVyZWRCYWNrb2ZmJDEgfSBmcm9tICcuLi8uLi8uLi91dGlscy9yZXRyeS9qaXR0ZXJlZEJhY2tvZmYubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vdXRpbHMvcmV0cnkvcmV0cnkubWpzJztcbmltcG9ydCB7IERFRkFVTFRfTUFYX0RFTEFZX01TIH0gZnJvbSAnLi9jb25zdGFudHMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLy8gVE9ETzogW3Y2XSBUaGUgc2VwYXJhdGUgcmV0cnkgdXRpbGl0eSBpcyB1c2VkIGJ5IERhdGEgcGFja2FnZXMgbm93IGFuZCB3aWxsIHJlcGxhY2VkIGJ5IHJldHJ5IG1pZGRsZXdhcmUuXG5jb25zdCBqaXR0ZXJlZEJhY2tvZmYgPSBhdHRlbXB0ID0+IHtcbiAgY29uc3QgZGVsYXlGdW5jdGlvbiA9IGppdHRlcmVkQmFja29mZiQxKERFRkFVTFRfTUFYX0RFTEFZX01TKTtcbiAgY29uc3QgZGVsYXkgPSBkZWxheUZ1bmN0aW9uKGF0dGVtcHQpO1xuICAvLyBUaGUgZGVsYXlGdW5jdGlvbiByZXR1cm5zIGZhbHNlIHdoZW4gdGhlIGRlbGF5IGlzIGdyZWF0ZXIgdGhhbiB0aGUgbWF4IGRlbGF5KDUgbWlucykuXG4gIC8vIEluIHRoaXMgY2FzZSwgdGhlIHJldHJ5IG1pZGRsZXdhcmUgd2lsbCBkZWxheSA1IG1pbnMgaW5zdGVhZCwgYXMgYSBjZWlsaW5nIG9mIHRoZSBkZWxheS5cbiAgcmV0dXJuIGRlbGF5ID09PSBmYWxzZSA/IERFRkFVTFRfTUFYX0RFTEFZX01TIDogZGVsYXk7XG59O1xuZXhwb3J0IHsgaml0dGVyZWRCYWNrb2ZmIH07XG4iLCIvLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vLyB2aWEgaHR0cHM6Ly9naXRodWIuY29tL2F3cy9hd3Mtc2RrLWpzLXYzL2Jsb2IvYWIwZTdiZTM2ZTdlN2Y4YTBjMDQ4MzQzNTdhYWFkNjQzYzc5MTJjMy9wYWNrYWdlcy9zZXJ2aWNlLWVycm9yLWNsYXNzaWZpY2F0aW9uL3NyYy9jb25zdGFudHMudHMjTDhcbmNvbnN0IENMT0NLX1NLRVdfRVJST1JfQ09ERVMgPSBbJ0F1dGhGYWlsdXJlJywgJ0ludmFsaWRTaWduYXR1cmVFeGNlcHRpb24nLCAnUmVxdWVzdEV4cGlyZWQnLCAnUmVxdWVzdEluVGhlRnV0dXJlJywgJ1JlcXVlc3RUaW1lVG9vU2tld2VkJywgJ1NpZ25hdHVyZURvZXNOb3RNYXRjaCcsICdCYWRSZXF1ZXN0RXhjZXB0aW9uJyAvLyBBUEkgR2F0ZXdheVxuXTtcbi8qKlxuICogR2l2ZW4gYW4gZXJyb3IgY29kZSwgcmV0dXJucyB0cnVlIGlmIGl0IGlzIHJlbGF0ZWQgdG8gYSBjbG9jayBza2V3IGVycm9yLlxuICpcbiAqIEBwYXJhbSBlcnJvckNvZGUgU3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHNvbWUgZXJyb3IuXG4gKiBAcmV0dXJucyBUcnVlIGlmIGdpdmVuIGVycm9yIGlzIHByZXNlbnQgaW4gYENMT0NLX1NLRVdfRVJST1JfQ09ERVNgLCBmYWxzZSBvdGhlcndpc2UuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IGlzQ2xvY2tTa2V3RXJyb3IgPSBlcnJvckNvZGUgPT4gISFlcnJvckNvZGUgJiYgQ0xPQ0tfU0tFV19FUlJPUl9DT0RFUy5pbmNsdWRlcyhlcnJvckNvZGUpO1xuZXhwb3J0IHsgaXNDbG9ja1NrZXdFcnJvciB9O1xuIiwiaW1wb3J0IHsgQW1wbGlmeUVycm9yQ29kZSB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL2Vycm9ycy5tanMnO1xuaW1wb3J0IHsgaXNDbG9ja1NrZXdFcnJvciB9IGZyb20gJy4vaXNDbG9ja1NrZXdFcnJvci5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIEdldCByZXRyeSBkZWNpZGVyIGZ1bmN0aW9uXG4gKiBAcGFyYW0gZXJyb3JQYXJzZXIgRnVuY3Rpb24gdG8gbG9hZCBKYXZhU2NyaXB0IGVycm9yIGZyb20gSFRUUCByZXNwb25zZVxuICovXG5jb25zdCBnZXRSZXRyeURlY2lkZXIgPSBlcnJvclBhcnNlciA9PiBhc3luYyAocmVzcG9uc2UsIGVycm9yKSA9PiB7XG4gIGNvbnN0IHBhcnNlZEVycm9yID0gZXJyb3IgPz8gKGF3YWl0IGVycm9yUGFyc2VyKHJlc3BvbnNlKSkgPz8gdW5kZWZpbmVkO1xuICBjb25zdCBlcnJvckNvZGUgPSBwYXJzZWRFcnJvcj8uY29kZSB8fCBwYXJzZWRFcnJvcj8ubmFtZTtcbiAgY29uc3Qgc3RhdHVzQ29kZSA9IHJlc3BvbnNlPy5zdGF0dXNDb2RlO1xuICBjb25zdCBpc1JldHJ5YWJsZSA9IGlzQ29ubmVjdGlvbkVycm9yKGVycm9yKSB8fCBpc1Rocm90dGxpbmdFcnJvcihzdGF0dXNDb2RlLCBlcnJvckNvZGUpIHx8IGlzQ2xvY2tTa2V3RXJyb3IoZXJyb3JDb2RlKSB8fCBpc1NlcnZlclNpZGVFcnJvcihzdGF0dXNDb2RlLCBlcnJvckNvZGUpO1xuICByZXR1cm4ge1xuICAgIHJldHJ5YWJsZTogaXNSZXRyeWFibGVcbiAgfTtcbn07XG4vLyByZWZlcmVuY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9hd3MvYXdzLXNkay1qcy12My9ibG9iL2FiMGU3YmUzNmU3ZTdmOGEwYzA0ODM0MzU3YWFhZDY0M2M3OTEyYzMvcGFja2FnZXMvc2VydmljZS1lcnJvci1jbGFzc2lmaWNhdGlvbi9zcmMvY29uc3RhbnRzLnRzI0wyMi1MMzdcbmNvbnN0IFRIUk9UVExJTkdfRVJST1JfQ09ERVMgPSBbJ0JhbmR3aWR0aExpbWl0RXhjZWVkZWQnLCAnRUMyVGhyb3R0bGVkRXhjZXB0aW9uJywgJ0xpbWl0RXhjZWVkZWRFeGNlcHRpb24nLCAnUHJpb3JSZXF1ZXN0Tm90Q29tcGxldGUnLCAnUHJvdmlzaW9uZWRUaHJvdWdocHV0RXhjZWVkZWRFeGNlcHRpb24nLCAnUmVxdWVzdExpbWl0RXhjZWVkZWQnLCAnUmVxdWVzdFRocm90dGxlZCcsICdSZXF1ZXN0VGhyb3R0bGVkRXhjZXB0aW9uJywgJ1Nsb3dEb3duJywgJ1Rocm90dGxlZEV4Y2VwdGlvbicsICdUaHJvdHRsaW5nJywgJ1Rocm90dGxpbmdFeGNlcHRpb24nLCAnVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uJ107XG5jb25zdCBUSU1FT1VUX0VSUk9SX0NPREVTID0gWydUaW1lb3V0RXJyb3InLCAnUmVxdWVzdFRpbWVvdXQnLCAnUmVxdWVzdFRpbWVvdXRFeGNlcHRpb24nXTtcbmNvbnN0IGlzVGhyb3R0bGluZ0Vycm9yID0gKHN0YXR1c0NvZGUsIGVycm9yQ29kZSkgPT4gc3RhdHVzQ29kZSA9PT0gNDI5IHx8ICEhZXJyb3JDb2RlICYmIFRIUk9UVExJTkdfRVJST1JfQ09ERVMuaW5jbHVkZXMoZXJyb3JDb2RlKTtcbmNvbnN0IGlzQ29ubmVjdGlvbkVycm9yID0gZXJyb3IgPT4gW0FtcGxpZnlFcnJvckNvZGUuTmV0d29ya0Vycm9yLFxuLy8gVE9ETyh2TmV4dCk6IHVuaWZ5IHRoZSBlcnJvciBjb2RlIGBFUlJfTkVUV09SS2AgdXNlZCBieSB0aGUgU3RvcmFnZSBYSFIgaGFuZGxlclxuJ0VSUl9ORVRXT1JLJ10uaW5jbHVkZXMoZXJyb3I/Lm5hbWUpO1xuY29uc3QgaXNTZXJ2ZXJTaWRlRXJyb3IgPSAoc3RhdHVzQ29kZSwgZXJyb3JDb2RlKSA9PiAhIXN0YXR1c0NvZGUgJiYgWzUwMCwgNTAyLCA1MDMsIDUwNF0uaW5jbHVkZXMoc3RhdHVzQ29kZSkgfHwgISFlcnJvckNvZGUgJiYgVElNRU9VVF9FUlJPUl9DT0RFUy5pbmNsdWRlcyhlcnJvckNvZGUpO1xuZXhwb3J0IHsgZ2V0UmV0cnlEZWNpZGVyIH07XG4iLCJpbXBvcnQgJy4uLy4uLy4uLy4uL3R5cGVzL2Vycm9ycy5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi9lcnJvcnMvZXJyb3JIZWxwZXJzLm1qcyc7XG5pbXBvcnQgeyBqaXR0ZXJlZEJhY2tvZmYgfSBmcm9tICcuLi8uLi8uLi8uLi9jbGllbnRzL21pZGRsZXdhcmUvcmV0cnkvaml0dGVyZWRCYWNrb2ZmLm1qcyc7XG5pbXBvcnQgeyBnZXRSZXRyeURlY2lkZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9jbGllbnRzL21pZGRsZXdhcmUvcmV0cnkvZGVmYXVsdFJldHJ5RGVjaWRlci5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi91dGlscy9nZXRDbGllbnRJbmZvL2dldENsaWVudEluZm8ubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vdXRpbHMvcmV0cnkvcmV0cnkubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vcGFyc2VBV1NFeHBvcnRzLm1qcyc7XG5pbXBvcnQgJ3V1aWQnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi9zaW5nbGV0b24vQXV0aC91dGlscy9lcnJvckhlbHBlcnMubWpzJztcbmltcG9ydCAnQGF3cy1jcnlwdG8vc2hhMjU2LWpzJztcbmltcG9ydCAnQHNtaXRoeS91dGlsLWhleC1lbmNvZGluZyc7XG5pbXBvcnQgJy4uLy4uLy4uLy4uL1BsYXRmb3JtL2luZGV4Lm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uLy4uL1BsYXRmb3JtL3R5cGVzLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uLy4uL0JhY2tncm91bmRQcm9jZXNzTWFuYWdlci90eXBlcy5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi9SZWFjaGFiaWxpdHkvUmVhY2hhYmlsaXR5Lm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uLy4uL0h1Yi9pbmRleC5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi91dGlscy9zZXNzaW9uTGlzdGVuZXIvaW5kZXgubWpzJztcbmltcG9ydCB7IHBhcnNlSnNvbkVycm9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vY2xpZW50cy9zZXJkZS9qc29uLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8qKlxuICogVGhlIHNlcnZpY2UgbmFtZSB1c2VkIHRvIHNpZ24gcmVxdWVzdHMgaWYgdGhlIEFQSSByZXF1aXJlcyBhdXRoZW50aWNhdGlvbi5cbiAqL1xuY29uc3QgQ09HTklUT19JREVOVElUWV9TRVJWSUNFX05BTUUgPSAnY29nbml0by1pZGVudGl0eSc7XG5jb25zdCBERUZBVUxUX1NFUlZJQ0VfQ0xJRU5UX0FQSV9DT05GSUcgPSB7XG4gIHNlcnZpY2U6IENPR05JVE9fSURFTlRJVFlfU0VSVklDRV9OQU1FLFxuICByZXRyeURlY2lkZXI6IGdldFJldHJ5RGVjaWRlcihwYXJzZUpzb25FcnJvciksXG4gIGNvbXB1dGVEZWxheTogaml0dGVyZWRCYWNrb2ZmLFxuICBjYWNoZTogJ25vLXN0b3JlJ1xufTtcbmV4cG9ydCB7IENPR05JVE9fSURFTlRJVFlfU0VSVklDRV9OQU1FLCBERUZBVUxUX1NFUlZJQ0VfQ0xJRU5UX0FQSV9DT05GSUcgfTtcbiIsImltcG9ydCB7IERFRkFVTFRfUkVUUllfQVRURU1QVFMgfSBmcm9tICcuL2NvbnN0YW50cy5tanMnO1xuXG4vKipcbiAqIE1pZGRsZXdhcmUgdGhhdCBleGVjdXRlcyB0aGUgcmV0cnkgbG9naWMuXG4gKi9cbmNvbnN0IHJldHJ5TWlkZGxld2FyZUZhY3RvcnkgPSAoe1xuICBtYXhBdHRlbXB0cyA9IERFRkFVTFRfUkVUUllfQVRURU1QVFMsXG4gIHJldHJ5RGVjaWRlcixcbiAgY29tcHV0ZURlbGF5LFxuICBhYm9ydFNpZ25hbFxufSkgPT4ge1xuICBpZiAobWF4QXR0ZW1wdHMgPCAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtYXhBdHRlbXB0cyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7XG4gIH1cbiAgcmV0dXJuIChuZXh0LCBjb250ZXh0KSA9PiBhc3luYyBmdW5jdGlvbiByZXRyeU1pZGRsZXdhcmUocmVxdWVzdCkge1xuICAgIGxldCBlcnJvcjtcbiAgICBsZXQgYXR0ZW1wdHNDb3VudCA9IGNvbnRleHQuYXR0ZW1wdHNDb3VudCA/PyAwO1xuICAgIGxldCByZXNwb25zZTtcbiAgICAvLyBXaGVuIHJldHJ5IGlzIG5vdCBuZWVkZWQgb3IgbWF4IGF0dGVtcHRzIGlzIHJlYWNoZWQsIGVpdGhlciBlcnJvciBvciByZXNwb25zZSB3aWxsIGJlIHNldC4gVGhpcyBmdW5jdGlvbiBoYW5kbGVzIGVpdGhlciBjYXNlcy5cbiAgICBjb25zdCBoYW5kbGVUZXJtaW5hbEVycm9yT3JSZXNwb25zZSA9ICgpID0+IHtcbiAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICBhZGRPckluY3JlbWVudE1ldGFkYXRhQXR0ZW1wdHMocmVzcG9uc2UsIGF0dGVtcHRzQ291bnQpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhZGRPckluY3JlbWVudE1ldGFkYXRhQXR0ZW1wdHMoZXJyb3IsIGF0dGVtcHRzQ291bnQpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9O1xuICAgIHdoaWxlICghYWJvcnRTaWduYWw/LmFib3J0ZWQgJiYgYXR0ZW1wdHNDb3VudCA8IG1heEF0dGVtcHRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXNwb25zZSA9IGF3YWl0IG5leHQocmVxdWVzdCk7XG4gICAgICAgIGVycm9yID0gdW5kZWZpbmVkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBlcnJvciA9IGU7XG4gICAgICAgIHJlc3BvbnNlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgLy8gY29udGV4dC5hdHRlbXB0c0NvdW50IG1heSBiZSB1cGRhdGVkIGFmdGVyIGNhbGxpbmcgbmV4dCBoYW5kbGVyIHdoaWNoIG1heSByZXRyeSB0aGUgcmVxdWVzdCBieSBpdHNlbGYuXG4gICAgICBhdHRlbXB0c0NvdW50ID0gKGNvbnRleHQuYXR0ZW1wdHNDb3VudCA/PyAwKSA+IGF0dGVtcHRzQ291bnQgPyBjb250ZXh0LmF0dGVtcHRzQ291bnQgPz8gMCA6IGF0dGVtcHRzQ291bnQgKyAxO1xuICAgICAgY29udGV4dC5hdHRlbXB0c0NvdW50ID0gYXR0ZW1wdHNDb3VudDtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgaXNDcmVkZW50aWFsc0V4cGlyZWRFcnJvcixcbiAgICAgICAgcmV0cnlhYmxlXG4gICAgICB9ID0gYXdhaXQgcmV0cnlEZWNpZGVyKHJlc3BvbnNlLCBlcnJvciwgY29udGV4dCk7XG4gICAgICBpZiAocmV0cnlhYmxlKSB7XG4gICAgICAgIC8vIFNldHRpbmcgaXNDcmVkZW50aWFsc0ludmFsaWQgZmxhZyB0byBub3RpZnkgc2lnbmluZyBtaWRkbGV3YXJlIHRvIGZvcmNlUmVmcmVzaCBjcmVkZW50aWFscyBwcm92aWRlci5cbiAgICAgICAgY29udGV4dC5pc0NyZWRlbnRpYWxzRXhwaXJlZCA9ICEhaXNDcmVkZW50aWFsc0V4cGlyZWRFcnJvcjtcbiAgICAgICAgaWYgKCFhYm9ydFNpZ25hbD8uYWJvcnRlZCAmJiBhdHRlbXB0c0NvdW50IDwgbWF4QXR0ZW1wdHMpIHtcbiAgICAgICAgICAvLyBwcmV2ZW50IHNsZWVwIGZvciBsYXN0IGF0dGVtcHQgb3IgY2FuY2VsbGVkIHJlcXVlc3Q7XG4gICAgICAgICAgY29uc3QgZGVsYXkgPSBjb21wdXRlRGVsYXkoYXR0ZW1wdHNDb3VudCk7XG4gICAgICAgICAgYXdhaXQgY2FuY2VsbGFibGVTbGVlcChkZWxheSwgYWJvcnRTaWduYWwpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVRlcm1pbmFsRXJyb3JPclJlc3BvbnNlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhYm9ydFNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1ZXN0IGFib3J0ZWQuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBoYW5kbGVUZXJtaW5hbEVycm9yT3JSZXNwb25zZSgpO1xuICAgIH1cbiAgfTtcbn07XG5jb25zdCBjYW5jZWxsYWJsZVNsZWVwID0gKHRpbWVvdXRNcywgYWJvcnRTaWduYWwpID0+IHtcbiAgaWYgKGFib3J0U2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG4gIGxldCB0aW1lb3V0SWQ7XG4gIGxldCBzbGVlcFByb21pc2VSZXNvbHZlRm47XG4gIGNvbnN0IHNsZWVwUHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIHNsZWVwUHJvbWlzZVJlc29sdmVGbiA9IHJlc29sdmU7XG4gICAgdGltZW91dElkID0gc2V0VGltZW91dChyZXNvbHZlLCB0aW1lb3V0TXMpO1xuICB9KTtcbiAgYWJvcnRTaWduYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgZnVuY3Rpb24gY2FuY2VsU2xlZXAoXykge1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIGFib3J0U2lnbmFsPy5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIGNhbmNlbFNsZWVwKTtcbiAgICBzbGVlcFByb21pc2VSZXNvbHZlRm4oKTtcbiAgfSk7XG4gIHJldHVybiBzbGVlcFByb21pc2U7XG59O1xuY29uc3QgYWRkT3JJbmNyZW1lbnRNZXRhZGF0YUF0dGVtcHRzID0gKG5leHRIYW5kbGVyT3V0cHV0LCBhdHRlbXB0cykgPT4ge1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5leHRIYW5kbGVyT3V0cHV0KSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbmV4dEhhbmRsZXJPdXRwdXQuJG1ldGFkYXRhID0ge1xuICAgIC4uLihuZXh0SGFuZGxlck91dHB1dC4kbWV0YWRhdGEgPz8ge30pLFxuICAgIGF0dGVtcHRzXG4gIH07XG59O1xuZXhwb3J0IHsgcmV0cnlNaWRkbGV3YXJlRmFjdG9yeSB9O1xuIiwiaW1wb3J0IHsgdjQgfSBmcm9tICd1dWlkJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuY29uc3QgYW1wbGlmeVV1aWQgPSB2NDtcbmV4cG9ydCB7IGFtcGxpZnlVdWlkIH07XG4iLCJpbXBvcnQgJy4uLy4uLy4uL3R5cGVzL2Vycm9ycy5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi9lcnJvcnMvZXJyb3JIZWxwZXJzLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uL3V0aWxzL2dldENsaWVudEluZm8vZ2V0Q2xpZW50SW5mby5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi91dGlscy9yZXRyeS9yZXRyeS5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi9wYXJzZUFXU0V4cG9ydHMubWpzJztcbmltcG9ydCB7IGFtcGxpZnlVdWlkIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvYW1wbGlmeVV1aWQvaW5kZXgubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vc2luZ2xldG9uL0F1dGgvdXRpbHMvZXJyb3JIZWxwZXJzLm1qcyc7XG5pbXBvcnQgJ0Bhd3MtY3J5cHRvL3NoYTI1Ni1qcyc7XG5pbXBvcnQgJ0BzbWl0aHkvdXRpbC1oZXgtZW5jb2RpbmcnO1xuaW1wb3J0ICcuLi8uLi8uLi9QbGF0Zm9ybS9pbmRleC5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi9QbGF0Zm9ybS90eXBlcy5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi9CYWNrZ3JvdW5kUHJvY2Vzc01hbmFnZXIvdHlwZXMubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vUmVhY2hhYmlsaXR5L1JlYWNoYWJpbGl0eS5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi9IdWIvaW5kZXgubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vdXRpbHMvc2Vzc2lvbkxpc3RlbmVyL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBBTVpfU0RLX0lOVk9DQVRJT05fSURfSEVBREVSIH0gZnJvbSAnLi9jb25zdGFudHMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLyoqXG4gKiBNaWRkbGV3YXJlIGluamVjdHMgYSBVVUlEIHN0cmluZyB0byBgYW16LXNkay1pbnZvY2F0aW9uLWlkYCBoZWFkZXIuXG4gKiBpZiB0aGUgaGVhZGVyIGlzIG5vdCBzZXQgYWxyZWFkeS4gVGhpcyBoZWFkZXIgaXMgaGVscGZ1bCB0byBwcm92aWRlXG4gKiBvYnNlcnZhYmlsaXR5IHRvIGdyb3VwIHRoZSByZXF1ZXN0cyBjYXVzZWQgYnkgYXV0b21hdGljIHJldHJ5LlxuICpcbiAqIFRoaXMgbWlkZGxld2FyZSBpcyBzdGFuZGFsb25lIGJlY2F1c2Ugb2YgZXh0cmEgVVVJRCBkZXBlbmRlbmN5LCB3ZSB3aWxsXG4gKiBOT1QgdXNlIHRoaXMgbWlkZGxld2FyZSBmb3IgQVBJIGNhdGVnb3JpZXMuXG4gKlxuICogUmVmOiBodHRwczovL3Nkay5hbWF6b25hd3MuY29tL2tvdGxpbi9hcGkvc21pdGh5LWtvdGxpbi9hcGkvMS4wLjkvaHR0cC1jbGllbnQvYXdzLnNtaXRoeS5rb3RsaW4ucnVudGltZS5odHRwLm9wZXJhdGlvbi8taHR0cC1vcGVyYXRpb24tY29udGV4dC8tc2RrLWludm9jYXRpb24taWQuaHRtbFxuICovXG5jb25zdCBhbXpTZGtJbnZvY2F0aW9uSWRIZWFkZXJNaWRkbGV3YXJlRmFjdG9yeSA9ICgpID0+IG5leHQgPT4ge1xuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gYW16U2RrSW52b2NhdGlvbklkSGVhZGVyTWlkZGxld2FyZShyZXF1ZXN0KSB7XG4gICAgaWYgKCFyZXF1ZXN0LmhlYWRlcnNbQU1aX1NES19JTlZPQ0FUSU9OX0lEX0hFQURFUl0pIHtcbiAgICAgIHJlcXVlc3QuaGVhZGVyc1tBTVpfU0RLX0lOVk9DQVRJT05fSURfSEVBREVSXSA9IGFtcGxpZnlVdWlkKCk7XG4gICAgfVxuICAgIHJldHVybiBuZXh0KHJlcXVlc3QpO1xuICB9O1xufTtcbmV4cG9ydCB7IGFtelNka0ludm9jYXRpb25JZEhlYWRlck1pZGRsZXdhcmVGYWN0b3J5IH07XG4iLCJpbXBvcnQgeyBERUZBVUxUX1JFVFJZX0FUVEVNUFRTLCBBTVpfU0RLX1JFUVVFU1RfSEVBREVSIH0gZnJvbSAnLi9jb25zdGFudHMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLyoqXG4gKiBNaWRkbGV3YXJlIGluamVjdHMgYGFtei1zZGstcmVxdWVzdGAgaGVhZGVyIHRvIGluZGljYXRlIHRoZSByZXRyeSBzdGF0ZSBhdCB0aGUgdGltZSBhbiBIVFRQIHJlcXVlc3QgaXMgbWFkZS5cbiAqIFRoaXMgbWlkZGxld2FyZSBzaG91bGQgY28tZXhpc3Qgd2l0aCByZXRyeU1pZGRsZXdhcmUgYXMgaXQgcmVsaWVzIG9uIHRoZSByZXRyeUF0dGVtcHRzIHZhbHVlIGluIG1pZGRsZXdhcmUgY29udGV4dFxuICogc2V0IGJ5IHRoZSByZXRyeSBtaWRkbGV3YXJlLlxuICpcbiAqIEV4YW1wbGUgaGVhZGVyOiBgYW16LXNkay1yZXF1ZXN0OiBhdHRlbXB0PTE7IG1heD0zYC5cbiAqXG4gKiBUaGlzIG1pZGRsZXdhcmUgaXMgc3RhbmRhbG9uZSBiZWNhdXNlIG9mIGV4dHJhIGhlYWRlcnMgbWF5IGNvbmZsaWN0IHdpdGggY3VzdG9tIGVuZHBvaW50IHNldHRpbmdzKGUuZy4gQ09SUyksIHdlIHdpbGxcbiAqIE5PVCB1c2UgdGhpcyBtaWRkbGV3YXJlIGZvciBBUEkgY2F0ZWdvcmllcy5cbiAqL1xuY29uc3QgYW16U2RrUmVxdWVzdEhlYWRlck1pZGRsZXdhcmVGYWN0b3J5ID0gKHtcbiAgbWF4QXR0ZW1wdHMgPSBERUZBVUxUX1JFVFJZX0FUVEVNUFRTXG59KSA9PiAobmV4dCwgY29udGV4dCkgPT4ge1xuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gYW16U2RrUmVxdWVzdEhlYWRlck1pZGRsZXdhcmUocmVxdWVzdCkge1xuICAgIGNvbnN0IGF0dGVtcHRzQ291bnQgPSBjb250ZXh0LmF0dGVtcHRzQ291bnQgPz8gMDtcbiAgICByZXF1ZXN0LmhlYWRlcnNbQU1aX1NES19SRVFVRVNUX0hFQURFUl0gPSBgYXR0ZW1wdD0ke2F0dGVtcHRzQ291bnQgKyAxfTsgbWF4PSR7bWF4QXR0ZW1wdHN9YDtcbiAgICByZXR1cm4gbmV4dChyZXF1ZXN0KTtcbiAgfTtcbn07XG5leHBvcnQgeyBhbXpTZGtSZXF1ZXN0SGVhZGVyTWlkZGxld2FyZUZhY3RvcnkgfTtcbiIsIi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8qKlxuICogTWlkZGxld2FyZSBpbmplY3RzIHVzZXIgYWdlbnQgc3RyaW5nIHRvIHNwZWNpZmllZCBoZWFkZXIoZGVmYXVsdCB0byAneC1hbXotdXNlci1hZ2VudCcpLFxuICogaWYgdGhlIGhlYWRlciBpcyBub3Qgc2V0IGFscmVhZHkuXG4gKlxuICogVE9ETzogaW5jb3Jwb3JhdGUgbmV3IHVzZXIgYWdlbnQgZGVzaWduXG4gKi9cbmNvbnN0IHVzZXJBZ2VudE1pZGRsZXdhcmVGYWN0b3J5ID0gKHtcbiAgdXNlckFnZW50SGVhZGVyID0gJ3gtYW16LXVzZXItYWdlbnQnLFxuICB1c2VyQWdlbnRWYWx1ZSA9ICcnXG59KSA9PiBuZXh0ID0+IHtcbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIHVzZXJBZ2VudE1pZGRsZXdhcmUocmVxdWVzdCkge1xuICAgIGlmICh1c2VyQWdlbnRWYWx1ZS50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBuZXh0KHJlcXVlc3QpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaGVhZGVyTmFtZSA9IHVzZXJBZ2VudEhlYWRlci50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmVxdWVzdC5oZWFkZXJzW2hlYWRlck5hbWVdID0gcmVxdWVzdC5oZWFkZXJzW2hlYWRlck5hbWVdID8gYCR7cmVxdWVzdC5oZWFkZXJzW2hlYWRlck5hbWVdfSAke3VzZXJBZ2VudFZhbHVlfWAgOiB1c2VyQWdlbnRWYWx1ZTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbmV4dChyZXF1ZXN0KTtcbiAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG4gIH07XG59O1xuZXhwb3J0IHsgdXNlckFnZW50TWlkZGxld2FyZUZhY3RvcnkgfTtcbiIsIi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8qKlxuICogQ29tcG9zZSBhIHRyYW5zZmVyIGhhbmRsZXIgd2l0aCBhIGNvcmUgdHJhbnNmZXIgaGFuZGxlciBhbmQgYSBsaXN0IG9mIG1pZGRsZXdhcmUuXG4gKiBAcGFyYW0gY29yZUhhbmRsZXIgQ29yZSB0cmFuc2ZlciBoYW5kbGVyXG4gKiBAcGFyYW0gbWlkZGxld2FyZVx0TGlzdCBvZiBtaWRkbGV3YXJlXG4gKiBAcmV0dXJucyBBIHRyYW5zZmVyIGhhbmRsZXIgd2hvc2Ugb3B0aW9uIHR5cGUgaXMgdGhlIHVuaW9uIG9mIHRoZSBjb3JlXG4gKiBcdHRyYW5zZmVyIGhhbmRsZXIncyBvcHRpb24gdHlwZSBhbmQgdGhlIG1pZGRsZXdhcmUncyBvcHRpb24gdHlwZS5cbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBjb21wb3NlVHJhbnNmZXJIYW5kbGVyID0gKGNvcmVIYW5kbGVyLCBtaWRkbGV3YXJlKSA9PiAocmVxdWVzdCwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBjb250ZXh0ID0ge307XG4gIGxldCBjb21wb3NlZEhhbmRsZXIgPSBjb21wb3NlSGFuZGxlclJlcXVlc3QgPT4gY29yZUhhbmRsZXIoY29tcG9zZUhhbmRsZXJSZXF1ZXN0LCBvcHRpb25zKTtcbiAgZm9yIChsZXQgaSA9IG1pZGRsZXdhcmUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBjb25zdCBtID0gbWlkZGxld2FyZVtpXTtcbiAgICBjb25zdCByZXNvbHZlZE1pZGRsZXdhcmUgPSBtKG9wdGlvbnMpO1xuICAgIGNvbXBvc2VkSGFuZGxlciA9IHJlc29sdmVkTWlkZGxld2FyZShjb21wb3NlZEhhbmRsZXIsIGNvbnRleHQpO1xuICB9XG4gIHJldHVybiBjb21wb3NlZEhhbmRsZXIocmVxdWVzdCk7XG59O1xuZXhwb3J0IHsgY29tcG9zZVRyYW5zZmVySGFuZGxlciB9O1xuIiwiLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLyoqXG4gKiBDYWNoZSB0aGUgcGF5bG9hZCBvZiBhIHJlc3BvbnNlIGJvZHkuIEl0IGFsbG93cyBtdWx0aXBsZSBjYWxscyB0byB0aGUgYm9keSxcbiAqIGZvciBleGFtcGxlLCB3aGVuIHJlYWRpbmcgdGhlIGJvZHkgaW4gYm90aCByZXRyeSBkZWNpZGVyIGFuZCBlcnJvciBkZXNlcmlhbGl6ZXIuXG4gKiBDYWNoaW5nIGJvZHkgaXMgYWxsb3dlZCBoZXJlIGJlY2F1c2Ugd2UgY2FsbCB0aGUgYm9keSBhY2Nlc3NvcihibG9iKCksIGpzb24oKSxcbiAqIGV0Yy4pIHdoZW4gYm9keSBpcyBzbWFsbCBvciBzdHJlYW1pbmcgaW1wbGVtZW50YXRpb24gaXMgbm90IGF2YWlsYWJsZShSTikuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IHdpdGhNZW1vaXphdGlvbiA9IHBheWxvYWRBY2Nlc3NvciA9PiB7XG4gIGxldCBjYWNoZWQ7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgaWYgKCFjYWNoZWQpIHtcbiAgICAgIC8vIEV4cGxpY2l0bHkgbm90IGF3YWl0aW5nLiBJbnRlcm1lZGlhdGUgYXdhaXQgd291bGQgYWRkIG92ZXJoZWFkIGFuZFxuICAgICAgLy8gaW50cm9kdWNlIGEgcG9zc2libGUgcmFjZSBpbiB0aGUgZXZlbnQgdGhhdCB0aGlzIHdyYXBwZXIgaXMgY2FsbGVkXG4gICAgICAvLyBhZ2FpbiBiZWZvcmUgdGhlIGZpcnN0IGBwYXlsb2FkQWNjZXNzb3JgIGNhbGwgcmVzb2x2ZXMuXG4gICAgICBjYWNoZWQgPSBwYXlsb2FkQWNjZXNzb3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlZDtcbiAgfTtcbn07XG5leHBvcnQgeyB3aXRoTWVtb2l6YXRpb24gfTtcbiIsImltcG9ydCB7IEFtcGxpZnlFcnJvciB9IGZyb20gJy4uLy4uL2Vycm9ycy9BbXBsaWZ5RXJyb3IubWpzJztcbmltcG9ydCB7IEFtcGxpZnlFcnJvckNvZGUgfSBmcm9tICcuLi8uLi90eXBlcy9lcnJvcnMubWpzJztcbmltcG9ydCAnLi4vLi4vZXJyb3JzL2Vycm9ySGVscGVycy5tanMnO1xuaW1wb3J0IHsgd2l0aE1lbW9pemF0aW9uIH0gZnJvbSAnLi4vdXRpbHMvbWVtb2l6YXRpb24ubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuY29uc3Qgc2hvdWxkU2VuZEJvZHkgPSBtZXRob2QgPT4gIVsnSEVBRCcsICdHRVQnXS5pbmNsdWRlcyhtZXRob2QudG9VcHBlckNhc2UoKSk7XG4vLyBUT0RPW0FsbGFuWmhlbmdZUF06IHdlIG5lZWQgdG8gcHJvdmlkZSBpc0NhbmNlbGVkRXJyb3IgdXRpbGl0eVxuY29uc3QgZmV0Y2hUcmFuc2ZlckhhbmRsZXIgPSBhc3luYyAoe1xuICB1cmwsXG4gIG1ldGhvZCxcbiAgaGVhZGVycyxcbiAgYm9keVxufSwge1xuICBhYm9ydFNpZ25hbCxcbiAgY2FjaGUsXG4gIHdpdGhDcm9zc0RvbWFpbkNyZWRlbnRpYWxzXG59KSA9PiB7XG4gIGxldCByZXNwO1xuICB0cnkge1xuICAgIHJlc3AgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgIG1ldGhvZCxcbiAgICAgIGhlYWRlcnMsXG4gICAgICBib2R5OiBzaG91bGRTZW5kQm9keShtZXRob2QpID8gYm9keSA6IHVuZGVmaW5lZCxcbiAgICAgIHNpZ25hbDogYWJvcnRTaWduYWwsXG4gICAgICBjYWNoZSxcbiAgICAgIGNyZWRlbnRpYWxzOiB3aXRoQ3Jvc3NEb21haW5DcmVkZW50aWFscyA/ICdpbmNsdWRlJyA6ICdzYW1lLW9yaWdpbidcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlIGluc3RhbmNlb2YgVHlwZUVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgQW1wbGlmeUVycm9yKHtcbiAgICAgICAgbmFtZTogQW1wbGlmeUVycm9yQ29kZS5OZXR3b3JrRXJyb3IsXG4gICAgICAgIG1lc3NhZ2U6ICdBIG5ldHdvcmsgZXJyb3IgaGFzIG9jY3VycmVkLicsXG4gICAgICAgIHVuZGVybHlpbmdFcnJvcjogZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHRocm93IGU7XG4gIH1cbiAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0ge307XG4gIHJlc3AuaGVhZGVycz8uZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgIHJlc3BvbnNlSGVhZGVyc1trZXkudG9Mb3dlckNhc2UoKV0gPSB2YWx1ZTtcbiAgfSk7XG4gIGNvbnN0IGh0dHBSZXNwb25zZSA9IHtcbiAgICBzdGF0dXNDb2RlOiByZXNwLnN0YXR1cyxcbiAgICBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMsXG4gICAgYm9keTogbnVsbFxuICB9O1xuICAvLyByZXNwLmJvZHkgaXMgYSBSZWFkYWJsZVN0cmVhbSBhY2NvcmRpbmcgdG8gRmV0Y2ggQVBJIHNwZWMsIGJ1dCBSZWFjdCBOYXRpdmVcbiAgLy8gZG9lcyBub3QgaW1wbGVtZW50IGl0LlxuICBjb25zdCBib2R5V2l0aE1peGluID0gT2JqZWN0LmFzc2lnbihyZXNwLmJvZHkgPz8ge30sIHtcbiAgICB0ZXh0OiB3aXRoTWVtb2l6YXRpb24oKCkgPT4gcmVzcC50ZXh0KCkpLFxuICAgIGJsb2I6IHdpdGhNZW1vaXphdGlvbigoKSA9PiByZXNwLmJsb2IoKSksXG4gICAganNvbjogd2l0aE1lbW9pemF0aW9uKCgpID0+IHJlc3AuanNvbigpKVxuICB9KTtcbiAgcmV0dXJuIHtcbiAgICAuLi5odHRwUmVzcG9uc2UsXG4gICAgYm9keTogYm9keVdpdGhNaXhpblxuICB9O1xufTtcbmV4cG9ydCB7IGZldGNoVHJhbnNmZXJIYW5kbGVyIH07XG4iLCJpbXBvcnQgeyByZXRyeU1pZGRsZXdhcmVGYWN0b3J5IH0gZnJvbSAnLi4vLi4vbWlkZGxld2FyZS9yZXRyeS9yZXRyeU1pZGRsZXdhcmUubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vdHlwZXMvZXJyb3JzLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uL2Vycm9ycy9lcnJvckhlbHBlcnMubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vdXRpbHMvZ2V0Q2xpZW50SW5mby9nZXRDbGllbnRJbmZvLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uL3V0aWxzL3JldHJ5L3JldHJ5Lm1qcyc7XG5pbXBvcnQgeyBhbXpTZGtJbnZvY2F0aW9uSWRIZWFkZXJNaWRkbGV3YXJlRmFjdG9yeSB9IGZyb20gJy4uLy4uL21pZGRsZXdhcmUvcmV0cnkvYW16U2RrSW52b2NhdGlvbklkSGVhZGVyTWlkZGxld2FyZS5tanMnO1xuaW1wb3J0IHsgYW16U2RrUmVxdWVzdEhlYWRlck1pZGRsZXdhcmVGYWN0b3J5IH0gZnJvbSAnLi4vLi4vbWlkZGxld2FyZS9yZXRyeS9hbXpTZGtSZXF1ZXN0SGVhZGVyTWlkZGxld2FyZS5tanMnO1xuaW1wb3J0IHsgdXNlckFnZW50TWlkZGxld2FyZUZhY3RvcnkgfSBmcm9tICcuLi8uLi9taWRkbGV3YXJlL3VzZXJBZ2VudC9taWRkbGV3YXJlLm1qcyc7XG5pbXBvcnQgeyBjb21wb3NlVHJhbnNmZXJIYW5kbGVyIH0gZnJvbSAnLi4vLi4vaW50ZXJuYWwvY29tcG9zZVRyYW5zZmVySGFuZGxlci5tanMnO1xuaW1wb3J0IHsgZmV0Y2hUcmFuc2ZlckhhbmRsZXIgfSBmcm9tICcuLi9mZXRjaC5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCB1bmF1dGhlbnRpY2F0ZWRIYW5kbGVyID0gY29tcG9zZVRyYW5zZmVySGFuZGxlcihmZXRjaFRyYW5zZmVySGFuZGxlciwgW3VzZXJBZ2VudE1pZGRsZXdhcmVGYWN0b3J5LCBhbXpTZGtJbnZvY2F0aW9uSWRIZWFkZXJNaWRkbGV3YXJlRmFjdG9yeSwgcmV0cnlNaWRkbGV3YXJlRmFjdG9yeSwgYW16U2RrUmVxdWVzdEhlYWRlck1pZGRsZXdhcmVGYWN0b3J5XSk7XG5leHBvcnQgeyB1bmF1dGhlbnRpY2F0ZWRIYW5kbGVyIH07XG4iLCIvLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIEEgQ29nbml0byBJZGVudGl0eS1zcGVjaWZpYyBtaWRkbGV3YXJlIHRoYXQgZGlzYWJsZXMgY2FjaGluZyBmb3IgYWxsIHJlcXVlc3RzLlxuICovXG5jb25zdCBjcmVhdGVEaXNhYmxlQ2FjaGVNaWRkbGV3YXJlID0gKCkgPT4gbmV4dCA9PiBhc3luYyBmdW5jdGlvbiBkaXNhYmxlQ2FjaGVNaWRkbGV3YXJlKHJlcXVlc3QpIHtcbiAgcmVxdWVzdC5oZWFkZXJzWydjYWNoZS1jb250cm9sJ10gPSAnbm8tc3RvcmUnO1xuICByZXR1cm4gbmV4dChyZXF1ZXN0KTtcbn07XG5leHBvcnQgeyBjcmVhdGVEaXNhYmxlQ2FjaGVNaWRkbGV3YXJlIH07XG4iLCJpbXBvcnQgJy4uLy4uLy4uLy4uLy4uL3R5cGVzL2Vycm9ycy5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi8uLi9lcnJvcnMvZXJyb3JIZWxwZXJzLm1qcyc7XG5pbXBvcnQgeyB1bmF1dGhlbnRpY2F0ZWRIYW5kbGVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vY2xpZW50cy9oYW5kbGVycy9hd3MvdW5hdXRoZW50aWNhdGVkLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uLy4uLy4uL3V0aWxzL2dldENsaWVudEluZm8vZ2V0Q2xpZW50SW5mby5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi8uLi91dGlscy9yZXRyeS9yZXRyeS5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi8uLi9wYXJzZUFXU0V4cG9ydHMubWpzJztcbmltcG9ydCAndXVpZCc7XG5pbXBvcnQgJy4uLy4uLy4uLy4uLy4uL3NpbmdsZXRvbi9BdXRoL3V0aWxzL2Vycm9ySGVscGVycy5tanMnO1xuaW1wb3J0ICdAYXdzLWNyeXB0by9zaGEyNTYtanMnO1xuaW1wb3J0ICdAc21pdGh5L3V0aWwtaGV4LWVuY29kaW5nJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vLi4vUGxhdGZvcm0vaW5kZXgubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vLi4vUGxhdGZvcm0vdHlwZXMubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vLi4vQmFja2dyb3VuZFByb2Nlc3NNYW5hZ2VyL3R5cGVzLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uLy4uLy4uL1JlYWNoYWJpbGl0eS9SZWFjaGFiaWxpdHkubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vLi4vSHViL2luZGV4Lm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uLy4uLy4uL3V0aWxzL3Nlc3Npb25MaXN0ZW5lci9pbmRleC5tanMnO1xuaW1wb3J0IHsgY29tcG9zZVRyYW5zZmVySGFuZGxlciB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2NsaWVudHMvaW50ZXJuYWwvY29tcG9zZVRyYW5zZmVySGFuZGxlci5tanMnO1xuaW1wb3J0IHsgY3JlYXRlRGlzYWJsZUNhY2hlTWlkZGxld2FyZSB9IGZyb20gJy4uLy4uLy4uL21pZGRsZXdhcmUvY3JlYXRlRGlzYWJsZUNhY2hlTWlkZGxld2FyZS5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIEEgQ29nbml0byBJZGVudGl0eS1zcGVjaWZpYyB0cmFuc2ZlciBoYW5kbGVyIHRoYXQgZG9lcyBOT1Qgc2lnbiByZXF1ZXN0cywgYW5kXG4gKiBkaXNhYmxlcyBjYWNoaW5nLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBjb2duaXRvSWRlbnRpdHlUcmFuc2ZlckhhbmRsZXIgPSBjb21wb3NlVHJhbnNmZXJIYW5kbGVyKHVuYXV0aGVudGljYXRlZEhhbmRsZXIsIFtjcmVhdGVEaXNhYmxlQ2FjaGVNaWRkbGV3YXJlXSk7XG5leHBvcnQgeyBjb2duaXRvSWRlbnRpdHlUcmFuc2ZlckhhbmRsZXIgfTtcbiIsIi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IGNyZWF0ZUNsaWVudFNlcmlhbGl6ZXIgPSBvcGVyYXRpb24gPT4gKGlucHV0LCBlbmRwb2ludCkgPT4ge1xuICBjb25zdCBoZWFkZXJzID0gZ2V0U2hhcmVkSGVhZGVycyhvcGVyYXRpb24pO1xuICBjb25zdCBib2R5ID0gSlNPTi5zdHJpbmdpZnkoaW5wdXQpO1xuICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChlbmRwb2ludCwgaGVhZGVycywgYm9keSk7XG59O1xuY29uc3QgZ2V0U2hhcmVkSGVhZGVycyA9IG9wZXJhdGlvbiA9PiAoe1xuICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtYW16LWpzb24tMS4xJyxcbiAgJ3gtYW16LXRhcmdldCc6IGBBV1NDb2duaXRvSWRlbnRpdHlTZXJ2aWNlLiR7b3BlcmF0aW9ufWBcbn0pO1xuY29uc3QgYnVpbGRIdHRwUnBjUmVxdWVzdCA9ICh7XG4gIHVybFxufSwgaGVhZGVycywgYm9keSkgPT4gKHtcbiAgaGVhZGVycyxcbiAgdXJsLFxuICBib2R5LFxuICBtZXRob2Q6ICdQT1NUJ1xufSk7XG5leHBvcnQgeyBidWlsZEh0dHBScGNSZXF1ZXN0LCBjcmVhdGVDbGllbnRTZXJpYWxpemVyIH07XG4iLCJpbXBvcnQgJy4uLy4uLy4uLy4uL3R5cGVzL2Vycm9ycy5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi9lcnJvcnMvZXJyb3JIZWxwZXJzLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uLy4uL3V0aWxzL2dldENsaWVudEluZm8vZ2V0Q2xpZW50SW5mby5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi91dGlscy9yZXRyeS9yZXRyeS5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi9wYXJzZUFXU0V4cG9ydHMubWpzJztcbmltcG9ydCAndXVpZCc7XG5pbXBvcnQgJy4uLy4uLy4uLy4uL3NpbmdsZXRvbi9BdXRoL3V0aWxzL2Vycm9ySGVscGVycy5tanMnO1xuaW1wb3J0ICdAYXdzLWNyeXB0by9zaGEyNTYtanMnO1xuaW1wb3J0ICdAc21pdGh5L3V0aWwtaGV4LWVuY29kaW5nJztcbmltcG9ydCB7IGdldEFtcGxpZnlVc2VyQWdlbnQgfSBmcm9tICcuLi8uLi8uLi8uLi9QbGF0Zm9ybS9pbmRleC5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi9QbGF0Zm9ybS90eXBlcy5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi9CYWNrZ3JvdW5kUHJvY2Vzc01hbmFnZXIvdHlwZXMubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vUmVhY2hhYmlsaXR5L1JlYWNoYWJpbGl0eS5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi9IdWIvaW5kZXgubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vdXRpbHMvc2Vzc2lvbkxpc3RlbmVyL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBwYXJzZU1ldGFkYXRhIH0gZnJvbSAnLi4vLi4vLi4vLi4vY2xpZW50cy9zZXJkZS9yZXNwb25zZUluZm8ubWpzJztcbmltcG9ydCB7IHBhcnNlSnNvbkVycm9yLCBwYXJzZUpzb25Cb2R5IH0gZnJvbSAnLi4vLi4vLi4vLi4vY2xpZW50cy9zZXJkZS9qc29uLm1qcyc7XG5pbXBvcnQgeyBjb21wb3NlU2VydmljZUFwaSB9IGZyb20gJy4uLy4uLy4uLy4uL2NsaWVudHMvaW50ZXJuYWwvY29tcG9zZVNlcnZpY2VBcGkubWpzJztcbmltcG9ydCB7IERFRkFVTFRfU0VSVklDRV9DTElFTlRfQVBJX0NPTkZJRyB9IGZyb20gJy4vY29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyBjb2duaXRvSWRlbnRpdHlUcmFuc2ZlckhhbmRsZXIgfSBmcm9tICcuL2hhbmRsZXIvY29nbml0b0lkZW50aXR5VHJhbnNmZXJIYW5kbGVyLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnRTZXJpYWxpemVyIH0gZnJvbSAnLi9zZXJkZS9jcmVhdGVDbGllbnRTZXJpYWxpemVyLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IGNyZWF0ZUdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHlDbGllbnQgPSBjb25maWcgPT4gY29tcG9zZVNlcnZpY2VBcGkoY29nbml0b0lkZW50aXR5VHJhbnNmZXJIYW5kbGVyLCBjcmVhdGVDbGllbnRTZXJpYWxpemVyKCdHZXRDcmVkZW50aWFsc0ZvcklkZW50aXR5JyksIGdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHlEZXNlcmlhbGl6ZXIsIHtcbiAgLi4uREVGQVVMVF9TRVJWSUNFX0NMSUVOVF9BUElfQ09ORklHLFxuICAuLi5jb25maWcsXG4gIHVzZXJBZ2VudFZhbHVlOiBnZXRBbXBsaWZ5VXNlckFnZW50KClcbn0pO1xuY29uc3QgZ2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eURlc2VyaWFsaXplciA9IGFzeW5jIHJlc3BvbnNlID0+IHtcbiAgaWYgKHJlc3BvbnNlLnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgY29uc3QgZXJyb3IgPSBhd2FpdCBwYXJzZUpzb25FcnJvcihyZXNwb25zZSk7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbiAgY29uc3QgYm9keSA9IGF3YWl0IHBhcnNlSnNvbkJvZHkocmVzcG9uc2UpO1xuICByZXR1cm4ge1xuICAgIElkZW50aXR5SWQ6IGJvZHkuSWRlbnRpdHlJZCxcbiAgICBDcmVkZW50aWFsczogZGVzZXJpYWxpemVDcmVkZW50aWFscyhib2R5LkNyZWRlbnRpYWxzKSxcbiAgICAkbWV0YWRhdGE6IHBhcnNlTWV0YWRhdGEocmVzcG9uc2UpXG4gIH07XG59O1xuY29uc3QgZGVzZXJpYWxpemVDcmVkZW50aWFscyA9ICh7XG4gIEV4cGlyYXRpb24sXG4gIC4uLnJlc3Rcbn0gPSB7fSkgPT4gKHtcbiAgLi4ucmVzdCxcbiAgRXhwaXJhdGlvbjogRXhwaXJhdGlvbiAmJiBuZXcgRGF0ZShFeHBpcmF0aW9uICogMTAwMClcbn0pO1xuZXhwb3J0IHsgY3JlYXRlR2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eUNsaWVudCB9O1xuIiwiaW1wb3J0ICcuLi8uLi8uLi8uLi90eXBlcy9lcnJvcnMubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vZXJyb3JzL2Vycm9ySGVscGVycy5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi91dGlscy9nZXRDbGllbnRJbmZvL2dldENsaWVudEluZm8ubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vdXRpbHMvcmV0cnkvcmV0cnkubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vcGFyc2VBV1NFeHBvcnRzLm1qcyc7XG5pbXBvcnQgJ3V1aWQnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi9zaW5nbGV0b24vQXV0aC91dGlscy9lcnJvckhlbHBlcnMubWpzJztcbmltcG9ydCAnQGF3cy1jcnlwdG8vc2hhMjU2LWpzJztcbmltcG9ydCAnQHNtaXRoeS91dGlsLWhleC1lbmNvZGluZyc7XG5pbXBvcnQgeyBnZXRBbXBsaWZ5VXNlckFnZW50IH0gZnJvbSAnLi4vLi4vLi4vLi4vUGxhdGZvcm0vaW5kZXgubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vUGxhdGZvcm0vdHlwZXMubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vQmFja2dyb3VuZFByb2Nlc3NNYW5hZ2VyL3R5cGVzLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uLy4uL1JlYWNoYWJpbGl0eS9SZWFjaGFiaWxpdHkubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vSHViL2luZGV4Lm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uLy4uL3V0aWxzL3Nlc3Npb25MaXN0ZW5lci9pbmRleC5tanMnO1xuaW1wb3J0IHsgcGFyc2VNZXRhZGF0YSB9IGZyb20gJy4uLy4uLy4uLy4uL2NsaWVudHMvc2VyZGUvcmVzcG9uc2VJbmZvLm1qcyc7XG5pbXBvcnQgeyBwYXJzZUpzb25FcnJvciwgcGFyc2VKc29uQm9keSB9IGZyb20gJy4uLy4uLy4uLy4uL2NsaWVudHMvc2VyZGUvanNvbi5tanMnO1xuaW1wb3J0IHsgY29tcG9zZVNlcnZpY2VBcGkgfSBmcm9tICcuLi8uLi8uLi8uLi9jbGllbnRzL2ludGVybmFsL2NvbXBvc2VTZXJ2aWNlQXBpLm1qcyc7XG5pbXBvcnQgeyBERUZBVUxUX1NFUlZJQ0VfQ0xJRU5UX0FQSV9DT05GSUcgfSBmcm9tICcuL2NvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgY29nbml0b0lkZW50aXR5VHJhbnNmZXJIYW5kbGVyIH0gZnJvbSAnLi9oYW5kbGVyL2NvZ25pdG9JZGVudGl0eVRyYW5zZmVySGFuZGxlci5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50U2VyaWFsaXplciB9IGZyb20gJy4vc2VyZGUvY3JlYXRlQ2xpZW50U2VyaWFsaXplci5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBjcmVhdGVHZXRJZENsaWVudCA9IGNvbmZpZyA9PiBjb21wb3NlU2VydmljZUFwaShjb2duaXRvSWRlbnRpdHlUcmFuc2ZlckhhbmRsZXIsIGNyZWF0ZUNsaWVudFNlcmlhbGl6ZXIoJ0dldElkJyksIGdldElkRGVzZXJpYWxpemVyLCB7XG4gIC4uLkRFRkFVTFRfU0VSVklDRV9DTElFTlRfQVBJX0NPTkZJRyxcbiAgLi4uY29uZmlnLFxuICB1c2VyQWdlbnRWYWx1ZTogZ2V0QW1wbGlmeVVzZXJBZ2VudCgpXG59KTtcbmNvbnN0IGdldElkRGVzZXJpYWxpemVyID0gYXN5bmMgcmVzcG9uc2UgPT4ge1xuICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICBjb25zdCBlcnJvciA9IGF3YWl0IHBhcnNlSnNvbkVycm9yKHJlc3BvbnNlKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxuICBjb25zdCBib2R5ID0gYXdhaXQgcGFyc2VKc29uQm9keShyZXNwb25zZSk7XG4gIHJldHVybiB7XG4gICAgSWRlbnRpdHlJZDogYm9keS5JZGVudGl0eUlkLFxuICAgICRtZXRhZGF0YTogcGFyc2VNZXRhZGF0YShyZXNwb25zZSlcbiAgfTtcbn07XG5leHBvcnQgeyBjcmVhdGVHZXRJZENsaWVudCB9O1xuIiwiLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLyoqXG4gKiBEZWZhdWx0IHBhcnRpdGlvbiBmb3IgQVdTIHNlcnZpY2VzLiBUaGlzIGlzIHVzZWQgd2hlbiB0aGUgcmVnaW9uIGlzIG5vdCBwcm92aWRlZCBvciB0aGUgcmVnaW9uIGlzIG5vdCByZWNvZ25pemVkLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBkZWZhdWx0UGFydGl0aW9uID0ge1xuICBpZDogJ2F3cycsXG4gIG91dHB1dHM6IHtcbiAgICBkbnNTdWZmaXg6ICdhbWF6b25hd3MuY29tJ1xuICB9LFxuICByZWdpb25SZWdleDogJ14odXN8ZXV8YXB8c2F8Y2F8bWV8YWYpXFxcXC1cXFxcdytcXFxcLVxcXFxkKyQnLFxuICByZWdpb25zOiBbJ2F3cy1nbG9iYWwnXVxufTtcbi8qKlxuICogVGhpcyBkYXRhIGlzIGFkYXB0ZWQgZnJvbSB0aGUgcGFydGl0aW9uIGZpbGUgZnJvbSBBV1MgU0RLIHNoYXJlZCB1dGlsaXRpZXMgYnV0IHJlbW92ZSBzb21lIGNvbnRlbnRzIGZvciBidW5kbGUgc2l6ZVxuICogY29uY2Vybi4gSW5mb3JtYXRpb24gcmVtb3ZlZCBhcmUgYGR1YWxTdGFja0Ruc1N1ZmZpeGAsIGBzdXBwb3J0RHVhbFN0YWNrYCwgYHN1cHBvcnRGSVBTYCwgcmVzdHJpY3RlZCBwYXJ0aXRpb25zLCBhbmRcbiAqIGxpc3Qgb2YgcmVnaW9ucyBmb3IgZWFjaCBwYXJ0aXRpb24gb3RoZXIgdGhhbiBnbG9iYWwgcmVnaW9ucy5cbiAqXG4gKiAqIFJlZjogaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2dlbmVyYWwvbGF0ZXN0L2dyL3JhbmRlLmh0bWwjcmVnaW9uYWwtZW5kcG9pbnRzXG4gKiAqIFJlZjogaHR0cHM6Ly9naXRodWIuY29tL2F3cy9hd3Mtc2RrLWpzLXYzL2Jsb2IvMDIwMWJhZWYwM2MyMzc5ZjFmNmY3MTUwYjlkNDAxZDRiMjMwZDQ4OC9wYWNrYWdlcy91dGlsLWVuZHBvaW50cy9zcmMvbGliL2F3cy9wYXJ0aXRpb25zLmpzb24jTDFcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgcGFydGl0aW9uc0luZm8gPSB7XG4gIHBhcnRpdGlvbnM6IFtkZWZhdWx0UGFydGl0aW9uLCB7XG4gICAgaWQ6ICdhd3MtY24nLFxuICAgIG91dHB1dHM6IHtcbiAgICAgIGRuc1N1ZmZpeDogJ2FtYXpvbmF3cy5jb20uY24nXG4gICAgfSxcbiAgICByZWdpb25SZWdleDogJ15jblxcXFwtXFxcXHcrXFxcXC1cXFxcZCskJyxcbiAgICByZWdpb25zOiBbJ2F3cy1jbi1nbG9iYWwnXVxuICB9XVxufTtcbmV4cG9ydCB7IGRlZmF1bHRQYXJ0aXRpb24sIHBhcnRpdGlvbnNJbmZvIH07XG4iLCJpbXBvcnQgeyBwYXJ0aXRpb25zSW5mbywgZGVmYXVsdFBhcnRpdGlvbiB9IGZyb20gJy4vcGFydGl0aW9ucy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIEdldCB0aGUgQVdTIFNlcnZpY2VzIGVuZHBvaW50IFVSTCdzIEROUyBzdWZmaXggZm9yIGEgZ2l2ZW4gcmVnaW9uLiBBIHR5cGljYWwgQVdTIHJlZ2lvbmFsIHNlcnZpY2UgZW5kcG9pbnQgVVJMIHdpbGxcbiAqIGZvbGxvdyB0aGlzIHBhdHRlcm46IHtlbmRwb2ludFByZWZpeH0ue3JlZ2lvbn0ue2Ruc1N1ZmZpeH0uIEZvciBleGFtcGxlLCB0aGUgZW5kcG9pbnQgVVJMIGZvciBDb2duaXRvIElkZW50aXR5IGluXG4gKiB1cy1lYXN0LTEgd2lsbCBiZSBjb2duaXRvLWlkZW50aXR5LnVzLWVhc3QtMS5hbWF6b25hd3MuY29tLiBIZXJlIHRoZSBEbnNTdWZmaXggaXMgYGFtYXpvbmF3cy5jb21gLlxuICpcbiAqIEBwYXJhbSByZWdpb25cbiAqIEByZXR1cm5zIFRoZSBETlMgc3VmZml4XG4gKlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IGdldERuc1N1ZmZpeCA9IHJlZ2lvbiA9PiB7XG4gIGNvbnN0IHtcbiAgICBwYXJ0aXRpb25zXG4gIH0gPSBwYXJ0aXRpb25zSW5mbztcbiAgZm9yIChjb25zdCB7XG4gICAgcmVnaW9ucyxcbiAgICBvdXRwdXRzLFxuICAgIHJlZ2lvblJlZ2V4XG4gIH0gb2YgcGFydGl0aW9ucykge1xuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChyZWdpb25SZWdleCk7XG4gICAgaWYgKHJlZ2lvbnMuaW5jbHVkZXMocmVnaW9uKSB8fCByZWdleC50ZXN0KHJlZ2lvbikpIHtcbiAgICAgIHJldHVybiBvdXRwdXRzLmRuc1N1ZmZpeDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRQYXJ0aXRpb24ub3V0cHV0cy5kbnNTdWZmaXg7XG59O1xuZXhwb3J0IHsgZ2V0RG5zU3VmZml4IH07XG4iLCIvLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBBbXBsaWZ5VXJsID0gVVJMO1xuY29uc3QgQW1wbGlmeVVybFNlYXJjaFBhcmFtcyA9IFVSTFNlYXJjaFBhcmFtcztcbmV4cG9ydCB7IEFtcGxpZnlVcmwsIEFtcGxpZnlVcmxTZWFyY2hQYXJhbXMgfTtcbiIsImltcG9ydCB7IGdldERuc1N1ZmZpeCB9IGZyb20gJy4uLy4uLy4uLy4uL2NsaWVudHMvZW5kcG9pbnRzL2dldERuc1N1ZmZpeC5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi90eXBlcy9lcnJvcnMubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vZXJyb3JzL2Vycm9ySGVscGVycy5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi91dGlscy9nZXRDbGllbnRJbmZvL2dldENsaWVudEluZm8ubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vdXRpbHMvcmV0cnkvcmV0cnkubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vcGFyc2VBV1NFeHBvcnRzLm1qcyc7XG5pbXBvcnQgJ3V1aWQnO1xuaW1wb3J0IHsgQW1wbGlmeVVybCB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL2FtcGxpZnlVcmwvaW5kZXgubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vc2luZ2xldG9uL0F1dGgvdXRpbHMvZXJyb3JIZWxwZXJzLm1qcyc7XG5pbXBvcnQgJ0Bhd3MtY3J5cHRvL3NoYTI1Ni1qcyc7XG5pbXBvcnQgJ0BzbWl0aHkvdXRpbC1oZXgtZW5jb2RpbmcnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi9QbGF0Zm9ybS9pbmRleC5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi9QbGF0Zm9ybS90eXBlcy5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi9CYWNrZ3JvdW5kUHJvY2Vzc01hbmFnZXIvdHlwZXMubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vUmVhY2hhYmlsaXR5L1JlYWNoYWJpbGl0eS5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi9IdWIvaW5kZXgubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vdXRpbHMvc2Vzc2lvbkxpc3RlbmVyL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDT0dOSVRPX0lERU5USVRZX1NFUlZJQ0VfTkFNRSB9IGZyb20gJy4vY29uc3RhbnRzLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IGNvZ25pdG9JZGVudGl0eVBvb2xFbmRwb2ludFJlc29sdmVyID0gKHtcbiAgcmVnaW9uXG59KSA9PiAoe1xuICB1cmw6IG5ldyBBbXBsaWZ5VXJsKGBodHRwczovLyR7Q09HTklUT19JREVOVElUWV9TRVJWSUNFX05BTUV9LiR7cmVnaW9ufS4ke2dldERuc1N1ZmZpeChyZWdpb24pfWApXG59KTtcbmV4cG9ydCB7IGNvZ25pdG9JZGVudGl0eVBvb2xFbmRwb2ludFJlc29sdmVyIH07XG4iLCJpbXBvcnQgeyBBbXBsaWZ5RXJyb3JDb2RlIH0gZnJvbSAnLi4vdHlwZXMvZXJyb3JzLm1qcyc7XG5pbXBvcnQgeyBBbXBsaWZ5RXJyb3IgfSBmcm9tICcuL0FtcGxpZnlFcnJvci5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jbGFzcyBQbGF0Zm9ybU5vdFN1cHBvcnRlZEVycm9yIGV4dGVuZHMgQW1wbGlmeUVycm9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoe1xuICAgICAgbmFtZTogQW1wbGlmeUVycm9yQ29kZS5QbGF0Zm9ybU5vdFN1cHBvcnRlZCxcbiAgICAgIG1lc3NhZ2U6ICdGdW5jdGlvbiBub3Qgc3VwcG9ydGVkIG9uIGN1cnJlbnQgcGxhdGZvcm0nXG4gICAgfSk7XG4gIH1cbn1cbmV4cG9ydCB7IFBsYXRmb3JtTm90U3VwcG9ydGVkRXJyb3IgfTtcbiIsImltcG9ydCB7IFBsYXRmb3JtTm90U3VwcG9ydGVkRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMvUGxhdGZvcm1Ob3RTdXBwb3J0ZWRFcnJvci5tanMnO1xuaW1wb3J0ICcuLi9lcnJvcnMvZXJyb3JIZWxwZXJzLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmNsYXNzIEtleVZhbHVlU3RvcmFnZSB7XG4gIGNvbnN0cnVjdG9yKHN0b3JhZ2UpIHtcbiAgICB0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIGlzIHVzZWQgdG8gc2V0IGEgc3BlY2lmaWMgaXRlbSBpbiBzdG9yYWdlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSB0aGUga2V5IGZvciB0aGUgaXRlbVxuICAgKiBAcGFyYW0ge29iamVjdH0gdmFsdWUgLSB0aGUgdmFsdWVcbiAgICogQHJldHVybnMge3N0cmluZ30gdmFsdWUgdGhhdCB3YXMgc2V0XG4gICAqL1xuICBhc3luYyBzZXRJdGVtKGtleSwgdmFsdWUpIHtcbiAgICBpZiAoIXRoaXMuc3RvcmFnZSkgdGhyb3cgbmV3IFBsYXRmb3JtTm90U3VwcG9ydGVkRXJyb3IoKTtcbiAgICB0aGlzLnN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbiAgfVxuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIHRvIGdldCBhIHNwZWNpZmljIGtleSBmcm9tIHN0b3JhZ2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIHRoZSBrZXkgZm9yIHRoZSBpdGVtXG4gICAqIFRoaXMgaXMgdXNlZCB0byBjbGVhciB0aGUgc3RvcmFnZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgZGF0YSBpdGVtXG4gICAqL1xuICBhc3luYyBnZXRJdGVtKGtleSkge1xuICAgIGlmICghdGhpcy5zdG9yYWdlKSB0aHJvdyBuZXcgUGxhdGZvcm1Ob3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIGlzIHVzZWQgdG8gcmVtb3ZlIGFuIGl0ZW0gZnJvbSBzdG9yYWdlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSB0aGUga2V5IGJlaW5nIHNldFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSB2YWx1ZSAtIHZhbHVlIHRoYXQgd2FzIGRlbGV0ZWRcbiAgICovXG4gIGFzeW5jIHJlbW92ZUl0ZW0oa2V5KSB7XG4gICAgaWYgKCF0aGlzLnN0b3JhZ2UpIHRocm93IG5ldyBQbGF0Zm9ybU5vdFN1cHBvcnRlZEVycm9yKCk7XG4gICAgdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgfVxuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIHRvIGNsZWFyIHRoZSBzdG9yYWdlXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IG5vdGhpbmdcbiAgICovXG4gIGFzeW5jIGNsZWFyKCkge1xuICAgIGlmICghdGhpcy5zdG9yYWdlKSB0aHJvdyBuZXcgUGxhdGZvcm1Ob3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgIHRoaXMuc3RvcmFnZS5jbGVhcigpO1xuICB9XG59XG5leHBvcnQgeyBLZXlWYWx1ZVN0b3JhZ2UgfTtcbiIsIi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmNsYXNzIEluTWVtb3J5U3RvcmFnZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3RvcmFnZSA9IG5ldyBNYXAoKTtcbiAgfVxuICBnZXQgbGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLnN0b3JhZ2Uuc2l6ZTtcbiAgfVxuICBrZXkoaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPiB0aGlzLmxlbmd0aCAtIDEpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnN0b3JhZ2Uua2V5cygpKVtpbmRleF07XG4gIH1cbiAgc2V0SXRlbShrZXksIHZhbHVlKSB7XG4gICAgdGhpcy5zdG9yYWdlLnNldChrZXksIHZhbHVlKTtcbiAgfVxuICBnZXRJdGVtKGtleSkge1xuICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuZ2V0KGtleSkgPz8gbnVsbDtcbiAgfVxuICByZW1vdmVJdGVtKGtleSkge1xuICAgIHRoaXMuc3RvcmFnZS5kZWxldGUoa2V5KTtcbiAgfVxuICBjbGVhcigpIHtcbiAgICB0aGlzLnN0b3JhZ2UuY2xlYXIoKTtcbiAgfVxufVxuZXhwb3J0IHsgSW5NZW1vcnlTdG9yYWdlIH07XG4iLCJpbXBvcnQgeyBDb25zb2xlTG9nZ2VyIH0gZnJvbSAnLi4vTG9nZ2VyL0NvbnNvbGVMb2dnZXIubWpzJztcbmltcG9ydCB7IEluTWVtb3J5U3RvcmFnZSB9IGZyb20gJy4vSW5NZW1vcnlTdG9yYWdlLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8qKlxuICogQGludGVybmFsXG4gKiBAcmV0dXJucyBFaXRoZXIgYSByZWZlcmVuY2UgdG8gd2luZG93LmxvY2FsU3RvcmFnZSBvciBhbiBpbi1tZW1vcnkgc3RvcmFnZSBhcyBmYWxsYmFja1xuICovXG5jb25zdCBsb2dnZXIgPSBuZXcgQ29uc29sZUxvZ2dlcignQ29yZVN0b3JhZ2VVdGlscycpO1xuY29uc3QgZ2V0TG9jYWxTdG9yYWdlV2l0aEZhbGxiYWNrID0gKCkgPT4ge1xuICB0cnkge1xuICAgIC8vIEF0dGVtcHQgdG8gdXNlIGxvY2FsU3RvcmFnZSBkaXJlY3RseVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubG9jYWxTdG9yYWdlKSB7XG4gICAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBIYW5kbGUgYW55IGVycm9ycyByZWxhdGVkIHRvIGxvY2FsU3RvcmFnZSBhY2Nlc3NcbiAgICBsb2dnZXIuaW5mbygnbG9jYWxTdG9yYWdlIG5vdCBmb3VuZC4gSW5NZW1vcnlTdG9yYWdlIGlzIHVzZWQgYXMgYSBmYWxsYmFjay4nKTtcbiAgfVxuICAvLyBSZXR1cm4gaW4tbWVtb3J5IHN0b3JhZ2UgYXMgYSBmYWxsYmFjayBpZiBsb2NhbFN0b3JhZ2UgaXMgbm90IGFjY2Vzc2libGVcbiAgcmV0dXJuIG5ldyBJbk1lbW9yeVN0b3JhZ2UoKTtcbn07XG4vKipcbiAqIEBpbnRlcm5hbFxuICogQHJldHVybnMgRWl0aGVyIGEgcmVmZXJlbmNlIHRvIHdpbmRvdy5zZXNzaW9uU3RvcmFnZSBvciBhbiBpbi1tZW1vcnkgc3RvcmFnZSBhcyBmYWxsYmFja1xuICovXG5jb25zdCBnZXRTZXNzaW9uU3RvcmFnZVdpdGhGYWxsYmFjayA9ICgpID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBBdHRlbXB0IHRvIHVzZSBzZXNzaW9uU3RvcmFnZSBkaXJlY3RseVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UpIHtcbiAgICAgIC8vIFZlcmlmeSB3ZSBjYW4gYWN0dWFsbHkgdXNlIGl0IGJ5IHRlc3RpbmcgYWNjZXNzXG4gICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndGVzdCcpO1xuICAgICAgcmV0dXJuIHdpbmRvdy5zZXNzaW9uU3RvcmFnZTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXNzaW9uU3RvcmFnZSBpcyBub3QgZGVmaW5lZCcpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gSGFuZGxlIGFueSBlcnJvcnMgcmVsYXRlZCB0byBzZXNzaW9uU3RvcmFnZSBhY2Nlc3NcbiAgICBsb2dnZXIuaW5mbygnc2Vzc2lvblN0b3JhZ2Ugbm90IGZvdW5kLiBJbk1lbW9yeVN0b3JhZ2UgaXMgdXNlZCBhcyBhIGZhbGxiYWNrLicpO1xuICAgIHJldHVybiBuZXcgSW5NZW1vcnlTdG9yYWdlKCk7XG4gIH1cbn07XG5leHBvcnQgeyBnZXRMb2NhbFN0b3JhZ2VXaXRoRmFsbGJhY2ssIGdldFNlc3Npb25TdG9yYWdlV2l0aEZhbGxiYWNrIH07XG4iLCJpbXBvcnQgeyBLZXlWYWx1ZVN0b3JhZ2UgfSBmcm9tICcuL0tleVZhbHVlU3RvcmFnZS5tanMnO1xuaW1wb3J0IHsgZ2V0TG9jYWxTdG9yYWdlV2l0aEZhbGxiYWNrIH0gZnJvbSAnLi91dGlscy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5jbGFzcyBEZWZhdWx0U3RvcmFnZSBleHRlbmRzIEtleVZhbHVlU3RvcmFnZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKGdldExvY2FsU3RvcmFnZVdpdGhGYWxsYmFjaygpKTtcbiAgfVxufVxuZXhwb3J0IHsgRGVmYXVsdFN0b3JhZ2UgfTtcbiIsImltcG9ydCB7IEtleVZhbHVlU3RvcmFnZSB9IGZyb20gJy4vS2V5VmFsdWVTdG9yYWdlLm1qcyc7XG5pbXBvcnQgeyBnZXRTZXNzaW9uU3RvcmFnZVdpdGhGYWxsYmFjayB9IGZyb20gJy4vdXRpbHMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY2xhc3MgU2Vzc2lvblN0b3JhZ2UgZXh0ZW5kcyBLZXlWYWx1ZVN0b3JhZ2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihnZXRTZXNzaW9uU3RvcmFnZVdpdGhGYWxsYmFjaygpKTtcbiAgfVxufVxuZXhwb3J0IHsgU2Vzc2lvblN0b3JhZ2UgfTtcbiIsImltcG9ydCB7IFBsYXRmb3JtTm90U3VwcG9ydGVkRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMvUGxhdGZvcm1Ob3RTdXBwb3J0ZWRFcnJvci5tanMnO1xuaW1wb3J0ICcuLi9lcnJvcnMvZXJyb3JIZWxwZXJzLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmNsYXNzIFN5bmNLZXlWYWx1ZVN0b3JhZ2Uge1xuICBjb25zdHJ1Y3RvcihzdG9yYWdlKSB7XG4gICAgdGhpcy5fc3RvcmFnZSA9IHN0b3JhZ2U7XG4gIH1cbiAgZ2V0IHN0b3JhZ2UoKSB7XG4gICAgaWYgKCF0aGlzLl9zdG9yYWdlKSB0aHJvdyBuZXcgUGxhdGZvcm1Ob3RTdXBwb3J0ZWRFcnJvcigpO1xuICAgIHJldHVybiB0aGlzLl9zdG9yYWdlO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIGlzIHVzZWQgdG8gc2V0IGEgc3BlY2lmaWMgaXRlbSBpbiBzdG9yYWdlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSB0aGUga2V5IGZvciB0aGUgaXRlbVxuICAgKiBAcGFyYW0ge29iamVjdH0gdmFsdWUgLSB0aGUgdmFsdWVcbiAgICogQHJldHVybnMge3N0cmluZ30gdmFsdWUgdGhhdCB3YXMgc2V0XG4gICAqL1xuICBzZXRJdGVtKGtleSwgdmFsdWUpIHtcbiAgICB0aGlzLnN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbiAgfVxuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIHRvIGdldCBhIHNwZWNpZmljIGtleSBmcm9tIHN0b3JhZ2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIHRoZSBrZXkgZm9yIHRoZSBpdGVtXG4gICAqIFRoaXMgaXMgdXNlZCB0byBjbGVhciB0aGUgc3RvcmFnZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgZGF0YSBpdGVtXG4gICAqL1xuICBnZXRJdGVtKGtleSkge1xuICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIGlzIHVzZWQgdG8gcmVtb3ZlIGFuIGl0ZW0gZnJvbSBzdG9yYWdlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSB0aGUga2V5IGJlaW5nIHNldFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSB2YWx1ZSAtIHZhbHVlIHRoYXQgd2FzIGRlbGV0ZWRcbiAgICovXG4gIHJlbW92ZUl0ZW0oa2V5KSB7XG4gICAgdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgfVxuICAvKipcbiAgICogVGhpcyBpcyB1c2VkIHRvIGNsZWFyIHRoZSBzdG9yYWdlXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IG5vdGhpbmdcbiAgICovXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuc3RvcmFnZS5jbGVhcigpO1xuICB9XG59XG5leHBvcnQgeyBTeW5jS2V5VmFsdWVTdG9yYWdlIH07XG4iLCJpbXBvcnQgeyBTeW5jS2V5VmFsdWVTdG9yYWdlIH0gZnJvbSAnLi9TeW5jS2V5VmFsdWVTdG9yYWdlLm1qcyc7XG5pbXBvcnQgeyBnZXRTZXNzaW9uU3RvcmFnZVdpdGhGYWxsYmFjayB9IGZyb20gJy4vdXRpbHMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY2xhc3MgU3luY1Nlc3Npb25TdG9yYWdlIGV4dGVuZHMgU3luY0tleVZhbHVlU3RvcmFnZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKGdldFNlc3Npb25TdG9yYWdlV2l0aEZhbGxiYWNrKCkpO1xuICB9XG59XG5leHBvcnQgeyBTeW5jU2Vzc2lvblN0b3JhZ2UgfTtcbiIsIi8qISBqcy1jb29raWUgdjMuMC41IHwgTUlUICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby12YXIgKi9cbmZ1bmN0aW9uIGFzc2lnbih0YXJnZXQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiB0YXJnZXQ7XG59XG4vKiBlc2xpbnQtZW5hYmxlIG5vLXZhciAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby12YXIgKi9cbnZhciBkZWZhdWx0Q29udmVydGVyID0ge1xuICByZWFkOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAodmFsdWVbMF0gPT09ICdcIicpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUuc2xpY2UoMSwgLTEpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvKCVbXFxkQS1GXXsyfSkrL2dpLCBkZWNvZGVVUklDb21wb25lbnQpO1xuICB9LFxuICB3cml0ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkucmVwbGFjZSgvJSgyWzM0NkJGXXwzW0FDLUZdfDQwfDVbQkRFXXw2MHw3W0JDRF0pL2csIGRlY29kZVVSSUNvbXBvbmVudCk7XG4gIH1cbn07XG4vKiBlc2xpbnQtZW5hYmxlIG5vLXZhciAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby12YXIgKi9cblxuZnVuY3Rpb24gaW5pdChjb252ZXJ0ZXIsIGRlZmF1bHRBdHRyaWJ1dGVzKSB7XG4gIGZ1bmN0aW9uIHNldChuYW1lLCB2YWx1ZSwgYXR0cmlidXRlcykge1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGF0dHJpYnV0ZXMgPSBhc3NpZ24oe30sIGRlZmF1bHRBdHRyaWJ1dGVzLCBhdHRyaWJ1dGVzKTtcbiAgICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMuZXhwaXJlcyA9PT0gJ251bWJlcicpIHtcbiAgICAgIGF0dHJpYnV0ZXMuZXhwaXJlcyA9IG5ldyBEYXRlKERhdGUubm93KCkgKyBhdHRyaWJ1dGVzLmV4cGlyZXMgKiA4NjRlNSk7XG4gICAgfVxuICAgIGlmIChhdHRyaWJ1dGVzLmV4cGlyZXMpIHtcbiAgICAgIGF0dHJpYnV0ZXMuZXhwaXJlcyA9IGF0dHJpYnV0ZXMuZXhwaXJlcy50b1VUQ1N0cmluZygpO1xuICAgIH1cbiAgICBuYW1lID0gZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpLnJlcGxhY2UoLyUoMlszNDZCXXw1RXw2MHw3QykvZywgZGVjb2RlVVJJQ29tcG9uZW50KS5yZXBsYWNlKC9bKCldL2csIGVzY2FwZSk7XG4gICAgdmFyIHN0cmluZ2lmaWVkQXR0cmlidXRlcyA9ICcnO1xuICAgIGZvciAodmFyIGF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xuICAgICAgaWYgKCFhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgc3RyaW5naWZpZWRBdHRyaWJ1dGVzICs9ICc7ICcgKyBhdHRyaWJ1dGVOYW1lO1xuICAgICAgaWYgKGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0gPT09IHRydWUpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbnNpZGVycyBSRkMgNjI2NSBzZWN0aW9uIDUuMjpcbiAgICAgIC8vIC4uLlxuICAgICAgLy8gMy4gIElmIHRoZSByZW1haW5pbmcgdW5wYXJzZWQtYXR0cmlidXRlcyBjb250YWlucyBhICV4M0IgKFwiO1wiKVxuICAgICAgLy8gICAgIGNoYXJhY3RlcjpcbiAgICAgIC8vIENvbnN1bWUgdGhlIGNoYXJhY3RlcnMgb2YgdGhlIHVucGFyc2VkLWF0dHJpYnV0ZXMgdXAgdG8sXG4gICAgICAvLyBub3QgaW5jbHVkaW5nLCB0aGUgZmlyc3QgJXgzQiAoXCI7XCIpIGNoYXJhY3Rlci5cbiAgICAgIC8vIC4uLlxuICAgICAgc3RyaW5naWZpZWRBdHRyaWJ1dGVzICs9ICc9JyArIGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0uc3BsaXQoJzsnKVswXTtcbiAgICB9XG4gICAgcmV0dXJuIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyAnPScgKyBjb252ZXJ0ZXIud3JpdGUodmFsdWUsIG5hbWUpICsgc3RyaW5naWZpZWRBdHRyaWJ1dGVzO1xuICB9XG4gIGZ1bmN0aW9uIGdldChuYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgYXJndW1lbnRzLmxlbmd0aCAmJiAhbmFtZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRvIHByZXZlbnQgdGhlIGZvciBsb29wIGluIHRoZSBmaXJzdCBwbGFjZSBhc3NpZ24gYW4gZW1wdHkgYXJyYXlcbiAgICAvLyBpbiBjYXNlIHRoZXJlIGFyZSBubyBjb29raWVzIGF0IGFsbC5cbiAgICB2YXIgY29va2llcyA9IGRvY3VtZW50LmNvb2tpZSA/IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOyAnKSA6IFtdO1xuICAgIHZhciBqYXIgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvb2tpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBwYXJ0cyA9IGNvb2tpZXNbaV0uc3BsaXQoJz0nKTtcbiAgICAgIHZhciB2YWx1ZSA9IHBhcnRzLnNsaWNlKDEpLmpvaW4oJz0nKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBmb3VuZCA9IGRlY29kZVVSSUNvbXBvbmVudChwYXJ0c1swXSk7XG4gICAgICAgIGphcltmb3VuZF0gPSBjb252ZXJ0ZXIucmVhZCh2YWx1ZSwgZm91bmQpO1xuICAgICAgICBpZiAobmFtZSA9PT0gZm91bmQpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gICAgcmV0dXJuIG5hbWUgPyBqYXJbbmFtZV0gOiBqYXI7XG4gIH1cbiAgcmV0dXJuIE9iamVjdC5jcmVhdGUoe1xuICAgIHNldCxcbiAgICBnZXQsXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiAobmFtZSwgYXR0cmlidXRlcykge1xuICAgICAgc2V0KG5hbWUsICcnLCBhc3NpZ24oe30sIGF0dHJpYnV0ZXMsIHtcbiAgICAgICAgZXhwaXJlczogLTFcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIHdpdGhBdHRyaWJ1dGVzOiBmdW5jdGlvbiAoYXR0cmlidXRlcykge1xuICAgICAgcmV0dXJuIGluaXQodGhpcy5jb252ZXJ0ZXIsIGFzc2lnbih7fSwgdGhpcy5hdHRyaWJ1dGVzLCBhdHRyaWJ1dGVzKSk7XG4gICAgfSxcbiAgICB3aXRoQ29udmVydGVyOiBmdW5jdGlvbiAoY29udmVydGVyKSB7XG4gICAgICByZXR1cm4gaW5pdChhc3NpZ24oe30sIHRoaXMuY29udmVydGVyLCBjb252ZXJ0ZXIpLCB0aGlzLmF0dHJpYnV0ZXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgIHZhbHVlOiBPYmplY3QuZnJlZXplKGRlZmF1bHRBdHRyaWJ1dGVzKVxuICAgIH0sXG4gICAgY29udmVydGVyOiB7XG4gICAgICB2YWx1ZTogT2JqZWN0LmZyZWV6ZShjb252ZXJ0ZXIpXG4gICAgfVxuICB9KTtcbn1cbnZhciBhcGkgPSBpbml0KGRlZmF1bHRDb252ZXJ0ZXIsIHtcbiAgcGF0aDogJy8nXG59KTtcbi8qIGVzbGludC1lbmFibGUgbm8tdmFyICovXG5cbmV4cG9ydCB7IGFwaSBhcyBkZWZhdWx0IH07IiwiaW1wb3J0IEpzQ29va2llIGZyb20gJ2pzLWNvb2tpZSc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNsYXNzIENvb2tpZVN0b3JhZ2Uge1xuICBjb25zdHJ1Y3RvcihkYXRhID0ge30pIHtcbiAgICBjb25zdCB7XG4gICAgICBwYXRoLFxuICAgICAgZG9tYWluLFxuICAgICAgZXhwaXJlcyxcbiAgICAgIHNhbWVTaXRlLFxuICAgICAgc2VjdXJlXG4gICAgfSA9IGRhdGE7XG4gICAgdGhpcy5kb21haW4gPSBkb21haW47XG4gICAgdGhpcy5wYXRoID0gcGF0aCB8fCAnLyc7XG4gICAgdGhpcy5leHBpcmVzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsICdleHBpcmVzJykgPyBleHBpcmVzIDogMzY1O1xuICAgIHRoaXMuc2VjdXJlID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsICdzZWN1cmUnKSA/IHNlY3VyZSA6IHRydWU7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCAnc2FtZVNpdGUnKSkge1xuICAgICAgaWYgKCFzYW1lU2l0ZSB8fCAhWydzdHJpY3QnLCAnbGF4JywgJ25vbmUnXS5pbmNsdWRlcyhzYW1lU2l0ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc2FtZVNpdGUgdmFsdWUgb2YgY29va2llU3RvcmFnZSBtdXN0IGJlIFwibGF4XCIsIFwic3RyaWN0XCIgb3IgXCJub25lXCIuJyk7XG4gICAgICB9XG4gICAgICBpZiAoc2FtZVNpdGUgPT09ICdub25lJyAmJiAhdGhpcy5zZWN1cmUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzYW1lU2l0ZSA9IE5vbmUgcmVxdWlyZXMgdGhlIFNlY3VyZSBhdHRyaWJ1dGUgaW4gbGF0ZXN0IGJyb3dzZXIgdmVyc2lvbnMuJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnNhbWVTaXRlID0gc2FtZVNpdGU7XG4gICAgfVxuICB9XG4gIGFzeW5jIHNldEl0ZW0oa2V5LCB2YWx1ZSkge1xuICAgIEpzQ29va2llLnNldChrZXksIHZhbHVlLCB0aGlzLmdldERhdGEoKSk7XG4gIH1cbiAgYXN5bmMgZ2V0SXRlbShrZXkpIHtcbiAgICBjb25zdCBpdGVtID0gSnNDb29raWUuZ2V0KGtleSk7XG4gICAgcmV0dXJuIGl0ZW0gPz8gbnVsbDtcbiAgfVxuICBhc3luYyByZW1vdmVJdGVtKGtleSkge1xuICAgIEpzQ29va2llLnJlbW92ZShrZXksIHRoaXMuZ2V0RGF0YSgpKTtcbiAgfVxuICBhc3luYyBjbGVhcigpIHtcbiAgICBjb25zdCBjb29raWUgPSBKc0Nvb2tpZS5nZXQoKTtcbiAgICBjb25zdCBwcm9taXNlcyA9IE9iamVjdC5rZXlzKGNvb2tpZSkubWFwKGtleSA9PiB0aGlzLnJlbW92ZUl0ZW0oa2V5KSk7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICB9XG4gIGdldERhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhdGg6IHRoaXMucGF0aCxcbiAgICAgIGV4cGlyZXM6IHRoaXMuZXhwaXJlcyxcbiAgICAgIGRvbWFpbjogdGhpcy5kb21haW4sXG4gICAgICBzZWN1cmU6IHRoaXMuc2VjdXJlLFxuICAgICAgLi4uKHRoaXMuc2FtZVNpdGUgJiYge1xuICAgICAgICBzYW1lU2l0ZTogdGhpcy5zYW1lU2l0ZVxuICAgICAgfSlcbiAgICB9O1xuICB9XG59XG5leHBvcnQgeyBDb29raWVTdG9yYWdlIH07XG4iLCJpbXBvcnQgeyBEZWZhdWx0U3RvcmFnZSB9IGZyb20gJy4vRGVmYXVsdFN0b3JhZ2UubWpzJztcbmltcG9ydCB7IEluTWVtb3J5U3RvcmFnZSB9IGZyb20gJy4vSW5NZW1vcnlTdG9yYWdlLm1qcyc7XG5pbXBvcnQgeyBLZXlWYWx1ZVN0b3JhZ2UgfSBmcm9tICcuL0tleVZhbHVlU3RvcmFnZS5tanMnO1xuaW1wb3J0IHsgU2Vzc2lvblN0b3JhZ2UgfSBmcm9tICcuL1Nlc3Npb25TdG9yYWdlLm1qcyc7XG5pbXBvcnQgeyBTeW5jU2Vzc2lvblN0b3JhZ2UgfSBmcm9tICcuL1N5bmNTZXNzaW9uU3RvcmFnZS5tanMnO1xuZXhwb3J0IHsgQ29va2llU3RvcmFnZSB9IGZyb20gJy4vQ29va2llU3RvcmFnZS5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBkZWZhdWx0U3RvcmFnZSA9IG5ldyBEZWZhdWx0U3RvcmFnZSgpO1xuY29uc3Qgc2Vzc2lvblN0b3JhZ2UgPSBuZXcgU2Vzc2lvblN0b3JhZ2UoKTtcbmNvbnN0IHN5bmNTZXNzaW9uU3RvcmFnZSA9IG5ldyBTeW5jU2Vzc2lvblN0b3JhZ2UoKTtcbmNvbnN0IHNoYXJlZEluTWVtb3J5U3RvcmFnZSA9IG5ldyBLZXlWYWx1ZVN0b3JhZ2UobmV3IEluTWVtb3J5U3RvcmFnZSgpKTtcbmV4cG9ydCB7IGRlZmF1bHRTdG9yYWdlLCBzZXNzaW9uU3RvcmFnZSwgc2hhcmVkSW5NZW1vcnlTdG9yYWdlLCBzeW5jU2Vzc2lvblN0b3JhZ2UgfTtcbiIsIi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8qKlxuICogRGVmYXVsdCBjYWNoZSBjb25maWdcbiAqL1xuY29uc3QgZGVmYXVsdENvbmZpZyA9IHtcbiAga2V5UHJlZml4OiAnYXdzLWFtcGxpZnktY2FjaGUnLFxuICBjYXBhY2l0eUluQnl0ZXM6IDEwNDg1NzYsXG4gIC8vIDFNQlxuICBpdGVtTWF4U2l6ZTogMjEwMDAwLFxuICAvLyBhYm91dCAyMDBrYlxuICBkZWZhdWx0VFRMOiAyNTkyMDAwMDAsXG4gIC8vIGFib3V0IDMgZGF5c1xuICBkZWZhdWx0UHJpb3JpdHk6IDUsXG4gIHdhcm5pbmdUaHJlc2hvbGQ6IDAuOFxufTtcbmNvbnN0IGN1cnJlbnRTaXplS2V5ID0gJ0N1clNpemUnO1xuZXhwb3J0IHsgY3VycmVudFNpemVLZXksIGRlZmF1bHRDb25maWcgfTtcbiIsImltcG9ydCB7IGN1cnJlbnRTaXplS2V5IH0gZnJvbSAnLi4vY29uc3RhbnRzLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8qKlxuICogcmV0dXJuIHRoZSBieXRlIHNpemUgb2YgdGhlIHN0cmluZ1xuICogQHBhcmFtIHN0clxuICovXG5mdW5jdGlvbiBnZXRCeXRlTGVuZ3RoKHN0cikge1xuICBsZXQgcmV0ID0gMDtcbiAgcmV0ID0gc3RyLmxlbmd0aDtcbiAgZm9yIChsZXQgaSA9IHN0ci5sZW5ndGg7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgY29uc3QgY2hhckNvZGUgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICBpZiAoY2hhckNvZGUgPiAweDdmICYmIGNoYXJDb2RlIDw9IDB4N2ZmKSB7XG4gICAgICByZXQgKz0gMTtcbiAgICB9IGVsc2UgaWYgKGNoYXJDb2RlID4gMHg3ZmYgJiYgY2hhckNvZGUgPD0gMHhmZmZmKSB7XG4gICAgICByZXQgKz0gMjtcbiAgICB9XG4gICAgLy8gdHJhaWwgc3Vycm9nYXRlXG4gICAgaWYgKGNoYXJDb2RlID49IDB4ZGMwMCAmJiBjaGFyQ29kZSA8PSAweGRmZmYpIHtcbiAgICAgIGkgLT0gMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbi8qKlxuICogZ2V0IGN1cnJlbnQgdGltZVxuICovXG5mdW5jdGlvbiBnZXRDdXJyZW50VGltZSgpIHtcbiAgY29uc3QgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpO1xuICByZXR1cm4gY3VycmVudFRpbWUuZ2V0VGltZSgpO1xufVxuLyoqXG4gKiBjaGVjayBpZiBwYXNzZWQgdmFsdWUgaXMgYW4gaW50ZWdlclxuICovXG5mdW5jdGlvbiBpc0ludGVnZXIodmFsdWUpIHtcbiAgaWYgKE51bWJlci5pc0ludGVnZXIpIHtcbiAgICByZXR1cm4gTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsdWUpICYmIE1hdGguZmxvb3IodmFsdWUpID09PSB2YWx1ZTtcbn1cbmNvbnN0IGdldEN1cnJlbnRTaXplS2V5ID0ga2V5UHJlZml4ID0+IGAke2tleVByZWZpeH0ke2N1cnJlbnRTaXplS2V5fWA7XG5leHBvcnQgeyBnZXRCeXRlTGVuZ3RoLCBnZXRDdXJyZW50U2l6ZUtleSwgZ2V0Q3VycmVudFRpbWUsIGlzSW50ZWdlciB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlQXNzZXJ0aW9uRnVuY3Rpb24gfSBmcm9tICcuLi8uLi9lcnJvcnMvY3JlYXRlQXNzZXJ0aW9uRnVuY3Rpb24ubWpzJztcbmltcG9ydCAnLi4vLi4vdHlwZXMvZXJyb3JzLm1qcyc7XG5pbXBvcnQgJy4uLy4uL2Vycm9ycy9lcnJvckhlbHBlcnMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxudmFyIENhY2hlRXJyb3JDb2RlO1xuKGZ1bmN0aW9uIChDYWNoZUVycm9yQ29kZSkge1xuICBDYWNoZUVycm9yQ29kZVtcIk5vQ2FjaGVJdGVtXCJdID0gXCJOb0NhY2hlSXRlbVwiO1xuICBDYWNoZUVycm9yQ29kZVtcIk51bGxOZXh0Tm9kZVwiXSA9IFwiTnVsbE5leHROb2RlXCI7XG4gIENhY2hlRXJyb3JDb2RlW1wiTnVsbFByZXZpb3VzTm9kZVwiXSA9IFwiTnVsbFByZXZpb3VzTm9kZVwiO1xufSkoQ2FjaGVFcnJvckNvZGUgfHwgKENhY2hlRXJyb3JDb2RlID0ge30pKTtcbmNvbnN0IGNhY2hlRXJyb3JNYXAgPSB7XG4gIFtDYWNoZUVycm9yQ29kZS5Ob0NhY2hlSXRlbV06IHtcbiAgICBtZXNzYWdlOiAnSXRlbSBub3QgZm91bmQgaW4gdGhlIGNhY2hlIHN0b3JhZ2UuJ1xuICB9LFxuICBbQ2FjaGVFcnJvckNvZGUuTnVsbE5leHROb2RlXToge1xuICAgIG1lc3NhZ2U6ICdOZXh0IG5vZGUgaXMgbnVsbC4nXG4gIH0sXG4gIFtDYWNoZUVycm9yQ29kZS5OdWxsUHJldmlvdXNOb2RlXToge1xuICAgIG1lc3NhZ2U6ICdQcmV2aW91cyBub2RlIGlzIG51bGwuJ1xuICB9XG59O1xuY29uc3QgYXNzZXJ0ID0gY3JlYXRlQXNzZXJ0aW9uRnVuY3Rpb24oY2FjaGVFcnJvck1hcCk7XG5leHBvcnQgeyBDYWNoZUVycm9yQ29kZSwgYXNzZXJ0IH07XG4iLCJpbXBvcnQgeyBDb25zb2xlTG9nZ2VyIH0gZnJvbSAnLi4vTG9nZ2VyL0NvbnNvbGVMb2dnZXIubWpzJztcbmltcG9ydCB7IGRlZmF1bHRDb25maWcsIGN1cnJlbnRTaXplS2V5IH0gZnJvbSAnLi9jb25zdGFudHMubWpzJztcbmltcG9ydCB7IGdldEN1cnJlbnRTaXplS2V5LCBnZXRDdXJyZW50VGltZSwgZ2V0Qnl0ZUxlbmd0aCB9IGZyb20gJy4vdXRpbHMvY2FjaGVIZWxwZXJzLm1qcyc7XG5pbXBvcnQgeyBhc3NlcnQsIENhY2hlRXJyb3JDb2RlIH0gZnJvbSAnLi91dGlscy9lcnJvckhlbHBlcnMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuY29uc3QgbG9nZ2VyID0gbmV3IENvbnNvbGVMb2dnZXIoJ1N0b3JhZ2VDYWNoZScpO1xuLyoqXG4gKiBJbml0aWFsaXphdGlvbiBvZiB0aGUgY2FjaGVcbiAqXG4gKi9cbmNsYXNzIFN0b3JhZ2VDYWNoZUNvbW1vbiB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBjYWNoZVxuICAgKlxuICAgKiBAcGFyYW0gY29uZmlnIC0gQ3VzdG9tIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgY29uZmlnLFxuICAgIGtleVZhbHVlU3RvcmFnZVxuICB9KSB7XG4gICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAuLi5kZWZhdWx0Q29uZmlnLFxuICAgICAgLi4uY29uZmlnXG4gICAgfTtcbiAgICB0aGlzLmtleVZhbHVlU3RvcmFnZSA9IGtleVZhbHVlU3RvcmFnZTtcbiAgICB0aGlzLnNhbml0aXplQ29uZmlnKCk7XG4gIH1cbiAgZ2V0TW9kdWxlTmFtZSgpIHtcbiAgICByZXR1cm4gJ0NhY2hlJztcbiAgfVxuICAvKipcbiAgICogU2V0IGN1c3RvbSBjb25maWd1cmF0aW9uIGZvciB0aGUgY2FjaGUgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSBjb25maWcgLSBjdXN0b21pemVkIGNvbmZpZ3VyYXRpb24gKHdpdGhvdXQga2V5UHJlZml4LCB3aGljaCBjYW4ndCBiZSBjaGFuZ2VkKVxuICAgKlxuICAgKiBAcmV0dXJuIC0gdGhlIGN1cnJlbnQgY29uZmlndXJhdGlvblxuICAgKi9cbiAgY29uZmlndXJlKGNvbmZpZykge1xuICAgIGlmIChjb25maWcpIHtcbiAgICAgIGlmIChjb25maWcua2V5UHJlZml4KSB7XG4gICAgICAgIGxvZ2dlci53YXJuKCdrZXlQcmVmaXggY2FuIG5vdCBiZSByZS1jb25maWd1cmVkIG9uIGFuIGV4aXN0aW5nIENhY2hlIGluc3RhbmNlLicpO1xuICAgICAgfVxuICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgIC4uLnRoaXMuY29uZmlnLFxuICAgICAgICAuLi5jb25maWdcbiAgICAgIH07XG4gICAgfVxuICAgIHRoaXMuc2FuaXRpemVDb25maWcoKTtcbiAgICByZXR1cm4gdGhpcy5jb25maWc7XG4gIH1cbiAgLyoqXG4gICAqIHJldHVybiB0aGUgY3VycmVudCBzaXplIG9mIHRoZSBjYWNoZVxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cbiAgYXN5bmMgZ2V0Q3VycmVudENhY2hlU2l6ZSgpIHtcbiAgICBsZXQgc2l6ZSA9IGF3YWl0IHRoaXMuZ2V0U3RvcmFnZSgpLmdldEl0ZW0oZ2V0Q3VycmVudFNpemVLZXkodGhpcy5jb25maWcua2V5UHJlZml4KSk7XG4gICAgaWYgKCFzaXplKSB7XG4gICAgICBhd2FpdCB0aGlzLmdldFN0b3JhZ2UoKS5zZXRJdGVtKGdldEN1cnJlbnRTaXplS2V5KHRoaXMuY29uZmlnLmtleVByZWZpeCksICcwJyk7XG4gICAgICBzaXplID0gJzAnO1xuICAgIH1cbiAgICByZXR1cm4gTnVtYmVyKHNpemUpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgaXRlbSBpbnRvIGNhY2hlLiBZb3UgY2FuIHB1dCBudW1iZXIsIHN0cmluZywgYm9vbGVhbiBvciBvYmplY3QuXG4gICAqIFRoZSBjYWNoZSB3aWxsIGZpcnN0IGNoZWNrIHdoZXRoZXIgaGFzIHRoZSBzYW1lIGtleS5cbiAgICogSWYgaXQgaGFzLCBpdCB3aWxsIGRlbGV0ZSB0aGUgb2xkIGl0ZW0gYW5kIHRoZW4gcHV0IHRoZSBuZXcgaXRlbSBpblxuICAgKiBUaGUgY2FjaGUgd2lsbCBwb3Agb3V0IGl0ZW1zIGlmIGl0IGlzIGZ1bGxcbiAgICogWW91IGNhbiBzcGVjaWZ5IHRoZSBjYWNoZSBpdGVtIG9wdGlvbnMuIFRoZSBjYWNoZSB3aWxsIGFib3J0IGFuZCBvdXRwdXQgYSB3YXJuaW5nOlxuICAgKiBJZiB0aGUga2V5IGlzIGludmFsaWRcbiAgICogSWYgdGhlIHNpemUgb2YgdGhlIGl0ZW0gZXhjZWVkcyBpdGVtTWF4U2l6ZS5cbiAgICogSWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZFxuICAgKiBJZiBpbmNvcnJlY3QgY2FjaGUgaXRlbSBjb25maWd1cmF0aW9uXG4gICAqIElmIGVycm9yIGhhcHBlbmVkIHdpdGggYnJvd3NlciBzdG9yYWdlXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgLSB0aGUga2V5IG9mIHRoZSBpdGVtXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSAtIHRoZSB2YWx1ZSBvZiB0aGUgaXRlbVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gb3B0aW9uYWwsIHRoZSBzcGVjaWZpZWQgbWV0YS1kYXRhXG4gICAqXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBhc3luYyBzZXRJdGVtKGtleSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgICBsb2dnZXIuZGVidWcoYFNldCBpdGVtOiBrZXkgaXMgJHtrZXl9LCB2YWx1ZSBpcyAke3ZhbHVlfSB3aXRoIG9wdGlvbnM6ICR7b3B0aW9uc31gKTtcbiAgICBpZiAoIWtleSB8fCBrZXkgPT09IGN1cnJlbnRTaXplS2V5KSB7XG4gICAgICBsb2dnZXIud2FybihgSW52YWxpZCBrZXk6IHNob3VsZCBub3QgYmUgZW1wdHkgb3IgcmVzZXJ2ZWQga2V5OiAnJHtjdXJyZW50U2l6ZUtleX0nYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBsb2dnZXIud2FybihgVGhlIHZhbHVlIG9mIGl0ZW0gc2hvdWxkIG5vdCBiZSB1bmRlZmluZWQhYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNhY2hlSXRlbU9wdGlvbnMgPSB7XG4gICAgICBwcmlvcml0eTogb3B0aW9ucz8ucHJpb3JpdHkgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucHJpb3JpdHkgOiB0aGlzLmNvbmZpZy5kZWZhdWx0UHJpb3JpdHksXG4gICAgICBleHBpcmVzOiBvcHRpb25zPy5leHBpcmVzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmV4cGlyZXMgOiB0aGlzLmNvbmZpZy5kZWZhdWx0VFRMICsgZ2V0Q3VycmVudFRpbWUoKVxuICAgIH07XG4gICAgaWYgKGNhY2hlSXRlbU9wdGlvbnMucHJpb3JpdHkgPCAxIHx8IGNhY2hlSXRlbU9wdGlvbnMucHJpb3JpdHkgPiA1KSB7XG4gICAgICBsb2dnZXIud2FybihgSW52YWxpZCBwYXJhbWV0ZXI6IHByaW9yaXR5IGR1ZSB0byBvdXQgb3IgcmFuZ2UuIEl0IHNob3VsZCBiZSB3aXRoaW4gMSBhbmQgNS5gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJlZml4ZWRLZXkgPSBgJHt0aGlzLmNvbmZpZy5rZXlQcmVmaXh9JHtrZXl9YDtcbiAgICBjb25zdCBpdGVtID0gdGhpcy5maWxsQ2FjaGVJdGVtKHByZWZpeGVkS2V5LCB2YWx1ZSwgY2FjaGVJdGVtT3B0aW9ucyk7XG4gICAgLy8gY2hlY2sgd2hldGhlciB0aGlzIGl0ZW0gaXMgdG9vIGJpZztcbiAgICBpZiAoaXRlbS5ieXRlU2l6ZSA+IHRoaXMuY29uZmlnLml0ZW1NYXhTaXplKSB7XG4gICAgICBsb2dnZXIud2FybihgSXRlbSB3aXRoIGtleTogJHtrZXl9IHlvdSBhcmUgdHJ5aW5nIHRvIHB1dCBpbnRvIGlzIHRvbyBiaWchYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAvLyBmaXJzdCBsb29rIGludG8gdGhlIHN0b3JhZ2UsIGlmIGl0IGV4aXN0cywgZGVsZXRlIGl0LlxuICAgICAgY29uc3QgdmFsID0gYXdhaXQgdGhpcy5nZXRTdG9yYWdlKCkuZ2V0SXRlbShwcmVmaXhlZEtleSk7XG4gICAgICBpZiAodmFsKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVtb3ZlQ2FjaGVJdGVtKHByZWZpeGVkS2V5LCBKU09OLnBhcnNlKHZhbCkuYnl0ZVNpemUpO1xuICAgICAgfVxuICAgICAgLy8gY2hlY2sgd2hldGhlciB0aGUgY2FjaGUgaXMgZnVsbFxuICAgICAgaWYgKGF3YWl0IHRoaXMuaXNDYWNoZUZ1bGwoaXRlbS5ieXRlU2l6ZSkpIHtcbiAgICAgICAgY29uc3QgdmFsaWRLZXlzID0gYXdhaXQgdGhpcy5jbGVhckludmFsaWRBbmRHZXRSZW1haW5pbmdLZXlzKCk7XG4gICAgICAgIGlmIChhd2FpdCB0aGlzLmlzQ2FjaGVGdWxsKGl0ZW0uYnl0ZVNpemUpKSB7XG4gICAgICAgICAgY29uc3Qgc2l6ZVRvUG9wID0gYXdhaXQgdGhpcy5zaXplVG9Qb3AoaXRlbS5ieXRlU2l6ZSk7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wb3BPdXRJdGVtcyh2YWxpZEtleXMsIHNpemVUb1BvcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIHB1dCBpdGVtIGluIHRoZSBjYWNoZVxuICAgICAgcmV0dXJuIHRoaXMuc2V0Q2FjaGVJdGVtKHByZWZpeGVkS2V5LCBpdGVtKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2dnZXIud2Fybihgc2V0SXRlbSBmYWlsZWQhICR7ZX1gKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEdldCBpdGVtIGZyb20gY2FjaGUuIEl0IHdpbGwgcmV0dXJuIG51bGwgaWYgaXRlbSBkb2VzbuKAmXQgZXhpc3Qgb3IgaXQgaGFzIGJlZW4gZXhwaXJlZC5cbiAgICogSWYgeW91IHNwZWNpZmllZCBjYWxsYmFjayBmdW5jdGlvbiBpbiB0aGUgb3B0aW9ucyxcbiAgICogdGhlbiB0aGUgZnVuY3Rpb24gd2lsbCBiZSBleGVjdXRlZCBpZiBubyBzdWNoIGl0ZW0gaW4gdGhlIGNhY2hlXG4gICAqIGFuZCBmaW5hbGx5IHB1dCB0aGUgcmV0dXJuIHZhbHVlIGludG8gY2FjaGUuXG4gICAqIFBsZWFzZSBtYWtlIHN1cmUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIHRoZSB2YWx1ZSB5b3Ugd2FudCB0byBwdXQgaW50byB0aGUgY2FjaGUuXG4gICAqIFRoZSBjYWNoZSB3aWxsIGFib3J0IG91dHB1dCBhIHdhcm5pbmc6XG4gICAqIElmIHRoZSBrZXkgaXMgaW52YWxpZFxuICAgKiBJZiBlcnJvciBoYXBwZW5lZCB3aXRoIEFzeW5jU3RvcmFnZVxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IC0gdGhlIGtleSBvZiB0aGUgaXRlbVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gdGhlIG9wdGlvbnMgb2YgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICpcbiAgICogQHJldHVybiB7UHJvbWlzZX0gLSByZXR1cm4gYSBwcm9taXNlIHJlc29sdmVzIHRvIGJlIHRoZSB2YWx1ZSBvZiB0aGUgaXRlbVxuICAgKi9cbiAgYXN5bmMgZ2V0SXRlbShrZXksIG9wdGlvbnMpIHtcbiAgICBsb2dnZXIuZGVidWcoYEdldCBpdGVtOiBrZXkgaXMgJHtrZXl9IHdpdGggb3B0aW9ucyAke29wdGlvbnN9YCk7XG4gICAgbGV0IGNhY2hlZDtcbiAgICBpZiAoIWtleSB8fCBrZXkgPT09IGN1cnJlbnRTaXplS2V5KSB7XG4gICAgICBsb2dnZXIud2FybihgSW52YWxpZCBrZXk6IHNob3VsZCBub3QgYmUgZW1wdHkgb3IgcmVzZXJ2ZWQga2V5OiAnJHtjdXJyZW50U2l6ZUtleX0nYCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcHJlZml4ZWRLZXkgPSBgJHt0aGlzLmNvbmZpZy5rZXlQcmVmaXh9JHtrZXl9YDtcbiAgICB0cnkge1xuICAgICAgY2FjaGVkID0gYXdhaXQgdGhpcy5nZXRTdG9yYWdlKCkuZ2V0SXRlbShwcmVmaXhlZEtleSk7XG4gICAgICBpZiAoY2FjaGVkICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGF3YWl0IHRoaXMuaXNFeHBpcmVkKHByZWZpeGVkS2V5KSkge1xuICAgICAgICAgIC8vIGlmIGV4cGlyZWQsIHJlbW92ZSB0aGF0IGl0ZW0gYW5kIHJldHVybiBudWxsXG4gICAgICAgICAgYXdhaXQgdGhpcy5yZW1vdmVDYWNoZUl0ZW0ocHJlZml4ZWRLZXksIEpTT04ucGFyc2UoY2FjaGVkKS5ieXRlU2l6ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaWYgbm90IGV4cGlyZWQsIHVwZGF0ZSBpdHMgdmlzaXRlZFRpbWUgYW5kIHJldHVybiB0aGUgdmFsdWVcbiAgICAgICAgICBjb25zdCBpdGVtID0gYXdhaXQgdGhpcy51cGRhdGVWaXNpdGVkVGltZShKU09OLnBhcnNlKGNhY2hlZCksIHByZWZpeGVkS2V5KTtcbiAgICAgICAgICByZXR1cm4gaXRlbS5kYXRhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucz8uY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgdmFsID0gb3B0aW9ucy5jYWxsYmFjaygpO1xuICAgICAgICBpZiAodmFsICE9PSBudWxsKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5zZXRJdGVtKGtleSwgdmFsLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbG9nZ2VyLndhcm4oYGdldEl0ZW0gZmFpbGVkISAke2V9YCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIHJlbW92ZSBpdGVtIGZyb20gdGhlIGNhY2hlXG4gICAqIFRoZSBjYWNoZSB3aWxsIGFib3J0IG91dHB1dCBhIHdhcm5pbmc6XG4gICAqIElmIGVycm9yIGhhcHBlbmVkIHdpdGggQXN5bmNTdG9yYWdlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgLSB0aGUga2V5IG9mIHRoZSBpdGVtXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBhc3luYyByZW1vdmVJdGVtKGtleSkge1xuICAgIGxvZ2dlci5kZWJ1ZyhgUmVtb3ZlIGl0ZW06IGtleSBpcyAke2tleX1gKTtcbiAgICBpZiAoIWtleSB8fCBrZXkgPT09IGN1cnJlbnRTaXplS2V5KSB7XG4gICAgICBsb2dnZXIud2FybihgSW52YWxpZCBrZXk6IHNob3VsZCBub3QgYmUgZW1wdHkgb3IgcmVzZXJ2ZWQga2V5OiAnJHtjdXJyZW50U2l6ZUtleX0nYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByZWZpeGVkS2V5ID0gYCR7dGhpcy5jb25maWcua2V5UHJlZml4fSR7a2V5fWA7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHZhbCA9IGF3YWl0IHRoaXMuZ2V0U3RvcmFnZSgpLmdldEl0ZW0ocHJlZml4ZWRLZXkpO1xuICAgICAgaWYgKHZhbCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlbW92ZUNhY2hlSXRlbShwcmVmaXhlZEtleSwgSlNPTi5wYXJzZSh2YWwpLmJ5dGVTaXplKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2dnZXIud2FybihgcmVtb3ZlSXRlbSBmYWlsZWQhICR7ZX1gKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhbGwgdGhlIGtleXMgb3duZWQgYnkgdGhpcyBjYWNoZS5cbiAgICogV2lsbCByZXR1cm4gYW4gZW1wdHkgYXJyYXkgaWYgZXJyb3Igb2NjdXJyZWQuXG4gICAqXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBhc3luYyBnZXRBbGxLZXlzKCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRBbGxDYWNoZUtleXMoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2dnZXIud2FybihgZ2V0QWxsa2V5cyBmYWlsZWQhICR7ZX1gKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cbiAgZ2V0U3RvcmFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5rZXlWYWx1ZVN0b3JhZ2U7XG4gIH1cbiAgLyoqXG4gICAqIGNoZWNrIHdoZXRoZXIgaXRlbSBpcyBleHBpcmVkXG4gICAqXG4gICAqIEBwYXJhbSBrZXkgLSB0aGUga2V5IG9mIHRoZSBpdGVtXG4gICAqXG4gICAqIEByZXR1cm4gdHJ1ZSBpZiB0aGUgaXRlbSBpcyBleHBpcmVkLlxuICAgKi9cbiAgYXN5bmMgaXNFeHBpcmVkKGtleSkge1xuICAgIGNvbnN0IHRleHQgPSBhd2FpdCB0aGlzLmdldFN0b3JhZ2UoKS5nZXRJdGVtKGtleSk7XG4gICAgYXNzZXJ0KHRleHQgIT09IG51bGwsIENhY2hlRXJyb3JDb2RlLk5vQ2FjaGVJdGVtLCBgS2V5OiAke2tleX1gKTtcbiAgICBjb25zdCBpdGVtID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICBpZiAoZ2V0Q3VycmVudFRpbWUoKSA+PSBpdGVtLmV4cGlyZXMpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIGRlbGV0ZSBpdGVtIGZyb20gY2FjaGVcbiAgICpcbiAgICogQHBhcmFtIHByZWZpeGVkS2V5IC0gdGhlIGtleSBvZiB0aGUgaXRlbVxuICAgKiBAcGFyYW0gc2l6ZSAtIG9wdGlvbmFsLCB0aGUgYnl0ZSBzaXplIG9mIHRoZSBpdGVtXG4gICAqL1xuICBhc3luYyByZW1vdmVDYWNoZUl0ZW0ocHJlZml4ZWRLZXksIHNpemUpIHtcbiAgICBjb25zdCBpdGVtID0gYXdhaXQgdGhpcy5nZXRTdG9yYWdlKCkuZ2V0SXRlbShwcmVmaXhlZEtleSk7XG4gICAgYXNzZXJ0KGl0ZW0gIT09IG51bGwsIENhY2hlRXJyb3JDb2RlLk5vQ2FjaGVJdGVtLCBgS2V5OiAke3ByZWZpeGVkS2V5fWApO1xuICAgIGNvbnN0IGl0ZW1TaXplID0gc2l6ZSA/PyBKU09OLnBhcnNlKGl0ZW0pLmJ5dGVTaXplO1xuICAgIC8vIGZpcnN0IHRyeSB0byB1cGRhdGUgdGhlIGN1cnJlbnQgc2l6ZSBvZiB0aGUgY2FjaGVcbiAgICBhd2FpdCB0aGlzLmRlY3JlYXNlQ3VycmVudFNpemVJbkJ5dGVzKGl0ZW1TaXplKTtcbiAgICAvLyB0cnkgdG8gcmVtb3ZlIHRoZSBpdGVtIGZyb20gY2FjaGVcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5nZXRTdG9yYWdlKCkucmVtb3ZlSXRlbShwcmVmaXhlZEtleSk7XG4gICAgfSBjYXRjaCAocmVtb3ZlSXRlbUVycm9yKSB7XG4gICAgICAvLyBpZiBzb21lIGVycm9yIGhhcHBlbmVkLCB3ZSBuZWVkIHRvIHJvbGxiYWNrIHRoZSBjdXJyZW50IHNpemVcbiAgICAgIGF3YWl0IHRoaXMuaW5jcmVhc2VDdXJyZW50U2l6ZUluQnl0ZXMoaXRlbVNpemUpO1xuICAgICAgbG9nZ2VyLmVycm9yKGBGYWlsZWQgdG8gcmVtb3ZlIGl0ZW06ICR7cmVtb3ZlSXRlbUVycm9yfWApO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogcHJvZHVjZSBhIEpTT04gb2JqZWN0IHdpdGggbWV0YS1kYXRhIGFuZCBkYXRhIHZhbHVlXG4gICAqIEBwYXJhbSB2YWx1ZSAtIHRoZSB2YWx1ZSBvZiB0aGUgaXRlbVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIG9wdGlvbmFsLCB0aGUgc3BlY2lmaWVkIG1ldGEtZGF0YVxuICAgKlxuICAgKiBAcmV0dXJuIC0gdGhlIGl0ZW0gd2hpY2ggaGFzIHRoZSBtZXRhLWRhdGEgYW5kIHRoZSB2YWx1ZVxuICAgKi9cbiAgZmlsbENhY2hlSXRlbShrZXksIHZhbHVlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgaXRlbSA9IHtcbiAgICAgIGtleSxcbiAgICAgIGRhdGE6IHZhbHVlLFxuICAgICAgdGltZXN0YW1wOiBnZXRDdXJyZW50VGltZSgpLFxuICAgICAgdmlzaXRlZFRpbWU6IGdldEN1cnJlbnRUaW1lKCksXG4gICAgICBwcmlvcml0eTogb3B0aW9ucy5wcmlvcml0eSA/PyAwLFxuICAgICAgZXhwaXJlczogb3B0aW9ucy5leHBpcmVzID8/IDAsXG4gICAgICB0eXBlOiB0eXBlb2YgdmFsdWUsXG4gICAgICBieXRlU2l6ZTogMFxuICAgIH07XG4gICAgLy8gY2FsY3VsYXRlIGJ5dGUgc2l6ZVxuICAgIGl0ZW0uYnl0ZVNpemUgPSBnZXRCeXRlTGVuZ3RoKEpTT04uc3RyaW5naWZ5KGl0ZW0pKTtcbiAgICAvLyByZS1jYWxjdWxhdGUgdXNpbmcgY2FjaGUgaXRlbSB3aXRoIHVwZGF0ZWQgYnl0ZVNpemUgcHJvcGVydHlcbiAgICBpdGVtLmJ5dGVTaXplID0gZ2V0Qnl0ZUxlbmd0aChKU09OLnN0cmluZ2lmeShpdGVtKSk7XG4gICAgcmV0dXJuIGl0ZW07XG4gIH1cbiAgc2FuaXRpemVDb25maWcoKSB7XG4gICAgaWYgKHRoaXMuY29uZmlnLml0ZW1NYXhTaXplID4gdGhpcy5jb25maWcuY2FwYWNpdHlJbkJ5dGVzKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0ludmFsaWQgcGFyYW1ldGVyOiBpdGVtTWF4U2l6ZS4gSXQgc2hvdWxkIGJlIHNtYWxsZXIgdGhhbiBjYXBhY2l0eUluQnl0ZXMuIFNldHRpbmcgYmFjayB0byBkZWZhdWx0LicpO1xuICAgICAgdGhpcy5jb25maWcuaXRlbU1heFNpemUgPSBkZWZhdWx0Q29uZmlnLml0ZW1NYXhTaXplO1xuICAgIH1cbiAgICBpZiAodGhpcy5jb25maWcuZGVmYXVsdFByaW9yaXR5ID4gNSB8fCB0aGlzLmNvbmZpZy5kZWZhdWx0UHJpb3JpdHkgPCAxKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0ludmFsaWQgcGFyYW1ldGVyOiBkZWZhdWx0UHJpb3JpdHkuIEl0IHNob3VsZCBiZSBiZXR3ZWVuIDEgYW5kIDUuIFNldHRpbmcgYmFjayB0byBkZWZhdWx0LicpO1xuICAgICAgdGhpcy5jb25maWcuZGVmYXVsdFByaW9yaXR5ID0gZGVmYXVsdENvbmZpZy5kZWZhdWx0UHJpb3JpdHk7XG4gICAgfVxuICAgIGlmIChOdW1iZXIodGhpcy5jb25maWcud2FybmluZ1RocmVzaG9sZCkgPiAxIHx8IE51bWJlcih0aGlzLmNvbmZpZy53YXJuaW5nVGhyZXNob2xkKSA8IDApIHtcbiAgICAgIGxvZ2dlci5lcnJvcignSW52YWxpZCBwYXJhbWV0ZXI6IHdhcm5pbmdUaHJlc2hvbGQuIEl0IHNob3VsZCBiZSBiZXR3ZWVuIDAgYW5kIDEuIFNldHRpbmcgYmFjayB0byBkZWZhdWx0LicpO1xuICAgICAgdGhpcy5jb25maWcud2FybmluZ1RocmVzaG9sZCA9IGRlZmF1bHRDb25maWcud2FybmluZ1RocmVzaG9sZDtcbiAgICB9XG4gICAgLy8gU2V0IDVNQiBsaW1pdFxuICAgIGNvbnN0IGNhY2hlTGltaXQgPSA1ICogMTAyNCAqIDEwMjQ7XG4gICAgaWYgKHRoaXMuY29uZmlnLmNhcGFjaXR5SW5CeXRlcyA+IGNhY2hlTGltaXQpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignQ2FjaGUgQ2FwYWNpdHkgc2hvdWxkIGJlIGxlc3MgdGhhbiA1TUIuIFNldHRpbmcgYmFjayB0byBkZWZhdWx0LiBTZXR0aW5nIGJhY2sgdG8gZGVmYXVsdC4nKTtcbiAgICAgIHRoaXMuY29uZmlnLmNhcGFjaXR5SW5CeXRlcyA9IGRlZmF1bHRDb25maWcuY2FwYWNpdHlJbkJ5dGVzO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogaW5jcmVhc2UgY3VycmVudCBzaXplIG9mIHRoZSBjYWNoZVxuICAgKlxuICAgKiBAcGFyYW0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiB0aGUgY2FjaGUgc3ppZSB3aGljaCBuZWVkIHRvIGJlIGluY3JlYXNlZFxuICAgKi9cbiAgYXN5bmMgaW5jcmVhc2VDdXJyZW50U2l6ZUluQnl0ZXMoYW1vdW50KSB7XG4gICAgY29uc3Qgc2l6ZSA9IGF3YWl0IHRoaXMuZ2V0Q3VycmVudENhY2hlU2l6ZSgpO1xuICAgIGF3YWl0IHRoaXMuZ2V0U3RvcmFnZSgpLnNldEl0ZW0oZ2V0Q3VycmVudFNpemVLZXkodGhpcy5jb25maWcua2V5UHJlZml4KSwgKHNpemUgKyBhbW91bnQpLnRvU3RyaW5nKCkpO1xuICB9XG4gIC8qKlxuICAgKiBkZWNyZWFzZSBjdXJyZW50IHNpemUgb2YgdGhlIGNhY2hlXG4gICAqXG4gICAqIEBwYXJhbSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIHRoZSBjYWNoZSBzaXplIHdoaWNoIG5lZWRzIHRvIGJlIGRlY3JlYXNlZFxuICAgKi9cbiAgYXN5bmMgZGVjcmVhc2VDdXJyZW50U2l6ZUluQnl0ZXMoYW1vdW50KSB7XG4gICAgY29uc3Qgc2l6ZSA9IGF3YWl0IHRoaXMuZ2V0Q3VycmVudENhY2hlU2l6ZSgpO1xuICAgIGF3YWl0IHRoaXMuZ2V0U3RvcmFnZSgpLnNldEl0ZW0oZ2V0Q3VycmVudFNpemVLZXkodGhpcy5jb25maWcua2V5UHJlZml4KSwgKHNpemUgLSBhbW91bnQpLnRvU3RyaW5nKCkpO1xuICB9XG4gIC8qKlxuICAgKiB1cGRhdGUgdGhlIHZpc2l0ZWQgdGltZSBpZiBpdGVtIGhhcyBiZWVuIHZpc2l0ZWRcbiAgICpcbiAgICogQHBhcmFtIGl0ZW0gLSB0aGUgaXRlbSB3aGljaCBuZWVkIHRvIGJlIHVwZGF0ZWRcbiAgICogQHBhcmFtIHByZWZpeGVkS2V5IC0gdGhlIGtleSBvZiB0aGUgaXRlbVxuICAgKlxuICAgKiBAcmV0dXJuIHRoZSB1cGRhdGVkIGl0ZW1cbiAgICovXG4gIGFzeW5jIHVwZGF0ZVZpc2l0ZWRUaW1lKGl0ZW0sIHByZWZpeGVkS2V5KSB7XG4gICAgaXRlbS52aXNpdGVkVGltZSA9IGdldEN1cnJlbnRUaW1lKCk7XG4gICAgYXdhaXQgdGhpcy5nZXRTdG9yYWdlKCkuc2V0SXRlbShwcmVmaXhlZEtleSwgSlNPTi5zdHJpbmdpZnkoaXRlbSkpO1xuICAgIHJldHVybiBpdGVtO1xuICB9XG4gIC8qKlxuICAgKiBwdXQgaXRlbSBpbnRvIGNhY2hlXG4gICAqXG4gICAqIEBwYXJhbSBwcmVmaXhlZEtleSAtIHRoZSBrZXkgb2YgdGhlIGl0ZW1cbiAgICogQHBhcmFtIGl0ZW1EYXRhIC0gdGhlIHZhbHVlIG9mIHRoZSBpdGVtXG4gICAqIEBwYXJhbSBpdGVtU2l6ZUluQnl0ZXMgLSB0aGUgYnl0ZSBzaXplIG9mIHRoZSBpdGVtXG4gICAqL1xuICBhc3luYyBzZXRDYWNoZUl0ZW0ocHJlZml4ZWRLZXksIGl0ZW0pIHtcbiAgICAvLyBmaXJzdCB0cnkgdG8gdXBkYXRlIHRoZSBjdXJyZW50IHNpemUgb2YgdGhlIGNhY2hlLlxuICAgIGF3YWl0IHRoaXMuaW5jcmVhc2VDdXJyZW50U2l6ZUluQnl0ZXMoaXRlbS5ieXRlU2l6ZSk7XG4gICAgLy8gdHJ5IHRvIGFkZCB0aGUgaXRlbSBpbnRvIGNhY2hlXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMuZ2V0U3RvcmFnZSgpLnNldEl0ZW0ocHJlZml4ZWRLZXksIEpTT04uc3RyaW5naWZ5KGl0ZW0pKTtcbiAgICB9IGNhdGNoIChzZXRJdGVtRXJyKSB7XG4gICAgICAvLyBpZiBzb21lIGVycm9yIGhhcHBlbmVkLCB3ZSBuZWVkIHRvIHJvbGxiYWNrIHRoZSBjdXJyZW50IHNpemVcbiAgICAgIGF3YWl0IHRoaXMuZGVjcmVhc2VDdXJyZW50U2l6ZUluQnl0ZXMoaXRlbS5ieXRlU2l6ZSk7XG4gICAgICBsb2dnZXIuZXJyb3IoYEZhaWxlZCB0byBzZXQgaXRlbSAke3NldEl0ZW1FcnJ9YCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiB0b3RhbCBzcGFjZSBuZWVkZWQgd2hlbiBwb3Bpbmcgb3V0IGl0ZW1zXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtU2l6ZVxuICAgKlxuICAgKiBAcmV0dXJuIHRvdGFsIHNwYWNlIG5lZWRlZFxuICAgKi9cbiAgYXN5bmMgc2l6ZVRvUG9wKGl0ZW1TaXplKSB7XG4gICAgY29uc3QgY3VyID0gYXdhaXQgdGhpcy5nZXRDdXJyZW50Q2FjaGVTaXplKCk7XG4gICAgY29uc3Qgc3BhY2VJdGVtTmVlZCA9IGN1ciArIGl0ZW1TaXplIC0gdGhpcy5jb25maWcuY2FwYWNpdHlJbkJ5dGVzO1xuICAgIGNvbnN0IGNhY2hlVGhyZXNob2xkU3BhY2UgPSAoMSAtIHRoaXMuY29uZmlnLndhcm5pbmdUaHJlc2hvbGQpICogdGhpcy5jb25maWcuY2FwYWNpdHlJbkJ5dGVzO1xuICAgIHJldHVybiBzcGFjZUl0ZW1OZWVkID4gY2FjaGVUaHJlc2hvbGRTcGFjZSA/IHNwYWNlSXRlbU5lZWQgOiBjYWNoZVRocmVzaG9sZFNwYWNlO1xuICB9XG4gIC8qKlxuICAgKiBzZWUgd2hldGhlciBjYWNoZSBpcyBmdWxsXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtU2l6ZVxuICAgKlxuICAgKiBAcmV0dXJuIHRydWUgaWYgY2FjaGUgaXMgZnVsbFxuICAgKi9cbiAgYXN5bmMgaXNDYWNoZUZ1bGwoaXRlbVNpemUpIHtcbiAgICBjb25zdCBjdXIgPSBhd2FpdCB0aGlzLmdldEN1cnJlbnRDYWNoZVNpemUoKTtcbiAgICByZXR1cm4gaXRlbVNpemUgKyBjdXIgPiB0aGlzLmNvbmZpZy5jYXBhY2l0eUluQnl0ZXM7XG4gIH1cbiAgLyoqXG4gICAqIGdldCBhbGwgdGhlIGl0ZW1zIHdlIGhhdmUsIHNvcnQgdGhlbSBieSB0aGVpciBwcmlvcml0eSxcbiAgICogaWYgcHJpb3JpdHkgaXMgc2FtZSwgc29ydCB0aGVtIGJ5IHRoZWlyIGxhc3QgdmlzaXRlZCB0aW1lXG4gICAqIHBvcCBvdXQgaXRlbXMgZnJvbSB0aGUgbG93IHByaW9yaXR5ICg1IGlzIHRoZSBsb3dlc3QpXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSBrZXlzIC0gYWxsIHRoZSBrZXlzIGluIHRoaXMgY2FjaGVcbiAgICogQHBhcmFtIHNpemVUb1BvcCAtIHRoZSB0b3RhbCBzaXplIG9mIHRoZSBpdGVtcyB3aGljaCBuZWVkZWQgdG8gYmUgcG9wZWQgb3V0XG4gICAqL1xuICBhc3luYyBwb3BPdXRJdGVtcyhrZXlzLCBzaXplVG9Qb3ApIHtcbiAgICBjb25zdCBpdGVtcyA9IFtdO1xuICAgIGxldCByZW1haW5lZFNpemUgPSBzaXplVG9Qb3A7XG4gICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgICAgY29uc3QgdmFsID0gYXdhaXQgdGhpcy5nZXRTdG9yYWdlKCkuZ2V0SXRlbShrZXkpO1xuICAgICAgaWYgKHZhbCAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBKU09OLnBhcnNlKHZhbCk7XG4gICAgICAgIGl0ZW1zLnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGZpcnN0IGNvbXBhcmUgcHJpb3JpdHlcbiAgICAvLyB0aGVuIGNvbXBhcmUgdmlzaXRlZCB0aW1lXG4gICAgaXRlbXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgaWYgKGEucHJpb3JpdHkgPiBiLnByaW9yaXR5KSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH0gZWxzZSBpZiAoYS5wcmlvcml0eSA8IGIucHJpb3JpdHkpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYS52aXNpdGVkVGltZSA8IGIudmlzaXRlZFRpbWUpIHtcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH0gZWxzZSByZXR1cm4gMTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgIC8vIHBvcCBvdXQgaXRlbXMgdW50aWwgd2UgaGF2ZSBlbm91Z2ggcm9vbSBmb3IgbmV3IGl0ZW1cbiAgICAgIGF3YWl0IHRoaXMucmVtb3ZlQ2FjaGVJdGVtKGl0ZW0ua2V5LCBpdGVtLmJ5dGVTaXplKTtcbiAgICAgIHJlbWFpbmVkU2l6ZSAtPSBpdGVtLmJ5dGVTaXplO1xuICAgICAgaWYgKHJlbWFpbmVkU2l6ZSA8PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNjYW4gdGhlIHN0b3JhZ2UgYW5kIGNvbWJpbmUgdGhlIGZvbGxvd2luZyBvcGVyYXRpb25zIGZvciBlZmZpY2llbmN5XG4gICAqICAgMS4gQ2xlYXIgb3V0IGFsbCBleHBpcmVkIGtleXMgb3duZWQgYnkgdGhpcyBjYWNoZSwgbm90IGluY2x1ZGluZyB0aGUgc2l6ZSBrZXkuXG4gICAqICAgMi4gUmV0dXJuIHRoZSByZW1haW5pbmcga2V5cy5cbiAgICpcbiAgICogQHJldHVybiBUaGUgcmVtYWluaW5nIHZhbGlkIGtleXNcbiAgICovXG4gIGFzeW5jIGNsZWFySW52YWxpZEFuZEdldFJlbWFpbmluZ0tleXMoKSB7XG4gICAgY29uc3QgcmVtYWluaW5nS2V5cyA9IFtdO1xuICAgIGNvbnN0IGtleXMgPSBhd2FpdCB0aGlzLmdldEFsbENhY2hlS2V5cyh7XG4gICAgICBvbWl0U2l6ZUtleTogdHJ1ZVxuICAgIH0pO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgIGlmIChhd2FpdCB0aGlzLmlzRXhwaXJlZChrZXkpKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVtb3ZlQ2FjaGVJdGVtKGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW1haW5pbmdLZXlzLnB1c2goa2V5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlbWFpbmluZ0tleXM7XG4gIH1cbiAgLyoqXG4gICAqIGNsZWFyIHRoZSBlbnRpcmUgY2FjaGVcbiAgICogVGhlIGNhY2hlIHdpbGwgYWJvcnQgYW5kIG91dHB1dCBhIHdhcm5pbmcgaWYgZXJyb3Igb2NjdXJzXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBhc3luYyBjbGVhcigpIHtcbiAgICBsb2dnZXIuZGVidWcoYENsZWFyIENhY2hlYCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGtleXMgPSBhd2FpdCB0aGlzLmdldEFsbEtleXMoKTtcbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgICAgY29uc3QgcHJlZml4ZWRLZXkgPSBgJHt0aGlzLmNvbmZpZy5rZXlQcmVmaXh9JHtrZXl9YDtcbiAgICAgICAgYXdhaXQgdGhpcy5nZXRTdG9yYWdlKCkucmVtb3ZlSXRlbShwcmVmaXhlZEtleSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbG9nZ2VyLndhcm4oYGNsZWFyIGZhaWxlZCEgJHtlfWApO1xuICAgIH1cbiAgfVxufVxuZXhwb3J0IHsgU3RvcmFnZUNhY2hlQ29tbW9uIH07XG4iLCJpbXBvcnQgeyBDb25zb2xlTG9nZ2VyIH0gZnJvbSAnLi4vTG9nZ2VyL0NvbnNvbGVMb2dnZXIubWpzJztcbmltcG9ydCB7IEtleVZhbHVlU3RvcmFnZSB9IGZyb20gJy4uL3N0b3JhZ2UvS2V5VmFsdWVTdG9yYWdlLm1qcyc7XG5pbXBvcnQgeyBnZXRMb2NhbFN0b3JhZ2VXaXRoRmFsbGJhY2sgfSBmcm9tICcuLi9zdG9yYWdlL3V0aWxzLm1qcyc7XG5pbXBvcnQgeyBkZWZhdWx0Q29uZmlnIH0gZnJvbSAnLi9jb25zdGFudHMubWpzJztcbmltcG9ydCB7IFN0b3JhZ2VDYWNoZUNvbW1vbiB9IGZyb20gJy4vU3RvcmFnZUNhY2hlQ29tbW9uLm1qcyc7XG5pbXBvcnQgeyBnZXRDdXJyZW50U2l6ZUtleSwgZ2V0Q3VycmVudFRpbWUgfSBmcm9tICcuL3V0aWxzL2NhY2hlSGVscGVycy5tanMnO1xuaW1wb3J0ICcuL3V0aWxzL2Vycm9ySGVscGVycy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBsb2dnZXIgPSBuZXcgQ29uc29sZUxvZ2dlcignU3RvcmFnZUNhY2hlJyk7XG4vKipcbiAqIEN1c3RvbWl6ZWQgc3RvcmFnZSBiYXNlZCBvbiB0aGUgU2Vzc2lvblN0b3JhZ2Ugb3IgTG9jYWxTdG9yYWdlIHdpdGggTFJVIGltcGxlbWVudGVkXG4gKi9cbmNsYXNzIFN0b3JhZ2VDYWNoZSBleHRlbmRzIFN0b3JhZ2VDYWNoZUNvbW1vbiB7XG4gIC8qKlxuICAgKiBpbml0aWFsaXplIHRoZSBjYWNoZVxuICAgKiBAcGFyYW0gY29uZmlnIC0gdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhlIGNhY2hlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICBjb25zdCBzdG9yYWdlID0gZ2V0TG9jYWxTdG9yYWdlV2l0aEZhbGxiYWNrKCk7XG4gICAgc3VwZXIoe1xuICAgICAgY29uZmlnLFxuICAgICAga2V5VmFsdWVTdG9yYWdlOiBuZXcgS2V5VmFsdWVTdG9yYWdlKHN0b3JhZ2UpXG4gICAgfSk7XG4gICAgdGhpcy5zdG9yYWdlID0gc3RvcmFnZTtcbiAgICB0aGlzLmdldEl0ZW0gPSB0aGlzLmdldEl0ZW0uYmluZCh0aGlzKTtcbiAgICB0aGlzLnNldEl0ZW0gPSB0aGlzLnNldEl0ZW0uYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlbW92ZUl0ZW0gPSB0aGlzLnJlbW92ZUl0ZW0uYmluZCh0aGlzKTtcbiAgfVxuICBhc3luYyBnZXRBbGxDYWNoZUtleXMob3B0aW9ucykge1xuICAgIGNvbnN0IHtcbiAgICAgIG9taXRTaXplS2V5XG4gICAgfSA9IG9wdGlvbnMgPz8ge307XG4gICAgY29uc3Qga2V5cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdG9yYWdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSB0aGlzLnN0b3JhZ2Uua2V5KGkpO1xuICAgICAgaWYgKG9taXRTaXplS2V5ICYmIGtleSA9PT0gZ2V0Q3VycmVudFNpemVLZXkodGhpcy5jb25maWcua2V5UHJlZml4KSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChrZXk/LnN0YXJ0c1dpdGgodGhpcy5jb25maWcua2V5UHJlZml4KSkge1xuICAgICAgICBrZXlzLnB1c2goa2V5LnN1YnN0cmluZyh0aGlzLmNvbmZpZy5rZXlQcmVmaXgubGVuZ3RoKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBrZXlzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYSBuZXcgaW5zdGFuY2Ugb2YgY2FjaGUgd2l0aCBjdXN0b21pemVkIGNvbmZpZ3VyYXRpb24uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgLSB0aGUgY3VzdG9taXplZCBjb25maWd1cmF0aW9uXG4gICAqIEByZXR1cm4ge09iamVjdH0gLSB0aGUgbmV3IGluc3RhbmNlIG9mIENhY2hlXG4gICAqL1xuICBjcmVhdGVJbnN0YW5jZShjb25maWcpIHtcbiAgICBpZiAoIWNvbmZpZy5rZXlQcmVmaXggfHwgY29uZmlnLmtleVByZWZpeCA9PT0gZGVmYXVsdENvbmZpZy5rZXlQcmVmaXgpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignaW52YWxpZCBrZXlQcmVmaXgsIHNldHRpbmcga2V5UHJlZml4IHdpdGggdGltZVN0YW1wJyk7XG4gICAgICBjb25maWcua2V5UHJlZml4ID0gZ2V0Q3VycmVudFRpbWUudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTdG9yYWdlQ2FjaGUoY29uZmlnKTtcbiAgfVxufVxuZXhwb3J0IHsgU3RvcmFnZUNhY2hlIH07XG4iLCJpbXBvcnQgeyBTdG9yYWdlQ2FjaGUgfSBmcm9tICcuL1N0b3JhZ2VDYWNoZS5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBDYWNoZSA9IG5ldyBTdG9yYWdlQ2FjaGUoKTtcbmV4cG9ydCB7IENhY2hlIH07XG4iLCJpbXBvcnQgeyBDb25zb2xlTG9nZ2VyIH0gZnJvbSAnLi4vTG9nZ2VyL0NvbnNvbGVMb2dnZXIubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuY29uc3QgbG9nZ2VyID0gbmV3IENvbnNvbGVMb2dnZXIoJ0kxOG4nKTtcbi8qKlxuICogTGFuZ3VhZ2UgdHJhbnNsYXRpb24gdXRpbGl0eS5cbiAqL1xubGV0IEkxOG4kMSA9IGNsYXNzIEkxOG4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX29wdGlvbnMgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fbGFuZyA9IG51bGw7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9kaWN0ID0ge307XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIGRlZmF1bHQgbGFuZ3VhZ2UgZnJvbSB0aGUgY29uZmlndXJhdGlvbiB3aGVuIHJlcXVpcmVkLlxuICAgKi9cbiAgc2V0RGVmYXVsdExhbmd1YWdlKCkge1xuICAgIC8vIERlZmF1bHQgdG8gd2luZG93IGxhbmd1YWdlIGlmIG5vdCBzZXQgaW4gaW5zdGFuY2VcbiAgICBpZiAoIXRoaXMuX2xhbmcgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93ICYmIHdpbmRvdy5uYXZpZ2F0b3IpIHtcbiAgICAgIHRoaXMuX2xhbmcgPSB3aW5kb3cubmF2aWdhdG9yLmxhbmd1YWdlO1xuICAgIH1cbiAgICBsb2dnZXIuZGVidWcodGhpcy5fbGFuZyk7XG4gIH1cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogRXhwbGljaXRseSBzZXR0aW5nIGxhbmd1YWdlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBsYW5nXG4gICAqL1xuICBzZXRMYW5ndWFnZShsYW5nKSB7XG4gICAgdGhpcy5fbGFuZyA9IGxhbmc7XG4gIH1cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogR2V0IHZhbHVlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICogQHBhcmFtIHtTdHJpbmd9IGRlZlZhbCAtIERlZmF1bHQgdmFsdWVcbiAgICovXG4gIGdldChrZXksIGRlZlZhbCA9IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuc2V0RGVmYXVsdExhbmd1YWdlKCk7XG4gICAgaWYgKCF0aGlzLl9sYW5nKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGRlZlZhbCAhPT0gJ3VuZGVmaW5lZCcgPyBkZWZWYWwgOiBrZXk7XG4gICAgfVxuICAgIGNvbnN0IGxhbmcgPSB0aGlzLl9sYW5nO1xuICAgIGxldCB2YWwgPSB0aGlzLmdldEJ5TGFuZ3VhZ2Uoa2V5LCBsYW5nKTtcbiAgICBpZiAodmFsKSB7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICBpZiAobGFuZy5pbmRleE9mKCctJykgPiAwKSB7XG4gICAgICB2YWwgPSB0aGlzLmdldEJ5TGFuZ3VhZ2Uoa2V5LCBsYW5nLnNwbGl0KCctJylbMF0pO1xuICAgIH1cbiAgICBpZiAodmFsKSB7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZW9mIGRlZlZhbCAhPT0gJ3VuZGVmaW5lZCcgPyBkZWZWYWwgOiBrZXk7XG4gIH1cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogR2V0IHZhbHVlIGFjY29yZGluZyB0byBzcGVjaWZpZWQgbGFuZ3VhZ2VcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbGFuZ3VhZ2UgLSBTcGVjaWZpZWQgbGFuZ3VyYWdlIHRvIGJlIHVzZWRcbiAgICogQHBhcmFtIHtTdHJpbmd9IGRlZlZhbCAtIERlZmF1bHQgdmFsdWVcbiAgICovXG4gIGdldEJ5TGFuZ3VhZ2Uoa2V5LCBsYW5ndWFnZSwgZGVmVmFsID0gbnVsbCkge1xuICAgIGlmICghbGFuZ3VhZ2UpIHtcbiAgICAgIHJldHVybiBkZWZWYWw7XG4gICAgfVxuICAgIGNvbnN0IGxhbmdEaWN0ID0gdGhpcy5fZGljdFtsYW5ndWFnZV07XG4gICAgaWYgKCFsYW5nRGljdCkge1xuICAgICAgcmV0dXJuIGRlZlZhbDtcbiAgICB9XG4gICAgcmV0dXJuIGxhbmdEaWN0W2tleV07XG4gIH1cbiAgLyoqXG4gICAqIEBtZXRob2RcbiAgICogQWRkIHZvY2FidWxhcmllcyBmb3Igb25lIGxhbmd1YWdlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBsYW5ndWFnZSAtIExhbmd1YWdlIG9mIHRoZSBkaWN0aW9uYXJ5XG4gICAqIEBwYXJhbSB7T2JqZWN0fSB2b2NhYnVsYXJpZXMgLSBPYmplY3QgdGhhdCBoYXMga2V5LXZhbHVlIGFzIGRpY3Rpb25hcnkgZW50cnlcbiAgICovXG4gIHB1dFZvY2FidWxhcmllc0Zvckxhbmd1YWdlKGxhbmd1YWdlLCB2b2NhYnVsYXJpZXMpIHtcbiAgICBsZXQgbGFuZ0RpY3QgPSB0aGlzLl9kaWN0W2xhbmd1YWdlXTtcbiAgICBpZiAoIWxhbmdEaWN0KSB7XG4gICAgICBsYW5nRGljdCA9IHRoaXMuX2RpY3RbbGFuZ3VhZ2VdID0ge307XG4gICAgfVxuICAgIHRoaXMuX2RpY3RbbGFuZ3VhZ2VdID0ge1xuICAgICAgLi4ubGFuZ0RpY3QsXG4gICAgICAuLi52b2NhYnVsYXJpZXNcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBAbWV0aG9kXG4gICAqIEFkZCB2b2NhYnVsYXJpZXMgZm9yIG9uZSBsYW5ndWFnZVxuICAgKiBAcGFyYW0ge09iamVjdH0gdm9jYWJ1bGFyaWVzIC0gT2JqZWN0IHRoYXQgaGFzIGxhbmd1YWdlIGFzIGtleSxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvY2FidWxhcmllcyBvZiBlYWNoIGxhbmd1YWdlIGFzIHZhbHVlXG4gICAqL1xuICBwdXRWb2NhYnVsYXJpZXModm9jYWJ1bGFyaWVzKSB7XG4gICAgT2JqZWN0LmtleXModm9jYWJ1bGFyaWVzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICB0aGlzLnB1dFZvY2FidWxhcmllc0Zvckxhbmd1YWdlKGtleSwgdm9jYWJ1bGFyaWVzW2tleV0pO1xuICAgIH0pO1xuICB9XG59O1xuZXhwb3J0IHsgSTE4biQxIGFzIEkxOG4gfTtcbiIsImltcG9ydCB7IGNyZWF0ZUFzc2VydGlvbkZ1bmN0aW9uIH0gZnJvbSAnLi4vZXJyb3JzL2NyZWF0ZUFzc2VydGlvbkZ1bmN0aW9uLm1qcyc7XG5pbXBvcnQgJy4uL3R5cGVzL2Vycm9ycy5tanMnO1xuaW1wb3J0ICcuLi9lcnJvcnMvZXJyb3JIZWxwZXJzLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbnZhciBJMThuRXJyb3JDb2RlO1xuKGZ1bmN0aW9uIChJMThuRXJyb3JDb2RlKSB7XG4gIEkxOG5FcnJvckNvZGVbXCJOb3RDb25maWd1cmVkXCJdID0gXCJOb3RDb25maWd1cmVkXCI7XG59KShJMThuRXJyb3JDb2RlIHx8IChJMThuRXJyb3JDb2RlID0ge30pKTtcbmNvbnN0IGkxOG5FcnJvck1hcCA9IHtcbiAgW0kxOG5FcnJvckNvZGUuTm90Q29uZmlndXJlZF06IHtcbiAgICBtZXNzYWdlOiAnaTE4biBpcyBub3QgY29uZmlndXJlZC4nXG4gIH1cbn07XG5jb25zdCBhc3NlcnQgPSBjcmVhdGVBc3NlcnRpb25GdW5jdGlvbihpMThuRXJyb3JNYXApO1xuZXhwb3J0IHsgSTE4bkVycm9yQ29kZSwgYXNzZXJ0IH07XG4iLCJpbXBvcnQgeyBDb25zb2xlTG9nZ2VyIH0gZnJvbSAnLi4vTG9nZ2VyL0NvbnNvbGVMb2dnZXIubWpzJztcbmltcG9ydCB7IEkxOG4gYXMgSTE4biQxIH0gZnJvbSAnLi9JMThuLm1qcyc7XG5pbXBvcnQgeyBhc3NlcnQsIEkxOG5FcnJvckNvZGUgfSBmcm9tICcuL2Vycm9ySGVscGVycy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBsb2dnZXIgPSBuZXcgQ29uc29sZUxvZ2dlcignSTE4bicpO1xubGV0IF9jb25maWcgPSB7XG4gIGxhbmd1YWdlOiBudWxsXG59O1xubGV0IF9pMThuID0gbnVsbDtcbi8qKlxuICogRXhwb3J0IEkxOG4gQVBJc1xuICovXG5jbGFzcyBJMThuIHtcbiAgLyoqXG4gICAqIEBzdGF0aWNcbiAgICogQG1ldGhvZFxuICAgKiBDb25maWd1cmUgSTE4biBwYXJ0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgLSBDb25maWd1cmF0aW9uIG9mIHRoZSBJMThuXG4gICAqL1xuICBzdGF0aWMgY29uZmlndXJlKGNvbmZpZykge1xuICAgIGxvZ2dlci5kZWJ1ZygnY29uZmlndXJlIEkxOG4nKTtcbiAgICBpZiAoIWNvbmZpZykge1xuICAgICAgcmV0dXJuIF9jb25maWc7XG4gICAgfVxuICAgIF9jb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCBfY29uZmlnLCBjb25maWcuSTE4biB8fCBjb25maWcpO1xuICAgIEkxOG4uY3JlYXRlSW5zdGFuY2UoKTtcbiAgICByZXR1cm4gX2NvbmZpZztcbiAgfVxuICBzdGF0aWMgZ2V0TW9kdWxlTmFtZSgpIHtcbiAgICByZXR1cm4gJ0kxOG4nO1xuICB9XG4gIC8qKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZXRob2RcbiAgICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIEkxOG4gZm9yIHRoZSBsaWJyYXJ5XG4gICAqL1xuICBzdGF0aWMgY3JlYXRlSW5zdGFuY2UoKSB7XG4gICAgbG9nZ2VyLmRlYnVnKCdjcmVhdGUgSTE4biBpbnN0YW5jZScpO1xuICAgIGlmIChfaTE4bikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBfaTE4biA9IG5ldyBJMThuJDEoKTtcbiAgfVxuICAvKipcbiAgICogQHN0YXRpYyBAbWV0aG9kXG4gICAqIEV4cGxpY2l0bHkgc2V0dGluZyBsYW5ndWFnZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbGFuZ1xuICAgKi9cbiAgc3RhdGljIHNldExhbmd1YWdlKGxhbmcpIHtcbiAgICBJMThuLmNoZWNrQ29uZmlnKCk7XG4gICAgYXNzZXJ0KCEhX2kxOG4sIEkxOG5FcnJvckNvZGUuTm90Q29uZmlndXJlZCk7XG4gICAgX2kxOG4uc2V0TGFuZ3VhZ2UobGFuZyk7XG4gIH1cbiAgLyoqXG4gICAqIEBzdGF0aWMgQG1ldGhvZFxuICAgKiBHZXQgdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge1N0cmluZ30gZGVmVmFsIC0gRGVmYXVsdCB2YWx1ZVxuICAgKi9cbiAgc3RhdGljIGdldChrZXksIGRlZlZhbCkge1xuICAgIGlmICghSTE4bi5jaGVja0NvbmZpZygpKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGRlZlZhbCA9PT0gJ3VuZGVmaW5lZCcgPyBrZXkgOiBkZWZWYWw7XG4gICAgfVxuICAgIGFzc2VydCghIV9pMThuLCBJMThuRXJyb3JDb2RlLk5vdENvbmZpZ3VyZWQpO1xuICAgIHJldHVybiBfaTE4bi5nZXQoa2V5LCBkZWZWYWwpO1xuICB9XG4gIC8qKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZXRob2RcbiAgICogQWRkIHZvY2FidWxhcmllcyBmb3Igb25lIGxhbmd1YWdlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBsYW5ndWFnZSAtIExhbmd1YWdlIG9mIHRoZSBkaWN0aW9uYXJ5XG4gICAqIEBwYXJhbSB7T2JqZWN0fSB2b2NhYnVsYXJpZXMgLSBPYmplY3QgdGhhdCBoYXMga2V5LXZhbHVlIGFzIGRpY3Rpb25hcnkgZW50cnlcbiAgICovXG4gIHN0YXRpYyBwdXRWb2NhYnVsYXJpZXNGb3JMYW5ndWFnZShsYW5ndWFnZSwgdm9jYWJ1bGFyaWVzKSB7XG4gICAgSTE4bi5jaGVja0NvbmZpZygpO1xuICAgIGFzc2VydCghIV9pMThuLCBJMThuRXJyb3JDb2RlLk5vdENvbmZpZ3VyZWQpO1xuICAgIF9pMThuLnB1dFZvY2FidWxhcmllc0Zvckxhbmd1YWdlKGxhbmd1YWdlLCB2b2NhYnVsYXJpZXMpO1xuICB9XG4gIC8qKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZXRob2RcbiAgICogQWRkIHZvY2FidWxhcmllcyBmb3Igb25lIGxhbmd1YWdlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB2b2NhYnVsYXJpZXMgLSBPYmplY3QgdGhhdCBoYXMgbGFuZ3VhZ2UgYXMga2V5LFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9jYWJ1bGFyaWVzIG9mIGVhY2ggbGFuZ3VhZ2UgYXMgdmFsdWVcbiAgICovXG4gIHN0YXRpYyBwdXRWb2NhYnVsYXJpZXModm9jYWJ1bGFyaWVzKSB7XG4gICAgSTE4bi5jaGVja0NvbmZpZygpO1xuICAgIGFzc2VydCghIV9pMThuLCBJMThuRXJyb3JDb2RlLk5vdENvbmZpZ3VyZWQpO1xuICAgIF9pMThuLnB1dFZvY2FidWxhcmllcyh2b2NhYnVsYXJpZXMpO1xuICB9XG4gIHN0YXRpYyBjaGVja0NvbmZpZygpIHtcbiAgICBpZiAoIV9pMThuKSB7XG4gICAgICBJMThuLmNyZWF0ZUluc3RhbmNlKCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG4vLyBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgSTE4biBpbiB0aGUgc3RhdGljIGNsYXNzXG5JMThuLmNyZWF0ZUluc3RhbmNlKCk7XG5leHBvcnQgeyBJMThuIH07XG4iLCIvLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5mdW5jdGlvbiB1cmxTYWZlRGVjb2RlKGhleCkge1xuICBjb25zdCBtYXRjaEFyciA9IGhleC5tYXRjaCgvLnsyfS9nKSB8fCBbXTtcbiAgcmV0dXJuIG1hdGNoQXJyLm1hcChjaGFyID0+IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoY2hhciwgMTYpKSkuam9pbignJyk7XG59XG5leHBvcnQgeyB1cmxTYWZlRGVjb2RlIH07XG4iLCIvLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIHJldHVybnMgaW4tZmxpZ2h0IHByb21pc2UgaWYgdGhlcmUgaXMgb25lXG4gKlxuICogQHBhcmFtIGFzeW5jRnVuY3Rpb24gLSBhc3luY0Z1bmN0aW9uIHRvIGJlIGRlZHVwZWQuXG4gKiBAcmV0dXJucyAtIHRoZSByZXR1cm4gdHlwZSBvZiB0aGUgY2FsbGJhY2tcbiAqL1xuY29uc3QgZGVEdXBlQXN5bmNGdW5jdGlvbiA9IGFzeW5jRnVuY3Rpb24gPT4ge1xuICBsZXQgaW5mbGlnaHRQcm9taXNlO1xuICByZXR1cm4gYXN5bmMgKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAoaW5mbGlnaHRQcm9taXNlKSByZXR1cm4gaW5mbGlnaHRQcm9taXNlO1xuICAgIGluZmxpZ2h0UHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGFzeW5jRnVuY3Rpb24oLi4uYXJncykudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICB9KS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9KS5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgaW5mbGlnaHRQcm9taXNlID0gdW5kZWZpbmVkO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGluZmxpZ2h0UHJvbWlzZTtcbiAgfTtcbn07XG5leHBvcnQgeyBkZUR1cGVBc3luY0Z1bmN0aW9uIH07XG4iLCIvLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5mdW5jdGlvbiBpc1Rva2VuRXhwaXJlZCh7XG4gIGV4cGlyZXNBdCxcbiAgY2xvY2tEcmlmdCxcbiAgdG9sZXJhbmNlID0gNTAwMFxufSkge1xuICBjb25zdCBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG4gIHJldHVybiBjdXJyZW50VGltZSArIGNsb2NrRHJpZnQgKyB0b2xlcmFuY2UgPiBleHBpcmVzQXQ7XG59XG5leHBvcnQgeyBpc1Rva2VuRXhwaXJlZCB9O1xuIiwiLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGRldmljZSBuYW1lIHVzaW5nIHRoZSBVc2VyLUFnZW50IENsaWVudCBIaW50cyBBUEkgaWYgYXZhaWxhYmxlLFxuICogZmFsbGluZyBiYWNrIHRvIHRoZSB0cmFkaXRpb25hbCB1c2VyQWdlbnQgc3RyaW5nIGlmIG5vdC5cbiAqXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZGV2aWNlIG5hbWUuXG4gKlxuICogRXhhbXBsZSBPdXRwdXQ6XG4gKiBuYXZpZ2F0b3IudXNlckFnZW50RGF0YTpcbiAqICAgJ21hY09TIDE0LjIuMSBhcm0gbWFjT1MgTm90IEEoQnJhbmQvOTkuMC4wLjA7R29vZ2xlIENocm9tZS8xMjEuMC42MTY3LjE2MDtDaHJvbWl1bS8xMjEuMC42MTY3LjE2MCdcbiAqIG5hdmlnYXRvci51c2VyQWdlbnQ6XG4gKiAgICdNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWCAxMC4xNTsgcnY6MTA5LjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvMTE1LjAnXG4gKi9cbmNvbnN0IGdldERldmljZU5hbWUgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHtcbiAgICB1c2VyQWdlbnREYXRhXG4gIH0gPSBuYXZpZ2F0b3I7XG4gIGlmICghdXNlckFnZW50RGF0YSkgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gIGNvbnN0IHtcbiAgICBwbGF0Zm9ybSA9ICcnLFxuICAgIHBsYXRmb3JtVmVyc2lvbiA9ICcnLFxuICAgIG1vZGVsID0gJycsXG4gICAgYXJjaGl0ZWN0dXJlID0gJycsXG4gICAgZnVsbFZlcnNpb25MaXN0ID0gW11cbiAgfSA9IGF3YWl0IHVzZXJBZ2VudERhdGEuZ2V0SGlnaEVudHJvcHlWYWx1ZXMoWydwbGF0Zm9ybScsICdwbGF0Zm9ybVZlcnNpb24nLCAnYXJjaGl0ZWN0dXJlJywgJ21vZGVsJywgJ2Z1bGxWZXJzaW9uTGlzdCddKTtcbiAgY29uc3QgdmVyc2lvbkxpc3QgPSBmdWxsVmVyc2lvbkxpc3QubWFwKHYgPT4gYCR7di5icmFuZH0vJHt2LnZlcnNpb259YCkuam9pbignOycpO1xuICBjb25zdCBkZXZpY2VOYW1lID0gW3BsYXRmb3JtLCBwbGF0Zm9ybVZlcnNpb24sIGFyY2hpdGVjdHVyZSwgbW9kZWwsIHBsYXRmb3JtLCB2ZXJzaW9uTGlzdF0uZmlsdGVyKHZhbHVlID0+IHZhbHVlKS5qb2luKCcgJyk7XG4gIHJldHVybiBkZXZpY2VOYW1lIHx8IG5hdmlnYXRvci51c2VyQWdlbnQ7XG59O1xuZXhwb3J0IHsgZ2V0RGV2aWNlTmFtZSB9O1xuIiwiLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuZnVuY3Rpb24gYnl0ZXNUb1N0cmluZyhpbnB1dCkge1xuICByZXR1cm4gQXJyYXkuZnJvbShpbnB1dCwgYnl0ZSA9PiBTdHJpbmcuZnJvbUNvZGVQb2ludChieXRlKSkuam9pbignJyk7XG59XG5leHBvcnQgeyBieXRlc1RvU3RyaW5nIH07XG4iLCJpbXBvcnQgeyBnZXRCdG9hIH0gZnJvbSAnLi4vLi4vZ2xvYmFsSGVscGVycy9pbmRleC5tanMnO1xuaW1wb3J0IHsgYnl0ZXNUb1N0cmluZyB9IGZyb20gJy4vYnl0ZXNUb1N0cmluZy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBiYXNlNjRFbmNvZGVyID0ge1xuICAvKipcbiAgICogQ29udmVydCBpbnB1dCB0byBiYXNlNjQtZW5jb2RlZCBzdHJpbmdcbiAgICogQHBhcmFtIGlucHV0IC0gc3RyaW5nIHRvIGNvbnZlcnQgdG8gYmFzZTY0XG4gICAqIEBwYXJhbSBvcHRpb25zIC0gZW5jb2Rpbmcgb3B0aW9ucyB0aGF0IGNhbiBvcHRpb25hbGx5IHByb2R1Y2UgYSBiYXNlNjR1cmwgc3RyaW5nXG4gICAqIEByZXR1cm5zIGJhc2U2NC1lbmNvZGVkIHN0cmluZ1xuICAgKi9cbiAgY29udmVydChpbnB1dCwgb3B0aW9ucyA9IHtcbiAgICB1cmxTYWZlOiBmYWxzZSxcbiAgICBza2lwUGFkZGluZzogZmFsc2VcbiAgfSkge1xuICAgIGNvbnN0IGlucHV0U3RyID0gdHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyA/IGlucHV0IDogYnl0ZXNUb1N0cmluZyhpbnB1dCk7XG4gICAgbGV0IGVuY29kZWRTdHIgPSBnZXRCdG9hKCkoaW5wdXRTdHIpO1xuICAgIC8vIHVybFNhZmUgY2hhciByZXBsYWNlbWVudCBhbmQgc2tpcFBhZGRpbmcgb3B0aW9ucyBjb25mb3JtIHRvIHRoZSBiYXNlNjR1cmwgc3BlY1xuICAgIC8vIGh0dHBzOi8vZGF0YXRyYWNrZXIuaWV0Zi5vcmcvZG9jL2h0bWwvcmZjNDY0OCNzZWN0aW9uLTVcbiAgICBpZiAob3B0aW9ucy51cmxTYWZlKSB7XG4gICAgICBlbmNvZGVkU3RyID0gZW5jb2RlZFN0ci5yZXBsYWNlKC9cXCsvZywgJy0nKS5yZXBsYWNlKC9cXC8vZywgJ18nKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuc2tpcFBhZGRpbmcpIHtcbiAgICAgIGVuY29kZWRTdHIgPSBlbmNvZGVkU3RyLnJlcGxhY2UoLz0vZywgJycpO1xuICAgIH1cbiAgICByZXR1cm4gZW5jb2RlZFN0cjtcbiAgfVxufTtcbmV4cG9ydCB7IGJhc2U2NEVuY29kZXIgfTtcbiIsImltcG9ydCB7IGdldENyeXB0byB9IGZyb20gJy4vZ2xvYmFsSGVscGVycy9pbmRleC5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKlxuICogQ3J5cHRvZ3JhcGhpY2FsbHkgc2VjdXJlIHBzZXVkb3JhbmRvbSBudW1iZXIgZ2VuZXJhdG9yXG4gKiBBcyBNYXRoLnJhbmRvbSgpIGlzIGNyeXB0b2dyYXBoaWNhbGx5IG5vdCBzYWZlIHRvIHVzZVxuICovXG5mdW5jdGlvbiBjcnlwdG9TZWN1cmVSYW5kb21JbnQoKSB7XG4gIGNvbnN0IGNyeXB0byA9IGdldENyeXB0bygpO1xuICBjb25zdCByYW5kb21SZXN1bHQgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50MzJBcnJheSgxKSlbMF07XG4gIHJldHVybiByYW5kb21SZXN1bHQ7XG59XG5leHBvcnQgeyBjcnlwdG9TZWN1cmVSYW5kb21JbnQgfTtcbiIsImltcG9ydCB7IGNyeXB0b1NlY3VyZVJhbmRvbUludCB9IGZyb20gJy4vY3J5cHRvU2VjdXJlUmFuZG9tSW50Lm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8qKlxuICogSGV4IGVuY29kaW5nIHN0cmF0ZWd5LlxuICogQ29udmVydHMgYSB3b3JkIGFycmF5IHRvIGEgaGV4IHN0cmluZy5cbiAqIEBwYXJhbSB7V29yZEFycmF5fSB3b3JkQXJyYXkgVGhlIHdvcmQgYXJyYXkuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBoZXggc3RyaW5nLlxuICogQHN0YXRpY1xuICovXG5mdW5jdGlvbiBoZXhTdHJpbmdpZnkod29yZEFycmF5KSB7XG4gIC8vIFNob3J0Y3V0c1xuICBjb25zdCB7XG4gICAgd29yZHNcbiAgfSA9IHdvcmRBcnJheTtcbiAgY29uc3Qge1xuICAgIHNpZ0J5dGVzXG4gIH0gPSB3b3JkQXJyYXk7XG4gIC8vIENvbnZlcnRcbiAgY29uc3QgaGV4Q2hhcnMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaWdCeXRlczsgaSsrKSB7XG4gICAgY29uc3QgYml0ZSA9IHdvcmRzW2kgPj4+IDJdID4+PiAyNCAtIGkgJSA0ICogOCAmIDB4ZmY7XG4gICAgaGV4Q2hhcnMucHVzaCgoYml0ZSA+Pj4gNCkudG9TdHJpbmcoMTYpKTtcbiAgICBoZXhDaGFycy5wdXNoKChiaXRlICYgMHgwZikudG9TdHJpbmcoMTYpKTtcbiAgfVxuICByZXR1cm4gaGV4Q2hhcnMuam9pbignJyk7XG59XG5jbGFzcyBXb3JkQXJyYXkge1xuICBjb25zdHJ1Y3Rvcih3b3Jkcywgc2lnQnl0ZXMpIHtcbiAgICB0aGlzLndvcmRzID0gW107XG4gICAgbGV0IFdvcmRzID0gd29yZHM7XG4gICAgV29yZHMgPSB0aGlzLndvcmRzID0gV29yZHMgfHwgW107XG4gICAgaWYgKHNpZ0J5dGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2lnQnl0ZXMgPSBzaWdCeXRlcztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zaWdCeXRlcyA9IFdvcmRzLmxlbmd0aCAqIDQ7XG4gICAgfVxuICB9XG4gIHJhbmRvbShuQnl0ZXMpIHtcbiAgICBjb25zdCB3b3JkcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbkJ5dGVzOyBpICs9IDQpIHtcbiAgICAgIHdvcmRzLnB1c2goY3J5cHRvU2VjdXJlUmFuZG9tSW50KCkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFdvcmRBcnJheSh3b3JkcywgbkJ5dGVzKTtcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gaGV4U3RyaW5naWZ5KHRoaXMpO1xuICB9XG59XG5leHBvcnQgeyBXb3JkQXJyYXkgfTtcbiIsIi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbnZhciBBdXRoVmFsaWRhdGlvbkVycm9yQ29kZTtcbihmdW5jdGlvbiAoQXV0aFZhbGlkYXRpb25FcnJvckNvZGUpIHtcbiAgQXV0aFZhbGlkYXRpb25FcnJvckNvZGVbXCJFbXB0eVNpZ25JblVzZXJuYW1lXCJdID0gXCJFbXB0eVNpZ25JblVzZXJuYW1lXCI7XG4gIEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlW1wiRW1wdHlTaWduSW5QYXNzd29yZFwiXSA9IFwiRW1wdHlTaWduSW5QYXNzd29yZFwiO1xuICBBdXRoVmFsaWRhdGlvbkVycm9yQ29kZVtcIkN1c3RvbUF1dGhTaWduSW5QYXNzd29yZFwiXSA9IFwiQ3VzdG9tQXV0aFNpZ25JblBhc3N3b3JkXCI7XG4gIEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlW1wiRW1wdHlTaWduVXBVc2VybmFtZVwiXSA9IFwiRW1wdHlTaWduVXBVc2VybmFtZVwiO1xuICBBdXRoVmFsaWRhdGlvbkVycm9yQ29kZVtcIkVtcHR5U2lnblVwUGFzc3dvcmRcIl0gPSBcIkVtcHR5U2lnblVwUGFzc3dvcmRcIjtcbiAgQXV0aFZhbGlkYXRpb25FcnJvckNvZGVbXCJFbXB0eUNvbmZpcm1TaWduVXBVc2VybmFtZVwiXSA9IFwiRW1wdHlDb25maXJtU2lnblVwVXNlcm5hbWVcIjtcbiAgQXV0aFZhbGlkYXRpb25FcnJvckNvZGVbXCJFbXB0eUNvbmZpcm1TaWduVXBDb2RlXCJdID0gXCJFbXB0eUNvbmZpcm1TaWduVXBDb2RlXCI7XG4gIEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlW1wiRW1wdHlSZXNlbmRTaWduVXBDb2RlVXNlcm5hbWVcIl0gPSBcIkVtcHR5cmVzZW5kU2lnblVwQ29kZVVzZXJuYW1lXCI7XG4gIEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlW1wiRW1wdHlDaGFsbGVuZ2VSZXNwb25zZVwiXSA9IFwiRW1wdHlDaGFsbGVuZ2VSZXNwb25zZVwiO1xuICBBdXRoVmFsaWRhdGlvbkVycm9yQ29kZVtcIkVtcHR5Q29uZmlybVJlc2V0UGFzc3dvcmRVc2VybmFtZVwiXSA9IFwiRW1wdHlDb25maXJtUmVzZXRQYXNzd29yZFVzZXJuYW1lXCI7XG4gIEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlW1wiRW1wdHlDb25maXJtUmVzZXRQYXNzd29yZE5ld1Bhc3N3b3JkXCJdID0gXCJFbXB0eUNvbmZpcm1SZXNldFBhc3N3b3JkTmV3UGFzc3dvcmRcIjtcbiAgQXV0aFZhbGlkYXRpb25FcnJvckNvZGVbXCJFbXB0eUNvbmZpcm1SZXNldFBhc3N3b3JkQ29uZmlybWF0aW9uQ29kZVwiXSA9IFwiRW1wdHlDb25maXJtUmVzZXRQYXNzd29yZENvbmZpcm1hdGlvbkNvZGVcIjtcbiAgQXV0aFZhbGlkYXRpb25FcnJvckNvZGVbXCJFbXB0eVJlc2V0UGFzc3dvcmRVc2VybmFtZVwiXSA9IFwiRW1wdHlSZXNldFBhc3N3b3JkVXNlcm5hbWVcIjtcbiAgQXV0aFZhbGlkYXRpb25FcnJvckNvZGVbXCJFbXB0eVZlcmlmeVRPVFBTZXR1cENvZGVcIl0gPSBcIkVtcHR5VmVyaWZ5VE9UUFNldHVwQ29kZVwiO1xuICBBdXRoVmFsaWRhdGlvbkVycm9yQ29kZVtcIkVtcHR5Q29uZmlybVVzZXJBdHRyaWJ1dGVDb2RlXCJdID0gXCJFbXB0eUNvbmZpcm1Vc2VyQXR0cmlidXRlQ29kZVwiO1xuICBBdXRoVmFsaWRhdGlvbkVycm9yQ29kZVtcIkluY29ycmVjdE1GQU1ldGhvZFwiXSA9IFwiSW5jb3JyZWN0TUZBTWV0aG9kXCI7XG4gIEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlW1wiRW1wdHlVcGRhdGVQYXNzd29yZFwiXSA9IFwiRW1wdHlVcGRhdGVQYXNzd29yZFwiO1xufSkoQXV0aFZhbGlkYXRpb25FcnJvckNvZGUgfHwgKEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlID0ge30pKTtcbmV4cG9ydCB7IEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlIH07XG4iLCJpbXBvcnQgeyBBdXRoVmFsaWRhdGlvbkVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycy90eXBlcy92YWxpZGF0aW9uLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IHZhbGlkYXRpb25FcnJvck1hcCA9IHtcbiAgW0F1dGhWYWxpZGF0aW9uRXJyb3JDb2RlLkVtcHR5Q2hhbGxlbmdlUmVzcG9uc2VdOiB7XG4gICAgbWVzc2FnZTogJ2NoYWxsZW5nZVJlc3BvbnNlIGlzIHJlcXVpcmVkIHRvIGNvbmZpcm1TaWduSW4nXG4gIH0sXG4gIFtBdXRoVmFsaWRhdGlvbkVycm9yQ29kZS5FbXB0eUNvbmZpcm1SZXNldFBhc3N3b3JkVXNlcm5hbWVdOiB7XG4gICAgbWVzc2FnZTogJ3VzZXJuYW1lIGlzIHJlcXVpcmVkIHRvIGNvbmZpcm1SZXNldFBhc3N3b3JkJ1xuICB9LFxuICBbQXV0aFZhbGlkYXRpb25FcnJvckNvZGUuRW1wdHlDb25maXJtU2lnblVwQ29kZV06IHtcbiAgICBtZXNzYWdlOiAnY29kZSBpcyByZXF1aXJlZCB0byBjb25maXJtU2lnblVwJ1xuICB9LFxuICBbQXV0aFZhbGlkYXRpb25FcnJvckNvZGUuRW1wdHlDb25maXJtU2lnblVwVXNlcm5hbWVdOiB7XG4gICAgbWVzc2FnZTogJ3VzZXJuYW1lIGlzIHJlcXVpcmVkIHRvIGNvbmZpcm1TaWduVXAnXG4gIH0sXG4gIFtBdXRoVmFsaWRhdGlvbkVycm9yQ29kZS5FbXB0eUNvbmZpcm1SZXNldFBhc3N3b3JkQ29uZmlybWF0aW9uQ29kZV06IHtcbiAgICBtZXNzYWdlOiAnY29uZmlybWF0aW9uQ29kZSBpcyByZXF1aXJlZCB0byBjb25maXJtUmVzZXRQYXNzd29yZCdcbiAgfSxcbiAgW0F1dGhWYWxpZGF0aW9uRXJyb3JDb2RlLkVtcHR5Q29uZmlybVJlc2V0UGFzc3dvcmROZXdQYXNzd29yZF06IHtcbiAgICBtZXNzYWdlOiAnbmV3UGFzc3dvcmQgaXMgcmVxdWlyZWQgdG8gY29uZmlybVJlc2V0UGFzc3dvcmQnXG4gIH0sXG4gIFtBdXRoVmFsaWRhdGlvbkVycm9yQ29kZS5FbXB0eVJlc2VuZFNpZ25VcENvZGVVc2VybmFtZV06IHtcbiAgICBtZXNzYWdlOiAndXNlcm5hbWUgaXMgcmVxdWlyZWQgdG8gY29uZmlybVNpZ25VcCdcbiAgfSxcbiAgW0F1dGhWYWxpZGF0aW9uRXJyb3JDb2RlLkVtcHR5UmVzZXRQYXNzd29yZFVzZXJuYW1lXToge1xuICAgIG1lc3NhZ2U6ICd1c2VybmFtZSBpcyByZXF1aXJlZCB0byByZXNldFBhc3N3b3JkJ1xuICB9LFxuICBbQXV0aFZhbGlkYXRpb25FcnJvckNvZGUuRW1wdHlTaWduSW5QYXNzd29yZF06IHtcbiAgICBtZXNzYWdlOiAncGFzc3dvcmQgaXMgcmVxdWlyZWQgdG8gc2lnbkluJ1xuICB9LFxuICBbQXV0aFZhbGlkYXRpb25FcnJvckNvZGUuRW1wdHlTaWduSW5Vc2VybmFtZV06IHtcbiAgICBtZXNzYWdlOiAndXNlcm5hbWUgaXMgcmVxdWlyZWQgdG8gc2lnbkluJ1xuICB9LFxuICBbQXV0aFZhbGlkYXRpb25FcnJvckNvZGUuRW1wdHlTaWduVXBQYXNzd29yZF06IHtcbiAgICBtZXNzYWdlOiAncGFzc3dvcmQgaXMgcmVxdWlyZWQgdG8gc2lnblVwJ1xuICB9LFxuICBbQXV0aFZhbGlkYXRpb25FcnJvckNvZGUuRW1wdHlTaWduVXBVc2VybmFtZV06IHtcbiAgICBtZXNzYWdlOiAndXNlcm5hbWUgaXMgcmVxdWlyZWQgdG8gc2lnblVwJ1xuICB9LFxuICBbQXV0aFZhbGlkYXRpb25FcnJvckNvZGUuQ3VzdG9tQXV0aFNpZ25JblBhc3N3b3JkXToge1xuICAgIG1lc3NhZ2U6ICdBIHBhc3N3b3JkIGlzIG5vdCBuZWVkZWQgd2hlbiBzaWduaW5nIGluIHdpdGggQ1VTVE9NX1dJVEhPVVRfU1JQJyxcbiAgICByZWNvdmVyeVN1Z2dlc3Rpb246ICdEbyBub3QgaW5jbHVkZSBhIHBhc3N3b3JkIGluIHlvdXIgc2lnbkluIGNhbGwuJ1xuICB9LFxuICBbQXV0aFZhbGlkYXRpb25FcnJvckNvZGUuSW5jb3JyZWN0TUZBTWV0aG9kXToge1xuICAgIG1lc3NhZ2U6ICdJbmNvcnJlY3QgTUZBIG1ldGhvZCB3YXMgY2hvc2VuLiBJdCBzaG91bGQgYmUgZWl0aGVyIFNNUywgVE9UUCwgb3IgRU1BSUwnLFxuICAgIHJlY292ZXJ5U3VnZ2VzdGlvbjogJ1RyeSB0byBwYXNzIFNNUywgVE9UUCwgb3IgRU1BSUwgYXMgdGhlIGNoYWxsZW5nZVJlc3BvbnNlJ1xuICB9LFxuICBbQXV0aFZhbGlkYXRpb25FcnJvckNvZGUuRW1wdHlWZXJpZnlUT1RQU2V0dXBDb2RlXToge1xuICAgIG1lc3NhZ2U6ICdjb2RlIGlzIHJlcXVpcmVkIHRvIHZlcmlmeVRvdHBTZXR1cCdcbiAgfSxcbiAgW0F1dGhWYWxpZGF0aW9uRXJyb3JDb2RlLkVtcHR5VXBkYXRlUGFzc3dvcmRdOiB7XG4gICAgbWVzc2FnZTogJ29sZFBhc3N3b3JkIGFuZCBuZXdQYXNzd29yZCBhcmUgcmVxdWlyZWQgdG8gY2hhbmdlUGFzc3dvcmQnXG4gIH0sXG4gIFtBdXRoVmFsaWRhdGlvbkVycm9yQ29kZS5FbXB0eUNvbmZpcm1Vc2VyQXR0cmlidXRlQ29kZV06IHtcbiAgICBtZXNzYWdlOiAnY29uZmlybWF0aW9uIGNvZGUgaXMgcmVxdWlyZWQgdG8gY29uZmlybVVzZXJBdHRyaWJ1dGUnXG4gIH1cbn07XG4vLyBUT0RPOiBkZWxldGUgdGhpcyBjb2RlIHdoZW4gdGhlIEF1dGggY2xhc3MgaXMgcmVtb3ZlZC5cbnZhciBBdXRoRXJyb3JTdHJpbmdzO1xuKGZ1bmN0aW9uIChBdXRoRXJyb3JTdHJpbmdzKSB7XG4gIEF1dGhFcnJvclN0cmluZ3NbXCJERUZBVUxUX01TR1wiXSA9IFwiQXV0aGVudGljYXRpb24gRXJyb3JcIjtcbiAgQXV0aEVycm9yU3RyaW5nc1tcIkVNUFRZX0VNQUlMXCJdID0gXCJFbWFpbCBjYW5ub3QgYmUgZW1wdHlcIjtcbiAgQXV0aEVycm9yU3RyaW5nc1tcIkVNUFRZX1BIT05FXCJdID0gXCJQaG9uZSBudW1iZXIgY2Fubm90IGJlIGVtcHR5XCI7XG4gIEF1dGhFcnJvclN0cmluZ3NbXCJFTVBUWV9VU0VSTkFNRVwiXSA9IFwiVXNlcm5hbWUgY2Fubm90IGJlIGVtcHR5XCI7XG4gIEF1dGhFcnJvclN0cmluZ3NbXCJJTlZBTElEX1VTRVJOQU1FXCJdID0gXCJUaGUgdXNlcm5hbWUgc2hvdWxkIGVpdGhlciBiZSBhIHN0cmluZyBvciBvbmUgb2YgdGhlIHNpZ24gaW4gdHlwZXNcIjtcbiAgQXV0aEVycm9yU3RyaW5nc1tcIkVNUFRZX1BBU1NXT1JEXCJdID0gXCJQYXNzd29yZCBjYW5ub3QgYmUgZW1wdHlcIjtcbiAgQXV0aEVycm9yU3RyaW5nc1tcIkVNUFRZX0NPREVcIl0gPSBcIkNvbmZpcm1hdGlvbiBjb2RlIGNhbm5vdCBiZSBlbXB0eVwiO1xuICBBdXRoRXJyb3JTdHJpbmdzW1wiU0lHTl9VUF9FUlJPUlwiXSA9IFwiRXJyb3IgY3JlYXRpbmcgYWNjb3VudFwiO1xuICBBdXRoRXJyb3JTdHJpbmdzW1wiTk9fTUZBXCJdID0gXCJObyB2YWxpZCBNRkEgbWV0aG9kIHByb3ZpZGVkXCI7XG4gIEF1dGhFcnJvclN0cmluZ3NbXCJJTlZBTElEX01GQVwiXSA9IFwiSW52YWxpZCBNRkEgdHlwZVwiO1xuICBBdXRoRXJyb3JTdHJpbmdzW1wiRU1QVFlfQ0hBTExFTkdFXCJdID0gXCJDaGFsbGVuZ2UgcmVzcG9uc2UgY2Fubm90IGJlIGVtcHR5XCI7XG4gIEF1dGhFcnJvclN0cmluZ3NbXCJOT19VU0VSX1NFU1NJT05cIl0gPSBcIkZhaWxlZCB0byBnZXQgdGhlIHNlc3Npb24gYmVjYXVzZSB0aGUgdXNlciBpcyBlbXB0eVwiO1xuICBBdXRoRXJyb3JTdHJpbmdzW1wiTkVUV09SS19FUlJPUlwiXSA9IFwiTmV0d29yayBFcnJvclwiO1xuICBBdXRoRXJyb3JTdHJpbmdzW1wiREVWSUNFX0NPTkZJR1wiXSA9IFwiRGV2aWNlIHRyYWNraW5nIGhhcyBub3QgYmVlbiBjb25maWd1cmVkIGluIHRoaXMgVXNlciBQb29sXCI7XG4gIEF1dGhFcnJvclN0cmluZ3NbXCJBVVRPU0lHTklOX0VSUk9SXCJdID0gXCJQbGVhc2UgdXNlIHlvdXIgY3JlZGVudGlhbHMgdG8gc2lnbiBpblwiO1xuICBBdXRoRXJyb3JTdHJpbmdzW1wiT0FVVEhfRVJST1JcIl0gPSBcIkNvdWxkbid0IGZpbmlzaCBPQXV0aCBmbG93LCBjaGVjayB5b3VyIFVzZXIgUG9vbCBIb3N0ZWRVSSBzZXR0aW5nc1wiO1xufSkoQXV0aEVycm9yU3RyaW5ncyB8fCAoQXV0aEVycm9yU3RyaW5ncyA9IHt9KSk7XG52YXIgQXV0aEVycm9yQ29kZXM7XG4oZnVuY3Rpb24gKEF1dGhFcnJvckNvZGVzKSB7XG4gIEF1dGhFcnJvckNvZGVzW1wiU2lnbkluRXhjZXB0aW9uXCJdID0gXCJTaWduSW5FeGNlcHRpb25cIjtcbiAgQXV0aEVycm9yQ29kZXNbXCJPQXV0aFNpZ25JbkVycm9yXCJdID0gXCJPQXV0aFNpZ25JbkV4Y2VwdGlvblwiO1xufSkoQXV0aEVycm9yQ29kZXMgfHwgKEF1dGhFcnJvckNvZGVzID0ge30pKTtcbmV4cG9ydCB7IEF1dGhFcnJvckNvZGVzLCBBdXRoRXJyb3JTdHJpbmdzLCB2YWxpZGF0aW9uRXJyb3JNYXAgfTtcbiIsImltcG9ydCB7IEFtcGxpZnlFcnJvciB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNsYXNzIEF1dGhFcnJvciBleHRlbmRzIEFtcGxpZnlFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgIHN1cGVyKHBhcmFtcyk7XG4gICAgLy8gSGFjayBmb3IgbWFraW5nIHRoZSBjdXN0b20gZXJyb3IgY2xhc3Mgd29yayB3aGVuIHRyYW5zcGlsZWQgdG8gZXM1XG4gICAgLy8gVE9ETzogRGVsZXRlIHRoZSBmb2xsb3dpbmcgMiBsaW5lcyBhZnRlciB3ZSBjaGFuZ2UgdGhlIGJ1aWxkIHRhcmdldCB0byA+PSBlczIwMTVcbiAgICB0aGlzLmNvbnN0cnVjdG9yID0gQXV0aEVycm9yO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBBdXRoRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuZXhwb3J0IHsgQXV0aEVycm9yIH07XG4iLCJpbXBvcnQgeyB2YWxpZGF0aW9uRXJyb3JNYXAgfSBmcm9tICcuLi8uLi9jb21tb24vQXV0aEVycm9yU3RyaW5ncy5tanMnO1xuaW1wb3J0IHsgQXV0aEVycm9yIH0gZnJvbSAnLi4vQXV0aEVycm9yLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmZ1bmN0aW9uIGFzc2VydFZhbGlkYXRpb25FcnJvcihhc3NlcnRpb24sIG5hbWUpIHtcbiAgY29uc3Qge1xuICAgIG1lc3NhZ2UsXG4gICAgcmVjb3ZlcnlTdWdnZXN0aW9uXG4gIH0gPSB2YWxpZGF0aW9uRXJyb3JNYXBbbmFtZV07XG4gIGlmICghYXNzZXJ0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEF1dGhFcnJvcih7XG4gICAgICBuYW1lLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIHJlY292ZXJ5U3VnZ2VzdGlvblxuICAgIH0pO1xuICB9XG59XG5leHBvcnQgeyBhc3NlcnRWYWxpZGF0aW9uRXJyb3IgfTtcbiIsImltcG9ydCB7IEF1dGhFcnJvciB9IGZyb20gJy4uLy4uL2Vycm9ycy9BdXRoRXJyb3IubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuZnVuY3Rpb24gZ2V0UmVnaW9uRnJvbVVzZXJQb29sSWQodXNlclBvb2xJZCkge1xuICBjb25zdCByZWdpb24gPSB1c2VyUG9vbElkPy5zcGxpdCgnXycpWzBdO1xuICBpZiAoIXVzZXJQb29sSWQgfHwgdXNlclBvb2xJZC5pbmRleE9mKCdfJykgPCAwIHx8ICFyZWdpb24gfHwgdHlwZW9mIHJlZ2lvbiAhPT0gJ3N0cmluZycpIHRocm93IG5ldyBBdXRoRXJyb3Ioe1xuICAgIG5hbWU6ICdJbnZhbGlkVXNlclBvb2xJZCcsXG4gICAgbWVzc2FnZTogJ0ludmFsaWQgdXNlciBwb29sIGlkIHByb3ZpZGVkLidcbiAgfSk7XG4gIHJldHVybiByZWdpb247XG59XG5mdW5jdGlvbiBnZXRSZWdpb25Gcm9tSWRlbnRpdHlQb29sSWQoaWRlbnRpdHlQb29sSWQpIHtcbiAgaWYgKCFpZGVudGl0eVBvb2xJZCB8fCAhaWRlbnRpdHlQb29sSWQuaW5jbHVkZXMoJzonKSkge1xuICAgIHRocm93IG5ldyBBdXRoRXJyb3Ioe1xuICAgICAgbmFtZTogJ0ludmFsaWRJZGVudGl0eVBvb2xJZEV4Y2VwdGlvbicsXG4gICAgICBtZXNzYWdlOiAnSW52YWxpZCBpZGVudGl0eSBwb29sIGlkIHByb3ZpZGVkLicsXG4gICAgICByZWNvdmVyeVN1Z2dlc3Rpb246ICdNYWtlIHN1cmUgYSB2YWxpZCBpZGVudGl0eVBvb2xJZCBpcyBnaXZlbiBpbiB0aGUgY29uZmlnLidcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gaWRlbnRpdHlQb29sSWQuc3BsaXQoJzonKVswXTtcbn1cbmV4cG9ydCB7IGdldFJlZ2lvbkZyb21JZGVudGl0eVBvb2xJZCwgZ2V0UmVnaW9uRnJvbVVzZXJQb29sSWQgfTtcbiIsImltcG9ydCB7IGdldEFtcGxpZnlVc2VyQWdlbnQsIENhdGVnb3J5IH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL3V0aWxzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuY29uc3QgZ2V0QXV0aFVzZXJBZ2VudFZhbHVlID0gKGFjdGlvbiwgY3VzdG9tVXNlckFnZW50RGV0YWlscykgPT4gZ2V0QW1wbGlmeVVzZXJBZ2VudCh7XG4gIGNhdGVnb3J5OiBDYXRlZ29yeS5BdXRoLFxuICBhY3Rpb24sXG4gIC4uLmN1c3RvbVVzZXJBZ2VudERldGFpbHNcbn0pO1xuZXhwb3J0IHsgZ2V0QXV0aFVzZXJBZ2VudFZhbHVlIH07XG4iLCIvLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5mdW5jdGlvbiBnZXRVc2VyQ29udGV4dERhdGEoe1xuICB1c2VybmFtZSxcbiAgdXNlclBvb2xJZCxcbiAgdXNlclBvb2xDbGllbnRJZFxufSkge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGNvbnN0IGFtYXpvbkNvZ25pdG9BZHZhbmNlZFNlY3VyaXR5RGF0YSA9IHdpbmRvdy5BbWF6b25Db2duaXRvQWR2YW5jZWRTZWN1cml0eURhdGE7XG4gIGlmICh0eXBlb2YgYW1hem9uQ29nbml0b0FkdmFuY2VkU2VjdXJpdHlEYXRhID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgY29uc3QgYWR2YW5jZWRTZWN1cml0eURhdGEgPSBhbWF6b25Db2duaXRvQWR2YW5jZWRTZWN1cml0eURhdGEuZ2V0RGF0YSh1c2VybmFtZSwgdXNlclBvb2xJZCwgdXNlclBvb2xDbGllbnRJZCk7XG4gIGlmIChhZHZhbmNlZFNlY3VyaXR5RGF0YSkge1xuICAgIGNvbnN0IHVzZXJDb250ZXh0RGF0YSA9IHtcbiAgICAgIEVuY29kZWREYXRhOiBhZHZhbmNlZFNlY3VyaXR5RGF0YVxuICAgIH07XG4gICAgcmV0dXJuIHVzZXJDb250ZXh0RGF0YTtcbiAgfVxuICByZXR1cm4ge307XG59XG5leHBvcnQgeyBnZXRVc2VyQ29udGV4dERhdGEgfTtcbiIsImltcG9ydCB7IGNvbXBvc2VUcmFuc2ZlckhhbmRsZXIgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscy9jb21wb3NlcnMnO1xuaW1wb3J0IHsgdW5hdXRoZW50aWNhdGVkSGFuZGxlciB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy9hd3MtY2xpZW50LXV0aWxzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLyoqXG4gKiBBIENvZ25pdG8gSWRlbnRpdHktc3BlY2lmaWMgbWlkZGxld2FyZSB0aGF0IGRpc2FibGVzIGNhY2hpbmcgZm9yIGFsbCByZXF1ZXN0cy5cbiAqL1xuY29uc3QgZGlzYWJsZUNhY2hlTWlkZGxld2FyZUZhY3RvcnkgPSAoKSA9PiAobmV4dCwgXykgPT4gYXN5bmMgZnVuY3Rpb24gZGlzYWJsZUNhY2hlTWlkZGxld2FyZShyZXF1ZXN0KSB7XG4gIHJlcXVlc3QuaGVhZGVyc1snY2FjaGUtY29udHJvbCddID0gJ25vLXN0b3JlJztcbiAgcmV0dXJuIG5leHQocmVxdWVzdCk7XG59O1xuLyoqXG4gKiBBIENvZ25pdG8gSWRlbnRpdHktc3BlY2lmaWMgdHJhbnNmZXIgaGFuZGxlciB0aGF0IGRvZXMgTk9UIHNpZ24gcmVxdWVzdHMsIGFuZFxuICogZGlzYWJsZXMgY2FjaGluZy5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgY29nbml0b1VzZXJQb29sVHJhbnNmZXJIYW5kbGVyID0gY29tcG9zZVRyYW5zZmVySGFuZGxlcih1bmF1dGhlbnRpY2F0ZWRIYW5kbGVyLCBbZGlzYWJsZUNhY2hlTWlkZGxld2FyZUZhY3RvcnldKTtcbmV4cG9ydCB7IGNvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlciB9O1xuIiwiLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLyoqXG4gKiBUaGUgc2VydmljZSBuYW1lIHVzZWQgdG8gc2lnbiByZXF1ZXN0cyBpZiB0aGUgQVBJIHJlcXVpcmVzIGF1dGhlbnRpY2F0aW9uLlxuICovXG5jb25zdCBDT0dOSVRPX0lEUF9TRVJWSUNFX05BTUUgPSAnY29nbml0by1pZHAnO1xuZXhwb3J0IHsgQ09HTklUT19JRFBfU0VSVklDRV9OQU1FIH07XG4iLCJpbXBvcnQgeyBnZXRSZXRyeURlY2lkZXIsIHBhcnNlSnNvbkVycm9yLCBqaXR0ZXJlZEJhY2tvZmYgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscyc7XG5pbXBvcnQgeyBnZXRBbXBsaWZ5VXNlckFnZW50IH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL3V0aWxzJztcbmltcG9ydCB7IENPR05JVE9fSURQX1NFUlZJQ0VfTkFNRSB9IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBERUZBVUxUX1NFUlZJQ0VfQ0xJRU5UX0FQSV9DT05GSUcgPSB7XG4gIHNlcnZpY2U6IENPR05JVE9fSURQX1NFUlZJQ0VfTkFNRSxcbiAgcmV0cnlEZWNpZGVyOiBnZXRSZXRyeURlY2lkZXIocGFyc2VKc29uRXJyb3IpLFxuICBjb21wdXRlRGVsYXk6IGppdHRlcmVkQmFja29mZixcbiAgZ2V0IHVzZXJBZ2VudFZhbHVlKCkge1xuICAgIHJldHVybiBnZXRBbXBsaWZ5VXNlckFnZW50KCk7XG4gIH0sXG4gIGNhY2hlOiAnbm8tc3RvcmUnXG59O1xuZXhwb3J0IHsgREVGQVVMVF9TRVJWSUNFX0NMSUVOVF9BUElfQ09ORklHIH07XG4iLCIvLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG52YXIgQXNzb2NpYXRlU29mdHdhcmVUb2tlbkV4Y2VwdGlvbjtcbihmdW5jdGlvbiAoQXNzb2NpYXRlU29mdHdhcmVUb2tlbkV4Y2VwdGlvbikge1xuICBBc3NvY2lhdGVTb2Z0d2FyZVRva2VuRXhjZXB0aW9uW1wiQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvblwiXSA9IFwiQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvblwiO1xuICBBc3NvY2lhdGVTb2Z0d2FyZVRva2VuRXhjZXB0aW9uW1wiRm9yYmlkZGVuRXhjZXB0aW9uXCJdID0gXCJGb3JiaWRkZW5FeGNlcHRpb25cIjtcbiAgQXNzb2NpYXRlU29mdHdhcmVUb2tlbkV4Y2VwdGlvbltcIkludGVybmFsRXJyb3JFeGNlcHRpb25cIl0gPSBcIkludGVybmFsRXJyb3JFeGNlcHRpb25cIjtcbiAgQXNzb2NpYXRlU29mdHdhcmVUb2tlbkV4Y2VwdGlvbltcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIl0gPSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjtcbiAgQXNzb2NpYXRlU29mdHdhcmVUb2tlbkV4Y2VwdGlvbltcIk5vdEF1dGhvcml6ZWRFeGNlcHRpb25cIl0gPSBcIk5vdEF1dGhvcml6ZWRFeGNlcHRpb25cIjtcbiAgQXNzb2NpYXRlU29mdHdhcmVUb2tlbkV4Y2VwdGlvbltcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIl0gPSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjtcbiAgQXNzb2NpYXRlU29mdHdhcmVUb2tlbkV4Y2VwdGlvbltcIlNvZnR3YXJlVG9rZW5NRkFOb3RGb3VuZEV4Y2VwdGlvblwiXSA9IFwiU29mdHdhcmVUb2tlbk1GQU5vdEZvdW5kRXhjZXB0aW9uXCI7XG59KShBc3NvY2lhdGVTb2Z0d2FyZVRva2VuRXhjZXB0aW9uIHx8IChBc3NvY2lhdGVTb2Z0d2FyZVRva2VuRXhjZXB0aW9uID0ge30pKTtcbnZhciBDaGFuZ2VQYXNzd29yZEV4Y2VwdGlvbjtcbihmdW5jdGlvbiAoQ2hhbmdlUGFzc3dvcmRFeGNlcHRpb24pIHtcbiAgQ2hhbmdlUGFzc3dvcmRFeGNlcHRpb25bXCJGb3JiaWRkZW5FeGNlcHRpb25cIl0gPSBcIkZvcmJpZGRlbkV4Y2VwdGlvblwiO1xuICBDaGFuZ2VQYXNzd29yZEV4Y2VwdGlvbltcIkludGVybmFsRXJyb3JFeGNlcHRpb25cIl0gPSBcIkludGVybmFsRXJyb3JFeGNlcHRpb25cIjtcbiAgQ2hhbmdlUGFzc3dvcmRFeGNlcHRpb25bXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCJdID0gXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI7XG4gIENoYW5nZVBhc3N3b3JkRXhjZXB0aW9uW1wiSW52YWxpZFBhc3N3b3JkRXhjZXB0aW9uXCJdID0gXCJJbnZhbGlkUGFzc3dvcmRFeGNlcHRpb25cIjtcbiAgQ2hhbmdlUGFzc3dvcmRFeGNlcHRpb25bXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCJdID0gXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI7XG4gIENoYW5nZVBhc3N3b3JkRXhjZXB0aW9uW1wiTm90QXV0aG9yaXplZEV4Y2VwdGlvblwiXSA9IFwiTm90QXV0aG9yaXplZEV4Y2VwdGlvblwiO1xuICBDaGFuZ2VQYXNzd29yZEV4Y2VwdGlvbltcIlBhc3N3b3JkUmVzZXRSZXF1aXJlZEV4Y2VwdGlvblwiXSA9IFwiUGFzc3dvcmRSZXNldFJlcXVpcmVkRXhjZXB0aW9uXCI7XG4gIENoYW5nZVBhc3N3b3JkRXhjZXB0aW9uW1wiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiXSA9IFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiO1xuICBDaGFuZ2VQYXNzd29yZEV4Y2VwdGlvbltcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiXSA9IFwiVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCI7XG4gIENoYW5nZVBhc3N3b3JkRXhjZXB0aW9uW1wiVXNlck5vdENvbmZpcm1lZEV4Y2VwdGlvblwiXSA9IFwiVXNlck5vdENvbmZpcm1lZEV4Y2VwdGlvblwiO1xuICBDaGFuZ2VQYXNzd29yZEV4Y2VwdGlvbltcIlVzZXJOb3RGb3VuZEV4Y2VwdGlvblwiXSA9IFwiVXNlck5vdEZvdW5kRXhjZXB0aW9uXCI7XG59KShDaGFuZ2VQYXNzd29yZEV4Y2VwdGlvbiB8fCAoQ2hhbmdlUGFzc3dvcmRFeGNlcHRpb24gPSB7fSkpO1xudmFyIENvbmZpcm1EZXZpY2VFeGNlcHRpb247XG4oZnVuY3Rpb24gKENvbmZpcm1EZXZpY2VFeGNlcHRpb24pIHtcbiAgQ29uZmlybURldmljZUV4Y2VwdGlvbltcIkZvcmJpZGRlbkV4Y2VwdGlvblwiXSA9IFwiRm9yYmlkZGVuRXhjZXB0aW9uXCI7XG4gIENvbmZpcm1EZXZpY2VFeGNlcHRpb25bXCJJbnRlcm5hbEVycm9yRXhjZXB0aW9uXCJdID0gXCJJbnRlcm5hbEVycm9yRXhjZXB0aW9uXCI7XG4gIENvbmZpcm1EZXZpY2VFeGNlcHRpb25bXCJJbnZhbGlkTGFtYmRhUmVzcG9uc2VFeGNlcHRpb25cIl0gPSBcIkludmFsaWRMYW1iZGFSZXNwb25zZUV4Y2VwdGlvblwiO1xuICBDb25maXJtRGV2aWNlRXhjZXB0aW9uW1wiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiO1xuICBDb25maXJtRGV2aWNlRXhjZXB0aW9uW1wiSW52YWxpZFBhc3N3b3JkRXhjZXB0aW9uXCJdID0gXCJJbnZhbGlkUGFzc3dvcmRFeGNlcHRpb25cIjtcbiAgQ29uZmlybURldmljZUV4Y2VwdGlvbltcIkludmFsaWRVc2VyUG9vbENvbmZpZ3VyYXRpb25FeGNlcHRpb25cIl0gPSBcIkludmFsaWRVc2VyUG9vbENvbmZpZ3VyYXRpb25FeGNlcHRpb25cIjtcbiAgQ29uZmlybURldmljZUV4Y2VwdGlvbltcIk5vdEF1dGhvcml6ZWRFeGNlcHRpb25cIl0gPSBcIk5vdEF1dGhvcml6ZWRFeGNlcHRpb25cIjtcbiAgQ29uZmlybURldmljZUV4Y2VwdGlvbltcIlBhc3N3b3JkUmVzZXRSZXF1aXJlZEV4Y2VwdGlvblwiXSA9IFwiUGFzc3dvcmRSZXNldFJlcXVpcmVkRXhjZXB0aW9uXCI7XG4gIENvbmZpcm1EZXZpY2VFeGNlcHRpb25bXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCJdID0gXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gIENvbmZpcm1EZXZpY2VFeGNlcHRpb25bXCJUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIl0gPSBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiO1xuICBDb25maXJtRGV2aWNlRXhjZXB0aW9uW1wiVXNlcm5hbWVFeGlzdHNFeGNlcHRpb25cIl0gPSBcIlVzZXJuYW1lRXhpc3RzRXhjZXB0aW9uXCI7XG4gIENvbmZpcm1EZXZpY2VFeGNlcHRpb25bXCJVc2VyTm90Q29uZmlybWVkRXhjZXB0aW9uXCJdID0gXCJVc2VyTm90Q29uZmlybWVkRXhjZXB0aW9uXCI7XG4gIENvbmZpcm1EZXZpY2VFeGNlcHRpb25bXCJVc2VyTm90Rm91bmRFeGNlcHRpb25cIl0gPSBcIlVzZXJOb3RGb3VuZEV4Y2VwdGlvblwiO1xufSkoQ29uZmlybURldmljZUV4Y2VwdGlvbiB8fCAoQ29uZmlybURldmljZUV4Y2VwdGlvbiA9IHt9KSk7XG52YXIgQ29uZmlybUZvcmdvdFBhc3N3b3JkRXhjZXB0aW9uO1xuKGZ1bmN0aW9uIChDb25maXJtRm9yZ290UGFzc3dvcmRFeGNlcHRpb24pIHtcbiAgQ29uZmlybUZvcmdvdFBhc3N3b3JkRXhjZXB0aW9uW1wiQ29kZU1pc21hdGNoRXhjZXB0aW9uXCJdID0gXCJDb2RlTWlzbWF0Y2hFeGNlcHRpb25cIjtcbiAgQ29uZmlybUZvcmdvdFBhc3N3b3JkRXhjZXB0aW9uW1wiRXhwaXJlZENvZGVFeGNlcHRpb25cIl0gPSBcIkV4cGlyZWRDb2RlRXhjZXB0aW9uXCI7XG4gIENvbmZpcm1Gb3Jnb3RQYXNzd29yZEV4Y2VwdGlvbltcIkZvcmJpZGRlbkV4Y2VwdGlvblwiXSA9IFwiRm9yYmlkZGVuRXhjZXB0aW9uXCI7XG4gIENvbmZpcm1Gb3Jnb3RQYXNzd29yZEV4Y2VwdGlvbltcIkludGVybmFsRXJyb3JFeGNlcHRpb25cIl0gPSBcIkludGVybmFsRXJyb3JFeGNlcHRpb25cIjtcbiAgQ29uZmlybUZvcmdvdFBhc3N3b3JkRXhjZXB0aW9uW1wiSW52YWxpZExhbWJkYVJlc3BvbnNlRXhjZXB0aW9uXCJdID0gXCJJbnZhbGlkTGFtYmRhUmVzcG9uc2VFeGNlcHRpb25cIjtcbiAgQ29uZmlybUZvcmdvdFBhc3N3b3JkRXhjZXB0aW9uW1wiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiO1xuICBDb25maXJtRm9yZ290UGFzc3dvcmRFeGNlcHRpb25bXCJJbnZhbGlkUGFzc3dvcmRFeGNlcHRpb25cIl0gPSBcIkludmFsaWRQYXNzd29yZEV4Y2VwdGlvblwiO1xuICBDb25maXJtRm9yZ290UGFzc3dvcmRFeGNlcHRpb25bXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCJdID0gXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI7XG4gIENvbmZpcm1Gb3Jnb3RQYXNzd29yZEV4Y2VwdGlvbltcIk5vdEF1dGhvcml6ZWRFeGNlcHRpb25cIl0gPSBcIk5vdEF1dGhvcml6ZWRFeGNlcHRpb25cIjtcbiAgQ29uZmlybUZvcmdvdFBhc3N3b3JkRXhjZXB0aW9uW1wiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiXSA9IFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiO1xuICBDb25maXJtRm9yZ290UGFzc3dvcmRFeGNlcHRpb25bXCJUb29NYW55RmFpbGVkQXR0ZW1wdHNFeGNlcHRpb25cIl0gPSBcIlRvb01hbnlGYWlsZWRBdHRlbXB0c0V4Y2VwdGlvblwiO1xuICBDb25maXJtRm9yZ290UGFzc3dvcmRFeGNlcHRpb25bXCJUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIl0gPSBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiO1xuICBDb25maXJtRm9yZ290UGFzc3dvcmRFeGNlcHRpb25bXCJVbmV4cGVjdGVkTGFtYmRhRXhjZXB0aW9uXCJdID0gXCJVbmV4cGVjdGVkTGFtYmRhRXhjZXB0aW9uXCI7XG4gIENvbmZpcm1Gb3Jnb3RQYXNzd29yZEV4Y2VwdGlvbltcIlVzZXJMYW1iZGFWYWxpZGF0aW9uRXhjZXB0aW9uXCJdID0gXCJVc2VyTGFtYmRhVmFsaWRhdGlvbkV4Y2VwdGlvblwiO1xuICBDb25maXJtRm9yZ290UGFzc3dvcmRFeGNlcHRpb25bXCJVc2VyTm90Q29uZmlybWVkRXhjZXB0aW9uXCJdID0gXCJVc2VyTm90Q29uZmlybWVkRXhjZXB0aW9uXCI7XG4gIENvbmZpcm1Gb3Jnb3RQYXNzd29yZEV4Y2VwdGlvbltcIlVzZXJOb3RGb3VuZEV4Y2VwdGlvblwiXSA9IFwiVXNlck5vdEZvdW5kRXhjZXB0aW9uXCI7XG59KShDb25maXJtRm9yZ290UGFzc3dvcmRFeGNlcHRpb24gfHwgKENvbmZpcm1Gb3Jnb3RQYXNzd29yZEV4Y2VwdGlvbiA9IHt9KSk7XG52YXIgQ29uZmlybVNpZ25VcEV4Y2VwdGlvbjtcbihmdW5jdGlvbiAoQ29uZmlybVNpZ25VcEV4Y2VwdGlvbikge1xuICBDb25maXJtU2lnblVwRXhjZXB0aW9uW1wiQWxpYXNFeGlzdHNFeGNlcHRpb25cIl0gPSBcIkFsaWFzRXhpc3RzRXhjZXB0aW9uXCI7XG4gIENvbmZpcm1TaWduVXBFeGNlcHRpb25bXCJDb2RlTWlzbWF0Y2hFeGNlcHRpb25cIl0gPSBcIkNvZGVNaXNtYXRjaEV4Y2VwdGlvblwiO1xuICBDb25maXJtU2lnblVwRXhjZXB0aW9uW1wiRXhwaXJlZENvZGVFeGNlcHRpb25cIl0gPSBcIkV4cGlyZWRDb2RlRXhjZXB0aW9uXCI7XG4gIENvbmZpcm1TaWduVXBFeGNlcHRpb25bXCJGb3JiaWRkZW5FeGNlcHRpb25cIl0gPSBcIkZvcmJpZGRlbkV4Y2VwdGlvblwiO1xuICBDb25maXJtU2lnblVwRXhjZXB0aW9uW1wiSW50ZXJuYWxFcnJvckV4Y2VwdGlvblwiXSA9IFwiSW50ZXJuYWxFcnJvckV4Y2VwdGlvblwiO1xuICBDb25maXJtU2lnblVwRXhjZXB0aW9uW1wiSW52YWxpZExhbWJkYVJlc3BvbnNlRXhjZXB0aW9uXCJdID0gXCJJbnZhbGlkTGFtYmRhUmVzcG9uc2VFeGNlcHRpb25cIjtcbiAgQ29uZmlybVNpZ25VcEV4Y2VwdGlvbltcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIl0gPSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjtcbiAgQ29uZmlybVNpZ25VcEV4Y2VwdGlvbltcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIl0gPSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjtcbiAgQ29uZmlybVNpZ25VcEV4Y2VwdGlvbltcIk5vdEF1dGhvcml6ZWRFeGNlcHRpb25cIl0gPSBcIk5vdEF1dGhvcml6ZWRFeGNlcHRpb25cIjtcbiAgQ29uZmlybVNpZ25VcEV4Y2VwdGlvbltcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIl0gPSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjtcbiAgQ29uZmlybVNpZ25VcEV4Y2VwdGlvbltcIlRvb01hbnlGYWlsZWRBdHRlbXB0c0V4Y2VwdGlvblwiXSA9IFwiVG9vTWFueUZhaWxlZEF0dGVtcHRzRXhjZXB0aW9uXCI7XG4gIENvbmZpcm1TaWduVXBFeGNlcHRpb25bXCJUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIl0gPSBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiO1xuICBDb25maXJtU2lnblVwRXhjZXB0aW9uW1wiVW5leHBlY3RlZExhbWJkYUV4Y2VwdGlvblwiXSA9IFwiVW5leHBlY3RlZExhbWJkYUV4Y2VwdGlvblwiO1xuICBDb25maXJtU2lnblVwRXhjZXB0aW9uW1wiVXNlckxhbWJkYVZhbGlkYXRpb25FeGNlcHRpb25cIl0gPSBcIlVzZXJMYW1iZGFWYWxpZGF0aW9uRXhjZXB0aW9uXCI7XG4gIENvbmZpcm1TaWduVXBFeGNlcHRpb25bXCJVc2VyTm90Rm91bmRFeGNlcHRpb25cIl0gPSBcIlVzZXJOb3RGb3VuZEV4Y2VwdGlvblwiO1xufSkoQ29uZmlybVNpZ25VcEV4Y2VwdGlvbiB8fCAoQ29uZmlybVNpZ25VcEV4Y2VwdGlvbiA9IHt9KSk7XG52YXIgRGVsZXRlVXNlckF0dHJpYnV0ZXNFeGNlcHRpb247XG4oZnVuY3Rpb24gKERlbGV0ZVVzZXJBdHRyaWJ1dGVzRXhjZXB0aW9uKSB7XG4gIERlbGV0ZVVzZXJBdHRyaWJ1dGVzRXhjZXB0aW9uW1wiRm9yYmlkZGVuRXhjZXB0aW9uXCJdID0gXCJGb3JiaWRkZW5FeGNlcHRpb25cIjtcbiAgRGVsZXRlVXNlckF0dHJpYnV0ZXNFeGNlcHRpb25bXCJJbnRlcm5hbEVycm9yRXhjZXB0aW9uXCJdID0gXCJJbnRlcm5hbEVycm9yRXhjZXB0aW9uXCI7XG4gIERlbGV0ZVVzZXJBdHRyaWJ1dGVzRXhjZXB0aW9uW1wiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiO1xuICBEZWxldGVVc2VyQXR0cmlidXRlc0V4Y2VwdGlvbltcIk5vdEF1dGhvcml6ZWRFeGNlcHRpb25cIl0gPSBcIk5vdEF1dGhvcml6ZWRFeGNlcHRpb25cIjtcbiAgRGVsZXRlVXNlckF0dHJpYnV0ZXNFeGNlcHRpb25bXCJQYXNzd29yZFJlc2V0UmVxdWlyZWRFeGNlcHRpb25cIl0gPSBcIlBhc3N3b3JkUmVzZXRSZXF1aXJlZEV4Y2VwdGlvblwiO1xuICBEZWxldGVVc2VyQXR0cmlidXRlc0V4Y2VwdGlvbltcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIl0gPSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjtcbiAgRGVsZXRlVXNlckF0dHJpYnV0ZXNFeGNlcHRpb25bXCJUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIl0gPSBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiO1xuICBEZWxldGVVc2VyQXR0cmlidXRlc0V4Y2VwdGlvbltcIlVzZXJOb3RDb25maXJtZWRFeGNlcHRpb25cIl0gPSBcIlVzZXJOb3RDb25maXJtZWRFeGNlcHRpb25cIjtcbiAgRGVsZXRlVXNlckF0dHJpYnV0ZXNFeGNlcHRpb25bXCJVc2VyTm90Rm91bmRFeGNlcHRpb25cIl0gPSBcIlVzZXJOb3RGb3VuZEV4Y2VwdGlvblwiO1xufSkoRGVsZXRlVXNlckF0dHJpYnV0ZXNFeGNlcHRpb24gfHwgKERlbGV0ZVVzZXJBdHRyaWJ1dGVzRXhjZXB0aW9uID0ge30pKTtcbnZhciBEZWxldGVVc2VyRXhjZXB0aW9uO1xuKGZ1bmN0aW9uIChEZWxldGVVc2VyRXhjZXB0aW9uKSB7XG4gIERlbGV0ZVVzZXJFeGNlcHRpb25bXCJGb3JiaWRkZW5FeGNlcHRpb25cIl0gPSBcIkZvcmJpZGRlbkV4Y2VwdGlvblwiO1xuICBEZWxldGVVc2VyRXhjZXB0aW9uW1wiSW50ZXJuYWxFcnJvckV4Y2VwdGlvblwiXSA9IFwiSW50ZXJuYWxFcnJvckV4Y2VwdGlvblwiO1xuICBEZWxldGVVc2VyRXhjZXB0aW9uW1wiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiO1xuICBEZWxldGVVc2VyRXhjZXB0aW9uW1wiTm90QXV0aG9yaXplZEV4Y2VwdGlvblwiXSA9IFwiTm90QXV0aG9yaXplZEV4Y2VwdGlvblwiO1xuICBEZWxldGVVc2VyRXhjZXB0aW9uW1wiUGFzc3dvcmRSZXNldFJlcXVpcmVkRXhjZXB0aW9uXCJdID0gXCJQYXNzd29yZFJlc2V0UmVxdWlyZWRFeGNlcHRpb25cIjtcbiAgRGVsZXRlVXNlckV4Y2VwdGlvbltcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIl0gPSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjtcbiAgRGVsZXRlVXNlckV4Y2VwdGlvbltcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiXSA9IFwiVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCI7XG4gIERlbGV0ZVVzZXJFeGNlcHRpb25bXCJVc2VyTm90Q29uZmlybWVkRXhjZXB0aW9uXCJdID0gXCJVc2VyTm90Q29uZmlybWVkRXhjZXB0aW9uXCI7XG4gIERlbGV0ZVVzZXJFeGNlcHRpb25bXCJVc2VyTm90Rm91bmRFeGNlcHRpb25cIl0gPSBcIlVzZXJOb3RGb3VuZEV4Y2VwdGlvblwiO1xufSkoRGVsZXRlVXNlckV4Y2VwdGlvbiB8fCAoRGVsZXRlVXNlckV4Y2VwdGlvbiA9IHt9KSk7XG52YXIgRm9yZ2V0RGV2aWNlRXhjZXB0aW9uO1xuKGZ1bmN0aW9uIChGb3JnZXREZXZpY2VFeGNlcHRpb24pIHtcbiAgRm9yZ2V0RGV2aWNlRXhjZXB0aW9uW1wiRm9yYmlkZGVuRXhjZXB0aW9uXCJdID0gXCJGb3JiaWRkZW5FeGNlcHRpb25cIjtcbiAgRm9yZ2V0RGV2aWNlRXhjZXB0aW9uW1wiSW50ZXJuYWxFcnJvckV4Y2VwdGlvblwiXSA9IFwiSW50ZXJuYWxFcnJvckV4Y2VwdGlvblwiO1xuICBGb3JnZXREZXZpY2VFeGNlcHRpb25bXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCJdID0gXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI7XG4gIEZvcmdldERldmljZUV4Y2VwdGlvbltcIkludmFsaWRVc2VyUG9vbENvbmZpZ3VyYXRpb25FeGNlcHRpb25cIl0gPSBcIkludmFsaWRVc2VyUG9vbENvbmZpZ3VyYXRpb25FeGNlcHRpb25cIjtcbiAgRm9yZ2V0RGV2aWNlRXhjZXB0aW9uW1wiTm90QXV0aG9yaXplZEV4Y2VwdGlvblwiXSA9IFwiTm90QXV0aG9yaXplZEV4Y2VwdGlvblwiO1xuICBGb3JnZXREZXZpY2VFeGNlcHRpb25bXCJQYXNzd29yZFJlc2V0UmVxdWlyZWRFeGNlcHRpb25cIl0gPSBcIlBhc3N3b3JkUmVzZXRSZXF1aXJlZEV4Y2VwdGlvblwiO1xuICBGb3JnZXREZXZpY2VFeGNlcHRpb25bXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCJdID0gXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gIEZvcmdldERldmljZUV4Y2VwdGlvbltcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiXSA9IFwiVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCI7XG4gIEZvcmdldERldmljZUV4Y2VwdGlvbltcIlVzZXJOb3RDb25maXJtZWRFeGNlcHRpb25cIl0gPSBcIlVzZXJOb3RDb25maXJtZWRFeGNlcHRpb25cIjtcbiAgRm9yZ2V0RGV2aWNlRXhjZXB0aW9uW1wiVXNlck5vdEZvdW5kRXhjZXB0aW9uXCJdID0gXCJVc2VyTm90Rm91bmRFeGNlcHRpb25cIjtcbn0pKEZvcmdldERldmljZUV4Y2VwdGlvbiB8fCAoRm9yZ2V0RGV2aWNlRXhjZXB0aW9uID0ge30pKTtcbnZhciBGb3Jnb3RQYXNzd29yZEV4Y2VwdGlvbjtcbihmdW5jdGlvbiAoRm9yZ290UGFzc3dvcmRFeGNlcHRpb24pIHtcbiAgRm9yZ290UGFzc3dvcmRFeGNlcHRpb25bXCJDb2RlRGVsaXZlcnlGYWlsdXJlRXhjZXB0aW9uXCJdID0gXCJDb2RlRGVsaXZlcnlGYWlsdXJlRXhjZXB0aW9uXCI7XG4gIEZvcmdvdFBhc3N3b3JkRXhjZXB0aW9uW1wiRm9yYmlkZGVuRXhjZXB0aW9uXCJdID0gXCJGb3JiaWRkZW5FeGNlcHRpb25cIjtcbiAgRm9yZ290UGFzc3dvcmRFeGNlcHRpb25bXCJJbnRlcm5hbEVycm9yRXhjZXB0aW9uXCJdID0gXCJJbnRlcm5hbEVycm9yRXhjZXB0aW9uXCI7XG4gIEZvcmdvdFBhc3N3b3JkRXhjZXB0aW9uW1wiSW52YWxpZEVtYWlsUm9sZUFjY2Vzc1BvbGljeUV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZEVtYWlsUm9sZUFjY2Vzc1BvbGljeUV4Y2VwdGlvblwiO1xuICBGb3Jnb3RQYXNzd29yZEV4Y2VwdGlvbltcIkludmFsaWRMYW1iZGFSZXNwb25zZUV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZExhbWJkYVJlc3BvbnNlRXhjZXB0aW9uXCI7XG4gIEZvcmdvdFBhc3N3b3JkRXhjZXB0aW9uW1wiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiO1xuICBGb3Jnb3RQYXNzd29yZEV4Y2VwdGlvbltcIkludmFsaWRTbXNSb2xlQWNjZXNzUG9saWN5RXhjZXB0aW9uXCJdID0gXCJJbnZhbGlkU21zUm9sZUFjY2Vzc1BvbGljeUV4Y2VwdGlvblwiO1xuICBGb3Jnb3RQYXNzd29yZEV4Y2VwdGlvbltcIkludmFsaWRTbXNSb2xlVHJ1c3RSZWxhdGlvbnNoaXBFeGNlcHRpb25cIl0gPSBcIkludmFsaWRTbXNSb2xlVHJ1c3RSZWxhdGlvbnNoaXBFeGNlcHRpb25cIjtcbiAgRm9yZ290UGFzc3dvcmRFeGNlcHRpb25bXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCJdID0gXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI7XG4gIEZvcmdvdFBhc3N3b3JkRXhjZXB0aW9uW1wiTm90QXV0aG9yaXplZEV4Y2VwdGlvblwiXSA9IFwiTm90QXV0aG9yaXplZEV4Y2VwdGlvblwiO1xuICBGb3Jnb3RQYXNzd29yZEV4Y2VwdGlvbltcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIl0gPSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjtcbiAgRm9yZ290UGFzc3dvcmRFeGNlcHRpb25bXCJUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIl0gPSBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiO1xuICBGb3Jnb3RQYXNzd29yZEV4Y2VwdGlvbltcIlVuZXhwZWN0ZWRMYW1iZGFFeGNlcHRpb25cIl0gPSBcIlVuZXhwZWN0ZWRMYW1iZGFFeGNlcHRpb25cIjtcbiAgRm9yZ290UGFzc3dvcmRFeGNlcHRpb25bXCJVc2VyTGFtYmRhVmFsaWRhdGlvbkV4Y2VwdGlvblwiXSA9IFwiVXNlckxhbWJkYVZhbGlkYXRpb25FeGNlcHRpb25cIjtcbiAgRm9yZ290UGFzc3dvcmRFeGNlcHRpb25bXCJVc2VyTm90Rm91bmRFeGNlcHRpb25cIl0gPSBcIlVzZXJOb3RGb3VuZEV4Y2VwdGlvblwiO1xufSkoRm9yZ290UGFzc3dvcmRFeGNlcHRpb24gfHwgKEZvcmdvdFBhc3N3b3JkRXhjZXB0aW9uID0ge30pKTtcbnZhciBHZXRVc2VyRXhjZXB0aW9uO1xuKGZ1bmN0aW9uIChHZXRVc2VyRXhjZXB0aW9uKSB7XG4gIEdldFVzZXJFeGNlcHRpb25bXCJGb3JiaWRkZW5FeGNlcHRpb25cIl0gPSBcIkZvcmJpZGRlbkV4Y2VwdGlvblwiO1xuICBHZXRVc2VyRXhjZXB0aW9uW1wiSW50ZXJuYWxFcnJvckV4Y2VwdGlvblwiXSA9IFwiSW50ZXJuYWxFcnJvckV4Y2VwdGlvblwiO1xuICBHZXRVc2VyRXhjZXB0aW9uW1wiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiO1xuICBHZXRVc2VyRXhjZXB0aW9uW1wiTm90QXV0aG9yaXplZEV4Y2VwdGlvblwiXSA9IFwiTm90QXV0aG9yaXplZEV4Y2VwdGlvblwiO1xuICBHZXRVc2VyRXhjZXB0aW9uW1wiUGFzc3dvcmRSZXNldFJlcXVpcmVkRXhjZXB0aW9uXCJdID0gXCJQYXNzd29yZFJlc2V0UmVxdWlyZWRFeGNlcHRpb25cIjtcbiAgR2V0VXNlckV4Y2VwdGlvbltcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIl0gPSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjtcbiAgR2V0VXNlckV4Y2VwdGlvbltcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiXSA9IFwiVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCI7XG4gIEdldFVzZXJFeGNlcHRpb25bXCJVc2VyTm90Q29uZmlybWVkRXhjZXB0aW9uXCJdID0gXCJVc2VyTm90Q29uZmlybWVkRXhjZXB0aW9uXCI7XG4gIEdldFVzZXJFeGNlcHRpb25bXCJVc2VyTm90Rm91bmRFeGNlcHRpb25cIl0gPSBcIlVzZXJOb3RGb3VuZEV4Y2VwdGlvblwiO1xufSkoR2V0VXNlckV4Y2VwdGlvbiB8fCAoR2V0VXNlckV4Y2VwdGlvbiA9IHt9KSk7XG52YXIgR2V0SWRFeGNlcHRpb247XG4oZnVuY3Rpb24gKEdldElkRXhjZXB0aW9uKSB7XG4gIEdldElkRXhjZXB0aW9uW1wiRXh0ZXJuYWxTZXJ2aWNlRXhjZXB0aW9uXCJdID0gXCJFeHRlcm5hbFNlcnZpY2VFeGNlcHRpb25cIjtcbiAgR2V0SWRFeGNlcHRpb25bXCJJbnRlcm5hbEVycm9yRXhjZXB0aW9uXCJdID0gXCJJbnRlcm5hbEVycm9yRXhjZXB0aW9uXCI7XG4gIEdldElkRXhjZXB0aW9uW1wiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiO1xuICBHZXRJZEV4Y2VwdGlvbltcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIl0gPSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjtcbiAgR2V0SWRFeGNlcHRpb25bXCJOb3RBdXRob3JpemVkRXhjZXB0aW9uXCJdID0gXCJOb3RBdXRob3JpemVkRXhjZXB0aW9uXCI7XG4gIEdldElkRXhjZXB0aW9uW1wiUmVzb3VyY2VDb25mbGljdEV4Y2VwdGlvblwiXSA9IFwiUmVzb3VyY2VDb25mbGljdEV4Y2VwdGlvblwiO1xuICBHZXRJZEV4Y2VwdGlvbltcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIl0gPSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjtcbiAgR2V0SWRFeGNlcHRpb25bXCJUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIl0gPSBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiO1xufSkoR2V0SWRFeGNlcHRpb24gfHwgKEdldElkRXhjZXB0aW9uID0ge30pKTtcbnZhciBHZXRDcmVkZW50aWFsc0ZvcklkZW50aXR5RXhjZXB0aW9uO1xuKGZ1bmN0aW9uIChHZXRDcmVkZW50aWFsc0ZvcklkZW50aXR5RXhjZXB0aW9uKSB7XG4gIEdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHlFeGNlcHRpb25bXCJFeHRlcm5hbFNlcnZpY2VFeGNlcHRpb25cIl0gPSBcIkV4dGVybmFsU2VydmljZUV4Y2VwdGlvblwiO1xuICBHZXRDcmVkZW50aWFsc0ZvcklkZW50aXR5RXhjZXB0aW9uW1wiSW50ZXJuYWxFcnJvckV4Y2VwdGlvblwiXSA9IFwiSW50ZXJuYWxFcnJvckV4Y2VwdGlvblwiO1xuICBHZXRDcmVkZW50aWFsc0ZvcklkZW50aXR5RXhjZXB0aW9uW1wiSW52YWxpZElkZW50aXR5UG9vbENvbmZpZ3VyYXRpb25FeGNlcHRpb25cIl0gPSBcIkludmFsaWRJZGVudGl0eVBvb2xDb25maWd1cmF0aW9uRXhjZXB0aW9uXCI7XG4gIEdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHlFeGNlcHRpb25bXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCJdID0gXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI7XG4gIEdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHlFeGNlcHRpb25bXCJOb3RBdXRob3JpemVkRXhjZXB0aW9uXCJdID0gXCJOb3RBdXRob3JpemVkRXhjZXB0aW9uXCI7XG4gIEdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHlFeGNlcHRpb25bXCJSZXNvdXJjZUNvbmZsaWN0RXhjZXB0aW9uXCJdID0gXCJSZXNvdXJjZUNvbmZsaWN0RXhjZXB0aW9uXCI7XG4gIEdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHlFeGNlcHRpb25bXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCJdID0gXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gIEdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHlFeGNlcHRpb25bXCJUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIl0gPSBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiO1xufSkoR2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eUV4Y2VwdGlvbiB8fCAoR2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eUV4Y2VwdGlvbiA9IHt9KSk7XG52YXIgR2V0VXNlckF0dHJpYnV0ZVZlcmlmaWNhdGlvbkV4Y2VwdGlvbjtcbihmdW5jdGlvbiAoR2V0VXNlckF0dHJpYnV0ZVZlcmlmaWNhdGlvbkV4Y2VwdGlvbikge1xuICBHZXRVc2VyQXR0cmlidXRlVmVyaWZpY2F0aW9uRXhjZXB0aW9uW1wiQ29kZURlbGl2ZXJ5RmFpbHVyZUV4Y2VwdGlvblwiXSA9IFwiQ29kZURlbGl2ZXJ5RmFpbHVyZUV4Y2VwdGlvblwiO1xuICBHZXRVc2VyQXR0cmlidXRlVmVyaWZpY2F0aW9uRXhjZXB0aW9uW1wiRm9yYmlkZGVuRXhjZXB0aW9uXCJdID0gXCJGb3JiaWRkZW5FeGNlcHRpb25cIjtcbiAgR2V0VXNlckF0dHJpYnV0ZVZlcmlmaWNhdGlvbkV4Y2VwdGlvbltcIkludGVybmFsRXJyb3JFeGNlcHRpb25cIl0gPSBcIkludGVybmFsRXJyb3JFeGNlcHRpb25cIjtcbiAgR2V0VXNlckF0dHJpYnV0ZVZlcmlmaWNhdGlvbkV4Y2VwdGlvbltcIkludmFsaWRFbWFpbFJvbGVBY2Nlc3NQb2xpY3lFeGNlcHRpb25cIl0gPSBcIkludmFsaWRFbWFpbFJvbGVBY2Nlc3NQb2xpY3lFeGNlcHRpb25cIjtcbiAgR2V0VXNlckF0dHJpYnV0ZVZlcmlmaWNhdGlvbkV4Y2VwdGlvbltcIkludmFsaWRMYW1iZGFSZXNwb25zZUV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZExhbWJkYVJlc3BvbnNlRXhjZXB0aW9uXCI7XG4gIEdldFVzZXJBdHRyaWJ1dGVWZXJpZmljYXRpb25FeGNlcHRpb25bXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCJdID0gXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI7XG4gIEdldFVzZXJBdHRyaWJ1dGVWZXJpZmljYXRpb25FeGNlcHRpb25bXCJJbnZhbGlkU21zUm9sZUFjY2Vzc1BvbGljeUV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZFNtc1JvbGVBY2Nlc3NQb2xpY3lFeGNlcHRpb25cIjtcbiAgR2V0VXNlckF0dHJpYnV0ZVZlcmlmaWNhdGlvbkV4Y2VwdGlvbltcIkludmFsaWRTbXNSb2xlVHJ1c3RSZWxhdGlvbnNoaXBFeGNlcHRpb25cIl0gPSBcIkludmFsaWRTbXNSb2xlVHJ1c3RSZWxhdGlvbnNoaXBFeGNlcHRpb25cIjtcbiAgR2V0VXNlckF0dHJpYnV0ZVZlcmlmaWNhdGlvbkV4Y2VwdGlvbltcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIl0gPSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjtcbiAgR2V0VXNlckF0dHJpYnV0ZVZlcmlmaWNhdGlvbkV4Y2VwdGlvbltcIk5vdEF1dGhvcml6ZWRFeGNlcHRpb25cIl0gPSBcIk5vdEF1dGhvcml6ZWRFeGNlcHRpb25cIjtcbiAgR2V0VXNlckF0dHJpYnV0ZVZlcmlmaWNhdGlvbkV4Y2VwdGlvbltcIlBhc3N3b3JkUmVzZXRSZXF1aXJlZEV4Y2VwdGlvblwiXSA9IFwiUGFzc3dvcmRSZXNldFJlcXVpcmVkRXhjZXB0aW9uXCI7XG4gIEdldFVzZXJBdHRyaWJ1dGVWZXJpZmljYXRpb25FeGNlcHRpb25bXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCJdID0gXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gIEdldFVzZXJBdHRyaWJ1dGVWZXJpZmljYXRpb25FeGNlcHRpb25bXCJUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIl0gPSBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiO1xuICBHZXRVc2VyQXR0cmlidXRlVmVyaWZpY2F0aW9uRXhjZXB0aW9uW1wiVW5leHBlY3RlZExhbWJkYUV4Y2VwdGlvblwiXSA9IFwiVW5leHBlY3RlZExhbWJkYUV4Y2VwdGlvblwiO1xuICBHZXRVc2VyQXR0cmlidXRlVmVyaWZpY2F0aW9uRXhjZXB0aW9uW1wiVXNlckxhbWJkYVZhbGlkYXRpb25FeGNlcHRpb25cIl0gPSBcIlVzZXJMYW1iZGFWYWxpZGF0aW9uRXhjZXB0aW9uXCI7XG4gIEdldFVzZXJBdHRyaWJ1dGVWZXJpZmljYXRpb25FeGNlcHRpb25bXCJVc2VyTm90Q29uZmlybWVkRXhjZXB0aW9uXCJdID0gXCJVc2VyTm90Q29uZmlybWVkRXhjZXB0aW9uXCI7XG4gIEdldFVzZXJBdHRyaWJ1dGVWZXJpZmljYXRpb25FeGNlcHRpb25bXCJVc2VyTm90Rm91bmRFeGNlcHRpb25cIl0gPSBcIlVzZXJOb3RGb3VuZEV4Y2VwdGlvblwiO1xufSkoR2V0VXNlckF0dHJpYnV0ZVZlcmlmaWNhdGlvbkV4Y2VwdGlvbiB8fCAoR2V0VXNlckF0dHJpYnV0ZVZlcmlmaWNhdGlvbkV4Y2VwdGlvbiA9IHt9KSk7XG52YXIgR2xvYmFsU2lnbk91dEV4Y2VwdGlvbjtcbihmdW5jdGlvbiAoR2xvYmFsU2lnbk91dEV4Y2VwdGlvbikge1xuICBHbG9iYWxTaWduT3V0RXhjZXB0aW9uW1wiRm9yYmlkZGVuRXhjZXB0aW9uXCJdID0gXCJGb3JiaWRkZW5FeGNlcHRpb25cIjtcbiAgR2xvYmFsU2lnbk91dEV4Y2VwdGlvbltcIkludGVybmFsRXJyb3JFeGNlcHRpb25cIl0gPSBcIkludGVybmFsRXJyb3JFeGNlcHRpb25cIjtcbiAgR2xvYmFsU2lnbk91dEV4Y2VwdGlvbltcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIl0gPSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjtcbiAgR2xvYmFsU2lnbk91dEV4Y2VwdGlvbltcIk5vdEF1dGhvcml6ZWRFeGNlcHRpb25cIl0gPSBcIk5vdEF1dGhvcml6ZWRFeGNlcHRpb25cIjtcbiAgR2xvYmFsU2lnbk91dEV4Y2VwdGlvbltcIlBhc3N3b3JkUmVzZXRSZXF1aXJlZEV4Y2VwdGlvblwiXSA9IFwiUGFzc3dvcmRSZXNldFJlcXVpcmVkRXhjZXB0aW9uXCI7XG4gIEdsb2JhbFNpZ25PdXRFeGNlcHRpb25bXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCJdID0gXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gIEdsb2JhbFNpZ25PdXRFeGNlcHRpb25bXCJUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIl0gPSBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiO1xuICBHbG9iYWxTaWduT3V0RXhjZXB0aW9uW1wiVXNlck5vdENvbmZpcm1lZEV4Y2VwdGlvblwiXSA9IFwiVXNlck5vdENvbmZpcm1lZEV4Y2VwdGlvblwiO1xufSkoR2xvYmFsU2lnbk91dEV4Y2VwdGlvbiB8fCAoR2xvYmFsU2lnbk91dEV4Y2VwdGlvbiA9IHt9KSk7XG52YXIgSW5pdGlhdGVBdXRoRXhjZXB0aW9uO1xuKGZ1bmN0aW9uIChJbml0aWF0ZUF1dGhFeGNlcHRpb24pIHtcbiAgSW5pdGlhdGVBdXRoRXhjZXB0aW9uW1wiUGFzc3dvcmRSZXNldFJlcXVpcmVkRXhjZXB0aW9uXCJdID0gXCJQYXNzd29yZFJlc2V0UmVxdWlyZWRFeGNlcHRpb25cIjtcbiAgSW5pdGlhdGVBdXRoRXhjZXB0aW9uW1wiRm9yYmlkZGVuRXhjZXB0aW9uXCJdID0gXCJGb3JiaWRkZW5FeGNlcHRpb25cIjtcbiAgSW5pdGlhdGVBdXRoRXhjZXB0aW9uW1wiSW50ZXJuYWxFcnJvckV4Y2VwdGlvblwiXSA9IFwiSW50ZXJuYWxFcnJvckV4Y2VwdGlvblwiO1xuICBJbml0aWF0ZUF1dGhFeGNlcHRpb25bXCJJbnZhbGlkTGFtYmRhUmVzcG9uc2VFeGNlcHRpb25cIl0gPSBcIkludmFsaWRMYW1iZGFSZXNwb25zZUV4Y2VwdGlvblwiO1xuICBJbml0aWF0ZUF1dGhFeGNlcHRpb25bXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCJdID0gXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI7XG4gIEluaXRpYXRlQXV0aEV4Y2VwdGlvbltcIkludmFsaWRTbXNSb2xlQWNjZXNzUG9saWN5RXhjZXB0aW9uXCJdID0gXCJJbnZhbGlkU21zUm9sZUFjY2Vzc1BvbGljeUV4Y2VwdGlvblwiO1xuICBJbml0aWF0ZUF1dGhFeGNlcHRpb25bXCJJbnZhbGlkU21zUm9sZVRydXN0UmVsYXRpb25zaGlwRXhjZXB0aW9uXCJdID0gXCJJbnZhbGlkU21zUm9sZVRydXN0UmVsYXRpb25zaGlwRXhjZXB0aW9uXCI7XG4gIEluaXRpYXRlQXV0aEV4Y2VwdGlvbltcIkludmFsaWRVc2VyUG9vbENvbmZpZ3VyYXRpb25FeGNlcHRpb25cIl0gPSBcIkludmFsaWRVc2VyUG9vbENvbmZpZ3VyYXRpb25FeGNlcHRpb25cIjtcbiAgSW5pdGlhdGVBdXRoRXhjZXB0aW9uW1wiTm90QXV0aG9yaXplZEV4Y2VwdGlvblwiXSA9IFwiTm90QXV0aG9yaXplZEV4Y2VwdGlvblwiO1xuICBJbml0aWF0ZUF1dGhFeGNlcHRpb25bXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCJdID0gXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gIEluaXRpYXRlQXV0aEV4Y2VwdGlvbltcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiXSA9IFwiVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCI7XG4gIEluaXRpYXRlQXV0aEV4Y2VwdGlvbltcIlVuZXhwZWN0ZWRMYW1iZGFFeGNlcHRpb25cIl0gPSBcIlVuZXhwZWN0ZWRMYW1iZGFFeGNlcHRpb25cIjtcbiAgSW5pdGlhdGVBdXRoRXhjZXB0aW9uW1wiVXNlckxhbWJkYVZhbGlkYXRpb25FeGNlcHRpb25cIl0gPSBcIlVzZXJMYW1iZGFWYWxpZGF0aW9uRXhjZXB0aW9uXCI7XG4gIEluaXRpYXRlQXV0aEV4Y2VwdGlvbltcIlVzZXJOb3RDb25maXJtZWRFeGNlcHRpb25cIl0gPSBcIlVzZXJOb3RDb25maXJtZWRFeGNlcHRpb25cIjtcbiAgSW5pdGlhdGVBdXRoRXhjZXB0aW9uW1wiVXNlck5vdEZvdW5kRXhjZXB0aW9uXCJdID0gXCJVc2VyTm90Rm91bmRFeGNlcHRpb25cIjtcbn0pKEluaXRpYXRlQXV0aEV4Y2VwdGlvbiB8fCAoSW5pdGlhdGVBdXRoRXhjZXB0aW9uID0ge30pKTtcbnZhciBSZXNlbmRDb25maXJtYXRpb25FeGNlcHRpb247XG4oZnVuY3Rpb24gKFJlc2VuZENvbmZpcm1hdGlvbkV4Y2VwdGlvbikge1xuICBSZXNlbmRDb25maXJtYXRpb25FeGNlcHRpb25bXCJDb2RlRGVsaXZlcnlGYWlsdXJlRXhjZXB0aW9uXCJdID0gXCJDb2RlRGVsaXZlcnlGYWlsdXJlRXhjZXB0aW9uXCI7XG4gIFJlc2VuZENvbmZpcm1hdGlvbkV4Y2VwdGlvbltcIkZvcmJpZGRlbkV4Y2VwdGlvblwiXSA9IFwiRm9yYmlkZGVuRXhjZXB0aW9uXCI7XG4gIFJlc2VuZENvbmZpcm1hdGlvbkV4Y2VwdGlvbltcIkludGVybmFsRXJyb3JFeGNlcHRpb25cIl0gPSBcIkludGVybmFsRXJyb3JFeGNlcHRpb25cIjtcbiAgUmVzZW5kQ29uZmlybWF0aW9uRXhjZXB0aW9uW1wiSW52YWxpZEVtYWlsUm9sZUFjY2Vzc1BvbGljeUV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZEVtYWlsUm9sZUFjY2Vzc1BvbGljeUV4Y2VwdGlvblwiO1xuICBSZXNlbmRDb25maXJtYXRpb25FeGNlcHRpb25bXCJJbnZhbGlkTGFtYmRhUmVzcG9uc2VFeGNlcHRpb25cIl0gPSBcIkludmFsaWRMYW1iZGFSZXNwb25zZUV4Y2VwdGlvblwiO1xuICBSZXNlbmRDb25maXJtYXRpb25FeGNlcHRpb25bXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCJdID0gXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI7XG4gIFJlc2VuZENvbmZpcm1hdGlvbkV4Y2VwdGlvbltcIkludmFsaWRTbXNSb2xlQWNjZXNzUG9saWN5RXhjZXB0aW9uXCJdID0gXCJJbnZhbGlkU21zUm9sZUFjY2Vzc1BvbGljeUV4Y2VwdGlvblwiO1xuICBSZXNlbmRDb25maXJtYXRpb25FeGNlcHRpb25bXCJJbnZhbGlkU21zUm9sZVRydXN0UmVsYXRpb25zaGlwRXhjZXB0aW9uXCJdID0gXCJJbnZhbGlkU21zUm9sZVRydXN0UmVsYXRpb25zaGlwRXhjZXB0aW9uXCI7XG4gIFJlc2VuZENvbmZpcm1hdGlvbkV4Y2VwdGlvbltcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIl0gPSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjtcbiAgUmVzZW5kQ29uZmlybWF0aW9uRXhjZXB0aW9uW1wiTm90QXV0aG9yaXplZEV4Y2VwdGlvblwiXSA9IFwiTm90QXV0aG9yaXplZEV4Y2VwdGlvblwiO1xuICBSZXNlbmRDb25maXJtYXRpb25FeGNlcHRpb25bXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCJdID0gXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gIFJlc2VuZENvbmZpcm1hdGlvbkV4Y2VwdGlvbltcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiXSA9IFwiVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCI7XG4gIFJlc2VuZENvbmZpcm1hdGlvbkV4Y2VwdGlvbltcIlVuZXhwZWN0ZWRMYW1iZGFFeGNlcHRpb25cIl0gPSBcIlVuZXhwZWN0ZWRMYW1iZGFFeGNlcHRpb25cIjtcbiAgUmVzZW5kQ29uZmlybWF0aW9uRXhjZXB0aW9uW1wiVXNlckxhbWJkYVZhbGlkYXRpb25FeGNlcHRpb25cIl0gPSBcIlVzZXJMYW1iZGFWYWxpZGF0aW9uRXhjZXB0aW9uXCI7XG4gIFJlc2VuZENvbmZpcm1hdGlvbkV4Y2VwdGlvbltcIlVzZXJOb3RGb3VuZEV4Y2VwdGlvblwiXSA9IFwiVXNlck5vdEZvdW5kRXhjZXB0aW9uXCI7XG59KShSZXNlbmRDb25maXJtYXRpb25FeGNlcHRpb24gfHwgKFJlc2VuZENvbmZpcm1hdGlvbkV4Y2VwdGlvbiA9IHt9KSk7XG52YXIgUmVzcG9uZFRvQXV0aENoYWxsZW5nZUV4Y2VwdGlvbjtcbihmdW5jdGlvbiAoUmVzcG9uZFRvQXV0aENoYWxsZW5nZUV4Y2VwdGlvbikge1xuICBSZXNwb25kVG9BdXRoQ2hhbGxlbmdlRXhjZXB0aW9uW1wiQWxpYXNFeGlzdHNFeGNlcHRpb25cIl0gPSBcIkFsaWFzRXhpc3RzRXhjZXB0aW9uXCI7XG4gIFJlc3BvbmRUb0F1dGhDaGFsbGVuZ2VFeGNlcHRpb25bXCJDb2RlTWlzbWF0Y2hFeGNlcHRpb25cIl0gPSBcIkNvZGVNaXNtYXRjaEV4Y2VwdGlvblwiO1xuICBSZXNwb25kVG9BdXRoQ2hhbGxlbmdlRXhjZXB0aW9uW1wiRXhwaXJlZENvZGVFeGNlcHRpb25cIl0gPSBcIkV4cGlyZWRDb2RlRXhjZXB0aW9uXCI7XG4gIFJlc3BvbmRUb0F1dGhDaGFsbGVuZ2VFeGNlcHRpb25bXCJGb3JiaWRkZW5FeGNlcHRpb25cIl0gPSBcIkZvcmJpZGRlbkV4Y2VwdGlvblwiO1xuICBSZXNwb25kVG9BdXRoQ2hhbGxlbmdlRXhjZXB0aW9uW1wiSW50ZXJuYWxFcnJvckV4Y2VwdGlvblwiXSA9IFwiSW50ZXJuYWxFcnJvckV4Y2VwdGlvblwiO1xuICBSZXNwb25kVG9BdXRoQ2hhbGxlbmdlRXhjZXB0aW9uW1wiSW52YWxpZExhbWJkYVJlc3BvbnNlRXhjZXB0aW9uXCJdID0gXCJJbnZhbGlkTGFtYmRhUmVzcG9uc2VFeGNlcHRpb25cIjtcbiAgUmVzcG9uZFRvQXV0aENoYWxsZW5nZUV4Y2VwdGlvbltcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIl0gPSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjtcbiAgUmVzcG9uZFRvQXV0aENoYWxsZW5nZUV4Y2VwdGlvbltcIkludmFsaWRQYXNzd29yZEV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZFBhc3N3b3JkRXhjZXB0aW9uXCI7XG4gIFJlc3BvbmRUb0F1dGhDaGFsbGVuZ2VFeGNlcHRpb25bXCJJbnZhbGlkU21zUm9sZUFjY2Vzc1BvbGljeUV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZFNtc1JvbGVBY2Nlc3NQb2xpY3lFeGNlcHRpb25cIjtcbiAgUmVzcG9uZFRvQXV0aENoYWxsZW5nZUV4Y2VwdGlvbltcIkludmFsaWRTbXNSb2xlVHJ1c3RSZWxhdGlvbnNoaXBFeGNlcHRpb25cIl0gPSBcIkludmFsaWRTbXNSb2xlVHJ1c3RSZWxhdGlvbnNoaXBFeGNlcHRpb25cIjtcbiAgUmVzcG9uZFRvQXV0aENoYWxsZW5nZUV4Y2VwdGlvbltcIkludmFsaWRVc2VyUG9vbENvbmZpZ3VyYXRpb25FeGNlcHRpb25cIl0gPSBcIkludmFsaWRVc2VyUG9vbENvbmZpZ3VyYXRpb25FeGNlcHRpb25cIjtcbiAgUmVzcG9uZFRvQXV0aENoYWxsZW5nZUV4Y2VwdGlvbltcIk1GQU1ldGhvZE5vdEZvdW5kRXhjZXB0aW9uXCJdID0gXCJNRkFNZXRob2ROb3RGb3VuZEV4Y2VwdGlvblwiO1xuICBSZXNwb25kVG9BdXRoQ2hhbGxlbmdlRXhjZXB0aW9uW1wiTm90QXV0aG9yaXplZEV4Y2VwdGlvblwiXSA9IFwiTm90QXV0aG9yaXplZEV4Y2VwdGlvblwiO1xuICBSZXNwb25kVG9BdXRoQ2hhbGxlbmdlRXhjZXB0aW9uW1wiUGFzc3dvcmRSZXNldFJlcXVpcmVkRXhjZXB0aW9uXCJdID0gXCJQYXNzd29yZFJlc2V0UmVxdWlyZWRFeGNlcHRpb25cIjtcbiAgUmVzcG9uZFRvQXV0aENoYWxsZW5nZUV4Y2VwdGlvbltcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIl0gPSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjtcbiAgUmVzcG9uZFRvQXV0aENoYWxsZW5nZUV4Y2VwdGlvbltcIlNvZnR3YXJlVG9rZW5NRkFOb3RGb3VuZEV4Y2VwdGlvblwiXSA9IFwiU29mdHdhcmVUb2tlbk1GQU5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gIFJlc3BvbmRUb0F1dGhDaGFsbGVuZ2VFeGNlcHRpb25bXCJUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIl0gPSBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiO1xuICBSZXNwb25kVG9BdXRoQ2hhbGxlbmdlRXhjZXB0aW9uW1wiVW5leHBlY3RlZExhbWJkYUV4Y2VwdGlvblwiXSA9IFwiVW5leHBlY3RlZExhbWJkYUV4Y2VwdGlvblwiO1xuICBSZXNwb25kVG9BdXRoQ2hhbGxlbmdlRXhjZXB0aW9uW1wiVXNlckxhbWJkYVZhbGlkYXRpb25FeGNlcHRpb25cIl0gPSBcIlVzZXJMYW1iZGFWYWxpZGF0aW9uRXhjZXB0aW9uXCI7XG4gIFJlc3BvbmRUb0F1dGhDaGFsbGVuZ2VFeGNlcHRpb25bXCJVc2VyTm90Q29uZmlybWVkRXhjZXB0aW9uXCJdID0gXCJVc2VyTm90Q29uZmlybWVkRXhjZXB0aW9uXCI7XG4gIFJlc3BvbmRUb0F1dGhDaGFsbGVuZ2VFeGNlcHRpb25bXCJVc2VyTm90Rm91bmRFeGNlcHRpb25cIl0gPSBcIlVzZXJOb3RGb3VuZEV4Y2VwdGlvblwiO1xufSkoUmVzcG9uZFRvQXV0aENoYWxsZW5nZUV4Y2VwdGlvbiB8fCAoUmVzcG9uZFRvQXV0aENoYWxsZW5nZUV4Y2VwdGlvbiA9IHt9KSk7XG52YXIgU2V0VXNlck1GQVByZWZlcmVuY2VFeGNlcHRpb247XG4oZnVuY3Rpb24gKFNldFVzZXJNRkFQcmVmZXJlbmNlRXhjZXB0aW9uKSB7XG4gIFNldFVzZXJNRkFQcmVmZXJlbmNlRXhjZXB0aW9uW1wiRm9yYmlkZGVuRXhjZXB0aW9uXCJdID0gXCJGb3JiaWRkZW5FeGNlcHRpb25cIjtcbiAgU2V0VXNlck1GQVByZWZlcmVuY2VFeGNlcHRpb25bXCJJbnRlcm5hbEVycm9yRXhjZXB0aW9uXCJdID0gXCJJbnRlcm5hbEVycm9yRXhjZXB0aW9uXCI7XG4gIFNldFVzZXJNRkFQcmVmZXJlbmNlRXhjZXB0aW9uW1wiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiO1xuICBTZXRVc2VyTUZBUHJlZmVyZW5jZUV4Y2VwdGlvbltcIk5vdEF1dGhvcml6ZWRFeGNlcHRpb25cIl0gPSBcIk5vdEF1dGhvcml6ZWRFeGNlcHRpb25cIjtcbiAgU2V0VXNlck1GQVByZWZlcmVuY2VFeGNlcHRpb25bXCJQYXNzd29yZFJlc2V0UmVxdWlyZWRFeGNlcHRpb25cIl0gPSBcIlBhc3N3b3JkUmVzZXRSZXF1aXJlZEV4Y2VwdGlvblwiO1xuICBTZXRVc2VyTUZBUHJlZmVyZW5jZUV4Y2VwdGlvbltcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIl0gPSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjtcbiAgU2V0VXNlck1GQVByZWZlcmVuY2VFeGNlcHRpb25bXCJVc2VyTm90Q29uZmlybWVkRXhjZXB0aW9uXCJdID0gXCJVc2VyTm90Q29uZmlybWVkRXhjZXB0aW9uXCI7XG4gIFNldFVzZXJNRkFQcmVmZXJlbmNlRXhjZXB0aW9uW1wiVXNlck5vdEZvdW5kRXhjZXB0aW9uXCJdID0gXCJVc2VyTm90Rm91bmRFeGNlcHRpb25cIjtcbn0pKFNldFVzZXJNRkFQcmVmZXJlbmNlRXhjZXB0aW9uIHx8IChTZXRVc2VyTUZBUHJlZmVyZW5jZUV4Y2VwdGlvbiA9IHt9KSk7XG52YXIgU2lnblVwRXhjZXB0aW9uO1xuKGZ1bmN0aW9uIChTaWduVXBFeGNlcHRpb24pIHtcbiAgU2lnblVwRXhjZXB0aW9uW1wiQ29kZURlbGl2ZXJ5RmFpbHVyZUV4Y2VwdGlvblwiXSA9IFwiQ29kZURlbGl2ZXJ5RmFpbHVyZUV4Y2VwdGlvblwiO1xuICBTaWduVXBFeGNlcHRpb25bXCJJbnRlcm5hbEVycm9yRXhjZXB0aW9uXCJdID0gXCJJbnRlcm5hbEVycm9yRXhjZXB0aW9uXCI7XG4gIFNpZ25VcEV4Y2VwdGlvbltcIkludmFsaWRFbWFpbFJvbGVBY2Nlc3NQb2xpY3lFeGNlcHRpb25cIl0gPSBcIkludmFsaWRFbWFpbFJvbGVBY2Nlc3NQb2xpY3lFeGNlcHRpb25cIjtcbiAgU2lnblVwRXhjZXB0aW9uW1wiSW52YWxpZExhbWJkYVJlc3BvbnNlRXhjZXB0aW9uXCJdID0gXCJJbnZhbGlkTGFtYmRhUmVzcG9uc2VFeGNlcHRpb25cIjtcbiAgU2lnblVwRXhjZXB0aW9uW1wiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiO1xuICBTaWduVXBFeGNlcHRpb25bXCJJbnZhbGlkUGFzc3dvcmRFeGNlcHRpb25cIl0gPSBcIkludmFsaWRQYXNzd29yZEV4Y2VwdGlvblwiO1xuICBTaWduVXBFeGNlcHRpb25bXCJJbnZhbGlkU21zUm9sZUFjY2Vzc1BvbGljeUV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZFNtc1JvbGVBY2Nlc3NQb2xpY3lFeGNlcHRpb25cIjtcbiAgU2lnblVwRXhjZXB0aW9uW1wiSW52YWxpZFNtc1JvbGVUcnVzdFJlbGF0aW9uc2hpcEV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZFNtc1JvbGVUcnVzdFJlbGF0aW9uc2hpcEV4Y2VwdGlvblwiO1xuICBTaWduVXBFeGNlcHRpb25bXCJOb3RBdXRob3JpemVkRXhjZXB0aW9uXCJdID0gXCJOb3RBdXRob3JpemVkRXhjZXB0aW9uXCI7XG4gIFNpZ25VcEV4Y2VwdGlvbltcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIl0gPSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjtcbiAgU2lnblVwRXhjZXB0aW9uW1wiVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCJdID0gXCJUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIjtcbiAgU2lnblVwRXhjZXB0aW9uW1wiVW5leHBlY3RlZExhbWJkYUV4Y2VwdGlvblwiXSA9IFwiVW5leHBlY3RlZExhbWJkYUV4Y2VwdGlvblwiO1xuICBTaWduVXBFeGNlcHRpb25bXCJVc2VyTGFtYmRhVmFsaWRhdGlvbkV4Y2VwdGlvblwiXSA9IFwiVXNlckxhbWJkYVZhbGlkYXRpb25FeGNlcHRpb25cIjtcbiAgU2lnblVwRXhjZXB0aW9uW1wiVXNlcm5hbWVFeGlzdHNFeGNlcHRpb25cIl0gPSBcIlVzZXJuYW1lRXhpc3RzRXhjZXB0aW9uXCI7XG59KShTaWduVXBFeGNlcHRpb24gfHwgKFNpZ25VcEV4Y2VwdGlvbiA9IHt9KSk7XG52YXIgVXBkYXRlVXNlckF0dHJpYnV0ZXNFeGNlcHRpb247XG4oZnVuY3Rpb24gKFVwZGF0ZVVzZXJBdHRyaWJ1dGVzRXhjZXB0aW9uKSB7XG4gIFVwZGF0ZVVzZXJBdHRyaWJ1dGVzRXhjZXB0aW9uW1wiQWxpYXNFeGlzdHNFeGNlcHRpb25cIl0gPSBcIkFsaWFzRXhpc3RzRXhjZXB0aW9uXCI7XG4gIFVwZGF0ZVVzZXJBdHRyaWJ1dGVzRXhjZXB0aW9uW1wiQ29kZURlbGl2ZXJ5RmFpbHVyZUV4Y2VwdGlvblwiXSA9IFwiQ29kZURlbGl2ZXJ5RmFpbHVyZUV4Y2VwdGlvblwiO1xuICBVcGRhdGVVc2VyQXR0cmlidXRlc0V4Y2VwdGlvbltcIkNvZGVNaXNtYXRjaEV4Y2VwdGlvblwiXSA9IFwiQ29kZU1pc21hdGNoRXhjZXB0aW9uXCI7XG4gIFVwZGF0ZVVzZXJBdHRyaWJ1dGVzRXhjZXB0aW9uW1wiRXhwaXJlZENvZGVFeGNlcHRpb25cIl0gPSBcIkV4cGlyZWRDb2RlRXhjZXB0aW9uXCI7XG4gIFVwZGF0ZVVzZXJBdHRyaWJ1dGVzRXhjZXB0aW9uW1wiRm9yYmlkZGVuRXhjZXB0aW9uXCJdID0gXCJGb3JiaWRkZW5FeGNlcHRpb25cIjtcbiAgVXBkYXRlVXNlckF0dHJpYnV0ZXNFeGNlcHRpb25bXCJJbnRlcm5hbEVycm9yRXhjZXB0aW9uXCJdID0gXCJJbnRlcm5hbEVycm9yRXhjZXB0aW9uXCI7XG4gIFVwZGF0ZVVzZXJBdHRyaWJ1dGVzRXhjZXB0aW9uW1wiSW52YWxpZEVtYWlsUm9sZUFjY2Vzc1BvbGljeUV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZEVtYWlsUm9sZUFjY2Vzc1BvbGljeUV4Y2VwdGlvblwiO1xuICBVcGRhdGVVc2VyQXR0cmlidXRlc0V4Y2VwdGlvbltcIkludmFsaWRMYW1iZGFSZXNwb25zZUV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZExhbWJkYVJlc3BvbnNlRXhjZXB0aW9uXCI7XG4gIFVwZGF0ZVVzZXJBdHRyaWJ1dGVzRXhjZXB0aW9uW1wiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiO1xuICBVcGRhdGVVc2VyQXR0cmlidXRlc0V4Y2VwdGlvbltcIkludmFsaWRTbXNSb2xlQWNjZXNzUG9saWN5RXhjZXB0aW9uXCJdID0gXCJJbnZhbGlkU21zUm9sZUFjY2Vzc1BvbGljeUV4Y2VwdGlvblwiO1xuICBVcGRhdGVVc2VyQXR0cmlidXRlc0V4Y2VwdGlvbltcIkludmFsaWRTbXNSb2xlVHJ1c3RSZWxhdGlvbnNoaXBFeGNlcHRpb25cIl0gPSBcIkludmFsaWRTbXNSb2xlVHJ1c3RSZWxhdGlvbnNoaXBFeGNlcHRpb25cIjtcbiAgVXBkYXRlVXNlckF0dHJpYnV0ZXNFeGNlcHRpb25bXCJOb3RBdXRob3JpemVkRXhjZXB0aW9uXCJdID0gXCJOb3RBdXRob3JpemVkRXhjZXB0aW9uXCI7XG4gIFVwZGF0ZVVzZXJBdHRyaWJ1dGVzRXhjZXB0aW9uW1wiUGFzc3dvcmRSZXNldFJlcXVpcmVkRXhjZXB0aW9uXCJdID0gXCJQYXNzd29yZFJlc2V0UmVxdWlyZWRFeGNlcHRpb25cIjtcbiAgVXBkYXRlVXNlckF0dHJpYnV0ZXNFeGNlcHRpb25bXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCJdID0gXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gIFVwZGF0ZVVzZXJBdHRyaWJ1dGVzRXhjZXB0aW9uW1wiVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCJdID0gXCJUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIjtcbiAgVXBkYXRlVXNlckF0dHJpYnV0ZXNFeGNlcHRpb25bXCJVbmV4cGVjdGVkTGFtYmRhRXhjZXB0aW9uXCJdID0gXCJVbmV4cGVjdGVkTGFtYmRhRXhjZXB0aW9uXCI7XG4gIFVwZGF0ZVVzZXJBdHRyaWJ1dGVzRXhjZXB0aW9uW1wiVXNlckxhbWJkYVZhbGlkYXRpb25FeGNlcHRpb25cIl0gPSBcIlVzZXJMYW1iZGFWYWxpZGF0aW9uRXhjZXB0aW9uXCI7XG4gIFVwZGF0ZVVzZXJBdHRyaWJ1dGVzRXhjZXB0aW9uW1wiVXNlck5vdENvbmZpcm1lZEV4Y2VwdGlvblwiXSA9IFwiVXNlck5vdENvbmZpcm1lZEV4Y2VwdGlvblwiO1xuICBVcGRhdGVVc2VyQXR0cmlidXRlc0V4Y2VwdGlvbltcIlVzZXJOb3RGb3VuZEV4Y2VwdGlvblwiXSA9IFwiVXNlck5vdEZvdW5kRXhjZXB0aW9uXCI7XG59KShVcGRhdGVVc2VyQXR0cmlidXRlc0V4Y2VwdGlvbiB8fCAoVXBkYXRlVXNlckF0dHJpYnV0ZXNFeGNlcHRpb24gPSB7fSkpO1xudmFyIFZlcmlmeVNvZnR3YXJlVG9rZW5FeGNlcHRpb247XG4oZnVuY3Rpb24gKFZlcmlmeVNvZnR3YXJlVG9rZW5FeGNlcHRpb24pIHtcbiAgVmVyaWZ5U29mdHdhcmVUb2tlbkV4Y2VwdGlvbltcIkNvZGVNaXNtYXRjaEV4Y2VwdGlvblwiXSA9IFwiQ29kZU1pc21hdGNoRXhjZXB0aW9uXCI7XG4gIFZlcmlmeVNvZnR3YXJlVG9rZW5FeGNlcHRpb25bXCJFbmFibGVTb2Z0d2FyZVRva2VuTUZBRXhjZXB0aW9uXCJdID0gXCJFbmFibGVTb2Z0d2FyZVRva2VuTUZBRXhjZXB0aW9uXCI7XG4gIFZlcmlmeVNvZnR3YXJlVG9rZW5FeGNlcHRpb25bXCJGb3JiaWRkZW5FeGNlcHRpb25cIl0gPSBcIkZvcmJpZGRlbkV4Y2VwdGlvblwiO1xuICBWZXJpZnlTb2Z0d2FyZVRva2VuRXhjZXB0aW9uW1wiSW50ZXJuYWxFcnJvckV4Y2VwdGlvblwiXSA9IFwiSW50ZXJuYWxFcnJvckV4Y2VwdGlvblwiO1xuICBWZXJpZnlTb2Z0d2FyZVRva2VuRXhjZXB0aW9uW1wiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiO1xuICBWZXJpZnlTb2Z0d2FyZVRva2VuRXhjZXB0aW9uW1wiSW52YWxpZFVzZXJQb29sQ29uZmlndXJhdGlvbkV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZFVzZXJQb29sQ29uZmlndXJhdGlvbkV4Y2VwdGlvblwiO1xuICBWZXJpZnlTb2Z0d2FyZVRva2VuRXhjZXB0aW9uW1wiTm90QXV0aG9yaXplZEV4Y2VwdGlvblwiXSA9IFwiTm90QXV0aG9yaXplZEV4Y2VwdGlvblwiO1xuICBWZXJpZnlTb2Z0d2FyZVRva2VuRXhjZXB0aW9uW1wiUGFzc3dvcmRSZXNldFJlcXVpcmVkRXhjZXB0aW9uXCJdID0gXCJQYXNzd29yZFJlc2V0UmVxdWlyZWRFeGNlcHRpb25cIjtcbiAgVmVyaWZ5U29mdHdhcmVUb2tlbkV4Y2VwdGlvbltcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIl0gPSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjtcbiAgVmVyaWZ5U29mdHdhcmVUb2tlbkV4Y2VwdGlvbltcIlNvZnR3YXJlVG9rZW5NRkFOb3RGb3VuZEV4Y2VwdGlvblwiXSA9IFwiU29mdHdhcmVUb2tlbk1GQU5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gIFZlcmlmeVNvZnR3YXJlVG9rZW5FeGNlcHRpb25bXCJUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIl0gPSBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiO1xuICBWZXJpZnlTb2Z0d2FyZVRva2VuRXhjZXB0aW9uW1wiVXNlck5vdENvbmZpcm1lZEV4Y2VwdGlvblwiXSA9IFwiVXNlck5vdENvbmZpcm1lZEV4Y2VwdGlvblwiO1xuICBWZXJpZnlTb2Z0d2FyZVRva2VuRXhjZXB0aW9uW1wiVXNlck5vdEZvdW5kRXhjZXB0aW9uXCJdID0gXCJVc2VyTm90Rm91bmRFeGNlcHRpb25cIjtcbn0pKFZlcmlmeVNvZnR3YXJlVG9rZW5FeGNlcHRpb24gfHwgKFZlcmlmeVNvZnR3YXJlVG9rZW5FeGNlcHRpb24gPSB7fSkpO1xudmFyIFZlcmlmeVVzZXJBdHRyaWJ1dGVFeGNlcHRpb247XG4oZnVuY3Rpb24gKFZlcmlmeVVzZXJBdHRyaWJ1dGVFeGNlcHRpb24pIHtcbiAgVmVyaWZ5VXNlckF0dHJpYnV0ZUV4Y2VwdGlvbltcIkFsaWFzRXhpc3RzRXhjZXB0aW9uXCJdID0gXCJBbGlhc0V4aXN0c0V4Y2VwdGlvblwiO1xuICBWZXJpZnlVc2VyQXR0cmlidXRlRXhjZXB0aW9uW1wiQ29kZU1pc21hdGNoRXhjZXB0aW9uXCJdID0gXCJDb2RlTWlzbWF0Y2hFeGNlcHRpb25cIjtcbiAgVmVyaWZ5VXNlckF0dHJpYnV0ZUV4Y2VwdGlvbltcIkV4cGlyZWRDb2RlRXhjZXB0aW9uXCJdID0gXCJFeHBpcmVkQ29kZUV4Y2VwdGlvblwiO1xuICBWZXJpZnlVc2VyQXR0cmlidXRlRXhjZXB0aW9uW1wiRm9yYmlkZGVuRXhjZXB0aW9uXCJdID0gXCJGb3JiaWRkZW5FeGNlcHRpb25cIjtcbiAgVmVyaWZ5VXNlckF0dHJpYnV0ZUV4Y2VwdGlvbltcIkludGVybmFsRXJyb3JFeGNlcHRpb25cIl0gPSBcIkludGVybmFsRXJyb3JFeGNlcHRpb25cIjtcbiAgVmVyaWZ5VXNlckF0dHJpYnV0ZUV4Y2VwdGlvbltcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIl0gPSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjtcbiAgVmVyaWZ5VXNlckF0dHJpYnV0ZUV4Y2VwdGlvbltcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIl0gPSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjtcbiAgVmVyaWZ5VXNlckF0dHJpYnV0ZUV4Y2VwdGlvbltcIk5vdEF1dGhvcml6ZWRFeGNlcHRpb25cIl0gPSBcIk5vdEF1dGhvcml6ZWRFeGNlcHRpb25cIjtcbiAgVmVyaWZ5VXNlckF0dHJpYnV0ZUV4Y2VwdGlvbltcIlBhc3N3b3JkUmVzZXRSZXF1aXJlZEV4Y2VwdGlvblwiXSA9IFwiUGFzc3dvcmRSZXNldFJlcXVpcmVkRXhjZXB0aW9uXCI7XG4gIFZlcmlmeVVzZXJBdHRyaWJ1dGVFeGNlcHRpb25bXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCJdID0gXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gIFZlcmlmeVVzZXJBdHRyaWJ1dGVFeGNlcHRpb25bXCJUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIl0gPSBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiO1xuICBWZXJpZnlVc2VyQXR0cmlidXRlRXhjZXB0aW9uW1wiVXNlck5vdENvbmZpcm1lZEV4Y2VwdGlvblwiXSA9IFwiVXNlck5vdENvbmZpcm1lZEV4Y2VwdGlvblwiO1xuICBWZXJpZnlVc2VyQXR0cmlidXRlRXhjZXB0aW9uW1wiVXNlck5vdEZvdW5kRXhjZXB0aW9uXCJdID0gXCJVc2VyTm90Rm91bmRFeGNlcHRpb25cIjtcbn0pKFZlcmlmeVVzZXJBdHRyaWJ1dGVFeGNlcHRpb24gfHwgKFZlcmlmeVVzZXJBdHRyaWJ1dGVFeGNlcHRpb24gPSB7fSkpO1xudmFyIFVwZGF0ZURldmljZVN0YXR1c0V4Y2VwdGlvbjtcbihmdW5jdGlvbiAoVXBkYXRlRGV2aWNlU3RhdHVzRXhjZXB0aW9uKSB7XG4gIFVwZGF0ZURldmljZVN0YXR1c0V4Y2VwdGlvbltcIkZvcmJpZGRlbkV4Y2VwdGlvblwiXSA9IFwiRm9yYmlkZGVuRXhjZXB0aW9uXCI7XG4gIFVwZGF0ZURldmljZVN0YXR1c0V4Y2VwdGlvbltcIkludGVybmFsRXJyb3JFeGNlcHRpb25cIl0gPSBcIkludGVybmFsRXJyb3JFeGNlcHRpb25cIjtcbiAgVXBkYXRlRGV2aWNlU3RhdHVzRXhjZXB0aW9uW1wiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiO1xuICBVcGRhdGVEZXZpY2VTdGF0dXNFeGNlcHRpb25bXCJJbnZhbGlkVXNlclBvb2xDb25maWd1cmF0aW9uRXhjZXB0aW9uXCJdID0gXCJJbnZhbGlkVXNlclBvb2xDb25maWd1cmF0aW9uRXhjZXB0aW9uXCI7XG4gIFVwZGF0ZURldmljZVN0YXR1c0V4Y2VwdGlvbltcIk5vdEF1dGhvcml6ZWRFeGNlcHRpb25cIl0gPSBcIk5vdEF1dGhvcml6ZWRFeGNlcHRpb25cIjtcbiAgVXBkYXRlRGV2aWNlU3RhdHVzRXhjZXB0aW9uW1wiUGFzc3dvcmRSZXNldFJlcXVpcmVkRXhjZXB0aW9uXCJdID0gXCJQYXNzd29yZFJlc2V0UmVxdWlyZWRFeGNlcHRpb25cIjtcbiAgVXBkYXRlRGV2aWNlU3RhdHVzRXhjZXB0aW9uW1wiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiXSA9IFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiO1xuICBVcGRhdGVEZXZpY2VTdGF0dXNFeGNlcHRpb25bXCJUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIl0gPSBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiO1xuICBVcGRhdGVEZXZpY2VTdGF0dXNFeGNlcHRpb25bXCJVc2VyTm90Q29uZmlybWVkRXhjZXB0aW9uXCJdID0gXCJVc2VyTm90Q29uZmlybWVkRXhjZXB0aW9uXCI7XG4gIFVwZGF0ZURldmljZVN0YXR1c0V4Y2VwdGlvbltcIlVzZXJOb3RGb3VuZEV4Y2VwdGlvblwiXSA9IFwiVXNlck5vdEZvdW5kRXhjZXB0aW9uXCI7XG59KShVcGRhdGVEZXZpY2VTdGF0dXNFeGNlcHRpb24gfHwgKFVwZGF0ZURldmljZVN0YXR1c0V4Y2VwdGlvbiA9IHt9KSk7XG52YXIgTGlzdERldmljZXNFeGNlcHRpb247XG4oZnVuY3Rpb24gKExpc3REZXZpY2VzRXhjZXB0aW9uKSB7XG4gIExpc3REZXZpY2VzRXhjZXB0aW9uW1wiRm9yYmlkZGVuRXhjZXB0aW9uXCJdID0gXCJGb3JiaWRkZW5FeGNlcHRpb25cIjtcbiAgTGlzdERldmljZXNFeGNlcHRpb25bXCJJbnRlcm5hbEVycm9yRXhjZXB0aW9uXCJdID0gXCJJbnRlcm5hbEVycm9yRXhjZXB0aW9uXCI7XG4gIExpc3REZXZpY2VzRXhjZXB0aW9uW1wiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiXSA9IFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiO1xuICBMaXN0RGV2aWNlc0V4Y2VwdGlvbltcIkludmFsaWRVc2VyUG9vbENvbmZpZ3VyYXRpb25FeGNlcHRpb25cIl0gPSBcIkludmFsaWRVc2VyUG9vbENvbmZpZ3VyYXRpb25FeGNlcHRpb25cIjtcbiAgTGlzdERldmljZXNFeGNlcHRpb25bXCJOb3RBdXRob3JpemVkRXhjZXB0aW9uXCJdID0gXCJOb3RBdXRob3JpemVkRXhjZXB0aW9uXCI7XG4gIExpc3REZXZpY2VzRXhjZXB0aW9uW1wiUGFzc3dvcmRSZXNldFJlcXVpcmVkRXhjZXB0aW9uXCJdID0gXCJQYXNzd29yZFJlc2V0UmVxdWlyZWRFeGNlcHRpb25cIjtcbiAgTGlzdERldmljZXNFeGNlcHRpb25bXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCJdID0gXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gIExpc3REZXZpY2VzRXhjZXB0aW9uW1wiVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCJdID0gXCJUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIjtcbiAgTGlzdERldmljZXNFeGNlcHRpb25bXCJVc2VyTm90Q29uZmlybWVkRXhjZXB0aW9uXCJdID0gXCJVc2VyTm90Q29uZmlybWVkRXhjZXB0aW9uXCI7XG4gIExpc3REZXZpY2VzRXhjZXB0aW9uW1wiVXNlck5vdEZvdW5kRXhjZXB0aW9uXCJdID0gXCJVc2VyTm90Rm91bmRFeGNlcHRpb25cIjtcbn0pKExpc3REZXZpY2VzRXhjZXB0aW9uIHx8IChMaXN0RGV2aWNlc0V4Y2VwdGlvbiA9IHt9KSk7XG5jb25zdCBTRVRVUF9UT1RQX0VYQ0VQVElPTiA9ICdTZXRVcFRPVFBFeGNlcHRpb24nO1xuZXhwb3J0IHsgQXNzb2NpYXRlU29mdHdhcmVUb2tlbkV4Y2VwdGlvbiwgQ2hhbmdlUGFzc3dvcmRFeGNlcHRpb24sIENvbmZpcm1EZXZpY2VFeGNlcHRpb24sIENvbmZpcm1Gb3Jnb3RQYXNzd29yZEV4Y2VwdGlvbiwgQ29uZmlybVNpZ25VcEV4Y2VwdGlvbiwgRGVsZXRlVXNlckF0dHJpYnV0ZXNFeGNlcHRpb24sIERlbGV0ZVVzZXJFeGNlcHRpb24sIEZvcmdldERldmljZUV4Y2VwdGlvbiwgRm9yZ290UGFzc3dvcmRFeGNlcHRpb24sIEdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHlFeGNlcHRpb24sIEdldElkRXhjZXB0aW9uLCBHZXRVc2VyQXR0cmlidXRlVmVyaWZpY2F0aW9uRXhjZXB0aW9uLCBHZXRVc2VyRXhjZXB0aW9uLCBHbG9iYWxTaWduT3V0RXhjZXB0aW9uLCBJbml0aWF0ZUF1dGhFeGNlcHRpb24sIExpc3REZXZpY2VzRXhjZXB0aW9uLCBSZXNlbmRDb25maXJtYXRpb25FeGNlcHRpb24sIFJlc3BvbmRUb0F1dGhDaGFsbGVuZ2VFeGNlcHRpb24sIFNFVFVQX1RPVFBfRVhDRVBUSU9OLCBTZXRVc2VyTUZBUHJlZmVyZW5jZUV4Y2VwdGlvbiwgU2lnblVwRXhjZXB0aW9uLCBVcGRhdGVEZXZpY2VTdGF0dXNFeGNlcHRpb24sIFVwZGF0ZVVzZXJBdHRyaWJ1dGVzRXhjZXB0aW9uLCBWZXJpZnlTb2Z0d2FyZVRva2VuRXhjZXB0aW9uLCBWZXJpZnlVc2VyQXR0cmlidXRlRXhjZXB0aW9uIH07XG4iLCIvLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBjcmVhdGVVc2VyUG9vbFNlcmlhbGl6ZXIgPSBvcGVyYXRpb24gPT4gKGlucHV0LCBlbmRwb2ludCkgPT4ge1xuICBjb25zdCBoZWFkZXJzID0gZ2V0U2hhcmVkSGVhZGVycyhvcGVyYXRpb24pO1xuICBjb25zdCBib2R5ID0gSlNPTi5zdHJpbmdpZnkoaW5wdXQpO1xuICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChlbmRwb2ludCwgaGVhZGVycywgYm9keSk7XG59O1xuY29uc3QgZ2V0U2hhcmVkSGVhZGVycyA9IG9wZXJhdGlvbiA9PiAoe1xuICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtYW16LWpzb24tMS4xJyxcbiAgJ3gtYW16LXRhcmdldCc6IGBBV1NDb2duaXRvSWRlbnRpdHlQcm92aWRlclNlcnZpY2UuJHtvcGVyYXRpb259YFxufSk7XG5jb25zdCBidWlsZEh0dHBScGNSZXF1ZXN0ID0gKHtcbiAgdXJsXG59LCBoZWFkZXJzLCBib2R5KSA9PiAoe1xuICBoZWFkZXJzLFxuICB1cmwsXG4gIGJvZHksXG4gIG1ldGhvZDogJ1BPU1QnXG59KTtcbmV4cG9ydCB7IGNyZWF0ZVVzZXJQb29sU2VyaWFsaXplciB9O1xuIiwiaW1wb3J0IHsgQW1wbGlmeUVycm9yQ29kZSB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5pbXBvcnQgeyBBdXRoRXJyb3IgfSBmcm9tICcuLi9BdXRoRXJyb3IubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuZnVuY3Rpb24gYXNzZXJ0U2VydmljZUVycm9yKGVycm9yKSB7XG4gIGlmICghZXJyb3IgfHwgZXJyb3IubmFtZSA9PT0gJ0Vycm9yJyB8fCBlcnJvciBpbnN0YW5jZW9mIFR5cGVFcnJvcikge1xuICAgIHRocm93IG5ldyBBdXRoRXJyb3Ioe1xuICAgICAgbmFtZTogQW1wbGlmeUVycm9yQ29kZS5Vbmtub3duLFxuICAgICAgbWVzc2FnZTogJ0FuIHVua25vd24gZXJyb3IgaGFzIG9jY3VycmVkLicsXG4gICAgICB1bmRlcmx5aW5nRXJyb3I6IGVycm9yXG4gICAgfSk7XG4gIH1cbn1cbmV4cG9ydCB7IGFzc2VydFNlcnZpY2VFcnJvciB9O1xuIiwiaW1wb3J0IHsgcGFyc2VKc29uRXJyb3IsIHBhcnNlSnNvbkJvZHkgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscyc7XG5pbXBvcnQgeyBhc3NlcnRTZXJ2aWNlRXJyb3IgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi8uLi9lcnJvcnMvdXRpbHMvYXNzZXJ0U2VydmljZUVycm9yLm1qcyc7XG5pbXBvcnQgeyBBdXRoRXJyb3IgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi8uLi9lcnJvcnMvQXV0aEVycm9yLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IGNyZWF0ZVVzZXJQb29sRGVzZXJpYWxpemVyID0gKCkgPT4gYXN5bmMgcmVzcG9uc2UgPT4ge1xuICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICBjb25zdCBlcnJvciA9IGF3YWl0IHBhcnNlSnNvbkVycm9yKHJlc3BvbnNlKTtcbiAgICBhc3NlcnRTZXJ2aWNlRXJyb3IoZXJyb3IpO1xuICAgIHRocm93IG5ldyBBdXRoRXJyb3Ioe1xuICAgICAgbmFtZTogZXJyb3IubmFtZSxcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICBtZXRhZGF0YTogZXJyb3IuJG1ldGFkYXRhXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHBhcnNlSnNvbkJvZHkocmVzcG9uc2UpO1xufTtcbmV4cG9ydCB7IGNyZWF0ZVVzZXJQb29sRGVzZXJpYWxpemVyIH07XG4iLCJpbXBvcnQgeyBjb21wb3NlU2VydmljZUFwaSB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy9hd3MtY2xpZW50LXV0aWxzL2NvbXBvc2Vycyc7XG5pbXBvcnQgeyBjb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIgfSBmcm9tICcuL3NoYXJlZC9oYW5kbGVyL2NvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlci5tanMnO1xuaW1wb3J0IHsgY3JlYXRlVXNlclBvb2xTZXJpYWxpemVyIH0gZnJvbSAnLi9zaGFyZWQvc2VyZGUvY3JlYXRlVXNlclBvb2xTZXJpYWxpemVyLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVVc2VyUG9vbERlc2VyaWFsaXplciB9IGZyb20gJy4vc2hhcmVkL3NlcmRlL2NyZWF0ZVVzZXJQb29sRGVzZXJpYWxpemVyLm1qcyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy9hd3MtY2xpZW50LXV0aWxzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL3V0aWxzJztcbmltcG9ydCB7IERFRkFVTFRfU0VSVklDRV9DTElFTlRfQVBJX0NPTkZJRyB9IGZyb20gJy4vY29uc3RhbnRzLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IGNyZWF0ZUZvcmdvdFBhc3N3b3JkQ2xpZW50ID0gY29uZmlnID0+IGNvbXBvc2VTZXJ2aWNlQXBpKGNvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlciwgY3JlYXRlVXNlclBvb2xTZXJpYWxpemVyKCdGb3Jnb3RQYXNzd29yZCcpLCBjcmVhdGVVc2VyUG9vbERlc2VyaWFsaXplcigpLCB7XG4gIC4uLkRFRkFVTFRfU0VSVklDRV9DTElFTlRfQVBJX0NPTkZJRyxcbiAgLi4uY29uZmlnXG59KTtcbmV4cG9ydCB7IGNyZWF0ZUZvcmdvdFBhc3N3b3JkQ2xpZW50IH07XG4iLCJpbXBvcnQgeyBnZXREbnNTdWZmaXggfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscyc7XG5pbXBvcnQgeyBBbXBsaWZ5VXJsIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL3V0aWxzJztcbmltcG9ydCB7IENPR05JVE9fSURQX1NFUlZJQ0VfTkFNRSB9IGZyb20gJy4vY29uc3RhbnRzLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IGNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIgPSAoe1xuICByZWdpb25cbn0pID0+ICh7XG4gIHVybDogbmV3IEFtcGxpZnlVcmwoYGh0dHBzOi8vJHtDT0dOSVRPX0lEUF9TRVJWSUNFX05BTUV9LiR7cmVnaW9ufS4ke2dldERuc1N1ZmZpeChyZWdpb24pfWApXG59KTtcbmV4cG9ydCB7IGNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIgfTtcbiIsImltcG9ydCB7IEFtcGxpZnlVcmwgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuaW1wb3J0IHsgY29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlciB9IGZyb20gJy4uLy4uLy4uL2ZvdW5kYXRpb24vY29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlci5tanMnO1xuY29uc3QgY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlciA9ICh7XG4gIGVuZHBvaW50T3ZlcnJpZGVcbn0pID0+IGlucHV0ID0+IHtcbiAgaWYgKGVuZHBvaW50T3ZlcnJpZGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXJsOiBuZXcgQW1wbGlmeVVybChlbmRwb2ludE92ZXJyaWRlKVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIGNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIoaW5wdXQpO1xufTtcbmV4cG9ydCB7IGNyZWF0ZUNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIgfTtcbiIsImltcG9ydCB7IEFtcGxpZnkgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZSc7XG5pbXBvcnQgeyBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnLCBBdXRoQWN0aW9uIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL3V0aWxzJztcbmltcG9ydCB7IEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3JzL3R5cGVzL3ZhbGlkYXRpb24ubWpzJztcbmltcG9ydCB7IGFzc2VydFZhbGlkYXRpb25FcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9ycy91dGlscy9hc3NlcnRWYWxpZGF0aW9uRXJyb3IubWpzJztcbmltcG9ydCB7IGdldFJlZ2lvbkZyb21Vc2VyUG9vbElkIH0gZnJvbSAnLi4vLi4vLi4vZm91bmRhdGlvbi9wYXJzZXJzL3JlZ2lvblBhcnNlcnMubWpzJztcbmltcG9ydCB7IGdldEF1dGhVc2VyQWdlbnRWYWx1ZSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2dldEF1dGhVc2VyQWdlbnRWYWx1ZS5tanMnO1xuaW1wb3J0IHsgZ2V0VXNlckNvbnRleHREYXRhIH0gZnJvbSAnLi4vdXRpbHMvdXNlckNvbnRleHREYXRhLm1qcyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy9hd3MtY2xpZW50LXV0aWxzL2NvbXBvc2Vycyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy9hd3MtY2xpZW50LXV0aWxzJztcbmltcG9ydCAnLi4vLi4vLi4vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvc2hhcmVkL2hhbmRsZXIvY29nbml0b1VzZXJQb29sVHJhbnNmZXJIYW5kbGVyLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eVByb3ZpZGVyL2NvbnN0YW50cy5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi9jb21tb24vQXV0aEVycm9yU3RyaW5ncy5tanMnO1xuaW1wb3J0ICcuLi90eXBlcy9lcnJvcnMubWpzJztcbmltcG9ydCB7IGNyZWF0ZUZvcmdvdFBhc3N3b3JkQ2xpZW50IH0gZnJvbSAnLi4vLi4vLi4vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvY3JlYXRlRm9yZ290UGFzc3dvcmRDbGllbnQubWpzJztcbmltcG9ydCB7IGNyZWF0ZUNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIgfSBmcm9tICcuLi9mYWN0b3JpZXMvY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlci5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIFJlc2V0cyBhIHVzZXIncyBwYXNzd29yZC5cbiAqXG4gKiBAcGFyYW0gaW5wdXQgLSAgVGhlIFJlc2V0UGFzc3dvcmRJbnB1dCBvYmplY3QuXG4gKiBAcmV0dXJucyBSZXNldFBhc3N3b3JkT3V0cHV0XG4gKiBAdGhyb3dzIC17QGxpbmsgRm9yZ290UGFzc3dvcmRFeGNlcHRpb24gfVxuICogVGhyb3duIGR1ZSB0byBhbiBpbnZhbGlkIGNvbmZpcm1hdGlvbiBjb2RlIG9yIHBhc3N3b3JkLlxuICogQHRocm93cyAte0BsaW5rIEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlIH1cbiAqIFRocm93biBkdWUgdG8gYW4gZW1wdHkgdXNlcm5hbWUuXG4gKiBAdGhyb3dzIEF1dGhUb2tlbkNvbmZpZ0V4Y2VwdGlvbiAtIFRocm93biB3aGVuIHRoZSB0b2tlbiBwcm92aWRlciBjb25maWcgaXMgaW52YWxpZC5cbiAqKi9cbmFzeW5jIGZ1bmN0aW9uIHJlc2V0UGFzc3dvcmQoaW5wdXQpIHtcbiAgY29uc3Qge1xuICAgIHVzZXJuYW1lXG4gIH0gPSBpbnB1dDtcbiAgYXNzZXJ0VmFsaWRhdGlvbkVycm9yKCEhdXNlcm5hbWUsIEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlLkVtcHR5UmVzZXRQYXNzd29yZFVzZXJuYW1lKTtcbiAgY29uc3QgYXV0aENvbmZpZyA9IEFtcGxpZnkuZ2V0Q29uZmlnKCkuQXV0aD8uQ29nbml0bztcbiAgYXNzZXJ0VG9rZW5Qcm92aWRlckNvbmZpZyhhdXRoQ29uZmlnKTtcbiAgY29uc3Qge1xuICAgIHVzZXJQb29sQ2xpZW50SWQsXG4gICAgdXNlclBvb2xJZCxcbiAgICB1c2VyUG9vbEVuZHBvaW50XG4gIH0gPSBhdXRoQ29uZmlnO1xuICBjb25zdCBjbGllbnRNZXRhZGF0YSA9IGlucHV0Lm9wdGlvbnM/LmNsaWVudE1ldGFkYXRhO1xuICBjb25zdCBVc2VyQ29udGV4dERhdGEgPSBnZXRVc2VyQ29udGV4dERhdGEoe1xuICAgIHVzZXJuYW1lLFxuICAgIHVzZXJQb29sSWQsXG4gICAgdXNlclBvb2xDbGllbnRJZFxuICB9KTtcbiAgY29uc3QgZm9yZ290UGFzc3dvcmQgPSBjcmVhdGVGb3Jnb3RQYXNzd29yZENsaWVudCh7XG4gICAgZW5kcG9pbnRSZXNvbHZlcjogY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlcih7XG4gICAgICBlbmRwb2ludE92ZXJyaWRlOiB1c2VyUG9vbEVuZHBvaW50XG4gICAgfSlcbiAgfSk7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZvcmdvdFBhc3N3b3JkKHtcbiAgICByZWdpb246IGdldFJlZ2lvbkZyb21Vc2VyUG9vbElkKHVzZXJQb29sSWQpLFxuICAgIHVzZXJBZ2VudFZhbHVlOiBnZXRBdXRoVXNlckFnZW50VmFsdWUoQXV0aEFjdGlvbi5SZXNldFBhc3N3b3JkKVxuICB9LCB7XG4gICAgVXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgIENsaWVudE1ldGFkYXRhOiBjbGllbnRNZXRhZGF0YSxcbiAgICBDbGllbnRJZDogdXNlclBvb2xDbGllbnRJZCxcbiAgICBVc2VyQ29udGV4dERhdGFcbiAgfSk7XG4gIGNvbnN0IGNvZGVEZWxpdmVyeURldGFpbHMgPSByZXMuQ29kZURlbGl2ZXJ5RGV0YWlscztcbiAgcmV0dXJuIHtcbiAgICBpc1Bhc3N3b3JkUmVzZXQ6IGZhbHNlLFxuICAgIG5leHRTdGVwOiB7XG4gICAgICByZXNldFBhc3N3b3JkU3RlcDogJ0NPTkZJUk1fUkVTRVRfUEFTU1dPUkRfV0lUSF9DT0RFJyxcbiAgICAgIGNvZGVEZWxpdmVyeURldGFpbHM6IHtcbiAgICAgICAgZGVsaXZlcnlNZWRpdW06IGNvZGVEZWxpdmVyeURldGFpbHM/LkRlbGl2ZXJ5TWVkaXVtLFxuICAgICAgICBkZXN0aW5hdGlvbjogY29kZURlbGl2ZXJ5RGV0YWlscz8uRGVzdGluYXRpb24sXG4gICAgICAgIGF0dHJpYnV0ZU5hbWU6IGNvZGVEZWxpdmVyeURldGFpbHM/LkF0dHJpYnV0ZU5hbWVcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5leHBvcnQgeyByZXNldFBhc3N3b3JkIH07XG4iLCJpbXBvcnQgeyBjb21wb3NlU2VydmljZUFwaSB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy9hd3MtY2xpZW50LXV0aWxzL2NvbXBvc2Vycyc7XG5pbXBvcnQgeyBjb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIgfSBmcm9tICcuL3NoYXJlZC9oYW5kbGVyL2NvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlci5tanMnO1xuaW1wb3J0IHsgY3JlYXRlVXNlclBvb2xTZXJpYWxpemVyIH0gZnJvbSAnLi9zaGFyZWQvc2VyZGUvY3JlYXRlVXNlclBvb2xTZXJpYWxpemVyLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVVc2VyUG9vbERlc2VyaWFsaXplciB9IGZyb20gJy4vc2hhcmVkL3NlcmRlL2NyZWF0ZVVzZXJQb29sRGVzZXJpYWxpemVyLm1qcyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy9hd3MtY2xpZW50LXV0aWxzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL3V0aWxzJztcbmltcG9ydCB7IERFRkFVTFRfU0VSVklDRV9DTElFTlRfQVBJX0NPTkZJRyB9IGZyb20gJy4vY29uc3RhbnRzLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IGNyZWF0ZUNvbmZpcm1Gb3Jnb3RQYXNzd29yZENsaWVudCA9IGNvbmZpZyA9PiBjb21wb3NlU2VydmljZUFwaShjb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIsIGNyZWF0ZVVzZXJQb29sU2VyaWFsaXplcignQ29uZmlybUZvcmdvdFBhc3N3b3JkJyksIGNyZWF0ZVVzZXJQb29sRGVzZXJpYWxpemVyKCksIHtcbiAgLi4uREVGQVVMVF9TRVJWSUNFX0NMSUVOVF9BUElfQ09ORklHLFxuICAuLi5jb25maWdcbn0pO1xuZXhwb3J0IHsgY3JlYXRlQ29uZmlybUZvcmdvdFBhc3N3b3JkQ2xpZW50IH07XG4iLCJpbXBvcnQgeyBBbXBsaWZ5IH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUnO1xuaW1wb3J0IHsgYXNzZXJ0VG9rZW5Qcm92aWRlckNvbmZpZywgQXV0aEFjdGlvbiB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5pbXBvcnQgeyBBdXRoVmFsaWRhdGlvbkVycm9yQ29kZSB9IGZyb20gJy4uLy4uLy4uL2Vycm9ycy90eXBlcy92YWxpZGF0aW9uLm1qcyc7XG5pbXBvcnQgeyBhc3NlcnRWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvcnMvdXRpbHMvYXNzZXJ0VmFsaWRhdGlvbkVycm9yLm1qcyc7XG5pbXBvcnQgeyBnZXRBdXRoVXNlckFnZW50VmFsdWUgfSBmcm9tICcuLi8uLi8uLi91dGlscy9nZXRBdXRoVXNlckFnZW50VmFsdWUubWpzJztcbmltcG9ydCB7IGdldFVzZXJDb250ZXh0RGF0YSB9IGZyb20gJy4uL3V0aWxzL3VzZXJDb250ZXh0RGF0YS5tanMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscy9jb21wb3NlcnMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscyc7XG5pbXBvcnQgJy4uLy4uLy4uL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eVByb3ZpZGVyL3NoYXJlZC9oYW5kbGVyL2NvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlci5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9jb25zdGFudHMubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vY29tbW9uL0F1dGhFcnJvclN0cmluZ3MubWpzJztcbmltcG9ydCAnLi4vdHlwZXMvZXJyb3JzLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVDb25maXJtRm9yZ290UGFzc3dvcmRDbGllbnQgfSBmcm9tICcuLi8uLi8uLi9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9jcmVhdGVDb25maXJtRm9yZ290UGFzc3dvcmRDbGllbnQubWpzJztcbmltcG9ydCB7IGNyZWF0ZUNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIgfSBmcm9tICcuLi9mYWN0b3JpZXMvY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlci5tanMnO1xuaW1wb3J0IHsgZ2V0UmVnaW9uRnJvbVVzZXJQb29sSWQgfSBmcm9tICcuLi8uLi8uLi9mb3VuZGF0aW9uL3BhcnNlcnMvcmVnaW9uUGFyc2Vycy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIENvbmZpcm1zIHRoZSBuZXcgcGFzc3dvcmQgYW5kIHZlcmlmaWNhdGlvbiBjb2RlIHRvIHJlc2V0IHRoZSBwYXNzd29yZC5cbiAqXG4gKiBAcGFyYW0gaW5wdXQgLSAgVGhlIENvbmZpcm1SZXNldFBhc3N3b3JkSW5wdXQgb2JqZWN0LlxuICogQHRocm93cyAte0BsaW5rIENvbmZpcm1Gb3Jnb3RQYXNzd29yZEV4Y2VwdGlvbiB9XG4gKiBUaHJvd24gZHVlIHRvIGFuIGludmFsaWQgY29uZmlybWF0aW9uIGNvZGUgb3IgcGFzc3dvcmQuXG4gKiBAdGhyb3dzIC17QGxpbmsgQXV0aFZhbGlkYXRpb25FcnJvckNvZGUgfVxuICogVGhyb3duIGR1ZSB0byBhbiBlbXB0eSBjb25maXJtYXRpb24gY29kZSwgcGFzc3dvcmQgb3IgdXNlcm5hbWUuXG4gKiBAdGhyb3dzIEF1dGhUb2tlbkNvbmZpZ0V4Y2VwdGlvbiAtIFRocm93biB3aGVuIHRoZSB0b2tlbiBwcm92aWRlciBjb25maWcgaXMgaW52YWxpZC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gY29uZmlybVJlc2V0UGFzc3dvcmQoaW5wdXQpIHtcbiAgY29uc3QgYXV0aENvbmZpZyA9IEFtcGxpZnkuZ2V0Q29uZmlnKCkuQXV0aD8uQ29nbml0bztcbiAgYXNzZXJ0VG9rZW5Qcm92aWRlckNvbmZpZyhhdXRoQ29uZmlnKTtcbiAgY29uc3Qge1xuICAgIHVzZXJQb29sQ2xpZW50SWQsXG4gICAgdXNlclBvb2xJZCxcbiAgICB1c2VyUG9vbEVuZHBvaW50XG4gIH0gPSBhdXRoQ29uZmlnO1xuICBjb25zdCB7XG4gICAgdXNlcm5hbWUsXG4gICAgbmV3UGFzc3dvcmRcbiAgfSA9IGlucHV0O1xuICBhc3NlcnRWYWxpZGF0aW9uRXJyb3IoISF1c2VybmFtZSwgQXV0aFZhbGlkYXRpb25FcnJvckNvZGUuRW1wdHlDb25maXJtUmVzZXRQYXNzd29yZFVzZXJuYW1lKTtcbiAgYXNzZXJ0VmFsaWRhdGlvbkVycm9yKCEhbmV3UGFzc3dvcmQsIEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlLkVtcHR5Q29uZmlybVJlc2V0UGFzc3dvcmROZXdQYXNzd29yZCk7XG4gIGNvbnN0IGNvZGUgPSBpbnB1dC5jb25maXJtYXRpb25Db2RlO1xuICBhc3NlcnRWYWxpZGF0aW9uRXJyb3IoISFjb2RlLCBBdXRoVmFsaWRhdGlvbkVycm9yQ29kZS5FbXB0eUNvbmZpcm1SZXNldFBhc3N3b3JkQ29uZmlybWF0aW9uQ29kZSk7XG4gIGNvbnN0IG1ldGFkYXRhID0gaW5wdXQub3B0aW9ucz8uY2xpZW50TWV0YWRhdGE7XG4gIGNvbnN0IFVzZXJDb250ZXh0RGF0YSA9IGdldFVzZXJDb250ZXh0RGF0YSh7XG4gICAgdXNlcm5hbWUsXG4gICAgdXNlclBvb2xJZCxcbiAgICB1c2VyUG9vbENsaWVudElkXG4gIH0pO1xuICBjb25zdCBjb25maXJtRm9yZ290UGFzc3dvcmQgPSBjcmVhdGVDb25maXJtRm9yZ290UGFzc3dvcmRDbGllbnQoe1xuICAgIGVuZHBvaW50UmVzb2x2ZXI6IGNyZWF0ZUNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIoe1xuICAgICAgZW5kcG9pbnRPdmVycmlkZTogdXNlclBvb2xFbmRwb2ludFxuICAgIH0pXG4gIH0pO1xuICBhd2FpdCBjb25maXJtRm9yZ290UGFzc3dvcmQoe1xuICAgIHJlZ2lvbjogZ2V0UmVnaW9uRnJvbVVzZXJQb29sSWQoYXV0aENvbmZpZy51c2VyUG9vbElkKSxcbiAgICB1c2VyQWdlbnRWYWx1ZTogZ2V0QXV0aFVzZXJBZ2VudFZhbHVlKEF1dGhBY3Rpb24uQ29uZmlybVJlc2V0UGFzc3dvcmQpXG4gIH0sIHtcbiAgICBVc2VybmFtZTogdXNlcm5hbWUsXG4gICAgQ29uZmlybWF0aW9uQ29kZTogY29kZSxcbiAgICBQYXNzd29yZDogbmV3UGFzc3dvcmQsXG4gICAgQ2xpZW50TWV0YWRhdGE6IG1ldGFkYXRhLFxuICAgIENsaWVudElkOiBhdXRoQ29uZmlnLnVzZXJQb29sQ2xpZW50SWQsXG4gICAgVXNlckNvbnRleHREYXRhXG4gIH0pO1xufVxuZXhwb3J0IHsgY29uZmlybVJlc2V0UGFzc3dvcmQgfTtcbiIsImltcG9ydCB7IEF1dGhFcnJvciB9IGZyb20gJy4vQXV0aEVycm9yLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IFVTRVJfVU5BVVRIRU5USUNBVEVEX0VYQ0VQVElPTiA9ICdVc2VyVW5BdXRoZW50aWNhdGVkRXhjZXB0aW9uJztcbmNvbnN0IFVTRVJfQUxSRUFEWV9BVVRIRU5USUNBVEVEX0VYQ0VQVElPTiA9ICdVc2VyQWxyZWFkeUF1dGhlbnRpY2F0ZWRFeGNlcHRpb24nO1xuY29uc3QgREVWSUNFX01FVEFEQVRBX05PVF9GT1VORF9FWENFUFRJT04gPSAnRGV2aWNlTWV0YWRhdGFOb3RGb3VuZEV4Y2VwdGlvbic7XG5jb25zdCBBVVRPX1NJR05fSU5fRVhDRVBUSU9OID0gJ0F1dG9TaWduSW5FeGNlcHRpb24nO1xuY29uc3QgSU5WQUxJRF9SRURJUkVDVF9FWENFUFRJT04gPSAnSW52YWxpZFJlZGlyZWN0RXhjZXB0aW9uJztcbmNvbnN0IElOVkFMSURfQVBQX1NDSEVNRV9FWENFUFRJT04gPSAnSW52YWxpZEFwcFNjaGVtZUV4Y2VwdGlvbic7XG5jb25zdCBJTlZBTElEX1BSRUZFUlJFRF9SRURJUkVDVF9FWENFUFRJT04gPSAnSW52YWxpZFByZWZlcnJlZFJlZGlyZWN0VXJsRXhjZXB0aW9uJztcbmNvbnN0IGludmFsaWRSZWRpcmVjdEV4Y2VwdGlvbiA9IG5ldyBBdXRoRXJyb3Ioe1xuICBuYW1lOiBJTlZBTElEX1JFRElSRUNUX0VYQ0VQVElPTixcbiAgbWVzc2FnZTogJ3NpZ25JblJlZGlyZWN0IG9yIHNpZ25PdXRSZWRpcmVjdCBoYWQgYW4gaW52YWxpZCBmb3JtYXQgb3Igd2FzIG5vdCBmb3VuZC4nLFxuICByZWNvdmVyeVN1Z2dlc3Rpb246ICdQbGVhc2UgbWFrZSBzdXJlIHRoZSBzaWduSW4vT3V0IHJlZGlyZWN0IGluIHlvdXIgb2F1dGggY29uZmlnIGlzIHZhbGlkLidcbn0pO1xuY29uc3QgaW52YWxpZEFwcFNjaGVtZUV4Y2VwdGlvbiA9IG5ldyBBdXRoRXJyb3Ioe1xuICBuYW1lOiBJTlZBTElEX0FQUF9TQ0hFTUVfRVhDRVBUSU9OLFxuICBtZXNzYWdlOiAnQSB2YWxpZCBub24taHR0cCBhcHAgc2NoZW1lIHdhcyBub3QgZm91bmQgaW4gdGhlIGNvbmZpZy4nLFxuICByZWNvdmVyeVN1Z2dlc3Rpb246ICdQbGVhc2UgbWFrZSBzdXJlIGEgdmFsaWQgY3VzdG9tIGFwcCBzY2hlbWUgaXMgcHJlc2VudCBpbiB0aGUgY29uZmlnLidcbn0pO1xuY29uc3QgaW52YWxpZFByZWZlcnJlZFJlZGlyZWN0VXJsRXhjZXB0aW9uID0gbmV3IEF1dGhFcnJvcih7XG4gIG5hbWU6IElOVkFMSURfUFJFRkVSUkVEX1JFRElSRUNUX0VYQ0VQVElPTixcbiAgbWVzc2FnZTogJ1RoZSBnaXZlbiBwcmVmZXJyZWRSZWRpcmVjdFVybCBkb2VzIG5vdCBtYXRjaCBhbnkgaXRlbXMgaW4gdGhlIHJlZGlyZWN0U2lnbk91dFVybHMgYXJyYXkgZnJvbSB0aGUgY29uZmlnLicsXG4gIHJlY292ZXJ5U3VnZ2VzdGlvbjogJ1BsZWFzZSBtYWtlIHN1cmUgYSBtYXRjaGluZyBwcmVmZXJyZWRSZWRpcmVjdFVybCBpcyBwcm92aWRlZC4nXG59KTtcbmNvbnN0IElOVkFMSURfT1JJR0lOX0VYQ0VQVElPTiA9ICdJbnZhbGlkT3JpZ2luRXhjZXB0aW9uJztcbmNvbnN0IGludmFsaWRPcmlnaW5FeGNlcHRpb24gPSBuZXcgQXV0aEVycm9yKHtcbiAgbmFtZTogSU5WQUxJRF9PUklHSU5fRVhDRVBUSU9OLFxuICBtZXNzYWdlOiAncmVkaXJlY3QgaXMgY29taW5nIGZyb20gYSBkaWZmZXJlbnQgb3JpZ2luLiBUaGUgb2F1dGggZmxvdyBuZWVkcyB0byBiZSBpbml0aWF0ZWQgZnJvbSB0aGUgc2FtZSBvcmlnaW4nLFxuICByZWNvdmVyeVN1Z2dlc3Rpb246ICdQbGVhc2UgY2FsbCBzaWduSW5XaXRoUmVkaXJlY3QgZnJvbSB0aGUgc2FtZSBvcmlnaW4uJ1xufSk7XG5jb25zdCBPQVVUSF9TSUdOT1VUX0VYQ0VQVElPTiA9ICdPQXV0aFNpZ25PdXRFeGNlcHRpb24nO1xuY29uc3QgVE9LRU5fUkVGUkVTSF9FWENFUFRJT04gPSAnVG9rZW5SZWZyZXNoRXhjZXB0aW9uJztcbmNvbnN0IFVORVhQRUNURURfU0lHTl9JTl9JTlRFUlJVUFRJT05fRVhDRVBUSU9OID0gJ1VuZXhwZWN0ZWRTaWduSW5JbnRlcnJ1cHRpb25FeGNlcHRpb24nO1xuZXhwb3J0IHsgQVVUT19TSUdOX0lOX0VYQ0VQVElPTiwgREVWSUNFX01FVEFEQVRBX05PVF9GT1VORF9FWENFUFRJT04sIElOVkFMSURfQVBQX1NDSEVNRV9FWENFUFRJT04sIElOVkFMSURfT1JJR0lOX0VYQ0VQVElPTiwgSU5WQUxJRF9QUkVGRVJSRURfUkVESVJFQ1RfRVhDRVBUSU9OLCBJTlZBTElEX1JFRElSRUNUX0VYQ0VQVElPTiwgT0FVVEhfU0lHTk9VVF9FWENFUFRJT04sIFRPS0VOX1JFRlJFU0hfRVhDRVBUSU9OLCBVTkVYUEVDVEVEX1NJR05fSU5fSU5URVJSVVBUSU9OX0VYQ0VQVElPTiwgVVNFUl9BTFJFQURZX0FVVEhFTlRJQ0FURURfRVhDRVBUSU9OLCBVU0VSX1VOQVVUSEVOVElDQVRFRF9FWENFUFRJT04sIGludmFsaWRBcHBTY2hlbWVFeGNlcHRpb24sIGludmFsaWRPcmlnaW5FeGNlcHRpb24sIGludmFsaWRQcmVmZXJyZWRSZWRpcmVjdFVybEV4Y2VwdGlvbiwgaW52YWxpZFJlZGlyZWN0RXhjZXB0aW9uIH07XG4iLCJpbXBvcnQgeyBBdXRoRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvcnMvQXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgeyBUT0tFTl9SRUZSRVNIX0VYQ0VQVElPTiwgVVNFUl9VTkFVVEhFTlRJQ0FURURfRVhDRVBUSU9OLCBERVZJQ0VfTUVUQURBVEFfTk9UX0ZPVU5EX0VYQ0VQVElPTiB9IGZyb20gJy4uLy4uLy4uL2Vycm9ycy9jb25zdGFudHMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuZnVuY3Rpb24gaXNUeXBlVXNlclBvb2xDb25maWcoYXV0aENvbmZpZykge1xuICBpZiAoYXV0aENvbmZpZyAmJiBhdXRoQ29uZmlnLkNvZ25pdG8udXNlclBvb2xJZCAmJiBhdXRoQ29uZmlnLkNvZ25pdG8udXNlclBvb2xDbGllbnRJZCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGFzc2VydEF1dGhUb2tlbnModG9rZW5zKSB7XG4gIGlmICghdG9rZW5zIHx8ICF0b2tlbnMuYWNjZXNzVG9rZW4pIHtcbiAgICB0aHJvdyBuZXcgQXV0aEVycm9yKHtcbiAgICAgIG5hbWU6IFVTRVJfVU5BVVRIRU5USUNBVEVEX0VYQ0VQVElPTixcbiAgICAgIG1lc3NhZ2U6ICdVc2VyIG5lZWRzIHRvIGJlIGF1dGhlbnRpY2F0ZWQgdG8gY2FsbCB0aGlzIEFQSS4nLFxuICAgICAgcmVjb3ZlcnlTdWdnZXN0aW9uOiAnU2lnbiBpbiBiZWZvcmUgY2FsbGluZyB0aGlzIEFQSSBhZ2Fpbi4nXG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGFzc2VydElkVG9rZW5JbkF1dGhUb2tlbnModG9rZW5zKSB7XG4gIGlmICghdG9rZW5zIHx8ICF0b2tlbnMuaWRUb2tlbikge1xuICAgIHRocm93IG5ldyBBdXRoRXJyb3Ioe1xuICAgICAgbmFtZTogVVNFUl9VTkFVVEhFTlRJQ0FURURfRVhDRVBUSU9OLFxuICAgICAgbWVzc2FnZTogJ1VzZXIgbmVlZHMgdG8gYmUgYXV0aGVudGljYXRlZCB0byBjYWxsIHRoaXMgQVBJLicsXG4gICAgICByZWNvdmVyeVN1Z2dlc3Rpb246ICdTaWduIGluIGJlZm9yZSBjYWxsaW5nIHRoaXMgQVBJIGFnYWluLidcbiAgICB9KTtcbiAgfVxufVxuY29uc3Qgb0F1dGhUb2tlblJlZnJlc2hFeGNlcHRpb24gPSBuZXcgQXV0aEVycm9yKHtcbiAgbmFtZTogVE9LRU5fUkVGUkVTSF9FWENFUFRJT04sXG4gIG1lc3NhZ2U6IGBUb2tlbiByZWZyZXNoIGlzIG5vdCBzdXBwb3J0ZWQgd2hlbiBhdXRoZW50aWNhdGVkIHdpdGggdGhlICdpbXBsaWNpdCBncmFudCcgKHRva2VuKSBvYXV0aCBmbG93LiBcblx0UGxlYXNlIGNoYW5nZSB5b3VyIG9hdXRoIGNvbmZpZ3VyYXRpb24gdG8gdXNlICdjb2RlIGdyYW50JyBmbG93LmAsXG4gIHJlY292ZXJ5U3VnZ2VzdGlvbjogYFBsZWFzZSBsb2dvdXQgYW5kIGNoYW5nZSB5b3VyIEFtcGxpZnkgY29uZmlndXJhdGlvbiB0byB1c2UgXCJjb2RlIGdyYW50XCIgZmxvdy4gXG5cdEUuZyB7IHJlc3BvbnNlVHlwZTogJ2NvZGUnIH1gXG59KTtcbmNvbnN0IHRva2VuUmVmcmVzaEV4Y2VwdGlvbiA9IG5ldyBBdXRoRXJyb3Ioe1xuICBuYW1lOiBVU0VSX1VOQVVUSEVOVElDQVRFRF9FWENFUFRJT04sXG4gIG1lc3NhZ2U6ICdVc2VyIG5lZWRzIHRvIGJlIGF1dGhlbnRpY2F0ZWQgdG8gY2FsbCB0aGlzIEFQSS4nLFxuICByZWNvdmVyeVN1Z2dlc3Rpb246ICdTaWduIGluIGJlZm9yZSBjYWxsaW5nIHRoaXMgQVBJIGFnYWluLidcbn0pO1xuZnVuY3Rpb24gYXNzZXJ0QXV0aFRva2Vuc1dpdGhSZWZyZXNoVG9rZW4odG9rZW5zKSB7XG4gIGlmIChpc0F1dGhlbnRpY2F0ZWRXaXRoSW1wbGljaXRPYXV0aEZsb3codG9rZW5zKSkge1xuICAgIHRocm93IG9BdXRoVG9rZW5SZWZyZXNoRXhjZXB0aW9uO1xuICB9XG4gIGlmICghaXNBdXRoZW50aWNhdGVkV2l0aFJlZnJlc2hUb2tlbih0b2tlbnMpKSB7XG4gICAgdGhyb3cgdG9rZW5SZWZyZXNoRXhjZXB0aW9uO1xuICB9XG59XG5mdW5jdGlvbiBhc3NlcnREZXZpY2VNZXRhZGF0YShkZXZpY2VNZXRhZGF0YSkge1xuICBpZiAoIWRldmljZU1ldGFkYXRhIHx8ICFkZXZpY2VNZXRhZGF0YS5kZXZpY2VLZXkgfHwgIWRldmljZU1ldGFkYXRhLmRldmljZUdyb3VwS2V5IHx8ICFkZXZpY2VNZXRhZGF0YS5yYW5kb21QYXNzd29yZCkge1xuICAgIHRocm93IG5ldyBBdXRoRXJyb3Ioe1xuICAgICAgbmFtZTogREVWSUNFX01FVEFEQVRBX05PVF9GT1VORF9FWENFUFRJT04sXG4gICAgICBtZXNzYWdlOiAnRWl0aGVyIGRldmljZUtleSwgZGV2aWNlR3JvdXBLZXkgb3Igc2VjcmV0UGFzc3dvcmQgd2VyZSBub3QgZm91bmQgZHVyaW5nIHRoZSBzaWduLWluIHByb2Nlc3MuJyxcbiAgICAgIHJlY292ZXJ5U3VnZ2VzdGlvbjogJ01ha2Ugc3VyZSB0byBub3QgY2xlYXIgc3RvcmFnZSBhZnRlciBjYWxsaW5nIHRoZSBzaWduSW4gQVBJLidcbiAgICB9KTtcbiAgfVxufVxuY29uc3QgT0F1dGhTdG9yYWdlS2V5cyA9IHtcbiAgaW5mbGlnaHRPQXV0aDogJ2luZmxpZ2h0T0F1dGgnLFxuICBvYXV0aFNpZ25JbjogJ29hdXRoU2lnbkluJyxcbiAgb2F1dGhQS0NFOiAnb2F1dGhQS0NFJyxcbiAgb2F1dGhTdGF0ZTogJ29hdXRoU3RhdGUnXG59O1xuZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKHRva2Vucykge1xuICByZXR1cm4gdG9rZW5zPy5hY2Nlc3NUb2tlbiB8fCB0b2tlbnM/LmlkVG9rZW47XG59XG5mdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWRXaXRoUmVmcmVzaFRva2VuKHRva2Vucykge1xuICByZXR1cm4gaXNBdXRoZW50aWNhdGVkKHRva2VucykgJiYgdG9rZW5zPy5yZWZyZXNoVG9rZW47XG59XG5mdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWRXaXRoSW1wbGljaXRPYXV0aEZsb3codG9rZW5zKSB7XG4gIHJldHVybiBpc0F1dGhlbnRpY2F0ZWQodG9rZW5zKSAmJiAhdG9rZW5zPy5yZWZyZXNoVG9rZW47XG59XG5leHBvcnQgeyBPQXV0aFN0b3JhZ2VLZXlzLCBhc3NlcnRBdXRoVG9rZW5zLCBhc3NlcnRBdXRoVG9rZW5zV2l0aFJlZnJlc2hUb2tlbiwgYXNzZXJ0RGV2aWNlTWV0YWRhdGEsIGFzc2VydElkVG9rZW5JbkF1dGhUb2tlbnMsIGlzVHlwZVVzZXJQb29sQ29uZmlnLCBvQXV0aFRva2VuUmVmcmVzaEV4Y2VwdGlvbiwgdG9rZW5SZWZyZXNoRXhjZXB0aW9uIH07XG4iLCJpbXBvcnQgeyBjb21wb3NlU2VydmljZUFwaSB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy9hd3MtY2xpZW50LXV0aWxzL2NvbXBvc2Vycyc7XG5pbXBvcnQgeyBjb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIgfSBmcm9tICcuL3NoYXJlZC9oYW5kbGVyL2NvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlci5tanMnO1xuaW1wb3J0IHsgY3JlYXRlVXNlclBvb2xTZXJpYWxpemVyIH0gZnJvbSAnLi9zaGFyZWQvc2VyZGUvY3JlYXRlVXNlclBvb2xTZXJpYWxpemVyLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVVc2VyUG9vbERlc2VyaWFsaXplciB9IGZyb20gJy4vc2hhcmVkL3NlcmRlL2NyZWF0ZVVzZXJQb29sRGVzZXJpYWxpemVyLm1qcyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy9hd3MtY2xpZW50LXV0aWxzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL3V0aWxzJztcbmltcG9ydCB7IERFRkFVTFRfU0VSVklDRV9DTElFTlRfQVBJX0NPTkZJRyB9IGZyb20gJy4vY29uc3RhbnRzLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IGNyZWF0ZUNoYW5nZVBhc3N3b3JkQ2xpZW50ID0gY29uZmlnID0+IGNvbXBvc2VTZXJ2aWNlQXBpKGNvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlciwgY3JlYXRlVXNlclBvb2xTZXJpYWxpemVyKCdDaGFuZ2VQYXNzd29yZCcpLCBjcmVhdGVVc2VyUG9vbERlc2VyaWFsaXplcigpLCB7XG4gIC4uLkRFRkFVTFRfU0VSVklDRV9DTElFTlRfQVBJX0NPTkZJRyxcbiAgLi4uY29uZmlnXG59KTtcbmV4cG9ydCB7IGNyZWF0ZUNoYW5nZVBhc3N3b3JkQ2xpZW50IH07XG4iLCJpbXBvcnQgeyBBbXBsaWZ5LCBmZXRjaEF1dGhTZXNzaW9uIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUnO1xuaW1wb3J0IHsgYXNzZXJ0VG9rZW5Qcm92aWRlckNvbmZpZywgQXV0aEFjdGlvbiB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5pbXBvcnQgeyBBdXRoVmFsaWRhdGlvbkVycm9yQ29kZSB9IGZyb20gJy4uLy4uLy4uL2Vycm9ycy90eXBlcy92YWxpZGF0aW9uLm1qcyc7XG5pbXBvcnQgeyBhc3NlcnRWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvcnMvdXRpbHMvYXNzZXJ0VmFsaWRhdGlvbkVycm9yLm1qcyc7XG5pbXBvcnQgeyBnZXRSZWdpb25Gcm9tVXNlclBvb2xJZCB9IGZyb20gJy4uLy4uLy4uL2ZvdW5kYXRpb24vcGFyc2Vycy9yZWdpb25QYXJzZXJzLm1qcyc7XG5pbXBvcnQgeyBhc3NlcnRBdXRoVG9rZW5zIH0gZnJvbSAnLi4vdXRpbHMvdHlwZXMubWpzJztcbmltcG9ydCB7IGdldEF1dGhVc2VyQWdlbnRWYWx1ZSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2dldEF1dGhVc2VyQWdlbnRWYWx1ZS5tanMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscy9jb21wb3NlcnMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscyc7XG5pbXBvcnQgJy4uLy4uLy4uL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eVByb3ZpZGVyL3NoYXJlZC9oYW5kbGVyL2NvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlci5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9jb25zdGFudHMubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vY29tbW9uL0F1dGhFcnJvclN0cmluZ3MubWpzJztcbmltcG9ydCAnLi4vdHlwZXMvZXJyb3JzLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVDaGFuZ2VQYXNzd29yZENsaWVudCB9IGZyb20gJy4uLy4uLy4uL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eVByb3ZpZGVyL2NyZWF0ZUNoYW5nZVBhc3N3b3JkQ2xpZW50Lm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVDb2duaXRvVXNlclBvb2xFbmRwb2ludFJlc29sdmVyIH0gZnJvbSAnLi4vZmFjdG9yaWVzL2NyZWF0ZUNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLyoqXG4gKiBVcGRhdGVzIHVzZXIncyBwYXNzd29yZCB3aGlsZSBhdXRoZW50aWNhdGVkLlxuICpcbiAqIEBwYXJhbSBpbnB1dCAtIFRoZSBVcGRhdGVQYXNzd29yZElucHV0IG9iamVjdC5cbiAqIEB0aHJvd3MgLSB7QGxpbmsgQ2hhbmdlUGFzc3dvcmRFeGNlcHRpb259IC0gQ29nbml0byBzZXJ2aWNlIGVycm9ycyB0aHJvd24gd2hlbiB1cGRhdGluZyBhIHBhc3N3b3JkLlxuICogQHRocm93cyAtIHtAbGluayBBdXRoVmFsaWRhdGlvbkVycm9yQ29kZX0gLSBWYWxpZGF0aW9uIGVycm9ycyB0aHJvd24gd2hlbiBvbGRQYXNzd29yZCBvciBuZXdQYXNzd29yZCBhcmUgZW1wdHkuXG4gKiBAdGhyb3dzIEF1dGhUb2tlbkNvbmZpZ0V4Y2VwdGlvbiAtIFRocm93biB3aGVuIHRoZSB0b2tlbiBwcm92aWRlciBjb25maWcgaXMgaW52YWxpZC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gdXBkYXRlUGFzc3dvcmQoaW5wdXQpIHtcbiAgY29uc3QgYXV0aENvbmZpZyA9IEFtcGxpZnkuZ2V0Q29uZmlnKCkuQXV0aD8uQ29nbml0bztcbiAgYXNzZXJ0VG9rZW5Qcm92aWRlckNvbmZpZyhhdXRoQ29uZmlnKTtcbiAgY29uc3Qge1xuICAgIHVzZXJQb29sRW5kcG9pbnQsXG4gICAgdXNlclBvb2xJZFxuICB9ID0gYXV0aENvbmZpZztcbiAgY29uc3Qge1xuICAgIG9sZFBhc3N3b3JkLFxuICAgIG5ld1Bhc3N3b3JkXG4gIH0gPSBpbnB1dDtcbiAgYXNzZXJ0VmFsaWRhdGlvbkVycm9yKCEhb2xkUGFzc3dvcmQsIEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlLkVtcHR5VXBkYXRlUGFzc3dvcmQpO1xuICBhc3NlcnRWYWxpZGF0aW9uRXJyb3IoISFuZXdQYXNzd29yZCwgQXV0aFZhbGlkYXRpb25FcnJvckNvZGUuRW1wdHlVcGRhdGVQYXNzd29yZCk7XG4gIGNvbnN0IHtcbiAgICB0b2tlbnNcbiAgfSA9IGF3YWl0IGZldGNoQXV0aFNlc3Npb24oe1xuICAgIGZvcmNlUmVmcmVzaDogZmFsc2VcbiAgfSk7XG4gIGFzc2VydEF1dGhUb2tlbnModG9rZW5zKTtcbiAgY29uc3QgY2hhbmdlUGFzc3dvcmQgPSBjcmVhdGVDaGFuZ2VQYXNzd29yZENsaWVudCh7XG4gICAgZW5kcG9pbnRSZXNvbHZlcjogY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlcih7XG4gICAgICBlbmRwb2ludE92ZXJyaWRlOiB1c2VyUG9vbEVuZHBvaW50XG4gICAgfSlcbiAgfSk7XG4gIGF3YWl0IGNoYW5nZVBhc3N3b3JkKHtcbiAgICByZWdpb246IGdldFJlZ2lvbkZyb21Vc2VyUG9vbElkKHVzZXJQb29sSWQpLFxuICAgIHVzZXJBZ2VudFZhbHVlOiBnZXRBdXRoVXNlckFnZW50VmFsdWUoQXV0aEFjdGlvbi5VcGRhdGVQYXNzd29yZClcbiAgfSwge1xuICAgIEFjY2Vzc1Rva2VuOiB0b2tlbnMuYWNjZXNzVG9rZW4udG9TdHJpbmcoKSxcbiAgICBQcmV2aW91c1Bhc3N3b3JkOiBvbGRQYXNzd29yZCxcbiAgICBQcm9wb3NlZFBhc3N3b3JkOiBuZXdQYXNzd29yZFxuICB9KTtcbn1cbmV4cG9ydCB7IHVwZGF0ZVBhc3N3b3JkIH07XG4iLCJpbXBvcnQgeyBjb21wb3NlU2VydmljZUFwaSB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy9hd3MtY2xpZW50LXV0aWxzL2NvbXBvc2Vycyc7XG5pbXBvcnQgeyBjb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIgfSBmcm9tICcuL3NoYXJlZC9oYW5kbGVyL2NvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlci5tanMnO1xuaW1wb3J0IHsgY3JlYXRlVXNlclBvb2xTZXJpYWxpemVyIH0gZnJvbSAnLi9zaGFyZWQvc2VyZGUvY3JlYXRlVXNlclBvb2xTZXJpYWxpemVyLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVVc2VyUG9vbERlc2VyaWFsaXplciB9IGZyb20gJy4vc2hhcmVkL3NlcmRlL2NyZWF0ZVVzZXJQb29sRGVzZXJpYWxpemVyLm1qcyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy9hd3MtY2xpZW50LXV0aWxzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL3V0aWxzJztcbmltcG9ydCB7IERFRkFVTFRfU0VSVklDRV9DTElFTlRfQVBJX0NPTkZJRyB9IGZyb20gJy4vY29uc3RhbnRzLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IGNyZWF0ZVZlcmlmeVVzZXJBdHRyaWJ1dGVDbGllbnQgPSBjb25maWcgPT4gY29tcG9zZVNlcnZpY2VBcGkoY29nbml0b1VzZXJQb29sVHJhbnNmZXJIYW5kbGVyLCBjcmVhdGVVc2VyUG9vbFNlcmlhbGl6ZXIoJ1ZlcmlmeVVzZXJBdHRyaWJ1dGUnKSwgY3JlYXRlVXNlclBvb2xEZXNlcmlhbGl6ZXIoKSwge1xuICAuLi5ERUZBVUxUX1NFUlZJQ0VfQ0xJRU5UX0FQSV9DT05GSUcsXG4gIC4uLmNvbmZpZ1xufSk7XG5leHBvcnQgeyBjcmVhdGVWZXJpZnlVc2VyQXR0cmlidXRlQ2xpZW50IH07XG4iLCJpbXBvcnQgeyBBbXBsaWZ5LCBmZXRjaEF1dGhTZXNzaW9uIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUnO1xuaW1wb3J0IHsgYXNzZXJ0VG9rZW5Qcm92aWRlckNvbmZpZywgQXV0aEFjdGlvbiB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5pbXBvcnQgeyBBdXRoVmFsaWRhdGlvbkVycm9yQ29kZSB9IGZyb20gJy4uLy4uLy4uL2Vycm9ycy90eXBlcy92YWxpZGF0aW9uLm1qcyc7XG5pbXBvcnQgeyBhc3NlcnRWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvcnMvdXRpbHMvYXNzZXJ0VmFsaWRhdGlvbkVycm9yLm1qcyc7XG5pbXBvcnQgeyBnZXRSZWdpb25Gcm9tVXNlclBvb2xJZCB9IGZyb20gJy4uLy4uLy4uL2ZvdW5kYXRpb24vcGFyc2Vycy9yZWdpb25QYXJzZXJzLm1qcyc7XG5pbXBvcnQgeyBhc3NlcnRBdXRoVG9rZW5zIH0gZnJvbSAnLi4vdXRpbHMvdHlwZXMubWpzJztcbmltcG9ydCB7IGdldEF1dGhVc2VyQWdlbnRWYWx1ZSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2dldEF1dGhVc2VyQWdlbnRWYWx1ZS5tanMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscy9jb21wb3NlcnMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscyc7XG5pbXBvcnQgJy4uLy4uLy4uL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eVByb3ZpZGVyL3NoYXJlZC9oYW5kbGVyL2NvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlci5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9jb25zdGFudHMubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vY29tbW9uL0F1dGhFcnJvclN0cmluZ3MubWpzJztcbmltcG9ydCAnLi4vdHlwZXMvZXJyb3JzLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVWZXJpZnlVc2VyQXR0cmlidXRlQ2xpZW50IH0gZnJvbSAnLi4vLi4vLi4vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvY3JlYXRlVmVyaWZ5VXNlckF0dHJpYnV0ZUNsaWVudC5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlciB9IGZyb20gJy4uL2ZhY3Rvcmllcy9jcmVhdGVDb2duaXRvVXNlclBvb2xFbmRwb2ludFJlc29sdmVyLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8qKlxuICogQ29uZmlybXMgYSB1c2VyIGF0dHJpYnV0ZSB3aXRoIHRoZSBjb25maXJtYXRpb24gY29kZS5cbiAqXG4gKiBAcGFyYW0gaW5wdXQgLSAgVGhlIENvbmZpcm1Vc2VyQXR0cmlidXRlSW5wdXQgb2JqZWN0XG4gKiBAdGhyb3dzICAte0BsaW5rIEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlIH0gLVxuICogVGhyb3duIHdoZW4gYGNvbmZpcm1hdGlvbkNvZGVgIGlzIG5vdCBkZWZpbmVkLlxuICogQHRocm93cyAgLXtAbGluayBWZXJpZnlVc2VyQXR0cmlidXRlRXhjZXB0aW9uIH0gLSBUaHJvd24gZHVlIHRvIGFuIGludmFsaWQgY29uZmlybWF0aW9uIGNvZGUgb3IgYXR0cmlidXRlLlxuICogQHRocm93cyBBdXRoVG9rZW5Db25maWdFeGNlcHRpb24gLSBUaHJvd24gd2hlbiB0aGUgdG9rZW4gcHJvdmlkZXIgY29uZmlnIGlzIGludmFsaWQuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGNvbmZpcm1Vc2VyQXR0cmlidXRlKGlucHV0KSB7XG4gIGNvbnN0IGF1dGhDb25maWcgPSBBbXBsaWZ5LmdldENvbmZpZygpLkF1dGg/LkNvZ25pdG87XG4gIGFzc2VydFRva2VuUHJvdmlkZXJDb25maWcoYXV0aENvbmZpZyk7XG4gIGNvbnN0IHtcbiAgICB1c2VyUG9vbEVuZHBvaW50LFxuICAgIHVzZXJQb29sSWRcbiAgfSA9IGF1dGhDb25maWc7XG4gIGNvbnN0IHtcbiAgICBjb25maXJtYXRpb25Db2RlLFxuICAgIHVzZXJBdHRyaWJ1dGVLZXlcbiAgfSA9IGlucHV0O1xuICBhc3NlcnRWYWxpZGF0aW9uRXJyb3IoISFjb25maXJtYXRpb25Db2RlLCBBdXRoVmFsaWRhdGlvbkVycm9yQ29kZS5FbXB0eUNvbmZpcm1Vc2VyQXR0cmlidXRlQ29kZSk7XG4gIGNvbnN0IHtcbiAgICB0b2tlbnNcbiAgfSA9IGF3YWl0IGZldGNoQXV0aFNlc3Npb24oe1xuICAgIGZvcmNlUmVmcmVzaDogZmFsc2VcbiAgfSk7XG4gIGFzc2VydEF1dGhUb2tlbnModG9rZW5zKTtcbiAgY29uc3QgdmVyaWZ5VXNlckF0dHJpYnV0ZSA9IGNyZWF0ZVZlcmlmeVVzZXJBdHRyaWJ1dGVDbGllbnQoe1xuICAgIGVuZHBvaW50UmVzb2x2ZXI6IGNyZWF0ZUNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIoe1xuICAgICAgZW5kcG9pbnRPdmVycmlkZTogdXNlclBvb2xFbmRwb2ludFxuICAgIH0pXG4gIH0pO1xuICBhd2FpdCB2ZXJpZnlVc2VyQXR0cmlidXRlKHtcbiAgICByZWdpb246IGdldFJlZ2lvbkZyb21Vc2VyUG9vbElkKHVzZXJQb29sSWQpLFxuICAgIHVzZXJBZ2VudFZhbHVlOiBnZXRBdXRoVXNlckFnZW50VmFsdWUoQXV0aEFjdGlvbi5Db25maXJtVXNlckF0dHJpYnV0ZSlcbiAgfSwge1xuICAgIEFjY2Vzc1Rva2VuOiB0b2tlbnMuYWNjZXNzVG9rZW4udG9TdHJpbmcoKSxcbiAgICBBdHRyaWJ1dGVOYW1lOiB1c2VyQXR0cmlidXRlS2V5LFxuICAgIENvZGU6IGNvbmZpcm1hdGlvbkNvZGVcbiAgfSk7XG59XG5leHBvcnQgeyBjb25maXJtVXNlckF0dHJpYnV0ZSB9O1xuIiwiLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLyoqXG4gKiBUcmFuc2Zvcm1zIGEgdXNlciBhdHRyaWJ1dGVzIG9iamVjdCBpbnRvIGFuIGFycmF5IG9mIEF0dHJpYnV0ZVR5cGUgb2JqZWN0cy5cbiAqIEBwYXJhbSBhdHRyaWJ1dGVzIHVzZXIgYXR0cmlidXRlcyB0byBiZSBtYXBwZWQgdG8gQXR0cmlidXRlVHlwZSBvYmplY3RzLlxuICogQHJldHVybnMgYW4gYXJyYXkgb2YgQXR0cmlidXRlVHlwZSBvYmplY3RzLlxuICovXG5mdW5jdGlvbiB0b0F0dHJpYnV0ZVR5cGUoYXR0cmlidXRlcykge1xuICByZXR1cm4gT2JqZWN0LmVudHJpZXMoYXR0cmlidXRlcykubWFwKChba2V5LCB2YWx1ZV0pID0+ICh7XG4gICAgTmFtZToga2V5LFxuICAgIFZhbHVlOiB2YWx1ZVxuICB9KSk7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgYW4gYXJyYXkgb2YgQXR0cmlidXRlVHlwZSBvYmplY3RzIGludG8gYSB1c2VyIGF0dHJpYnV0ZXMgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSBhdHRyaWJ1dGVzIC0gYW4gYXJyYXkgb2YgQXR0cmlidXRlVHlwZSBvYmplY3RzLlxuICogQHJldHVybnMgQXV0aFVzZXJBdHRyaWJ1dGVzIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gdG9BdXRoVXNlckF0dHJpYnV0ZShhdHRyaWJ1dGVzKSB7XG4gIGNvbnN0IHVzZXJBdHRyaWJ1dGVzID0ge307XG4gIGF0dHJpYnV0ZXM/LmZvckVhY2goYXR0cmlidXRlID0+IHtcbiAgICBpZiAoYXR0cmlidXRlLk5hbWUpIHVzZXJBdHRyaWJ1dGVzW2F0dHJpYnV0ZS5OYW1lXSA9IGF0dHJpYnV0ZS5WYWx1ZTtcbiAgfSk7XG4gIHJldHVybiB1c2VyQXR0cmlidXRlcztcbn1cbmV4cG9ydCB7IHRvQXR0cmlidXRlVHlwZSwgdG9BdXRoVXNlckF0dHJpYnV0ZSB9O1xuIiwiaW1wb3J0IHsgY29tcG9zZVNlcnZpY2VBcGkgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscy9jb21wb3NlcnMnO1xuaW1wb3J0IHsgY29nbml0b1VzZXJQb29sVHJhbnNmZXJIYW5kbGVyIH0gZnJvbSAnLi9zaGFyZWQvaGFuZGxlci9jb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIubWpzJztcbmltcG9ydCB7IGNyZWF0ZVVzZXJQb29sU2VyaWFsaXplciB9IGZyb20gJy4vc2hhcmVkL3NlcmRlL2NyZWF0ZVVzZXJQb29sU2VyaWFsaXplci5tanMnO1xuaW1wb3J0IHsgY3JlYXRlVXNlclBvb2xEZXNlcmlhbGl6ZXIgfSBmcm9tICcuL3NoYXJlZC9zZXJkZS9jcmVhdGVVc2VyUG9vbERlc2VyaWFsaXplci5tanMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5pbXBvcnQgeyBERUZBVUxUX1NFUlZJQ0VfQ0xJRU5UX0FQSV9DT05GSUcgfSBmcm9tICcuL2NvbnN0YW50cy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBjcmVhdGVHZXRVc2VyQ2xpZW50ID0gY29uZmlnID0+IGNvbXBvc2VTZXJ2aWNlQXBpKGNvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlciwgY3JlYXRlVXNlclBvb2xTZXJpYWxpemVyKCdHZXRVc2VyJyksIGNyZWF0ZVVzZXJQb29sRGVzZXJpYWxpemVyKCksIHtcbiAgLi4uREVGQVVMVF9TRVJWSUNFX0NMSUVOVF9BUElfQ09ORklHLFxuICAuLi5jb25maWdcbn0pO1xuZXhwb3J0IHsgY3JlYXRlR2V0VXNlckNsaWVudCB9O1xuIiwiaW1wb3J0IHsgYXNzZXJ0VG9rZW5Qcm92aWRlckNvbmZpZywgZmV0Y2hBdXRoU2Vzc2lvbiwgQXV0aEFjdGlvbiB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5pbXBvcnQgeyBnZXRSZWdpb25Gcm9tVXNlclBvb2xJZCB9IGZyb20gJy4uLy4uLy4uLy4uL2ZvdW5kYXRpb24vcGFyc2Vycy9yZWdpb25QYXJzZXJzLm1qcyc7XG5pbXBvcnQgeyBhc3NlcnRBdXRoVG9rZW5zIH0gZnJvbSAnLi4vLi4vdXRpbHMvdHlwZXMubWpzJztcbmltcG9ydCB7IHRvQXV0aFVzZXJBdHRyaWJ1dGUgfSBmcm9tICcuLi8uLi91dGlscy9hcGlIZWxwZXJzLm1qcyc7XG5pbXBvcnQgeyBnZXRBdXRoVXNlckFnZW50VmFsdWUgfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9nZXRBdXRoVXNlckFnZW50VmFsdWUubWpzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMvY29tcG9zZXJzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9zaGFyZWQvaGFuZGxlci9jb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvY29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uLy4uL2NvbW1vbi9BdXRoRXJyb3JTdHJpbmdzLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uLy4uL2Vycm9ycy90eXBlcy92YWxpZGF0aW9uLm1qcyc7XG5pbXBvcnQgJy4uLy4uL3R5cGVzL2Vycm9ycy5tanMnO1xuaW1wb3J0IHsgY3JlYXRlR2V0VXNlckNsaWVudCB9IGZyb20gJy4uLy4uLy4uLy4uL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eVByb3ZpZGVyL2NyZWF0ZUdldFVzZXJDbGllbnQubWpzJztcbmltcG9ydCB7IGNyZWF0ZUNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIgfSBmcm9tICcuLi8uLi9mYWN0b3JpZXMvY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlci5tanMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZSc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IGZldGNoVXNlckF0dHJpYnV0ZXMgPSBhc3luYyBhbXBsaWZ5ID0+IHtcbiAgY29uc3QgYXV0aENvbmZpZyA9IGFtcGxpZnkuZ2V0Q29uZmlnKCkuQXV0aD8uQ29nbml0bztcbiAgYXNzZXJ0VG9rZW5Qcm92aWRlckNvbmZpZyhhdXRoQ29uZmlnKTtcbiAgY29uc3Qge1xuICAgIHVzZXJQb29sRW5kcG9pbnQsXG4gICAgdXNlclBvb2xJZFxuICB9ID0gYXV0aENvbmZpZztcbiAgY29uc3Qge1xuICAgIHRva2Vuc1xuICB9ID0gYXdhaXQgZmV0Y2hBdXRoU2Vzc2lvbihhbXBsaWZ5LCB7XG4gICAgZm9yY2VSZWZyZXNoOiBmYWxzZVxuICB9KTtcbiAgYXNzZXJ0QXV0aFRva2Vucyh0b2tlbnMpO1xuICBjb25zdCBnZXRVc2VyID0gY3JlYXRlR2V0VXNlckNsaWVudCh7XG4gICAgZW5kcG9pbnRSZXNvbHZlcjogY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlcih7XG4gICAgICBlbmRwb2ludE92ZXJyaWRlOiB1c2VyUG9vbEVuZHBvaW50XG4gICAgfSlcbiAgfSk7XG4gIGNvbnN0IHtcbiAgICBVc2VyQXR0cmlidXRlc1xuICB9ID0gYXdhaXQgZ2V0VXNlcih7XG4gICAgcmVnaW9uOiBnZXRSZWdpb25Gcm9tVXNlclBvb2xJZCh1c2VyUG9vbElkKSxcbiAgICB1c2VyQWdlbnRWYWx1ZTogZ2V0QXV0aFVzZXJBZ2VudFZhbHVlKEF1dGhBY3Rpb24uRmV0Y2hVc2VyQXR0cmlidXRlcylcbiAgfSwge1xuICAgIEFjY2Vzc1Rva2VuOiB0b2tlbnMuYWNjZXNzVG9rZW4udG9TdHJpbmcoKVxuICB9KTtcbiAgcmV0dXJuIHRvQXV0aFVzZXJBdHRyaWJ1dGUoVXNlckF0dHJpYnV0ZXMpO1xufTtcbmV4cG9ydCB7IGZldGNoVXNlckF0dHJpYnV0ZXMgfTtcbiIsImltcG9ydCB7IEFtcGxpZnkgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZSc7XG5pbXBvcnQgeyBmZXRjaFVzZXJBdHRyaWJ1dGVzIGFzIGZldGNoVXNlckF0dHJpYnV0ZXMkMSB9IGZyb20gJy4vaW50ZXJuYWwvZmV0Y2hVc2VyQXR0cmlidXRlcy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIEZldGNoZXMgdGhlIGN1cnJlbnQgdXNlciBhdHRyaWJ1dGVzIHdoaWxlIGF1dGhlbnRpY2F0ZWQuXG4gKlxuICogQHRocm93cyAtIHtAbGluayBHZXRVc2VyRXhjZXB0aW9ufSAtIENvZ25pdG8gc2VydmljZSBlcnJvcnMgdGhyb3duIHdoZW4gdGhlIHNlcnZpY2UgaXMgbm90IGFibGUgdG8gZ2V0IHRoZSB1c2VyLlxuICogQHRocm93cyBBdXRoVG9rZW5Db25maWdFeGNlcHRpb24gLSBUaHJvd24gd2hlbiB0aGUgdG9rZW4gcHJvdmlkZXIgY29uZmlnIGlzIGludmFsaWQuXG4gKi9cbmNvbnN0IGZldGNoVXNlckF0dHJpYnV0ZXMgPSAoKSA9PiB7XG4gIHJldHVybiBmZXRjaFVzZXJBdHRyaWJ1dGVzJDEoQW1wbGlmeSk7XG59O1xuZXhwb3J0IHsgZmV0Y2hVc2VyQXR0cmlidXRlcyB9O1xuIiwiaW1wb3J0IHsgY29tcG9zZVNlcnZpY2VBcGkgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscy9jb21wb3NlcnMnO1xuaW1wb3J0IHsgY29nbml0b1VzZXJQb29sVHJhbnNmZXJIYW5kbGVyIH0gZnJvbSAnLi9zaGFyZWQvaGFuZGxlci9jb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIubWpzJztcbmltcG9ydCB7IGNyZWF0ZVVzZXJQb29sU2VyaWFsaXplciB9IGZyb20gJy4vc2hhcmVkL3NlcmRlL2NyZWF0ZVVzZXJQb29sU2VyaWFsaXplci5tanMnO1xuaW1wb3J0IHsgY3JlYXRlVXNlclBvb2xEZXNlcmlhbGl6ZXIgfSBmcm9tICcuL3NoYXJlZC9zZXJkZS9jcmVhdGVVc2VyUG9vbERlc2VyaWFsaXplci5tanMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5pbXBvcnQgeyBERUZBVUxUX1NFUlZJQ0VfQ0xJRU5UX0FQSV9DT05GSUcgfSBmcm9tICcuL2NvbnN0YW50cy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBjcmVhdGVHZXRVc2VyQXR0cmlidXRlVmVyaWZpY2F0aW9uQ29kZUNsaWVudCA9IGNvbmZpZyA9PiBjb21wb3NlU2VydmljZUFwaShjb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIsIGNyZWF0ZVVzZXJQb29sU2VyaWFsaXplcignR2V0VXNlckF0dHJpYnV0ZVZlcmlmaWNhdGlvbkNvZGUnKSwgY3JlYXRlVXNlclBvb2xEZXNlcmlhbGl6ZXIoKSwge1xuICAuLi5ERUZBVUxUX1NFUlZJQ0VfQ0xJRU5UX0FQSV9DT05GSUcsXG4gIC4uLmNvbmZpZ1xufSk7XG5leHBvcnQgeyBjcmVhdGVHZXRVc2VyQXR0cmlidXRlVmVyaWZpY2F0aW9uQ29kZUNsaWVudCB9O1xuIiwiaW1wb3J0IHsgQW1wbGlmeSwgZmV0Y2hBdXRoU2Vzc2lvbiB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlJztcbmltcG9ydCB7IGFzc2VydFRva2VuUHJvdmlkZXJDb25maWcsIEF1dGhBY3Rpb24gfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuaW1wb3J0IHsgYXNzZXJ0QXV0aFRva2VucyB9IGZyb20gJy4uL3V0aWxzL3R5cGVzLm1qcyc7XG5pbXBvcnQgeyBnZXRSZWdpb25Gcm9tVXNlclBvb2xJZCB9IGZyb20gJy4uLy4uLy4uL2ZvdW5kYXRpb24vcGFyc2Vycy9yZWdpb25QYXJzZXJzLm1qcyc7XG5pbXBvcnQgeyBnZXRBdXRoVXNlckFnZW50VmFsdWUgfSBmcm9tICcuLi8uLi8uLi91dGlscy9nZXRBdXRoVXNlckFnZW50VmFsdWUubWpzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMvY29tcG9zZXJzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMnO1xuaW1wb3J0ICcuLi8uLi8uLi9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9zaGFyZWQvaGFuZGxlci9jb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvY29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uL2NvbW1vbi9BdXRoRXJyb3JTdHJpbmdzLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uL2Vycm9ycy90eXBlcy92YWxpZGF0aW9uLm1qcyc7XG5pbXBvcnQgJy4uL3R5cGVzL2Vycm9ycy5tanMnO1xuaW1wb3J0IHsgY3JlYXRlR2V0VXNlckF0dHJpYnV0ZVZlcmlmaWNhdGlvbkNvZGVDbGllbnQgfSBmcm9tICcuLi8uLi8uLi9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9jcmVhdGVHZXRVc2VyQXR0cmlidXRlVmVyaWZpY2F0aW9uQ29kZUNsaWVudC5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlciB9IGZyb20gJy4uL2ZhY3Rvcmllcy9jcmVhdGVDb2duaXRvVXNlclBvb2xFbmRwb2ludFJlc29sdmVyLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8qKlxuICogUmVzZW5kcyB1c2VyJ3MgY29uZmlybWF0aW9uIGNvZGUgd2hlbiB1cGRhdGluZyBhdHRyaWJ1dGVzIHdoaWxlIGF1dGhlbnRpY2F0ZWQuXG4gKlxuICogQHBhcmFtIGlucHV0IC0gVGhlIFNlbmRVc2VyQXR0cmlidXRlVmVyaWZpY2F0aW9uQ29kZUlucHV0IG9iamVjdFxuICogQHJldHVybnMgU2VuZFVzZXJBdHRyaWJ1dGVWZXJpZmljYXRpb25Db2RlT3V0cHV0XG4gKiBAdGhyb3dzIC0ge0BsaW5rIEdldFVzZXJBdHRyaWJ1dGVWZXJpZmljYXRpb25FeGNlcHRpb259XG4gKiBAdGhyb3dzIEF1dGhUb2tlbkNvbmZpZ0V4Y2VwdGlvbiAtIFRocm93biB3aGVuIHRoZSB0b2tlbiBwcm92aWRlciBjb25maWcgaXMgaW52YWxpZC5cbiAqL1xuY29uc3Qgc2VuZFVzZXJBdHRyaWJ1dGVWZXJpZmljYXRpb25Db2RlID0gYXN5bmMgaW5wdXQgPT4ge1xuICBjb25zdCB7XG4gICAgdXNlckF0dHJpYnV0ZUtleSxcbiAgICBvcHRpb25zXG4gIH0gPSBpbnB1dDtcbiAgY29uc3QgYXV0aENvbmZpZyA9IEFtcGxpZnkuZ2V0Q29uZmlnKCkuQXV0aD8uQ29nbml0bztcbiAgY29uc3QgY2xpZW50TWV0YWRhdGEgPSBvcHRpb25zPy5jbGllbnRNZXRhZGF0YTtcbiAgYXNzZXJ0VG9rZW5Qcm92aWRlckNvbmZpZyhhdXRoQ29uZmlnKTtcbiAgY29uc3Qge1xuICAgIHVzZXJQb29sRW5kcG9pbnQsXG4gICAgdXNlclBvb2xJZFxuICB9ID0gYXV0aENvbmZpZztcbiAgY29uc3Qge1xuICAgIHRva2Vuc1xuICB9ID0gYXdhaXQgZmV0Y2hBdXRoU2Vzc2lvbih7XG4gICAgZm9yY2VSZWZyZXNoOiBmYWxzZVxuICB9KTtcbiAgYXNzZXJ0QXV0aFRva2Vucyh0b2tlbnMpO1xuICBjb25zdCBnZXRVc2VyQXR0cmlidXRlVmVyaWZpY2F0aW9uQ29kZSA9IGNyZWF0ZUdldFVzZXJBdHRyaWJ1dGVWZXJpZmljYXRpb25Db2RlQ2xpZW50KHtcbiAgICBlbmRwb2ludFJlc29sdmVyOiBjcmVhdGVDb2duaXRvVXNlclBvb2xFbmRwb2ludFJlc29sdmVyKHtcbiAgICAgIGVuZHBvaW50T3ZlcnJpZGU6IHVzZXJQb29sRW5kcG9pbnRcbiAgICB9KVxuICB9KTtcbiAgY29uc3Qge1xuICAgIENvZGVEZWxpdmVyeURldGFpbHNcbiAgfSA9IGF3YWl0IGdldFVzZXJBdHRyaWJ1dGVWZXJpZmljYXRpb25Db2RlKHtcbiAgICByZWdpb246IGdldFJlZ2lvbkZyb21Vc2VyUG9vbElkKHVzZXJQb29sSWQpLFxuICAgIHVzZXJBZ2VudFZhbHVlOiBnZXRBdXRoVXNlckFnZW50VmFsdWUoQXV0aEFjdGlvbi5TZW5kVXNlckF0dHJpYnV0ZVZlcmlmaWNhdGlvbkNvZGUpXG4gIH0sIHtcbiAgICBBY2Nlc3NUb2tlbjogdG9rZW5zLmFjY2Vzc1Rva2VuLnRvU3RyaW5nKCksXG4gICAgQ2xpZW50TWV0YWRhdGE6IGNsaWVudE1ldGFkYXRhLFxuICAgIEF0dHJpYnV0ZU5hbWU6IHVzZXJBdHRyaWJ1dGVLZXlcbiAgfSk7XG4gIGNvbnN0IHtcbiAgICBEZWxpdmVyeU1lZGl1bSxcbiAgICBBdHRyaWJ1dGVOYW1lLFxuICAgIERlc3RpbmF0aW9uXG4gIH0gPSB7XG4gICAgLi4uQ29kZURlbGl2ZXJ5RGV0YWlsc1xuICB9O1xuICByZXR1cm4ge1xuICAgIGRlc3RpbmF0aW9uOiBEZXN0aW5hdGlvbixcbiAgICBkZWxpdmVyeU1lZGl1bTogRGVsaXZlcnlNZWRpdW0sXG4gICAgYXR0cmlidXRlTmFtZTogQXR0cmlidXRlTmFtZVxuICB9O1xufTtcbmV4cG9ydCB7IHNlbmRVc2VyQXR0cmlidXRlVmVyaWZpY2F0aW9uQ29kZSB9O1xuIiwiaW1wb3J0IHsgY29tcG9zZVNlcnZpY2VBcGkgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscy9jb21wb3NlcnMnO1xuaW1wb3J0IHsgY3JlYXRlVXNlclBvb2xTZXJpYWxpemVyIH0gZnJvbSAnLi9zaGFyZWQvc2VyZGUvY3JlYXRlVXNlclBvb2xTZXJpYWxpemVyLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVVc2VyUG9vbERlc2VyaWFsaXplciB9IGZyb20gJy4vc2hhcmVkL3NlcmRlL2NyZWF0ZVVzZXJQb29sRGVzZXJpYWxpemVyLm1qcyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy9hd3MtY2xpZW50LXV0aWxzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL3V0aWxzJztcbmltcG9ydCB7IGNvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlciB9IGZyb20gJy4vc2hhcmVkL2hhbmRsZXIvY29nbml0b1VzZXJQb29sVHJhbnNmZXJIYW5kbGVyLm1qcyc7XG5pbXBvcnQgeyBERUZBVUxUX1NFUlZJQ0VfQ0xJRU5UX0FQSV9DT05GSUcgfSBmcm9tICcuL2NvbnN0YW50cy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBjcmVhdGVHZXRUb2tlbnNGcm9tUmVmcmVzaFRva2VuQ2xpZW50ID0gY29uZmlnID0+IGNvbXBvc2VTZXJ2aWNlQXBpKGNvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlciwgY3JlYXRlVXNlclBvb2xTZXJpYWxpemVyKCdHZXRUb2tlbnNGcm9tUmVmcmVzaFRva2VuJyksIGNyZWF0ZVVzZXJQb29sRGVzZXJpYWxpemVyKCksIHtcbiAgLi4uREVGQVVMVF9TRVJWSUNFX0NMSUVOVF9BUElfQ09ORklHLFxuICAuLi5jb25maWdcbn0pO1xuZXhwb3J0IHsgY3JlYXRlR2V0VG9rZW5zRnJvbVJlZnJlc2hUb2tlbkNsaWVudCB9O1xuIiwiaW1wb3J0IHsgZGVEdXBlQXN5bmNGdW5jdGlvbiwgYXNzZXJ0VG9rZW5Qcm92aWRlckNvbmZpZywgZGVjb2RlSldUIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL3V0aWxzJztcbmltcG9ydCB7IGdldFJlZ2lvbkZyb21Vc2VyUG9vbElkIH0gZnJvbSAnLi4vLi4vLi4vZm91bmRhdGlvbi9wYXJzZXJzL3JlZ2lvblBhcnNlcnMubWpzJztcbmltcG9ydCB7IGFzc2VydEF1dGhUb2tlbnNXaXRoUmVmcmVzaFRva2VuIH0gZnJvbSAnLi90eXBlcy5tanMnO1xuaW1wb3J0IHsgQXV0aEVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3JzL0F1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlciB9IGZyb20gJy4uL2ZhY3Rvcmllcy9jcmVhdGVDb2duaXRvVXNlclBvb2xFbmRwb2ludFJlc29sdmVyLm1qcyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMvY29tcG9zZXJzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMnO1xuaW1wb3J0ICcuLi8uLi8uLi9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9zaGFyZWQvaGFuZGxlci9jb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvY29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVHZXRUb2tlbnNGcm9tUmVmcmVzaFRva2VuQ2xpZW50IH0gZnJvbSAnLi4vLi4vLi4vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvY3JlYXRlR2V0VG9rZW5zRnJvbVJlZnJlc2hUb2tlbkNsaWVudC5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi9jb21tb24vQXV0aEVycm9yU3RyaW5ncy5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi9lcnJvcnMvdHlwZXMvdmFsaWRhdGlvbi5tanMnO1xuaW1wb3J0ICcuLi90eXBlcy9lcnJvcnMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuY29uc3QgcmVmcmVzaEF1dGhUb2tlbnNGdW5jdGlvbiA9IGFzeW5jICh7XG4gIHRva2VucyxcbiAgYXV0aENvbmZpZyxcbiAgdXNlcm5hbWVcbn0pID0+IHtcbiAgYXNzZXJ0VG9rZW5Qcm92aWRlckNvbmZpZyhhdXRoQ29uZmlnPy5Db2duaXRvKTtcbiAgY29uc3Qge1xuICAgIHVzZXJQb29sSWQsXG4gICAgdXNlclBvb2xDbGllbnRJZCxcbiAgICB1c2VyUG9vbEVuZHBvaW50XG4gIH0gPSBhdXRoQ29uZmlnLkNvZ25pdG87XG4gIGNvbnN0IHJlZ2lvbiA9IGdldFJlZ2lvbkZyb21Vc2VyUG9vbElkKHVzZXJQb29sSWQpO1xuICBhc3NlcnRBdXRoVG9rZW5zV2l0aFJlZnJlc2hUb2tlbih0b2tlbnMpO1xuICBjb25zdCBnZXRUb2tlbnNGcm9tUmVmcmVzaFRva2VuID0gY3JlYXRlR2V0VG9rZW5zRnJvbVJlZnJlc2hUb2tlbkNsaWVudCh7XG4gICAgZW5kcG9pbnRSZXNvbHZlcjogY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlcih7XG4gICAgICBlbmRwb2ludE92ZXJyaWRlOiB1c2VyUG9vbEVuZHBvaW50XG4gICAgfSlcbiAgfSk7XG4gIGNvbnN0IHtcbiAgICBBdXRoZW50aWNhdGlvblJlc3VsdFxuICB9ID0gYXdhaXQgZ2V0VG9rZW5zRnJvbVJlZnJlc2hUb2tlbih7XG4gICAgcmVnaW9uXG4gIH0sIHtcbiAgICBDbGllbnRJZDogdXNlclBvb2xDbGllbnRJZCxcbiAgICBSZWZyZXNoVG9rZW46IHRva2Vucy5yZWZyZXNoVG9rZW4sXG4gICAgRGV2aWNlS2V5OiB0b2tlbnMuZGV2aWNlTWV0YWRhdGE/LmRldmljZUtleVxuICB9KTtcbiAgY29uc3QgYWNjZXNzVG9rZW4gPSBkZWNvZGVKV1QoQXV0aGVudGljYXRpb25SZXN1bHQ/LkFjY2Vzc1Rva2VuID8/ICcnKTtcbiAgY29uc3QgaWRUb2tlbiA9IEF1dGhlbnRpY2F0aW9uUmVzdWx0Py5JZFRva2VuID8gZGVjb2RlSldUKEF1dGhlbnRpY2F0aW9uUmVzdWx0LklkVG9rZW4pIDogdW5kZWZpbmVkO1xuICBjb25zdCB7XG4gICAgaWF0XG4gIH0gPSBhY2Nlc3NUb2tlbi5wYXlsb2FkO1xuICAvLyBUaGlzIHNob3VsZCBuZXZlciBoYXBwZW4uIElmIGl0IGRvZXMsIGl0J3MgYSBidWcgZnJvbSB0aGUgc2VydmljZS5cbiAgaWYgKCFpYXQpIHtcbiAgICB0aHJvdyBuZXcgQXV0aEVycm9yKHtcbiAgICAgIG5hbWU6ICdpYXROb3RGb3VuZEV4Y2VwdGlvbicsXG4gICAgICBtZXNzYWdlOiAnaWF0IG5vdCBmb3VuZCBpbiBhY2Nlc3MgdG9rZW4nXG4gICAgfSk7XG4gIH1cbiAgY29uc3QgY2xvY2tEcmlmdCA9IGlhdCAqIDEwMDAgLSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgcmV0dXJuIHtcbiAgICBhY2Nlc3NUb2tlbixcbiAgICBpZFRva2VuLFxuICAgIGNsb2NrRHJpZnQsXG4gICAgcmVmcmVzaFRva2VuOiBBdXRoZW50aWNhdGlvblJlc3VsdD8uUmVmcmVzaFRva2VuID8/IHRva2Vucy5yZWZyZXNoVG9rZW4sXG4gICAgdXNlcm5hbWVcbiAgfTtcbn07XG5jb25zdCByZWZyZXNoQXV0aFRva2VucyA9IGRlRHVwZUFzeW5jRnVuY3Rpb24ocmVmcmVzaEF1dGhUb2tlbnNGdW5jdGlvbik7XG5jb25zdCByZWZyZXNoQXV0aFRva2Vuc1dpdGhvdXREZWR1cGUgPSByZWZyZXNoQXV0aFRva2Vuc0Z1bmN0aW9uO1xuZXhwb3J0IHsgcmVmcmVzaEF1dGhUb2tlbnMsIHJlZnJlc2hBdXRoVG9rZW5zV2l0aG91dERlZHVwZSB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlQXNzZXJ0aW9uRnVuY3Rpb24gfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG52YXIgVG9rZW5Qcm92aWRlckVycm9yQ29kZTtcbihmdW5jdGlvbiAoVG9rZW5Qcm92aWRlckVycm9yQ29kZSkge1xuICBUb2tlblByb3ZpZGVyRXJyb3JDb2RlW1wiSW52YWxpZEF1dGhUb2tlbnNcIl0gPSBcIkludmFsaWRBdXRoVG9rZW5zXCI7XG59KShUb2tlblByb3ZpZGVyRXJyb3JDb2RlIHx8IChUb2tlblByb3ZpZGVyRXJyb3JDb2RlID0ge30pKTtcbmNvbnN0IHRva2VuVmFsaWRhdGlvbkVycm9yTWFwID0ge1xuICBbVG9rZW5Qcm92aWRlckVycm9yQ29kZS5JbnZhbGlkQXV0aFRva2Vuc106IHtcbiAgICBtZXNzYWdlOiAnSW52YWxpZCB0b2tlbnMuJyxcbiAgICByZWNvdmVyeVN1Z2dlc3Rpb246ICdNYWtlIHN1cmUgdGhlIHRva2VucyBhcmUgdmFsaWQuJ1xuICB9XG59O1xuY29uc3QgYXNzZXJ0ID0gY3JlYXRlQXNzZXJ0aW9uRnVuY3Rpb24odG9rZW5WYWxpZGF0aW9uRXJyb3JNYXApO1xuZXhwb3J0IHsgVG9rZW5Qcm92aWRlckVycm9yQ29kZSwgYXNzZXJ0IH07XG4iLCJjb25zdCBBdXRoVG9rZW5TdG9yYWdlS2V5cyA9IHtcbiAgYWNjZXNzVG9rZW46ICdhY2Nlc3NUb2tlbicsXG4gIGlkVG9rZW46ICdpZFRva2VuJyxcbiAgb2lkY1Byb3ZpZGVyOiAnb2lkY1Byb3ZpZGVyJyxcbiAgY2xvY2tEcmlmdDogJ2Nsb2NrRHJpZnQnLFxuICByZWZyZXNoVG9rZW46ICdyZWZyZXNoVG9rZW4nLFxuICBkZXZpY2VLZXk6ICdkZXZpY2VLZXknLFxuICByYW5kb21QYXNzd29yZEtleTogJ3JhbmRvbVBhc3N3b3JkS2V5JyxcbiAgZGV2aWNlR3JvdXBLZXk6ICdkZXZpY2VHcm91cEtleScsXG4gIHNpZ25JbkRldGFpbHM6ICdzaWduSW5EZXRhaWxzJyxcbiAgb2F1dGhNZXRhZGF0YTogJ29hdXRoTWV0YWRhdGEnXG59O1xuZXhwb3J0IHsgQXV0aFRva2VuU3RvcmFnZUtleXMgfTtcbiIsIi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IEFVVEhfS0VZX1BSRUZJWCA9ICdDb2duaXRvSWRlbnRpdHlTZXJ2aWNlUHJvdmlkZXInO1xuZXhwb3J0IHsgQVVUSF9LRVlfUFJFRklYIH07XG4iLCJpbXBvcnQgeyBkZWNvZGVKV1QsIGFzc2VydFRva2VuUHJvdmlkZXJDb25maWcgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuaW1wb3J0IHsgQXV0aEVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3JzL0F1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgQXV0aFRva2VuU3RvcmFnZUtleXMgfSBmcm9tICcuL3R5cGVzLm1qcyc7XG5pbXBvcnQgeyBhc3NlcnQsIFRva2VuUHJvdmlkZXJFcnJvckNvZGUgfSBmcm9tICcuL2Vycm9ySGVscGVycy5tanMnO1xuaW1wb3J0IHsgQVVUSF9LRVlfUFJFRklYIH0gZnJvbSAnLi9jb25zdGFudHMubWpzJztcbmNsYXNzIERlZmF1bHRUb2tlblN0b3JlIHtcbiAgZ2V0S2V5VmFsdWVTdG9yYWdlKCkge1xuICAgIGlmICghdGhpcy5rZXlWYWx1ZVN0b3JhZ2UpIHtcbiAgICAgIHRocm93IG5ldyBBdXRoRXJyb3Ioe1xuICAgICAgICBuYW1lOiAnS2V5VmFsdWVTdG9yYWdlTm90Rm91bmRFeGNlcHRpb24nLFxuICAgICAgICBtZXNzYWdlOiAnS2V5VmFsdWVTdG9yYWdlIHdhcyBub3QgZm91bmQgaW4gVG9rZW5TdG9yZSdcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5rZXlWYWx1ZVN0b3JhZ2U7XG4gIH1cbiAgc2V0S2V5VmFsdWVTdG9yYWdlKGtleVZhbHVlU3RvcmFnZSkge1xuICAgIHRoaXMua2V5VmFsdWVTdG9yYWdlID0ga2V5VmFsdWVTdG9yYWdlO1xuICB9XG4gIHNldEF1dGhDb25maWcoYXV0aENvbmZpZykge1xuICAgIHRoaXMuYXV0aENvbmZpZyA9IGF1dGhDb25maWc7XG4gIH1cbiAgYXN5bmMgbG9hZFRva2VucygpIHtcbiAgICAvLyBUT0RPKHY2KTogbWlncmF0aW9uIGxvZ2ljIHNob3VsZCBiZSBoZXJlXG4gICAgLy8gUmVhZGluZyBWNSB0b2tlbnMgb2xkIGZvcm1hdFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBhdXRoS2V5cyA9IGF3YWl0IHRoaXMuZ2V0QXV0aEtleXMoKTtcbiAgICAgIGNvbnN0IGFjY2Vzc1Rva2VuU3RyaW5nID0gYXdhaXQgdGhpcy5nZXRLZXlWYWx1ZVN0b3JhZ2UoKS5nZXRJdGVtKGF1dGhLZXlzLmFjY2Vzc1Rva2VuKTtcbiAgICAgIGlmICghYWNjZXNzVG9rZW5TdHJpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcih7XG4gICAgICAgICAgbmFtZTogJ05vU2Vzc2lvbkZvdW5kRXhjZXB0aW9uJyxcbiAgICAgICAgICBtZXNzYWdlOiAnQXV0aCBzZXNzaW9uIHdhcyBub3QgZm91bmQuIE1ha2Ugc3VyZSB0byBjYWxsIHNpZ25Jbi4nXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgYWNjZXNzVG9rZW4gPSBkZWNvZGVKV1QoYWNjZXNzVG9rZW5TdHJpbmcpO1xuICAgICAgY29uc3QgaXRTdHJpbmcgPSBhd2FpdCB0aGlzLmdldEtleVZhbHVlU3RvcmFnZSgpLmdldEl0ZW0oYXV0aEtleXMuaWRUb2tlbik7XG4gICAgICBjb25zdCBpZFRva2VuID0gaXRTdHJpbmcgPyBkZWNvZGVKV1QoaXRTdHJpbmcpIDogdW5kZWZpbmVkO1xuICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gKGF3YWl0IHRoaXMuZ2V0S2V5VmFsdWVTdG9yYWdlKCkuZ2V0SXRlbShhdXRoS2V5cy5yZWZyZXNoVG9rZW4pKSA/PyB1bmRlZmluZWQ7XG4gICAgICBjb25zdCBjbG9ja0RyaWZ0U3RyaW5nID0gKGF3YWl0IHRoaXMuZ2V0S2V5VmFsdWVTdG9yYWdlKCkuZ2V0SXRlbShhdXRoS2V5cy5jbG9ja0RyaWZ0KSkgPz8gJzAnO1xuICAgICAgY29uc3QgY2xvY2tEcmlmdCA9IE51bWJlci5wYXJzZUludChjbG9ja0RyaWZ0U3RyaW5nKTtcbiAgICAgIGNvbnN0IHNpZ25JbkRldGFpbHMgPSBhd2FpdCB0aGlzLmdldEtleVZhbHVlU3RvcmFnZSgpLmdldEl0ZW0oYXV0aEtleXMuc2lnbkluRGV0YWlscyk7XG4gICAgICBjb25zdCB0b2tlbnMgPSB7XG4gICAgICAgIGFjY2Vzc1Rva2VuLFxuICAgICAgICBpZFRva2VuLFxuICAgICAgICByZWZyZXNoVG9rZW4sXG4gICAgICAgIGRldmljZU1ldGFkYXRhOiAoYXdhaXQgdGhpcy5nZXREZXZpY2VNZXRhZGF0YSgpKSA/PyB1bmRlZmluZWQsXG4gICAgICAgIGNsb2NrRHJpZnQsXG4gICAgICAgIHVzZXJuYW1lOiBhd2FpdCB0aGlzLmdldExhc3RBdXRoVXNlcigpXG4gICAgICB9O1xuICAgICAgaWYgKHNpZ25JbkRldGFpbHMpIHtcbiAgICAgICAgdG9rZW5zLnNpZ25JbkRldGFpbHMgPSBKU09OLnBhcnNlKHNpZ25JbkRldGFpbHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICBhc3luYyBzdG9yZVRva2Vucyh0b2tlbnMpIHtcbiAgICBhc3NlcnQodG9rZW5zICE9PSB1bmRlZmluZWQsIFRva2VuUHJvdmlkZXJFcnJvckNvZGUuSW52YWxpZEF1dGhUb2tlbnMpO1xuICAgIGNvbnN0IGxhc3RBdXRoVXNlciA9IHRva2Vucy51c2VybmFtZTtcbiAgICBhd2FpdCB0aGlzLmdldEtleVZhbHVlU3RvcmFnZSgpLnNldEl0ZW0odGhpcy5nZXRMYXN0QXV0aFVzZXJLZXkoKSwgbGFzdEF1dGhVc2VyKTtcbiAgICBjb25zdCBhdXRoS2V5cyA9IGF3YWl0IHRoaXMuZ2V0QXV0aEtleXMoKTtcbiAgICBhd2FpdCB0aGlzLmdldEtleVZhbHVlU3RvcmFnZSgpLnNldEl0ZW0oYXV0aEtleXMuYWNjZXNzVG9rZW4sIHRva2Vucy5hY2Nlc3NUb2tlbi50b1N0cmluZygpKTtcbiAgICBpZiAodG9rZW5zLmlkVG9rZW4pIHtcbiAgICAgIGF3YWl0IHRoaXMuZ2V0S2V5VmFsdWVTdG9yYWdlKCkuc2V0SXRlbShhdXRoS2V5cy5pZFRva2VuLCB0b2tlbnMuaWRUb2tlbi50b1N0cmluZygpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXdhaXQgdGhpcy5nZXRLZXlWYWx1ZVN0b3JhZ2UoKS5yZW1vdmVJdGVtKGF1dGhLZXlzLmlkVG9rZW4pO1xuICAgIH1cbiAgICBpZiAodG9rZW5zLnJlZnJlc2hUb2tlbikge1xuICAgICAgYXdhaXQgdGhpcy5nZXRLZXlWYWx1ZVN0b3JhZ2UoKS5zZXRJdGVtKGF1dGhLZXlzLnJlZnJlc2hUb2tlbiwgdG9rZW5zLnJlZnJlc2hUb2tlbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGF3YWl0IHRoaXMuZ2V0S2V5VmFsdWVTdG9yYWdlKCkucmVtb3ZlSXRlbShhdXRoS2V5cy5yZWZyZXNoVG9rZW4pO1xuICAgIH1cbiAgICBpZiAodG9rZW5zLmRldmljZU1ldGFkYXRhKSB7XG4gICAgICBpZiAodG9rZW5zLmRldmljZU1ldGFkYXRhLmRldmljZUtleSkge1xuICAgICAgICBhd2FpdCB0aGlzLmdldEtleVZhbHVlU3RvcmFnZSgpLnNldEl0ZW0oYXV0aEtleXMuZGV2aWNlS2V5LCB0b2tlbnMuZGV2aWNlTWV0YWRhdGEuZGV2aWNlS2V5KTtcbiAgICAgIH1cbiAgICAgIGlmICh0b2tlbnMuZGV2aWNlTWV0YWRhdGEuZGV2aWNlR3JvdXBLZXkpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5nZXRLZXlWYWx1ZVN0b3JhZ2UoKS5zZXRJdGVtKGF1dGhLZXlzLmRldmljZUdyb3VwS2V5LCB0b2tlbnMuZGV2aWNlTWV0YWRhdGEuZGV2aWNlR3JvdXBLZXkpO1xuICAgICAgfVxuICAgICAgYXdhaXQgdGhpcy5nZXRLZXlWYWx1ZVN0b3JhZ2UoKS5zZXRJdGVtKGF1dGhLZXlzLnJhbmRvbVBhc3N3b3JkS2V5LCB0b2tlbnMuZGV2aWNlTWV0YWRhdGEucmFuZG9tUGFzc3dvcmQpO1xuICAgIH1cbiAgICBpZiAodG9rZW5zLnNpZ25JbkRldGFpbHMpIHtcbiAgICAgIGF3YWl0IHRoaXMuZ2V0S2V5VmFsdWVTdG9yYWdlKCkuc2V0SXRlbShhdXRoS2V5cy5zaWduSW5EZXRhaWxzLCBKU09OLnN0cmluZ2lmeSh0b2tlbnMuc2lnbkluRGV0YWlscykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCB0aGlzLmdldEtleVZhbHVlU3RvcmFnZSgpLnJlbW92ZUl0ZW0oYXV0aEtleXMuc2lnbkluRGV0YWlscyk7XG4gICAgfVxuICAgIGF3YWl0IHRoaXMuZ2V0S2V5VmFsdWVTdG9yYWdlKCkuc2V0SXRlbShhdXRoS2V5cy5jbG9ja0RyaWZ0LCBgJHt0b2tlbnMuY2xvY2tEcmlmdH1gKTtcbiAgfVxuICBhc3luYyBjbGVhclRva2VucygpIHtcbiAgICBjb25zdCBhdXRoS2V5cyA9IGF3YWl0IHRoaXMuZ2V0QXV0aEtleXMoKTtcbiAgICAvLyBOb3QgY2FsbGluZyBjbGVhciBiZWNhdXNlIGl0IGNhbiByZW1vdmUgZGF0YSB0aGF0IGlzIG5vdCBtYW5hZ2VkIGJ5IEF1dGhUb2tlblN0b3JlXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuZ2V0S2V5VmFsdWVTdG9yYWdlKCkucmVtb3ZlSXRlbShhdXRoS2V5cy5hY2Nlc3NUb2tlbiksIHRoaXMuZ2V0S2V5VmFsdWVTdG9yYWdlKCkucmVtb3ZlSXRlbShhdXRoS2V5cy5pZFRva2VuKSwgdGhpcy5nZXRLZXlWYWx1ZVN0b3JhZ2UoKS5yZW1vdmVJdGVtKGF1dGhLZXlzLmNsb2NrRHJpZnQpLCB0aGlzLmdldEtleVZhbHVlU3RvcmFnZSgpLnJlbW92ZUl0ZW0oYXV0aEtleXMucmVmcmVzaFRva2VuKSwgdGhpcy5nZXRLZXlWYWx1ZVN0b3JhZ2UoKS5yZW1vdmVJdGVtKGF1dGhLZXlzLnNpZ25JbkRldGFpbHMpLCB0aGlzLmdldEtleVZhbHVlU3RvcmFnZSgpLnJlbW92ZUl0ZW0odGhpcy5nZXRMYXN0QXV0aFVzZXJLZXkoKSksIHRoaXMuZ2V0S2V5VmFsdWVTdG9yYWdlKCkucmVtb3ZlSXRlbShhdXRoS2V5cy5vYXV0aE1ldGFkYXRhKV0pO1xuICB9XG4gIGFzeW5jIGdldERldmljZU1ldGFkYXRhKHVzZXJuYW1lKSB7XG4gICAgY29uc3QgYXV0aEtleXMgPSBhd2FpdCB0aGlzLmdldEF1dGhLZXlzKHVzZXJuYW1lKTtcbiAgICBjb25zdCBkZXZpY2VLZXkgPSBhd2FpdCB0aGlzLmdldEtleVZhbHVlU3RvcmFnZSgpLmdldEl0ZW0oYXV0aEtleXMuZGV2aWNlS2V5KTtcbiAgICBjb25zdCBkZXZpY2VHcm91cEtleSA9IGF3YWl0IHRoaXMuZ2V0S2V5VmFsdWVTdG9yYWdlKCkuZ2V0SXRlbShhdXRoS2V5cy5kZXZpY2VHcm91cEtleSk7XG4gICAgY29uc3QgcmFuZG9tUGFzc3dvcmQgPSBhd2FpdCB0aGlzLmdldEtleVZhbHVlU3RvcmFnZSgpLmdldEl0ZW0oYXV0aEtleXMucmFuZG9tUGFzc3dvcmRLZXkpO1xuICAgIHJldHVybiByYW5kb21QYXNzd29yZCAmJiBkZXZpY2VHcm91cEtleSAmJiBkZXZpY2VLZXkgPyB7XG4gICAgICBkZXZpY2VLZXksXG4gICAgICBkZXZpY2VHcm91cEtleSxcbiAgICAgIHJhbmRvbVBhc3N3b3JkXG4gICAgfSA6IG51bGw7XG4gIH1cbiAgYXN5bmMgY2xlYXJEZXZpY2VNZXRhZGF0YSh1c2VybmFtZSkge1xuICAgIGNvbnN0IGF1dGhLZXlzID0gYXdhaXQgdGhpcy5nZXRBdXRoS2V5cyh1c2VybmFtZSk7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuZ2V0S2V5VmFsdWVTdG9yYWdlKCkucmVtb3ZlSXRlbShhdXRoS2V5cy5kZXZpY2VLZXkpLCB0aGlzLmdldEtleVZhbHVlU3RvcmFnZSgpLnJlbW92ZUl0ZW0oYXV0aEtleXMuZGV2aWNlR3JvdXBLZXkpLCB0aGlzLmdldEtleVZhbHVlU3RvcmFnZSgpLnJlbW92ZUl0ZW0oYXV0aEtleXMucmFuZG9tUGFzc3dvcmRLZXkpXSk7XG4gIH1cbiAgYXN5bmMgZ2V0QXV0aEtleXModXNlcm5hbWUpIHtcbiAgICBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnKHRoaXMuYXV0aENvbmZpZz8uQ29nbml0byk7XG4gICAgY29uc3QgbGFzdEF1dGhVc2VyID0gdXNlcm5hbWUgPz8gKGF3YWl0IHRoaXMuZ2V0TGFzdEF1dGhVc2VyKCkpO1xuICAgIHJldHVybiBjcmVhdGVLZXlzRm9yQXV0aFN0b3JhZ2UoQVVUSF9LRVlfUFJFRklYLCBgJHt0aGlzLmF1dGhDb25maWcuQ29nbml0by51c2VyUG9vbENsaWVudElkfS4ke2xhc3RBdXRoVXNlcn1gKTtcbiAgfVxuICBnZXRMYXN0QXV0aFVzZXJLZXkoKSB7XG4gICAgYXNzZXJ0VG9rZW5Qcm92aWRlckNvbmZpZyh0aGlzLmF1dGhDb25maWc/LkNvZ25pdG8pO1xuICAgIGNvbnN0IGlkZW50aWZpZXIgPSB0aGlzLmF1dGhDb25maWcuQ29nbml0by51c2VyUG9vbENsaWVudElkO1xuICAgIHJldHVybiBgJHtBVVRIX0tFWV9QUkVGSVh9LiR7aWRlbnRpZmllcn0uTGFzdEF1dGhVc2VyYDtcbiAgfVxuICBhc3luYyBnZXRMYXN0QXV0aFVzZXIoKSB7XG4gICAgY29uc3QgbGFzdEF1dGhVc2VyID0gKGF3YWl0IHRoaXMuZ2V0S2V5VmFsdWVTdG9yYWdlKCkuZ2V0SXRlbSh0aGlzLmdldExhc3RBdXRoVXNlcktleSgpKSkgPz8gJ3VzZXJuYW1lJztcbiAgICByZXR1cm4gbGFzdEF1dGhVc2VyO1xuICB9XG4gIGFzeW5jIHNldE9BdXRoTWV0YWRhdGEobWV0YWRhdGEpIHtcbiAgICBjb25zdCB7XG4gICAgICBvYXV0aE1ldGFkYXRhOiBvYXV0aE1ldGFkYXRhS2V5XG4gICAgfSA9IGF3YWl0IHRoaXMuZ2V0QXV0aEtleXMoKTtcbiAgICBhd2FpdCB0aGlzLmdldEtleVZhbHVlU3RvcmFnZSgpLnNldEl0ZW0ob2F1dGhNZXRhZGF0YUtleSwgSlNPTi5zdHJpbmdpZnkobWV0YWRhdGEpKTtcbiAgfVxuICBhc3luYyBnZXRPQXV0aE1ldGFkYXRhKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIG9hdXRoTWV0YWRhdGE6IG9hdXRoTWV0YWRhdGFLZXlcbiAgICB9ID0gYXdhaXQgdGhpcy5nZXRBdXRoS2V5cygpO1xuICAgIGNvbnN0IG9hdXRoTWV0YWRhdGEgPSBhd2FpdCB0aGlzLmdldEtleVZhbHVlU3RvcmFnZSgpLmdldEl0ZW0ob2F1dGhNZXRhZGF0YUtleSk7XG4gICAgcmV0dXJuIG9hdXRoTWV0YWRhdGEgJiYgSlNPTi5wYXJzZShvYXV0aE1ldGFkYXRhKTtcbiAgfVxufVxuY29uc3QgY3JlYXRlS2V5c0ZvckF1dGhTdG9yYWdlID0gKHByb3ZpZGVyLCBpZGVudGlmaWVyKSA9PiB7XG4gIHJldHVybiBnZXRBdXRoU3RvcmFnZUtleXMoQXV0aFRva2VuU3RvcmFnZUtleXMpKGAke3Byb3ZpZGVyfWAsIGlkZW50aWZpZXIpO1xufTtcbmZ1bmN0aW9uIGdldEF1dGhTdG9yYWdlS2V5cyhhdXRoS2V5cykge1xuICBjb25zdCBrZXlzID0gT2JqZWN0LnZhbHVlcyh7XG4gICAgLi4uYXV0aEtleXNcbiAgfSk7XG4gIHJldHVybiAocHJlZml4LCBpZGVudGlmaWVyKSA9PiBrZXlzLnJlZHVjZSgoYWNjLCBhdXRoS2V5KSA9PiAoe1xuICAgIC4uLmFjYyxcbiAgICBbYXV0aEtleV06IGAke3ByZWZpeH0uJHtpZGVudGlmaWVyfS4ke2F1dGhLZXl9YFxuICB9KSwge30pO1xufVxuZXhwb3J0IHsgRGVmYXVsdFRva2VuU3RvcmUsIGNyZWF0ZUtleXNGb3JBdXRoU3RvcmFnZSwgZ2V0QXV0aFN0b3JhZ2VLZXlzIH07XG4iLCJpbXBvcnQgeyBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL3V0aWxzJztcbmltcG9ydCB7IGdldEF1dGhTdG9yYWdlS2V5cyB9IGZyb20gJy4uL3Rva2VuUHJvdmlkZXIvVG9rZW5TdG9yZS5tanMnO1xuaW1wb3J0IHsgT0F1dGhTdG9yYWdlS2V5cyB9IGZyb20gJy4vdHlwZXMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuY29uc3QgVjVfSE9TVEVEX1VJX0tFWSA9ICdhbXBsaWZ5LXNpZ25pbi13aXRoLWhvc3RlZFVJJztcbmNvbnN0IG5hbWUgPSAnQ29nbml0b0lkZW50aXR5U2VydmljZVByb3ZpZGVyJztcbmNsYXNzIERlZmF1bHRPQXV0aFN0b3JlIHtcbiAgY29uc3RydWN0b3Ioa2V5VmFsdWVTdG9yYWdlKSB7XG4gICAgdGhpcy5rZXlWYWx1ZVN0b3JhZ2UgPSBrZXlWYWx1ZVN0b3JhZ2U7XG4gIH1cbiAgYXN5bmMgY2xlYXJPQXV0aEluZmxpZ2h0RGF0YSgpIHtcbiAgICBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnKHRoaXMuY29nbml0b0NvbmZpZyk7XG4gICAgY29uc3QgYXV0aEtleXMgPSBjcmVhdGVLZXlzRm9yQXV0aFN0b3JhZ2UobmFtZSwgdGhpcy5jb2duaXRvQ29uZmlnLnVzZXJQb29sQ2xpZW50SWQpO1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLmtleVZhbHVlU3RvcmFnZS5yZW1vdmVJdGVtKGF1dGhLZXlzLmluZmxpZ2h0T0F1dGgpLCB0aGlzLmtleVZhbHVlU3RvcmFnZS5yZW1vdmVJdGVtKGF1dGhLZXlzLm9hdXRoUEtDRSksIHRoaXMua2V5VmFsdWVTdG9yYWdlLnJlbW92ZUl0ZW0oYXV0aEtleXMub2F1dGhTdGF0ZSldKTtcbiAgfVxuICBhc3luYyBjbGVhck9BdXRoRGF0YSgpIHtcbiAgICBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnKHRoaXMuY29nbml0b0NvbmZpZyk7XG4gICAgY29uc3QgYXV0aEtleXMgPSBjcmVhdGVLZXlzRm9yQXV0aFN0b3JhZ2UobmFtZSwgdGhpcy5jb2duaXRvQ29uZmlnLnVzZXJQb29sQ2xpZW50SWQpO1xuICAgIGF3YWl0IHRoaXMuY2xlYXJPQXV0aEluZmxpZ2h0RGF0YSgpO1xuICAgIGF3YWl0IHRoaXMua2V5VmFsdWVTdG9yYWdlLnJlbW92ZUl0ZW0oVjVfSE9TVEVEX1VJX0tFWSk7IC8vIHJlbW92ZSBpbiBjYXNlIGEgY3VzdG9tZXIgbWlncmF0ZWQgYW4gQXBwIGZyb20gdjUgdG8gdjZcbiAgICByZXR1cm4gdGhpcy5rZXlWYWx1ZVN0b3JhZ2UucmVtb3ZlSXRlbShhdXRoS2V5cy5vYXV0aFNpZ25Jbik7XG4gIH1cbiAgbG9hZE9BdXRoU3RhdGUoKSB7XG4gICAgYXNzZXJ0VG9rZW5Qcm92aWRlckNvbmZpZyh0aGlzLmNvZ25pdG9Db25maWcpO1xuICAgIGNvbnN0IGF1dGhLZXlzID0gY3JlYXRlS2V5c0ZvckF1dGhTdG9yYWdlKG5hbWUsIHRoaXMuY29nbml0b0NvbmZpZy51c2VyUG9vbENsaWVudElkKTtcbiAgICByZXR1cm4gdGhpcy5rZXlWYWx1ZVN0b3JhZ2UuZ2V0SXRlbShhdXRoS2V5cy5vYXV0aFN0YXRlKTtcbiAgfVxuICBzdG9yZU9BdXRoU3RhdGUoc3RhdGUpIHtcbiAgICBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnKHRoaXMuY29nbml0b0NvbmZpZyk7XG4gICAgY29uc3QgYXV0aEtleXMgPSBjcmVhdGVLZXlzRm9yQXV0aFN0b3JhZ2UobmFtZSwgdGhpcy5jb2duaXRvQ29uZmlnLnVzZXJQb29sQ2xpZW50SWQpO1xuICAgIHJldHVybiB0aGlzLmtleVZhbHVlU3RvcmFnZS5zZXRJdGVtKGF1dGhLZXlzLm9hdXRoU3RhdGUsIHN0YXRlKTtcbiAgfVxuICBsb2FkUEtDRSgpIHtcbiAgICBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnKHRoaXMuY29nbml0b0NvbmZpZyk7XG4gICAgY29uc3QgYXV0aEtleXMgPSBjcmVhdGVLZXlzRm9yQXV0aFN0b3JhZ2UobmFtZSwgdGhpcy5jb2duaXRvQ29uZmlnLnVzZXJQb29sQ2xpZW50SWQpO1xuICAgIHJldHVybiB0aGlzLmtleVZhbHVlU3RvcmFnZS5nZXRJdGVtKGF1dGhLZXlzLm9hdXRoUEtDRSk7XG4gIH1cbiAgc3RvcmVQS0NFKHBrY2UpIHtcbiAgICBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnKHRoaXMuY29nbml0b0NvbmZpZyk7XG4gICAgY29uc3QgYXV0aEtleXMgPSBjcmVhdGVLZXlzRm9yQXV0aFN0b3JhZ2UobmFtZSwgdGhpcy5jb2duaXRvQ29uZmlnLnVzZXJQb29sQ2xpZW50SWQpO1xuICAgIHJldHVybiB0aGlzLmtleVZhbHVlU3RvcmFnZS5zZXRJdGVtKGF1dGhLZXlzLm9hdXRoUEtDRSwgcGtjZSk7XG4gIH1cbiAgc2V0QXV0aENvbmZpZyhhdXRoQ29uZmlnUGFyYW0pIHtcbiAgICB0aGlzLmNvZ25pdG9Db25maWcgPSBhdXRoQ29uZmlnUGFyYW07XG4gIH1cbiAgYXN5bmMgbG9hZE9BdXRoSW5GbGlnaHQoKSB7XG4gICAgYXNzZXJ0VG9rZW5Qcm92aWRlckNvbmZpZyh0aGlzLmNvZ25pdG9Db25maWcpO1xuICAgIGNvbnN0IGF1dGhLZXlzID0gY3JlYXRlS2V5c0ZvckF1dGhTdG9yYWdlKG5hbWUsIHRoaXMuY29nbml0b0NvbmZpZy51c2VyUG9vbENsaWVudElkKTtcbiAgICByZXR1cm4gKGF3YWl0IHRoaXMua2V5VmFsdWVTdG9yYWdlLmdldEl0ZW0oYXV0aEtleXMuaW5mbGlnaHRPQXV0aCkpID09PSAndHJ1ZSc7XG4gIH1cbiAgYXN5bmMgc3RvcmVPQXV0aEluRmxpZ2h0KGluZmxpZ2h0KSB7XG4gICAgYXNzZXJ0VG9rZW5Qcm92aWRlckNvbmZpZyh0aGlzLmNvZ25pdG9Db25maWcpO1xuICAgIGNvbnN0IGF1dGhLZXlzID0gY3JlYXRlS2V5c0ZvckF1dGhTdG9yYWdlKG5hbWUsIHRoaXMuY29nbml0b0NvbmZpZy51c2VyUG9vbENsaWVudElkKTtcbiAgICBhd2FpdCB0aGlzLmtleVZhbHVlU3RvcmFnZS5zZXRJdGVtKGF1dGhLZXlzLmluZmxpZ2h0T0F1dGgsIGAke2luZmxpZ2h0fWApO1xuICB9XG4gIGFzeW5jIGxvYWRPQXV0aFNpZ25JbigpIHtcbiAgICBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnKHRoaXMuY29nbml0b0NvbmZpZyk7XG4gICAgY29uc3QgYXV0aEtleXMgPSBjcmVhdGVLZXlzRm9yQXV0aFN0b3JhZ2UobmFtZSwgdGhpcy5jb2duaXRvQ29uZmlnLnVzZXJQb29sQ2xpZW50SWQpO1xuICAgIGNvbnN0IGlzTGVnYWN5SG9zdGVkVUlTaWduSW4gPSBhd2FpdCB0aGlzLmtleVZhbHVlU3RvcmFnZS5nZXRJdGVtKFY1X0hPU1RFRF9VSV9LRVkpO1xuICAgIGNvbnN0IFtpc09BdXRoU2lnbkluLCBwcmVmZXJQcml2YXRlU2Vzc2lvbl0gPSAoYXdhaXQgdGhpcy5rZXlWYWx1ZVN0b3JhZ2UuZ2V0SXRlbShhdXRoS2V5cy5vYXV0aFNpZ25JbikpPy5zcGxpdCgnLCcpID8/IFtdO1xuICAgIHJldHVybiB7XG4gICAgICBpc09BdXRoU2lnbkluOiBpc09BdXRoU2lnbkluID09PSAndHJ1ZScgfHwgaXNMZWdhY3lIb3N0ZWRVSVNpZ25JbiA9PT0gJ3RydWUnLFxuICAgICAgcHJlZmVyUHJpdmF0ZVNlc3Npb246IHByZWZlclByaXZhdGVTZXNzaW9uID09PSAndHJ1ZSdcbiAgICB9O1xuICB9XG4gIGFzeW5jIHN0b3JlT0F1dGhTaWduSW4ob2F1dGhTaWduSW4sIHByZWZlclByaXZhdGVTZXNzaW9uID0gZmFsc2UpIHtcbiAgICBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnKHRoaXMuY29nbml0b0NvbmZpZyk7XG4gICAgY29uc3QgYXV0aEtleXMgPSBjcmVhdGVLZXlzRm9yQXV0aFN0b3JhZ2UobmFtZSwgdGhpcy5jb2duaXRvQ29uZmlnLnVzZXJQb29sQ2xpZW50SWQpO1xuICAgIGF3YWl0IHRoaXMua2V5VmFsdWVTdG9yYWdlLnNldEl0ZW0oYXV0aEtleXMub2F1dGhTaWduSW4sIGAke29hdXRoU2lnbklufSwke3ByZWZlclByaXZhdGVTZXNzaW9ufWApO1xuICB9XG59XG5jb25zdCBjcmVhdGVLZXlzRm9yQXV0aFN0b3JhZ2UgPSAocHJvdmlkZXIsIGlkZW50aWZpZXIpID0+IHtcbiAgcmV0dXJuIGdldEF1dGhTdG9yYWdlS2V5cyhPQXV0aFN0b3JhZ2VLZXlzKShwcm92aWRlciwgaWRlbnRpZmllcik7XG59O1xuZXhwb3J0IHsgRGVmYXVsdE9BdXRoU3RvcmUgfTtcbiIsImltcG9ydCB7IGRlZmF1bHRTdG9yYWdlIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUnO1xuaW1wb3J0IHsgRGVmYXVsdE9BdXRoU3RvcmUgfSBmcm9tICcuLi9zaWduSW5XaXRoUmVkaXJlY3RTdG9yZS5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBvQXV0aFN0b3JlID0gbmV3IERlZmF1bHRPQXV0aFN0b3JlKGRlZmF1bHRTdG9yYWdlKTtcbmV4cG9ydCB7IG9BdXRoU3RvcmUgfTtcbiIsIi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IGluZmxpZ2h0UHJvbWlzZXMgPSBbXTtcbmNvbnN0IGFkZEluZmxpZ2h0UHJvbWlzZSA9IHJlc29sdmVyID0+IHtcbiAgaW5mbGlnaHRQcm9taXNlcy5wdXNoKHJlc29sdmVyKTtcbn07XG5jb25zdCByZXNvbHZlQW5kQ2xlYXJJbmZsaWdodFByb21pc2VzID0gKCkgPT4ge1xuICB3aGlsZSAoaW5mbGlnaHRQcm9taXNlcy5sZW5ndGgpIHtcbiAgICBpbmZsaWdodFByb21pc2VzLnBvcCgpPy4oKTtcbiAgfVxufTtcbmV4cG9ydCB7IGFkZEluZmxpZ2h0UHJvbWlzZSwgcmVzb2x2ZUFuZENsZWFySW5mbGlnaHRQcm9taXNlcyB9O1xuIiwiaW1wb3J0IHsgSHViIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUnO1xuaW1wb3J0IHsgaXNCcm93c2VyLCBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnLCBpc1Rva2VuRXhwaXJlZCwgQU1QTElGWV9TWU1CT0wsIEFtcGxpZnlFcnJvckNvZGUgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuaW1wb3J0IHsgYXNzZXJ0U2VydmljZUVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3JzL3V0aWxzL2Fzc2VydFNlcnZpY2VFcnJvci5tanMnO1xuaW1wb3J0IHsgQXV0aEVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3JzL0F1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgb0F1dGhTdG9yZSB9IGZyb20gJy4uL3V0aWxzL29hdXRoL29BdXRoU3RvcmUubWpzJztcbmltcG9ydCB7IGFkZEluZmxpZ2h0UHJvbWlzZSB9IGZyb20gJy4uL3V0aWxzL29hdXRoL2luZmxpZ2h0UHJvbWlzZS5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jbGFzcyBUb2tlbk9yY2hlc3RyYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMud2FpdEZvckluZmxpZ2h0T0F1dGggPSBpc0Jyb3dzZXIoKSA/IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghKGF3YWl0IG9BdXRoU3RvcmUubG9hZE9BdXRoSW5GbGlnaHQoKSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuaW5mbGlnaHRQcm9taXNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluZmxpZ2h0UHJvbWlzZTtcbiAgICAgIH1cbiAgICAgIC8vIHdoZW4gdGhlcmUgaXMgdmFsaWQgb2F1dGggY29uZmlnIGFuZCB0aGVyZSBpcyBhbiBpbmZsaWdodCBvYXV0aCBmbG93LCB0cnlcbiAgICAgIC8vIHRvIGJsb2NrIGFzeW5jIGNhbGxzIHRoYXQgcmVxdWlyZSBmZXRjaGluZyB0b2tlbnMgYmVmb3JlIHRoZSBvYXV0aCBmbG93IGNvbXBsZXRlc1xuICAgICAgLy8gZS5nLiBnZXRDdXJyZW50VXNlciwgZmV0Y2hBdXRoU2Vzc2lvbiBldGMuXG4gICAgICB0aGlzLmluZmxpZ2h0UHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCBfcmVqZWN0KSA9PiB7XG4gICAgICAgIGFkZEluZmxpZ2h0UHJvbWlzZShyZXNvbHZlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXMuaW5mbGlnaHRQcm9taXNlO1xuICAgIH0gOiBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBuby1vcCBmb3Igbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRzXG4gICAgfTtcbiAgfVxuICBzZXRBdXRoQ29uZmlnKGF1dGhDb25maWcpIHtcbiAgICBvQXV0aFN0b3JlLnNldEF1dGhDb25maWcoYXV0aENvbmZpZy5Db2duaXRvKTtcbiAgICB0aGlzLmF1dGhDb25maWcgPSBhdXRoQ29uZmlnO1xuICB9XG4gIHNldFRva2VuUmVmcmVzaGVyKHRva2VuUmVmcmVzaGVyKSB7XG4gICAgdGhpcy50b2tlblJlZnJlc2hlciA9IHRva2VuUmVmcmVzaGVyO1xuICB9XG4gIHNldEF1dGhUb2tlblN0b3JlKHRva2VuU3RvcmUpIHtcbiAgICB0aGlzLnRva2VuU3RvcmUgPSB0b2tlblN0b3JlO1xuICB9XG4gIGdldFRva2VuU3RvcmUoKSB7XG4gICAgaWYgKCF0aGlzLnRva2VuU3RvcmUpIHtcbiAgICAgIHRocm93IG5ldyBBdXRoRXJyb3Ioe1xuICAgICAgICBuYW1lOiAnRW1wdHlUb2tlblN0b3JlRXhjZXB0aW9uJyxcbiAgICAgICAgbWVzc2FnZTogJ1Rva2VuU3RvcmUgbm90IHNldCdcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy50b2tlblN0b3JlO1xuICB9XG4gIGdldFRva2VuUmVmcmVzaGVyKCkge1xuICAgIGlmICghdGhpcy50b2tlblJlZnJlc2hlcikge1xuICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcih7XG4gICAgICAgIG5hbWU6ICdFbXB0eVRva2VuUmVmcmVzaGVyRXhjZXB0aW9uJyxcbiAgICAgICAgbWVzc2FnZTogJ1Rva2VuUmVmcmVzaGVyIG5vdCBzZXQnXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudG9rZW5SZWZyZXNoZXI7XG4gIH1cbiAgYXN5bmMgZ2V0VG9rZW5zKG9wdGlvbnMpIHtcbiAgICBsZXQgdG9rZW5zO1xuICAgIHRyeSB7XG4gICAgICBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnKHRoaXMuYXV0aENvbmZpZz8uQ29nbml0byk7XG4gICAgfSBjYXRjaCAoX2Vycikge1xuICAgICAgLy8gVG9rZW4gcHJvdmlkZXIgbm90IGNvbmZpZ3VyZWRcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLndhaXRGb3JJbmZsaWdodE9BdXRoKCk7XG4gICAgdGhpcy5pbmZsaWdodFByb21pc2UgPSB1bmRlZmluZWQ7XG4gICAgdG9rZW5zID0gYXdhaXQgdGhpcy5nZXRUb2tlblN0b3JlKCkubG9hZFRva2VucygpO1xuICAgIGNvbnN0IHVzZXJuYW1lID0gYXdhaXQgdGhpcy5nZXRUb2tlblN0b3JlKCkuZ2V0TGFzdEF1dGhVc2VyKCk7XG4gICAgaWYgKHRva2VucyA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGlkVG9rZW5FeHBpcmVkID0gISF0b2tlbnM/LmlkVG9rZW4gJiYgaXNUb2tlbkV4cGlyZWQoe1xuICAgICAgZXhwaXJlc0F0OiAodG9rZW5zLmlkVG9rZW4/LnBheWxvYWQ/LmV4cCA/PyAwKSAqIDEwMDAsXG4gICAgICBjbG9ja0RyaWZ0OiB0b2tlbnMuY2xvY2tEcmlmdCA/PyAwXG4gICAgfSk7XG4gICAgY29uc3QgYWNjZXNzVG9rZW5FeHBpcmVkID0gaXNUb2tlbkV4cGlyZWQoe1xuICAgICAgZXhwaXJlc0F0OiAodG9rZW5zLmFjY2Vzc1Rva2VuPy5wYXlsb2FkPy5leHAgPz8gMCkgKiAxMDAwLFxuICAgICAgY2xvY2tEcmlmdDogdG9rZW5zLmNsb2NrRHJpZnQgPz8gMFxuICAgIH0pO1xuICAgIGlmIChvcHRpb25zPy5mb3JjZVJlZnJlc2ggfHwgaWRUb2tlbkV4cGlyZWQgfHwgYWNjZXNzVG9rZW5FeHBpcmVkKSB7XG4gICAgICB0b2tlbnMgPSBhd2FpdCB0aGlzLnJlZnJlc2hUb2tlbnMoe1xuICAgICAgICB0b2tlbnMsXG4gICAgICAgIHVzZXJuYW1lXG4gICAgICB9KTtcbiAgICAgIGlmICh0b2tlbnMgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBhY2Nlc3NUb2tlbjogdG9rZW5zPy5hY2Nlc3NUb2tlbixcbiAgICAgIGlkVG9rZW46IHRva2Vucz8uaWRUb2tlbixcbiAgICAgIHNpZ25JbkRldGFpbHM6IHRva2Vucz8uc2lnbkluRGV0YWlsc1xuICAgIH07XG4gIH1cbiAgYXN5bmMgcmVmcmVzaFRva2Vucyh7XG4gICAgdG9rZW5zLFxuICAgIHVzZXJuYW1lXG4gIH0pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBzaWduSW5EZXRhaWxzXG4gICAgICB9ID0gdG9rZW5zO1xuICAgICAgY29uc3QgbmV3VG9rZW5zID0gYXdhaXQgdGhpcy5nZXRUb2tlblJlZnJlc2hlcigpKHtcbiAgICAgICAgdG9rZW5zLFxuICAgICAgICBhdXRoQ29uZmlnOiB0aGlzLmF1dGhDb25maWcsXG4gICAgICAgIHVzZXJuYW1lXG4gICAgICB9KTtcbiAgICAgIG5ld1Rva2Vucy5zaWduSW5EZXRhaWxzID0gc2lnbkluRGV0YWlscztcbiAgICAgIGF3YWl0IHRoaXMuc2V0VG9rZW5zKHtcbiAgICAgICAgdG9rZW5zOiBuZXdUb2tlbnNcbiAgICAgIH0pO1xuICAgICAgSHViLmRpc3BhdGNoKCdhdXRoJywge1xuICAgICAgICBldmVudDogJ3Rva2VuUmVmcmVzaCdcbiAgICAgIH0sICdBdXRoJywgQU1QTElGWV9TWU1CT0wpO1xuICAgICAgcmV0dXJuIG5ld1Rva2VucztcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhbmRsZUVycm9ycyhlcnIpO1xuICAgIH1cbiAgfVxuICBoYW5kbGVFcnJvcnMoZXJyKSB7XG4gICAgYXNzZXJ0U2VydmljZUVycm9yKGVycik7XG4gICAgaWYgKGVyci5uYW1lICE9PSBBbXBsaWZ5RXJyb3JDb2RlLk5ldHdvcmtFcnJvcikge1xuICAgICAgLy8gVE9ETyh2Nik6IENoZWNrIGVycm9ycyBvbiBjbGllbnRcbiAgICAgIHRoaXMuY2xlYXJUb2tlbnMoKTtcbiAgICB9XG4gICAgSHViLmRpc3BhdGNoKCdhdXRoJywge1xuICAgICAgZXZlbnQ6ICd0b2tlblJlZnJlc2hfZmFpbHVyZScsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yOiBlcnJcbiAgICAgIH1cbiAgICB9LCAnQXV0aCcsIEFNUExJRllfU1lNQk9MKTtcbiAgICBpZiAoZXJyLm5hbWUuc3RhcnRzV2l0aCgnTm90QXV0aG9yaXplZEV4Y2VwdGlvbicpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdGhyb3cgZXJyO1xuICB9XG4gIGFzeW5jIHNldFRva2Vucyh7XG4gICAgdG9rZW5zXG4gIH0pIHtcbiAgICByZXR1cm4gdGhpcy5nZXRUb2tlblN0b3JlKCkuc3RvcmVUb2tlbnModG9rZW5zKTtcbiAgfVxuICBhc3luYyBjbGVhclRva2VucygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRUb2tlblN0b3JlKCkuY2xlYXJUb2tlbnMoKTtcbiAgfVxuICBnZXREZXZpY2VNZXRhZGF0YSh1c2VybmFtZSkge1xuICAgIHJldHVybiB0aGlzLmdldFRva2VuU3RvcmUoKS5nZXREZXZpY2VNZXRhZGF0YSh1c2VybmFtZSk7XG4gIH1cbiAgY2xlYXJEZXZpY2VNZXRhZGF0YSh1c2VybmFtZSkge1xuICAgIHJldHVybiB0aGlzLmdldFRva2VuU3RvcmUoKS5jbGVhckRldmljZU1ldGFkYXRhKHVzZXJuYW1lKTtcbiAgfVxuICBzZXRPQXV0aE1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VG9rZW5TdG9yZSgpLnNldE9BdXRoTWV0YWRhdGEobWV0YWRhdGEpO1xuICB9XG4gIGdldE9BdXRoTWV0YWRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VG9rZW5TdG9yZSgpLmdldE9BdXRoTWV0YWRhdGEoKTtcbiAgfVxufVxuZXhwb3J0IHsgVG9rZW5PcmNoZXN0cmF0b3IgfTtcbiIsImltcG9ydCB7IGRlZmF1bHRTdG9yYWdlIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUnO1xuaW1wb3J0IHsgcmVmcmVzaEF1dGhUb2tlbnMgfSBmcm9tICcuLi91dGlscy9yZWZyZXNoQXV0aFRva2Vucy5tanMnO1xuaW1wb3J0IHsgRGVmYXVsdFRva2VuU3RvcmUgfSBmcm9tICcuL1Rva2VuU3RvcmUubWpzJztcbmltcG9ydCB7IFRva2VuT3JjaGVzdHJhdG9yIH0gZnJvbSAnLi9Ub2tlbk9yY2hlc3RyYXRvci5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jbGFzcyBDb2duaXRvVXNlclBvb2xzVG9rZW5Qcm92aWRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYXV0aFRva2VuU3RvcmUgPSBuZXcgRGVmYXVsdFRva2VuU3RvcmUoKTtcbiAgICB0aGlzLmF1dGhUb2tlblN0b3JlLnNldEtleVZhbHVlU3RvcmFnZShkZWZhdWx0U3RvcmFnZSk7XG4gICAgdGhpcy50b2tlbk9yY2hlc3RyYXRvciA9IG5ldyBUb2tlbk9yY2hlc3RyYXRvcigpO1xuICAgIHRoaXMudG9rZW5PcmNoZXN0cmF0b3Iuc2V0QXV0aFRva2VuU3RvcmUodGhpcy5hdXRoVG9rZW5TdG9yZSk7XG4gICAgdGhpcy50b2tlbk9yY2hlc3RyYXRvci5zZXRUb2tlblJlZnJlc2hlcihyZWZyZXNoQXV0aFRva2Vucyk7XG4gIH1cbiAgZ2V0VG9rZW5zKHtcbiAgICBmb3JjZVJlZnJlc2hcbiAgfSA9IHtcbiAgICBmb3JjZVJlZnJlc2g6IGZhbHNlXG4gIH0pIHtcbiAgICByZXR1cm4gdGhpcy50b2tlbk9yY2hlc3RyYXRvci5nZXRUb2tlbnMoe1xuICAgICAgZm9yY2VSZWZyZXNoXG4gICAgfSk7XG4gIH1cbiAgc2V0S2V5VmFsdWVTdG9yYWdlKGtleVZhbHVlU3RvcmFnZSkge1xuICAgIHRoaXMuYXV0aFRva2VuU3RvcmUuc2V0S2V5VmFsdWVTdG9yYWdlKGtleVZhbHVlU3RvcmFnZSk7XG4gIH1cbiAgc2V0QXV0aENvbmZpZyhhdXRoQ29uZmlnKSB7XG4gICAgdGhpcy5hdXRoVG9rZW5TdG9yZS5zZXRBdXRoQ29uZmlnKGF1dGhDb25maWcpO1xuICAgIHRoaXMudG9rZW5PcmNoZXN0cmF0b3Iuc2V0QXV0aENvbmZpZyhhdXRoQ29uZmlnKTtcbiAgfVxufVxuZXhwb3J0IHsgQ29nbml0b1VzZXJQb29sc1Rva2VuUHJvdmlkZXIgfTtcbiIsImltcG9ydCB7IENvZ25pdG9Vc2VyUG9vbHNUb2tlblByb3ZpZGVyIH0gZnJvbSAnLi9Db2duaXRvVXNlclBvb2xzVG9rZW5Qcm92aWRlci5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIFRoZSBkZWZhdWx0IHByb3ZpZGVyIGZvciB0aGUgSldUIGFjY2VzcyB0b2tlbiBhbmQgSUQgdG9rZW4gaXNzdWVkIGZyb20gdGhlIGNvbmZpZ3VyZWQgQ29nbml0byB1c2VyIHBvb2wuIEl0IG1hbmFnZXNcbiAqIHRoZSByZWZyZXNoIGFuZCBzdG9yYWdlIG9mIHRoZSB0b2tlbnMuIEl0IHN0b3JlcyB0aGUgdG9rZW5zIGluIGB3aW5kb3cubG9jYWxTdG9yYWdlYCBpZiBhdmFpbGFibGUsIGFuZCBmYWxscyBiYWNrIHRvXG4gKiBpbi1tZW1vcnkgc3RvcmFnZSBpZiBub3QuXG4gKi9cbmNvbnN0IGNvZ25pdG9Vc2VyUG9vbHNUb2tlblByb3ZpZGVyID0gbmV3IENvZ25pdG9Vc2VyUG9vbHNUb2tlblByb3ZpZGVyKCk7XG5jb25zdCB7XG4gIHRva2VuT3JjaGVzdHJhdG9yXG59ID0gY29nbml0b1VzZXJQb29sc1Rva2VuUHJvdmlkZXI7XG5leHBvcnQgeyBjb2duaXRvVXNlclBvb2xzVG9rZW5Qcm92aWRlciwgdG9rZW5PcmNoZXN0cmF0b3IgfTtcbiIsImltcG9ydCB7IHBhcnNlSnNvbkVycm9yIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMnO1xuaW1wb3J0IHsgYXNzZXJ0U2VydmljZUVycm9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vLi4vZXJyb3JzL3V0aWxzL2Fzc2VydFNlcnZpY2VFcnJvci5tanMnO1xuaW1wb3J0IHsgQXV0aEVycm9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vLi4vZXJyb3JzL0F1dGhFcnJvci5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBjcmVhdGVFbXB0eVJlc3BvbnNlRGVzZXJpYWxpemVyID0gKCkgPT4gYXN5bmMgcmVzcG9uc2UgPT4ge1xuICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICBjb25zdCBlcnJvciA9IGF3YWl0IHBhcnNlSnNvbkVycm9yKHJlc3BvbnNlKTtcbiAgICBhc3NlcnRTZXJ2aWNlRXJyb3IoZXJyb3IpO1xuICAgIHRocm93IG5ldyBBdXRoRXJyb3Ioe1xuICAgICAgbmFtZTogZXJyb3IubmFtZSxcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2VcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59O1xuZXhwb3J0IHsgY3JlYXRlRW1wdHlSZXNwb25zZURlc2VyaWFsaXplciB9O1xuIiwiaW1wb3J0IHsgY29tcG9zZVNlcnZpY2VBcGkgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscy9jb21wb3NlcnMnO1xuaW1wb3J0IHsgY29nbml0b1VzZXJQb29sVHJhbnNmZXJIYW5kbGVyIH0gZnJvbSAnLi9zaGFyZWQvaGFuZGxlci9jb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIubWpzJztcbmltcG9ydCB7IGNyZWF0ZVVzZXJQb29sU2VyaWFsaXplciB9IGZyb20gJy4vc2hhcmVkL3NlcmRlL2NyZWF0ZVVzZXJQb29sU2VyaWFsaXplci5tanMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5pbXBvcnQgeyBjcmVhdGVFbXB0eVJlc3BvbnNlRGVzZXJpYWxpemVyIH0gZnJvbSAnLi9zaGFyZWQvc2VyZGUvY3JlYXRlRW1wdHlSZXNwb25zZURlc2VyaWFsaXplci5tanMnO1xuaW1wb3J0IHsgREVGQVVMVF9TRVJWSUNFX0NMSUVOVF9BUElfQ09ORklHIH0gZnJvbSAnLi9jb25zdGFudHMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuY29uc3QgY3JlYXRlRGVsZXRlVXNlckNsaWVudCA9IGNvbmZpZyA9PiBjb21wb3NlU2VydmljZUFwaShjb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIsIGNyZWF0ZVVzZXJQb29sU2VyaWFsaXplcignRGVsZXRlVXNlcicpLCBjcmVhdGVFbXB0eVJlc3BvbnNlRGVzZXJpYWxpemVyKCksIHtcbiAgLi4uREVGQVVMVF9TRVJWSUNFX0NMSUVOVF9BUElfQ09ORklHLFxuICAuLi5jb25maWdcbn0pO1xuZXhwb3J0IHsgY3JlYXRlRGVsZXRlVXNlckNsaWVudCB9O1xuIiwiLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IHZhciBCTE9DS19TSVpFID0gNjQ7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgdmFyIERJR0VTVF9MRU5HVEggPSAzMjtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCB2YXIgS0VZID0gbmV3IFVpbnQzMkFycmF5KFsweDQyOGEyZjk4LCAweDcxMzc0NDkxLCAweGI1YzBmYmNmLCAweGU5YjVkYmE1LCAweDM5NTZjMjViLCAweDU5ZjExMWYxLCAweDkyM2Y4MmE0LCAweGFiMWM1ZWQ1LCAweGQ4MDdhYTk4LCAweDEyODM1YjAxLCAweDI0MzE4NWJlLCAweDU1MGM3ZGMzLCAweDcyYmU1ZDc0LCAweDgwZGViMWZlLCAweDliZGMwNmE3LCAweGMxOWJmMTc0LCAweGU0OWI2OWMxLCAweGVmYmU0Nzg2LCAweDBmYzE5ZGM2LCAweDI0MGNhMWNjLCAweDJkZTkyYzZmLCAweDRhNzQ4NGFhLCAweDVjYjBhOWRjLCAweDc2Zjk4OGRhLCAweDk4M2U1MTUyLCAweGE4MzFjNjZkLCAweGIwMDMyN2M4LCAweGJmNTk3ZmM3LCAweGM2ZTAwYmYzLCAweGQ1YTc5MTQ3LCAweDA2Y2E2MzUxLCAweDE0MjkyOTY3LCAweDI3YjcwYTg1LCAweDJlMWIyMTM4LCAweDRkMmM2ZGZjLCAweDUzMzgwZDEzLCAweDY1MGE3MzU0LCAweDc2NmEwYWJiLCAweDgxYzJjOTJlLCAweDkyNzIyYzg1LCAweGEyYmZlOGExLCAweGE4MWE2NjRiLCAweGMyNGI4YjcwLCAweGM3NmM1MWEzLCAweGQxOTJlODE5LCAweGQ2OTkwNjI0LCAweGY0MGUzNTg1LCAweDEwNmFhMDcwLCAweDE5YTRjMTE2LCAweDFlMzc2YzA4LCAweDI3NDg3NzRjLCAweDM0YjBiY2I1LCAweDM5MWMwY2IzLCAweDRlZDhhYTRhLCAweDViOWNjYTRmLCAweDY4MmU2ZmYzLCAweDc0OGY4MmVlLCAweDc4YTU2MzZmLCAweDg0Yzg3ODE0LCAweDhjYzcwMjA4LCAweDkwYmVmZmZhLCAweGE0NTA2Y2ViLCAweGJlZjlhM2Y3LCAweGM2NzE3OGYyXSk7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgdmFyIElOSVQgPSBbMHg2YTA5ZTY2NywgMHhiYjY3YWU4NSwgMHgzYzZlZjM3MiwgMHhhNTRmZjUzYSwgMHg1MTBlNTI3ZiwgMHg5YjA1Njg4YywgMHgxZjgzZDlhYiwgMHg1YmUwY2QxOV07XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgdmFyIE1BWF9IQVNIQUJMRV9MRU5HVEggPSBNYXRoLnBvdygyLCA1MykgLSAxO1xuIiwiaW1wb3J0IHsgQkxPQ0tfU0laRSwgRElHRVNUX0xFTkdUSCwgSU5JVCwgS0VZLCBNQVhfSEFTSEFCTEVfTEVOR1RIIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG52YXIgUmF3U2hhMjU2ID0gLyoqIEBjbGFzcyAqL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUmF3U2hhMjU2KCkge1xuICAgIHRoaXMuc3RhdGUgPSBJbnQzMkFycmF5LmZyb20oSU5JVCk7XG4gICAgdGhpcy50ZW1wID0gbmV3IEludDMyQXJyYXkoNjQpO1xuICAgIHRoaXMuYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoNjQpO1xuICAgIHRoaXMuYnVmZmVyTGVuZ3RoID0gMDtcbiAgICB0aGlzLmJ5dGVzSGFzaGVkID0gMDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7XG4gIH1cbiAgUmF3U2hhMjU2LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGlmICh0aGlzLmZpbmlzaGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gdXBkYXRlIGFuIGFscmVhZHkgZmluaXNoZWQgaGFzaC5cIik7XG4gICAgfVxuICAgIHZhciBwb3NpdGlvbiA9IDA7XG4gICAgdmFyIGJ5dGVMZW5ndGggPSBkYXRhLmJ5dGVMZW5ndGg7XG4gICAgdGhpcy5ieXRlc0hhc2hlZCArPSBieXRlTGVuZ3RoO1xuICAgIGlmICh0aGlzLmJ5dGVzSGFzaGVkICogOCA+IE1BWF9IQVNIQUJMRV9MRU5HVEgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBoYXNoIG1vcmUgdGhhbiAyXjUzIC0gMSBiaXRzXCIpO1xuICAgIH1cbiAgICB3aGlsZSAoYnl0ZUxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuYnVmZmVyW3RoaXMuYnVmZmVyTGVuZ3RoKytdID0gZGF0YVtwb3NpdGlvbisrXTtcbiAgICAgIGJ5dGVMZW5ndGgtLTtcbiAgICAgIGlmICh0aGlzLmJ1ZmZlckxlbmd0aCA9PT0gQkxPQ0tfU0laRSkge1xuICAgICAgICB0aGlzLmhhc2hCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5idWZmZXJMZW5ndGggPSAwO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgUmF3U2hhMjU2LnByb3RvdHlwZS5kaWdlc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLmZpbmlzaGVkKSB7XG4gICAgICB2YXIgYml0c0hhc2hlZCA9IHRoaXMuYnl0ZXNIYXNoZWQgKiA4O1xuICAgICAgdmFyIGJ1ZmZlclZpZXcgPSBuZXcgRGF0YVZpZXcodGhpcy5idWZmZXIuYnVmZmVyLCB0aGlzLmJ1ZmZlci5ieXRlT2Zmc2V0LCB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgICAgIHZhciB1bmRlY29yYXRlZExlbmd0aCA9IHRoaXMuYnVmZmVyTGVuZ3RoO1xuICAgICAgYnVmZmVyVmlldy5zZXRVaW50OCh0aGlzLmJ1ZmZlckxlbmd0aCsrLCAweDgwKTtcbiAgICAgIC8vIEVuc3VyZSB0aGUgZmluYWwgYmxvY2sgaGFzIGVub3VnaCByb29tIGZvciB0aGUgaGFzaGVkIGxlbmd0aFxuICAgICAgaWYgKHVuZGVjb3JhdGVkTGVuZ3RoICUgQkxPQ0tfU0laRSA+PSBCTE9DS19TSVpFIC0gOCkge1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5idWZmZXJMZW5ndGg7IGkgPCBCTE9DS19TSVpFOyBpKyspIHtcbiAgICAgICAgICBidWZmZXJWaWV3LnNldFVpbnQ4KGksIDApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFzaEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IDA7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy5idWZmZXJMZW5ndGg7IGkgPCBCTE9DS19TSVpFIC0gODsgaSsrKSB7XG4gICAgICAgIGJ1ZmZlclZpZXcuc2V0VWludDgoaSwgMCk7XG4gICAgICB9XG4gICAgICBidWZmZXJWaWV3LnNldFVpbnQzMihCTE9DS19TSVpFIC0gOCwgTWF0aC5mbG9vcihiaXRzSGFzaGVkIC8gMHgxMDAwMDAwMDApLCB0cnVlKTtcbiAgICAgIGJ1ZmZlclZpZXcuc2V0VWludDMyKEJMT0NLX1NJWkUgLSA0LCBiaXRzSGFzaGVkKTtcbiAgICAgIHRoaXMuaGFzaEJ1ZmZlcigpO1xuICAgICAgdGhpcy5maW5pc2hlZCA9IHRydWU7XG4gICAgfVxuICAgIC8vIFRoZSB2YWx1ZSBpbiBzdGF0ZSBpcyBsaXR0bGUtZW5kaWFuIHJhdGhlciB0aGFuIGJpZy1lbmRpYW4sIHNvIGZsaXBcbiAgICAvLyBlYWNoIHdvcmQgaW50byBhIG5ldyBVaW50OEFycmF5XG4gICAgdmFyIG91dCA9IG5ldyBVaW50OEFycmF5KERJR0VTVF9MRU5HVEgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODsgaSsrKSB7XG4gICAgICBvdXRbaSAqIDRdID0gdGhpcy5zdGF0ZVtpXSA+Pj4gMjQgJiAweGZmO1xuICAgICAgb3V0W2kgKiA0ICsgMV0gPSB0aGlzLnN0YXRlW2ldID4+PiAxNiAmIDB4ZmY7XG4gICAgICBvdXRbaSAqIDQgKyAyXSA9IHRoaXMuc3RhdGVbaV0gPj4+IDggJiAweGZmO1xuICAgICAgb3V0W2kgKiA0ICsgM10gPSB0aGlzLnN0YXRlW2ldID4+PiAwICYgMHhmZjtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbiAgfTtcbiAgUmF3U2hhMjU2LnByb3RvdHlwZS5oYXNoQnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IHRoaXMsXG4gICAgICBidWZmZXIgPSBfYS5idWZmZXIsXG4gICAgICBzdGF0ZSA9IF9hLnN0YXRlO1xuICAgIHZhciBzdGF0ZTAgPSBzdGF0ZVswXSxcbiAgICAgIHN0YXRlMSA9IHN0YXRlWzFdLFxuICAgICAgc3RhdGUyID0gc3RhdGVbMl0sXG4gICAgICBzdGF0ZTMgPSBzdGF0ZVszXSxcbiAgICAgIHN0YXRlNCA9IHN0YXRlWzRdLFxuICAgICAgc3RhdGU1ID0gc3RhdGVbNV0sXG4gICAgICBzdGF0ZTYgPSBzdGF0ZVs2XSxcbiAgICAgIHN0YXRlNyA9IHN0YXRlWzddO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQkxPQ0tfU0laRTsgaSsrKSB7XG4gICAgICBpZiAoaSA8IDE2KSB7XG4gICAgICAgIHRoaXMudGVtcFtpXSA9IChidWZmZXJbaSAqIDRdICYgMHhmZikgPDwgMjQgfCAoYnVmZmVyW2kgKiA0ICsgMV0gJiAweGZmKSA8PCAxNiB8IChidWZmZXJbaSAqIDQgKyAyXSAmIDB4ZmYpIDw8IDggfCBidWZmZXJbaSAqIDQgKyAzXSAmIDB4ZmY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdSA9IHRoaXMudGVtcFtpIC0gMl07XG4gICAgICAgIHZhciB0MV8xID0gKHUgPj4+IDE3IHwgdSA8PCAxNSkgXiAodSA+Pj4gMTkgfCB1IDw8IDEzKSBeIHUgPj4+IDEwO1xuICAgICAgICB1ID0gdGhpcy50ZW1wW2kgLSAxNV07XG4gICAgICAgIHZhciB0Ml8xID0gKHUgPj4+IDcgfCB1IDw8IDI1KSBeICh1ID4+PiAxOCB8IHUgPDwgMTQpIF4gdSA+Pj4gMztcbiAgICAgICAgdGhpcy50ZW1wW2ldID0gKHQxXzEgKyB0aGlzLnRlbXBbaSAtIDddIHwgMCkgKyAodDJfMSArIHRoaXMudGVtcFtpIC0gMTZdIHwgMCk7XG4gICAgICB9XG4gICAgICB2YXIgdDEgPSAoKChzdGF0ZTQgPj4+IDYgfCBzdGF0ZTQgPDwgMjYpIF4gKHN0YXRlNCA+Pj4gMTEgfCBzdGF0ZTQgPDwgMjEpIF4gKHN0YXRlNCA+Pj4gMjUgfCBzdGF0ZTQgPDwgNykpICsgKHN0YXRlNCAmIHN0YXRlNSBeIH5zdGF0ZTQgJiBzdGF0ZTYpIHwgMCkgKyAoc3RhdGU3ICsgKEtFWVtpXSArIHRoaXMudGVtcFtpXSB8IDApIHwgMCkgfCAwO1xuICAgICAgdmFyIHQyID0gKChzdGF0ZTAgPj4+IDIgfCBzdGF0ZTAgPDwgMzApIF4gKHN0YXRlMCA+Pj4gMTMgfCBzdGF0ZTAgPDwgMTkpIF4gKHN0YXRlMCA+Pj4gMjIgfCBzdGF0ZTAgPDwgMTApKSArIChzdGF0ZTAgJiBzdGF0ZTEgXiBzdGF0ZTAgJiBzdGF0ZTIgXiBzdGF0ZTEgJiBzdGF0ZTIpIHwgMDtcbiAgICAgIHN0YXRlNyA9IHN0YXRlNjtcbiAgICAgIHN0YXRlNiA9IHN0YXRlNTtcbiAgICAgIHN0YXRlNSA9IHN0YXRlNDtcbiAgICAgIHN0YXRlNCA9IHN0YXRlMyArIHQxIHwgMDtcbiAgICAgIHN0YXRlMyA9IHN0YXRlMjtcbiAgICAgIHN0YXRlMiA9IHN0YXRlMTtcbiAgICAgIHN0YXRlMSA9IHN0YXRlMDtcbiAgICAgIHN0YXRlMCA9IHQxICsgdDIgfCAwO1xuICAgIH1cbiAgICBzdGF0ZVswXSArPSBzdGF0ZTA7XG4gICAgc3RhdGVbMV0gKz0gc3RhdGUxO1xuICAgIHN0YXRlWzJdICs9IHN0YXRlMjtcbiAgICBzdGF0ZVszXSArPSBzdGF0ZTM7XG4gICAgc3RhdGVbNF0gKz0gc3RhdGU0O1xuICAgIHN0YXRlWzVdICs9IHN0YXRlNTtcbiAgICBzdGF0ZVs2XSArPSBzdGF0ZTY7XG4gICAgc3RhdGVbN10gKz0gc3RhdGU3O1xuICB9O1xuICByZXR1cm4gUmF3U2hhMjU2O1xufSgpO1xuZXhwb3J0IHsgUmF3U2hhMjU2IH07XG4iLCIvLyBDb3B5cmlnaHQgQW1hem9uLmNvbSBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmltcG9ydCB7IGZyb21VdGY4IGFzIGZyb21VdGY4QnJvd3NlciB9IGZyb20gXCJAc21pdGh5L3V0aWwtdXRmOFwiO1xuLy8gUXVpY2sgcG9seWZpbGxcbnZhciBmcm9tVXRmOCA9IHR5cGVvZiBCdWZmZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgQnVmZmVyLmZyb20gPyBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGlucHV0LCBcInV0ZjhcIik7XG59IDogZnJvbVV0ZjhCcm93c2VyO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb0J1ZmZlcihkYXRhKSB7XG4gIC8vIEFscmVhZHkgYSBVaW50OCwgZG8gbm90aGluZ1xuICBpZiAoZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHJldHVybiBkYXRhO1xuICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gZnJvbVV0ZjgoZGF0YSk7XG4gIH1cbiAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhkYXRhKSkge1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBkYXRhLmJ5dGVMZW5ndGggLyBVaW50OEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKTtcbiAgfVxuICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG59XG4iLCIvLyBDb3B5cmlnaHQgQW1hem9uLmNvbSBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5RGF0YShkYXRhKSB7XG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBkYXRhLmxlbmd0aCA9PT0gMDtcbiAgfVxuICByZXR1cm4gZGF0YS5ieXRlTGVuZ3RoID09PSAwO1xufVxuIiwiaW1wb3J0IHsgX19hd2FpdGVyLCBfX2dlbmVyYXRvciB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQkxPQ0tfU0laRSB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgUmF3U2hhMjU2IH0gZnJvbSBcIi4vUmF3U2hhMjU2XCI7XG5pbXBvcnQgeyBpc0VtcHR5RGF0YSwgY29udmVydFRvQnVmZmVyIH0gZnJvbSBcIkBhd3MtY3J5cHRvL3V0aWxcIjtcbnZhciBTaGEyNTYgPSAvKiogQGNsYXNzICovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTaGEyNTYoc2VjcmV0KSB7XG4gICAgdGhpcy5zZWNyZXQgPSBzZWNyZXQ7XG4gICAgdGhpcy5oYXNoID0gbmV3IFJhd1NoYTI1NigpO1xuICAgIHRoaXMucmVzZXQoKTtcbiAgfVxuICBTaGEyNTYucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICh0b0hhc2gpIHtcbiAgICBpZiAoaXNFbXB0eURhdGEodG9IYXNoKSB8fCB0aGlzLmVycm9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICB0aGlzLmhhc2gudXBkYXRlKGNvbnZlcnRUb0J1ZmZlcih0b0hhc2gpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmVycm9yID0gZTtcbiAgICB9XG4gIH07XG4gIC8qIFRoaXMgc3luY2hyb25vdXMgbWV0aG9kIGtlZXBzIGNvbXBhdGliaWxpdHlcbiAgICogd2l0aCB0aGUgdjIgYXdzLXNkay5cbiAgICovXG4gIFNoYTI1Ni5wcm90b3R5cGUuZGlnZXN0U3luYyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5lcnJvcikge1xuICAgICAgdGhyb3cgdGhpcy5lcnJvcjtcbiAgICB9XG4gICAgaWYgKHRoaXMub3V0ZXIpIHtcbiAgICAgIGlmICghdGhpcy5vdXRlci5maW5pc2hlZCkge1xuICAgICAgICB0aGlzLm91dGVyLnVwZGF0ZSh0aGlzLmhhc2guZGlnZXN0KCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMub3V0ZXIuZGlnZXN0KCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmhhc2guZGlnZXN0KCk7XG4gIH07XG4gIC8qIFRoZSB1bmRlcmx5aW5nIGRpZ2VzdCBtZXRob2QgaGVyZSBpcyBzeW5jaHJvbm91cy5cbiAgICogVG8ga2VlcCB0aGUgc2FtZSBpbnRlcmZhY2Ugd2l0aCB0aGUgb3RoZXIgaGFzaCBmdW5jdGlvbnNcbiAgICogdGhlIGRlZmF1bHQgaXMgdG8gZXhwb3NlIHRoaXMgYXMgYW4gYXN5bmMgbWV0aG9kLlxuICAgKiBIb3dldmVyLCBpdCBjYW4gc29tZXRpbWVzIGJlIHVzZWZ1bCB0byBoYXZlIGEgc3luYyBtZXRob2QuXG4gICAqL1xuICBTaGEyNTYucHJvdG90eXBlLmRpZ2VzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLmRpZ2VzdFN5bmMoKV07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbiAgU2hhMjU2LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmhhc2ggPSBuZXcgUmF3U2hhMjU2KCk7XG4gICAgaWYgKHRoaXMuc2VjcmV0KSB7XG4gICAgICB0aGlzLm91dGVyID0gbmV3IFJhd1NoYTI1NigpO1xuICAgICAgdmFyIGlubmVyID0gYnVmZmVyRnJvbVNlY3JldCh0aGlzLnNlY3JldCk7XG4gICAgICB2YXIgb3V0ZXIgPSBuZXcgVWludDhBcnJheShCTE9DS19TSVpFKTtcbiAgICAgIG91dGVyLnNldChpbm5lcik7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEJMT0NLX1NJWkU7IGkrKykge1xuICAgICAgICBpbm5lcltpXSBePSAweDM2O1xuICAgICAgICBvdXRlcltpXSBePSAweDVjO1xuICAgICAgfVxuICAgICAgdGhpcy5oYXNoLnVwZGF0ZShpbm5lcik7XG4gICAgICB0aGlzLm91dGVyLnVwZGF0ZShvdXRlcik7XG4gICAgICAvLyBvdmVyd3JpdGUgdGhlIGNvcGllZCBrZXkgaW4gbWVtb3J5XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlubmVyLmJ5dGVMZW5ndGg7IGkrKykge1xuICAgICAgICBpbm5lcltpXSA9IDA7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gU2hhMjU2O1xufSgpO1xuZXhwb3J0IHsgU2hhMjU2IH07XG5mdW5jdGlvbiBidWZmZXJGcm9tU2VjcmV0KHNlY3JldCkge1xuICB2YXIgaW5wdXQgPSBjb252ZXJ0VG9CdWZmZXIoc2VjcmV0KTtcbiAgaWYgKGlucHV0LmJ5dGVMZW5ndGggPiBCTE9DS19TSVpFKSB7XG4gICAgdmFyIGJ1ZmZlckhhc2ggPSBuZXcgUmF3U2hhMjU2KCk7XG4gICAgYnVmZmVySGFzaC51cGRhdGUoaW5wdXQpO1xuICAgIGlucHV0ID0gYnVmZmVySGFzaC5kaWdlc3QoKTtcbiAgfVxuICB2YXIgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoQkxPQ0tfU0laRSk7XG4gIGJ1ZmZlci5zZXQoaW5wdXQpO1xuICByZXR1cm4gYnVmZmVyO1xufVxuIiwiaW1wb3J0IHsgY2xlYXJDcmVkZW50aWFscywgSHViIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUnO1xuaW1wb3J0IHsgQU1QTElGWV9TWU1CT0wgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuaW1wb3J0ICcuLi9yZWZyZXNoQXV0aFRva2Vucy5tanMnO1xuaW1wb3J0ICcuLi8uLi90b2tlblByb3ZpZGVyL2Vycm9ySGVscGVycy5tanMnO1xuaW1wb3J0ICcuLi90eXBlcy5tanMnO1xuaW1wb3J0IHsgdG9rZW5PcmNoZXN0cmF0b3IgfSBmcm9tICcuLi8uLi90b2tlblByb3ZpZGVyL3Rva2VuUHJvdmlkZXIubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuY29uc3QgY29tcGxldGVPQXV0aFNpZ25PdXQgPSBhc3luYyBzdG9yZSA9PiB7XG4gIGF3YWl0IHN0b3JlLmNsZWFyT0F1dGhEYXRhKCk7XG4gIHRva2VuT3JjaGVzdHJhdG9yLmNsZWFyVG9rZW5zKCk7XG4gIGF3YWl0IGNsZWFyQ3JlZGVudGlhbHMoKTtcbiAgSHViLmRpc3BhdGNoKCdhdXRoJywge1xuICAgIGV2ZW50OiAnc2lnbmVkT3V0J1xuICB9LCAnQXV0aCcsIEFNUExJRllfU1lNQk9MKTtcbn07XG5leHBvcnQgeyBjb21wbGV0ZU9BdXRoU2lnbk91dCB9O1xuIiwiLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuY29uc3Qgb3BlbkF1dGhTZXNzaW9uID0gYXN5bmMgdXJsID0+IHtcbiAgaWYgKCF3aW5kb3c/LmxvY2F0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGVuZm9yY2UgSFRUUFNcbiAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmwucmVwbGFjZSgnaHR0cDovLycsICdodHRwczovLycpO1xufTtcbmV4cG9ydCB7IG9wZW5BdXRoU2Vzc2lvbiB9O1xuIiwiaW1wb3J0IHsgaW52YWxpZE9yaWdpbkV4Y2VwdGlvbiwgaW52YWxpZFJlZGlyZWN0RXhjZXB0aW9uLCBpbnZhbGlkUHJlZmVycmVkUmVkaXJlY3RVcmxFeGNlcHRpb24gfSBmcm9tICcuLi8uLi8uLi8uLi9lcnJvcnMvY29uc3RhbnRzLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIGdldFJlZGlyZWN0VXJsKHJlZGlyZWN0cywgcHJlZmVycmVkUmVkaXJlY3RVcmwpIHtcbiAgaWYgKHByZWZlcnJlZFJlZGlyZWN0VXJsKSB7XG4gICAgY29uc3QgcmVkaXJlY3RVcmwgPSByZWRpcmVjdHM/LmZpbmQocmVkaXJlY3QgPT4gcmVkaXJlY3QgPT09IHByZWZlcnJlZFJlZGlyZWN0VXJsKTtcbiAgICBpZiAoIXJlZGlyZWN0VXJsKSB7XG4gICAgICB0aHJvdyBpbnZhbGlkUHJlZmVycmVkUmVkaXJlY3RVcmxFeGNlcHRpb247XG4gICAgfVxuICAgIHJldHVybiByZWRpcmVjdFVybDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCByZWRpcmVjdFVybEZyb21UaGVTYW1lT3JpZ2luID0gcmVkaXJlY3RzPy5maW5kKGlzU2FtZU9yaWdpbkFuZFBhdGhOYW1lKSA/PyByZWRpcmVjdHM/LmZpbmQoaXNUaGVTYW1lRG9tYWluKTtcbiAgICBjb25zdCByZWRpcmVjdFVybEZyb21EaWZmZXJlbnRPcmlnaW4gPSByZWRpcmVjdHM/LmZpbmQoaXNIdHRwcykgPz8gcmVkaXJlY3RzPy5maW5kKGlzSHR0cCk7XG4gICAgaWYgKHJlZGlyZWN0VXJsRnJvbVRoZVNhbWVPcmlnaW4pIHtcbiAgICAgIHJldHVybiByZWRpcmVjdFVybEZyb21UaGVTYW1lT3JpZ2luO1xuICAgIH0gZWxzZSBpZiAocmVkaXJlY3RVcmxGcm9tRGlmZmVyZW50T3JpZ2luKSB7XG4gICAgICB0aHJvdyBpbnZhbGlkT3JpZ2luRXhjZXB0aW9uO1xuICAgIH1cbiAgICB0aHJvdyBpbnZhbGlkUmVkaXJlY3RFeGNlcHRpb247XG4gIH1cbn1cbi8vIG9yaWdpbiArIHBhdGhuYW1lID0+IGh0dHBzOi8vZXhhbXBsZS5jb20vYXBwXG5jb25zdCBpc1NhbWVPcmlnaW5BbmRQYXRoTmFtZSA9IHJlZGlyZWN0ID0+IHJlZGlyZWN0LnN0YXJ0c1dpdGgoU3RyaW5nKHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lIHx8ICcvJykpKTtcbi8vIGRvbWFpbiA9PiBvdXRsb29rLmxpdmUuY29tLCBnaXRodWIuY29tXG5jb25zdCBpc1RoZVNhbWVEb21haW4gPSByZWRpcmVjdCA9PiByZWRpcmVjdC5pbmNsdWRlcyhTdHJpbmcod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKSk7XG5jb25zdCBpc0h0dHAgPSByZWRpcmVjdCA9PiByZWRpcmVjdC5zdGFydHNXaXRoKCdodHRwOi8vJyk7XG5jb25zdCBpc0h0dHBzID0gcmVkaXJlY3QgPT4gcmVkaXJlY3Quc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKTtcbmV4cG9ydCB7IGdldFJlZGlyZWN0VXJsIH07XG4iLCJpbXBvcnQgeyBhc3NlcnRPQXV0aENvbmZpZyB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5pbXBvcnQgeyBvcGVuQXV0aFNlc3Npb24gfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9vcGVuQXV0aFNlc3Npb24ubWpzJztcbmltcG9ydCB7IGdldFJlZGlyZWN0VXJsIH0gZnJvbSAnLi9nZXRSZWRpcmVjdFVybC5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBvQXV0aFNpZ25PdXRSZWRpcmVjdCA9IGFzeW5jIChhdXRoQ29uZmlnLCBwcmVmZXJQcml2YXRlU2Vzc2lvbiA9IGZhbHNlLCByZWRpcmVjdFVybCkgPT4ge1xuICBhc3NlcnRPQXV0aENvbmZpZyhhdXRoQ29uZmlnKTtcbiAgY29uc3Qge1xuICAgIGxvZ2luV2l0aCxcbiAgICB1c2VyUG9vbENsaWVudElkXG4gIH0gPSBhdXRoQ29uZmlnO1xuICBjb25zdCB7XG4gICAgZG9tYWluLFxuICAgIHJlZGlyZWN0U2lnbk91dFxuICB9ID0gbG9naW5XaXRoLm9hdXRoO1xuICBjb25zdCBzaWdub3V0VXJpID0gZ2V0UmVkaXJlY3RVcmwocmVkaXJlY3RTaWduT3V0LCByZWRpcmVjdFVybCk7XG4gIGNvbnN0IG9BdXRoTG9nb3V0RW5kcG9pbnQgPSBgaHR0cHM6Ly8ke2RvbWFpbn0vbG9nb3V0PyR7T2JqZWN0LmVudHJpZXMoe1xuICAgIGNsaWVudF9pZDogdXNlclBvb2xDbGllbnRJZCxcbiAgICBsb2dvdXRfdXJpOiBlbmNvZGVVUklDb21wb25lbnQoc2lnbm91dFVyaSlcbiAgfSkubWFwKChbaywgdl0pID0+IGAke2t9PSR7dn1gKS5qb2luKCcmJyl9YDtcbiAgcmV0dXJuIG9wZW5BdXRoU2Vzc2lvbihvQXV0aExvZ291dEVuZHBvaW50KTtcbn07XG5leHBvcnQgeyBvQXV0aFNpZ25PdXRSZWRpcmVjdCB9O1xuIiwiaW1wb3J0IHsgY29tcGxldGVPQXV0aFNpZ25PdXQgfSBmcm9tICcuL2NvbXBsZXRlT0F1dGhTaWduT3V0Lm1qcyc7XG5pbXBvcnQgeyBvQXV0aFNpZ25PdXRSZWRpcmVjdCB9IGZyb20gJy4vb0F1dGhTaWduT3V0UmVkaXJlY3QubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuY29uc3QgaGFuZGxlT0F1dGhTaWduT3V0ID0gYXN5bmMgKGNvZ25pdG9Db25maWcsIHN0b3JlLCB0b2tlbk9yY2hlc3RyYXRvciwgcmVkaXJlY3RVcmwpID0+IHtcbiAgY29uc3Qge1xuICAgIGlzT0F1dGhTaWduSW5cbiAgfSA9IGF3YWl0IHN0b3JlLmxvYWRPQXV0aFNpZ25JbigpO1xuICBjb25zdCBvYXV0aE1ldGFkYXRhID0gYXdhaXQgdG9rZW5PcmNoZXN0cmF0b3IuZ2V0T0F1dGhNZXRhZGF0YSgpO1xuICAvLyBDbGVhciBldmVyeXRoaW5nIGJlZm9yZSBhdHRlbXB0aW5nIHRvIHZpc3RlZCBsb2dvdXQgZW5kcG9pbnQgc2luY2UgdGhlIGN1cnJlbnQgYXBwbGljYXRpb25cbiAgLy8gc3RhdGUgY291bGQgYmUgd2lwZWQgYXdheSBvbiByZWRpcmVjdFxuICBhd2FpdCBjb21wbGV0ZU9BdXRoU2lnbk91dChzdG9yZSk7XG4gIC8vIFRoZSBpc09BdXRoU2lnbkluIGZsYWcgaXMgcHJvcGFnYXRlZCBieSB0aGUgb0F1dGhUb2tlbiBzdG9yZSB3aGljaCBtYW5hZ2VzIG9hdXRoIGtleXMgaW4gbG9jYWwgc3RvcmFnZSBvbmx5LlxuICAvLyBUaGVzZSBrZXlzIGFyZSB1c2VkIHRvIGRldGVybWluZSBpZiBhIHVzZXIgaXMgaW4gYW4gaW5mbGlnaHQgb3Igc2lnbmVkSW4gb2F1dGggc3RhdGVzLlxuICAvLyBIb3dldmVyLCB0aGlzIGJlaGF2aW9yIHJlcHJlc2VudHMgYW4gaXNzdWUgd2hlbiAyIGFwcHMgc2hhcmUgdGhlIHNhbWUgc2V0IG9mIHRva2VucyBpbiBDb29raWUgc3RvcmFnZSBiZWNhdXNlIHRoZSBhcHAgdGhhdCBkaWRuJ3RcbiAgLy8gc3RhcnQgdGhlIE9BdXRoIHdpbGwgbm90IGhhdmUgYWNjZXNzIHRvIHRoZSBvYXV0aCBrZXlzLlxuICAvLyBBIGhldXJpc3RpYyBzb2x1dGlvbiBpcyB0byBhZGQgb2F1dGggbWV0YWRhdGEgdG8gdGhlIHRva2VuT3JjaGVzdHJhdG9yIHdoaWNoIHdpbGwgaGF2ZSBhY2Nlc3MgdG8gdGhlIHVuZGVybHlpbmdcbiAgLy8gc3RvcmFnZSBtZWNoYW5pc20gdGhhdCBpcyB1c2VkIGJ5IEFtcGxpZnkuXG4gIGlmIChpc09BdXRoU2lnbkluIHx8IG9hdXRoTWV0YWRhdGE/Lm9hdXRoU2lnbkluKSB7XG4gICAgLy8gT24gd2ViLCB0aGlzIHdpbGwgYWx3YXlzIGVuZCB1cCBiZWluZyBhIHZvaWQgYWN0aW9uXG4gICAgcmV0dXJuIG9BdXRoU2lnbk91dFJlZGlyZWN0KGNvZ25pdG9Db25maWcsIGZhbHNlLCByZWRpcmVjdFVybCk7XG4gIH1cbn07XG5leHBvcnQgeyBoYW5kbGVPQXV0aFNpZ25PdXQgfTtcbiIsImltcG9ydCB7IENvbnNvbGVMb2dnZXIgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZSc7XG5pbXBvcnQgeyBBdXRoRXJyb3JTdHJpbmdzIH0gZnJvbSAnLi9jb21tb24vQXV0aEVycm9yU3RyaW5ncy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vLyBUT0RPOiBkZWxldGUgdGhpcyBtb2R1bGUgd2hlbiB0aGUgQXV0aCBjbGFzcyBpcyByZW1vdmVkLlxuY29uc3QgbG9nZ2VyID0gbmV3IENvbnNvbGVMb2dnZXIoJ0F1dGhFcnJvcicpO1xuY2xhc3MgQXV0aEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih0eXBlKSB7XG4gICAgY29uc3Qge1xuICAgICAgbWVzc2FnZSxcbiAgICAgIGxvZ1xuICAgIH0gPSBhdXRoRXJyb3JNZXNzYWdlc1t0eXBlXTtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAvLyBIYWNrIGZvciBtYWtpbmcgdGhlIGN1c3RvbSBlcnJvciBjbGFzcyB3b3JrIHdoZW4gdHJhbnNwaWxlZCB0byBlczVcbiAgICAvLyBUT0RPOiBEZWxldGUgdGhlIGZvbGxvd2luZyAyIGxpbmVzIGFmdGVyIHdlIGNoYW5nZSB0aGUgYnVpbGQgdGFyZ2V0IHRvID49IGVzMjAxNVxuICAgIHRoaXMuY29uc3RydWN0b3IgPSBBdXRoRXJyb3I7XG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEF1dGhFcnJvci5wcm90b3R5cGUpO1xuICAgIHRoaXMubmFtZSA9ICdBdXRoRXJyb3InO1xuICAgIHRoaXMubG9nID0gbG9nIHx8IG1lc3NhZ2U7XG4gICAgbG9nZ2VyLmVycm9yKHRoaXMubG9nKTtcbiAgfVxufVxuY2xhc3MgTm9Vc2VyUG9vbEVycm9yIGV4dGVuZHMgQXV0aEVycm9yIHtcbiAgY29uc3RydWN0b3IodHlwZSkge1xuICAgIHN1cGVyKHR5cGUpO1xuICAgIC8vIEhhY2sgZm9yIG1ha2luZyB0aGUgY3VzdG9tIGVycm9yIGNsYXNzIHdvcmsgd2hlbiB0cmFuc3BpbGVkIHRvIGVzNVxuICAgIC8vIFRPRE86IERlbGV0ZSB0aGUgZm9sbG93aW5nIDIgbGluZXMgYWZ0ZXIgd2UgY2hhbmdlIHRoZSBidWlsZCB0YXJnZXQgdG8gPj0gZXMyMDE1XG4gICAgdGhpcy5jb25zdHJ1Y3RvciA9IE5vVXNlclBvb2xFcnJvcjtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgTm9Vc2VyUG9vbEVycm9yLnByb3RvdHlwZSk7XG4gICAgdGhpcy5uYW1lID0gJ05vVXNlclBvb2xFcnJvcic7XG4gIH1cbn1cbmNvbnN0IGF1dGhFcnJvck1lc3NhZ2VzID0ge1xuICBvYXV0aFNpZ25JbkVycm9yOiB7XG4gICAgbWVzc2FnZTogQXV0aEVycm9yU3RyaW5ncy5PQVVUSF9FUlJPUixcbiAgICBsb2c6ICdNYWtlIHN1cmUgQ29nbml0byBIb3N0ZWQgVUkgaGFzIGJlZW4gY29uZmlndXJlZCBjb3JyZWN0bHknXG4gIH0sXG4gIG5vQ29uZmlnOiB7XG4gICAgbWVzc2FnZTogQXV0aEVycm9yU3RyaW5ncy5ERUZBVUxUX01TRyxcbiAgICBsb2c6IGBcbiAgICAgICAgICAgIEVycm9yOiBBbXBsaWZ5IGhhcyBub3QgYmVlbiBjb25maWd1cmVkIGNvcnJlY3RseS5cbiAgICAgICAgICAgIFRoaXMgZXJyb3IgaXMgdHlwaWNhbGx5IGNhdXNlZCBieSBvbmUgb2YgdGhlIGZvbGxvd2luZyBzY2VuYXJpb3M6XG5cbiAgICAgICAgICAgIDEuIE1ha2Ugc3VyZSB5b3UncmUgcGFzc2luZyB0aGUgYXdzY29uZmlnIG9iamVjdCB0byBBbXBsaWZ5LmNvbmZpZ3VyZSgpIGluIHlvdXIgYXBwJ3MgZW50cnkgcG9pbnRcbiAgICAgICAgICAgICAgICBTZWUgaHR0cHM6Ly9hd3MtYW1wbGlmeS5naXRodWIuaW8vZG9jcy9qcy9hdXRoZW50aWNhdGlvbiNjb25maWd1cmUteW91ci1hcHAgZm9yIG1vcmUgaW5mb3JtYXRpb25cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgMi4gVGhlcmUgbWlnaHQgYmUgbXVsdGlwbGUgY29uZmxpY3RpbmcgdmVyc2lvbnMgb2YgYW1wbGlmeSBwYWNrYWdlcyBpbiB5b3VyIG5vZGVfbW9kdWxlcy5cblx0XHRcdFx0UmVmZXIgdG8gb3VyIGRvY3Mgc2l0ZSBmb3IgaGVscCB1cGdyYWRpbmcgQW1wbGlmeSBwYWNrYWdlcyAoaHR0cHM6Ly9kb2NzLmFtcGxpZnkuYXdzL2xpYi90cm91Ymxlc2hvb3RpbmcvdXBncmFkaW5nL3EvcGxhdGZvcm0vanMpXG4gICAgICAgIGBcbiAgfSxcbiAgbWlzc2luZ0F1dGhDb25maWc6IHtcbiAgICBtZXNzYWdlOiBBdXRoRXJyb3JTdHJpbmdzLkRFRkFVTFRfTVNHLFxuICAgIGxvZzogYFxuICAgICAgICAgICAgRXJyb3I6IEFtcGxpZnkgaGFzIG5vdCBiZWVuIGNvbmZpZ3VyZWQgY29ycmVjdGx5LiBcbiAgICAgICAgICAgIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBpcyBtaXNzaW5nIHJlcXVpcmVkIGF1dGggcHJvcGVydGllcy5cbiAgICAgICAgICAgIFRoaXMgZXJyb3IgaXMgdHlwaWNhbGx5IGNhdXNlZCBieSBvbmUgb2YgdGhlIGZvbGxvd2luZyBzY2VuYXJpb3M6XG5cbiAgICAgICAgICAgIDEuIERpZCB5b3UgcnVuIFxcYGFtcGxpZnkgcHVzaFxcYCBhZnRlciBhZGRpbmcgYXV0aCB2aWEgXFxgYW1wbGlmeSBhZGQgYXV0aFxcYD9cbiAgICAgICAgICAgICAgICBTZWUgaHR0cHM6Ly9hd3MtYW1wbGlmeS5naXRodWIuaW8vZG9jcy9qcy9hdXRoZW50aWNhdGlvbiNhbXBsaWZ5LXByb2plY3Qtc2V0dXAgZm9yIG1vcmUgaW5mb3JtYXRpb25cblxuICAgICAgICAgICAgMi4gVGhpcyBjb3VsZCBhbHNvIGJlIGNhdXNlZCBieSBtdWx0aXBsZSBjb25mbGljdGluZyB2ZXJzaW9ucyBvZiBhbXBsaWZ5IHBhY2thZ2VzLCBzZWUgKGh0dHBzOi8vZG9jcy5hbXBsaWZ5LmF3cy9saWIvdHJvdWJsZXNob290aW5nL3VwZ3JhZGluZy9xL3BsYXRmb3JtL2pzKSBmb3IgaGVscCB1cGdyYWRpbmcgQW1wbGlmeSBwYWNrYWdlcy5cbiAgICAgICAgYFxuICB9LFxuICBlbXB0eVVzZXJuYW1lOiB7XG4gICAgbWVzc2FnZTogQXV0aEVycm9yU3RyaW5ncy5FTVBUWV9VU0VSTkFNRVxuICB9LFxuICAvLyBUT0RPOiBzaG91bGQgaW5jbHVkZSBhIGxpc3Qgb2YgdmFsaWQgc2lnbi1pbiB0eXBlc1xuICBpbnZhbGlkVXNlcm5hbWU6IHtcbiAgICBtZXNzYWdlOiBBdXRoRXJyb3JTdHJpbmdzLklOVkFMSURfVVNFUk5BTUVcbiAgfSxcbiAgZW1wdHlQYXNzd29yZDoge1xuICAgIG1lc3NhZ2U6IEF1dGhFcnJvclN0cmluZ3MuRU1QVFlfUEFTU1dPUkRcbiAgfSxcbiAgZW1wdHlDb2RlOiB7XG4gICAgbWVzc2FnZTogQXV0aEVycm9yU3RyaW5ncy5FTVBUWV9DT0RFXG4gIH0sXG4gIHNpZ25VcEVycm9yOiB7XG4gICAgbWVzc2FnZTogQXV0aEVycm9yU3RyaW5ncy5TSUdOX1VQX0VSUk9SLFxuICAgIGxvZzogJ1RoZSBmaXJzdCBwYXJhbWV0ZXIgc2hvdWxkIGVpdGhlciBiZSBub24tbnVsbCBzdHJpbmcgb3Igb2JqZWN0J1xuICB9LFxuICBub01GQToge1xuICAgIG1lc3NhZ2U6IEF1dGhFcnJvclN0cmluZ3MuTk9fTUZBXG4gIH0sXG4gIGludmFsaWRNRkE6IHtcbiAgICBtZXNzYWdlOiBBdXRoRXJyb3JTdHJpbmdzLklOVkFMSURfTUZBXG4gIH0sXG4gIGVtcHR5Q2hhbGxlbmdlUmVzcG9uc2U6IHtcbiAgICBtZXNzYWdlOiBBdXRoRXJyb3JTdHJpbmdzLkVNUFRZX0NIQUxMRU5HRVxuICB9LFxuICBub1VzZXJTZXNzaW9uOiB7XG4gICAgbWVzc2FnZTogQXV0aEVycm9yU3RyaW5ncy5OT19VU0VSX1NFU1NJT05cbiAgfSxcbiAgZGV2aWNlQ29uZmlnOiB7XG4gICAgbWVzc2FnZTogQXV0aEVycm9yU3RyaW5ncy5ERVZJQ0VfQ09ORklHXG4gIH0sXG4gIG5ldHdvcmtFcnJvcjoge1xuICAgIG1lc3NhZ2U6IEF1dGhFcnJvclN0cmluZ3MuTkVUV09SS19FUlJPUlxuICB9LFxuICBhdXRvU2lnbkluRXJyb3I6IHtcbiAgICBtZXNzYWdlOiBBdXRoRXJyb3JTdHJpbmdzLkFVVE9TSUdOSU5fRVJST1JcbiAgfSxcbiAgZGVmYXVsdDoge1xuICAgIG1lc3NhZ2U6IEF1dGhFcnJvclN0cmluZ3MuREVGQVVMVF9NU0dcbiAgfVxufTtcbmV4cG9ydCB7IEF1dGhFcnJvciwgTm9Vc2VyUG9vbEVycm9yLCBhdXRoRXJyb3JNZXNzYWdlcyB9O1xuIiwiLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxudmFyIEF1dGhFcnJvclR5cGVzO1xuKGZ1bmN0aW9uIChBdXRoRXJyb3JUeXBlcykge1xuICBBdXRoRXJyb3JUeXBlc1tcIk5vQ29uZmlnXCJdID0gXCJub0NvbmZpZ1wiO1xuICBBdXRoRXJyb3JUeXBlc1tcIk1pc3NpbmdBdXRoQ29uZmlnXCJdID0gXCJtaXNzaW5nQXV0aENvbmZpZ1wiO1xuICBBdXRoRXJyb3JUeXBlc1tcIkVtcHR5VXNlcm5hbWVcIl0gPSBcImVtcHR5VXNlcm5hbWVcIjtcbiAgQXV0aEVycm9yVHlwZXNbXCJJbnZhbGlkVXNlcm5hbWVcIl0gPSBcImludmFsaWRVc2VybmFtZVwiO1xuICBBdXRoRXJyb3JUeXBlc1tcIkVtcHR5UGFzc3dvcmRcIl0gPSBcImVtcHR5UGFzc3dvcmRcIjtcbiAgQXV0aEVycm9yVHlwZXNbXCJFbXB0eUNvZGVcIl0gPSBcImVtcHR5Q29kZVwiO1xuICBBdXRoRXJyb3JUeXBlc1tcIlNpZ25VcEVycm9yXCJdID0gXCJzaWduVXBFcnJvclwiO1xuICBBdXRoRXJyb3JUeXBlc1tcIk5vTUZBXCJdID0gXCJub01GQVwiO1xuICBBdXRoRXJyb3JUeXBlc1tcIkludmFsaWRNRkFcIl0gPSBcImludmFsaWRNRkFcIjtcbiAgQXV0aEVycm9yVHlwZXNbXCJFbXB0eUNoYWxsZW5nZVJlc3BvbnNlXCJdID0gXCJlbXB0eUNoYWxsZW5nZVJlc3BvbnNlXCI7XG4gIEF1dGhFcnJvclR5cGVzW1wiTm9Vc2VyU2Vzc2lvblwiXSA9IFwibm9Vc2VyU2Vzc2lvblwiO1xuICBBdXRoRXJyb3JUeXBlc1tcIkRlZmF1bHRcIl0gPSBcImRlZmF1bHRcIjtcbiAgQXV0aEVycm9yVHlwZXNbXCJEZXZpY2VDb25maWdcIl0gPSBcImRldmljZUNvbmZpZ1wiO1xuICBBdXRoRXJyb3JUeXBlc1tcIk5ldHdvcmtFcnJvclwiXSA9IFwibmV0d29ya0Vycm9yXCI7XG4gIEF1dGhFcnJvclR5cGVzW1wiQXV0b1NpZ25JbkVycm9yXCJdID0gXCJhdXRvU2lnbkluRXJyb3JcIjtcbiAgQXV0aEVycm9yVHlwZXNbXCJPQXV0aFNpZ25JbkVycm9yXCJdID0gXCJvYXV0aFNpZ25JbkVycm9yXCI7XG59KShBdXRoRXJyb3JUeXBlcyB8fCAoQXV0aEVycm9yVHlwZXMgPSB7fSkpO1xuZXhwb3J0IHsgQXV0aEVycm9yVHlwZXMgfTtcbiIsImltcG9ydCB7IGNvbXBvc2VTZXJ2aWNlQXBpIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMvY29tcG9zZXJzJztcbmltcG9ydCB7IGNvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlciB9IGZyb20gJy4vc2hhcmVkL2hhbmRsZXIvY29nbml0b1VzZXJQb29sVHJhbnNmZXJIYW5kbGVyLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVVc2VyUG9vbFNlcmlhbGl6ZXIgfSBmcm9tICcuL3NoYXJlZC9zZXJkZS9jcmVhdGVVc2VyUG9vbFNlcmlhbGl6ZXIubWpzJztcbmltcG9ydCB7IGNyZWF0ZVVzZXJQb29sRGVzZXJpYWxpemVyIH0gZnJvbSAnLi9zaGFyZWQvc2VyZGUvY3JlYXRlVXNlclBvb2xEZXNlcmlhbGl6ZXIubWpzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuaW1wb3J0IHsgREVGQVVMVF9TRVJWSUNFX0NMSUVOVF9BUElfQ09ORklHIH0gZnJvbSAnLi9jb25zdGFudHMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuY29uc3QgY3JlYXRlUmV2b2tlVG9rZW5DbGllbnQgPSBjb25maWcgPT4gY29tcG9zZVNlcnZpY2VBcGkoY29nbml0b1VzZXJQb29sVHJhbnNmZXJIYW5kbGVyLCBjcmVhdGVVc2VyUG9vbFNlcmlhbGl6ZXIoJ1Jldm9rZVRva2VuJyksIGNyZWF0ZVVzZXJQb29sRGVzZXJpYWxpemVyKCksIHtcbiAgLi4uREVGQVVMVF9TRVJWSUNFX0NMSUVOVF9BUElfQ09ORklHLFxuICAuLi5jb25maWdcbn0pO1xuZXhwb3J0IHsgY3JlYXRlUmV2b2tlVG9rZW5DbGllbnQgfTtcbiIsImltcG9ydCB7IGNvbXBvc2VTZXJ2aWNlQXBpIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMvY29tcG9zZXJzJztcbmltcG9ydCB7IGNvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlciB9IGZyb20gJy4vc2hhcmVkL2hhbmRsZXIvY29nbml0b1VzZXJQb29sVHJhbnNmZXJIYW5kbGVyLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVVc2VyUG9vbFNlcmlhbGl6ZXIgfSBmcm9tICcuL3NoYXJlZC9zZXJkZS9jcmVhdGVVc2VyUG9vbFNlcmlhbGl6ZXIubWpzJztcbmltcG9ydCB7IGNyZWF0ZVVzZXJQb29sRGVzZXJpYWxpemVyIH0gZnJvbSAnLi9zaGFyZWQvc2VyZGUvY3JlYXRlVXNlclBvb2xEZXNlcmlhbGl6ZXIubWpzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuaW1wb3J0IHsgREVGQVVMVF9TRVJWSUNFX0NMSUVOVF9BUElfQ09ORklHIH0gZnJvbSAnLi9jb25zdGFudHMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuY29uc3QgY3JlYXRlR2xvYmFsU2lnbk91dENsaWVudCA9IGNvbmZpZyA9PiBjb21wb3NlU2VydmljZUFwaShjb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIsIGNyZWF0ZVVzZXJQb29sU2VyaWFsaXplcignR2xvYmFsU2lnbk91dCcpLCBjcmVhdGVVc2VyUG9vbERlc2VyaWFsaXplcigpLCB7XG4gIC4uLkRFRkFVTFRfU0VSVklDRV9DTElFTlRfQVBJX0NPTkZJRyxcbiAgLi4uY29uZmlnXG59KTtcbmV4cG9ydCB7IGNyZWF0ZUdsb2JhbFNpZ25PdXRDbGllbnQgfTtcbiIsImltcG9ydCB7IENvbnNvbGVMb2dnZXIsIEFtcGxpZnksIGNsZWFyQ3JlZGVudGlhbHMsIEh1YiwgZGVmYXVsdFN0b3JhZ2UgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZSc7XG5pbXBvcnQgeyBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnLCBhc3NlcnRPQXV0aENvbmZpZywgQU1QTElGWV9TWU1CT0wsIEF1dGhBY3Rpb24gfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuaW1wb3J0IHsgZ2V0QXV0aFVzZXJBZ2VudFZhbHVlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZ2V0QXV0aFVzZXJBZ2VudFZhbHVlLm1qcyc7XG5pbXBvcnQgJy4uL3V0aWxzL3JlZnJlc2hBdXRoVG9rZW5zLm1qcyc7XG5pbXBvcnQgeyBBdXRoRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvcnMvQXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgJy4uL3Rva2VuUHJvdmlkZXIvZXJyb3JIZWxwZXJzLm1qcyc7XG5pbXBvcnQgeyBEZWZhdWx0T0F1dGhTdG9yZSB9IGZyb20gJy4uL3V0aWxzL3NpZ25JbldpdGhSZWRpcmVjdFN0b3JlLm1qcyc7XG5pbXBvcnQgeyB0b2tlbk9yY2hlc3RyYXRvciB9IGZyb20gJy4uL3Rva2VuUHJvdmlkZXIvdG9rZW5Qcm92aWRlci5tanMnO1xuaW1wb3J0IHsgZ2V0UmVnaW9uRnJvbVVzZXJQb29sSWQgfSBmcm9tICcuLi8uLi8uLi9mb3VuZGF0aW9uL3BhcnNlcnMvcmVnaW9uUGFyc2Vycy5tanMnO1xuaW1wb3J0IHsgYXNzZXJ0QXV0aFRva2VucywgYXNzZXJ0QXV0aFRva2Vuc1dpdGhSZWZyZXNoVG9rZW4gfSBmcm9tICcuLi91dGlscy90eXBlcy5tanMnO1xuaW1wb3J0ICdAYXdzLWNyeXB0by9zaGEyNTYtanMnO1xuaW1wb3J0IHsgaGFuZGxlT0F1dGhTaWduT3V0IH0gZnJvbSAnLi4vdXRpbHMvb2F1dGgvaGFuZGxlT0F1dGhTaWduT3V0Lm1qcyc7XG5pbXBvcnQgeyBPQVVUSF9TSUdOT1VUX0VYQ0VQVElPTiB9IGZyb20gJy4uLy4uLy4uL2Vycm9ycy9jb25zdGFudHMubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vRXJyb3JzLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uL2NvbW1vbi9BdXRoRXJyb3JTdHJpbmdzLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uL3R5cGVzL0F1dGgubWpzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMvY29tcG9zZXJzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMnO1xuaW1wb3J0ICcuLi8uLi8uLi9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9zaGFyZWQvaGFuZGxlci9jb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvY29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVSZXZva2VUb2tlbkNsaWVudCB9IGZyb20gJy4uLy4uLy4uL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eVByb3ZpZGVyL2NyZWF0ZVJldm9rZVRva2VuQ2xpZW50Lm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uL2Vycm9ycy90eXBlcy92YWxpZGF0aW9uLm1qcyc7XG5pbXBvcnQgJy4uL3R5cGVzL2Vycm9ycy5tanMnO1xuaW1wb3J0IHsgY3JlYXRlR2xvYmFsU2lnbk91dENsaWVudCB9IGZyb20gJy4uLy4uLy4uL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eVByb3ZpZGVyL2NyZWF0ZUdsb2JhbFNpZ25PdXRDbGllbnQubWpzJztcbmltcG9ydCB7IGNyZWF0ZUNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIgfSBmcm9tICcuLi9mYWN0b3JpZXMvY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlci5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBsb2dnZXIgPSBuZXcgQ29uc29sZUxvZ2dlcignQXV0aCcpO1xuLyoqXG4gKiBTaWducyBhIHVzZXIgb3V0XG4gKlxuICogQHBhcmFtIGlucHV0IC0gVGhlIFNpZ25PdXRJbnB1dCBvYmplY3RcbiAqIEB0aHJvd3MgQXV0aFRva2VuQ29uZmlnRXhjZXB0aW9uIC0gVGhyb3duIHdoZW4gdGhlIHRva2VuIHByb3ZpZGVyIGNvbmZpZyBpcyBpbnZhbGlkLlxuICovXG5hc3luYyBmdW5jdGlvbiBzaWduT3V0KGlucHV0KSB7XG4gIGNvbnN0IGNvZ25pdG9Db25maWcgPSBBbXBsaWZ5LmdldENvbmZpZygpLkF1dGg/LkNvZ25pdG87XG4gIGFzc2VydFRva2VuUHJvdmlkZXJDb25maWcoY29nbml0b0NvbmZpZyk7XG4gIGlmIChpbnB1dD8uZ2xvYmFsKSB7XG4gICAgYXdhaXQgZ2xvYmFsU2lnbk91dChjb2duaXRvQ29uZmlnKTtcbiAgfSBlbHNlIHtcbiAgICBhd2FpdCBjbGllbnRTaWduT3V0KGNvZ25pdG9Db25maWcpO1xuICB9XG4gIGxldCBoYXNPQXV0aENvbmZpZztcbiAgdHJ5IHtcbiAgICBhc3NlcnRPQXV0aENvbmZpZyhjb2duaXRvQ29uZmlnKTtcbiAgICBoYXNPQXV0aENvbmZpZyA9IHRydWU7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGhhc09BdXRoQ29uZmlnID0gZmFsc2U7XG4gIH1cbiAgaWYgKGhhc09BdXRoQ29uZmlnKSB7XG4gICAgY29uc3Qgb0F1dGhTdG9yZSA9IG5ldyBEZWZhdWx0T0F1dGhTdG9yZShkZWZhdWx0U3RvcmFnZSk7XG4gICAgb0F1dGhTdG9yZS5zZXRBdXRoQ29uZmlnKGNvZ25pdG9Db25maWcpO1xuICAgIGNvbnN0IHtcbiAgICAgIHR5cGVcbiAgICB9ID0gKGF3YWl0IGhhbmRsZU9BdXRoU2lnbk91dChjb2duaXRvQ29uZmlnLCBvQXV0aFN0b3JlLCB0b2tlbk9yY2hlc3RyYXRvciwgaW5wdXQ/Lm9hdXRoPy5yZWRpcmVjdFVybCkpID8/IHt9O1xuICAgIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKHtcbiAgICAgICAgbmFtZTogT0FVVEhfU0lHTk9VVF9FWENFUFRJT04sXG4gICAgICAgIG1lc3NhZ2U6IGBBbiBlcnJvciBvY2N1cnJlZCB3aGVuIGF0dGVtcHRpbmcgdG8gbG9nIG91dCBmcm9tIE9BdXRoIHByb3ZpZGVyLmBcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBjb21wbGV0ZSBzaWduIG91dFxuICAgIHRva2VuT3JjaGVzdHJhdG9yLmNsZWFyVG9rZW5zKCk7XG4gICAgYXdhaXQgY2xlYXJDcmVkZW50aWFscygpO1xuICAgIEh1Yi5kaXNwYXRjaCgnYXV0aCcsIHtcbiAgICAgIGV2ZW50OiAnc2lnbmVkT3V0J1xuICAgIH0sICdBdXRoJywgQU1QTElGWV9TWU1CT0wpO1xuICB9XG59XG5hc3luYyBmdW5jdGlvbiBjbGllbnRTaWduT3V0KGNvZ25pdG9Db25maWcpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7XG4gICAgICB1c2VyUG9vbEVuZHBvaW50LFxuICAgICAgdXNlclBvb2xJZCxcbiAgICAgIHVzZXJQb29sQ2xpZW50SWRcbiAgICB9ID0gY29nbml0b0NvbmZpZztcbiAgICBjb25zdCBhdXRoVG9rZW5zID0gYXdhaXQgdG9rZW5PcmNoZXN0cmF0b3IuZ2V0VG9rZW5TdG9yZSgpLmxvYWRUb2tlbnMoKTtcbiAgICBhc3NlcnRBdXRoVG9rZW5zV2l0aFJlZnJlc2hUb2tlbihhdXRoVG9rZW5zKTtcbiAgICBpZiAoaXNTZXNzaW9uUmV2b2NhYmxlKGF1dGhUb2tlbnMuYWNjZXNzVG9rZW4pKSB7XG4gICAgICBjb25zdCByZXZva2VUb2tlbiA9IGNyZWF0ZVJldm9rZVRva2VuQ2xpZW50KHtcbiAgICAgICAgZW5kcG9pbnRSZXNvbHZlcjogY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlcih7XG4gICAgICAgICAgZW5kcG9pbnRPdmVycmlkZTogdXNlclBvb2xFbmRwb2ludFxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgICBhd2FpdCByZXZva2VUb2tlbih7XG4gICAgICAgIHJlZ2lvbjogZ2V0UmVnaW9uRnJvbVVzZXJQb29sSWQodXNlclBvb2xJZCksXG4gICAgICAgIHVzZXJBZ2VudFZhbHVlOiBnZXRBdXRoVXNlckFnZW50VmFsdWUoQXV0aEFjdGlvbi5TaWduT3V0KVxuICAgICAgfSwge1xuICAgICAgICBDbGllbnRJZDogdXNlclBvb2xDbGllbnRJZCxcbiAgICAgICAgVG9rZW46IGF1dGhUb2tlbnMucmVmcmVzaFRva2VuXG4gICAgICB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIHRoaXMgc2hvdWxkbid0IHRocm93XG4gICAgbG9nZ2VyLmRlYnVnKCdDbGllbnQgc2lnbk91dCBlcnJvciBjYXVnaHQgYnV0IHdpbGwgcHJvY2VlZCB3aXRoIHRva2VuIHJlbW92YWwnKTtcbiAgfVxufVxuYXN5bmMgZnVuY3Rpb24gZ2xvYmFsU2lnbk91dChjb2duaXRvQ29uZmlnKSB7XG4gIHRyeSB7XG4gICAgY29uc3Qge1xuICAgICAgdXNlclBvb2xFbmRwb2ludCxcbiAgICAgIHVzZXJQb29sSWRcbiAgICB9ID0gY29nbml0b0NvbmZpZztcbiAgICBjb25zdCBhdXRoVG9rZW5zID0gYXdhaXQgdG9rZW5PcmNoZXN0cmF0b3IuZ2V0VG9rZW5TdG9yZSgpLmxvYWRUb2tlbnMoKTtcbiAgICBhc3NlcnRBdXRoVG9rZW5zKGF1dGhUb2tlbnMpO1xuICAgIGNvbnN0IGdsb2JhbFNpZ25PdXRDbGllbnQgPSBjcmVhdGVHbG9iYWxTaWduT3V0Q2xpZW50KHtcbiAgICAgIGVuZHBvaW50UmVzb2x2ZXI6IGNyZWF0ZUNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIoe1xuICAgICAgICBlbmRwb2ludE92ZXJyaWRlOiB1c2VyUG9vbEVuZHBvaW50XG4gICAgICB9KVxuICAgIH0pO1xuICAgIGF3YWl0IGdsb2JhbFNpZ25PdXRDbGllbnQoe1xuICAgICAgcmVnaW9uOiBnZXRSZWdpb25Gcm9tVXNlclBvb2xJZCh1c2VyUG9vbElkKSxcbiAgICAgIHVzZXJBZ2VudFZhbHVlOiBnZXRBdXRoVXNlckFnZW50VmFsdWUoQXV0aEFjdGlvbi5TaWduT3V0KVxuICAgIH0sIHtcbiAgICAgIEFjY2Vzc1Rva2VuOiBhdXRoVG9rZW5zLmFjY2Vzc1Rva2VuLnRvU3RyaW5nKClcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gaXQgc2hvdWxkIG5vdCB0aHJvd1xuICAgIGxvZ2dlci5kZWJ1ZygnR2xvYmFsIHNpZ25PdXQgZXJyb3IgY2F1Z2h0IGJ1dCB3aWxsIHByb2NlZWQgd2l0aCB0b2tlbiByZW1vdmFsJyk7XG4gIH1cbn1cbmNvbnN0IGlzU2Vzc2lvblJldm9jYWJsZSA9IHRva2VuID0+ICEhdG9rZW4/LnBheWxvYWQ/Lm9yaWdpbl9qdGk7XG5leHBvcnQgeyBzaWduT3V0IH07XG4iLCJpbXBvcnQgeyBBbXBsaWZ5LCBmZXRjaEF1dGhTZXNzaW9uIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUnO1xuaW1wb3J0IHsgYXNzZXJ0VG9rZW5Qcm92aWRlckNvbmZpZywgQXV0aEFjdGlvbiB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5pbXBvcnQgeyBnZXRSZWdpb25Gcm9tVXNlclBvb2xJZCB9IGZyb20gJy4uLy4uLy4uL2ZvdW5kYXRpb24vcGFyc2Vycy9yZWdpb25QYXJzZXJzLm1qcyc7XG5pbXBvcnQgeyBhc3NlcnRBdXRoVG9rZW5zIH0gZnJvbSAnLi4vdXRpbHMvdHlwZXMubWpzJztcbmltcG9ydCAnLi4vdXRpbHMvcmVmcmVzaEF1dGhUb2tlbnMubWpzJztcbmltcG9ydCAnLi4vdG9rZW5Qcm92aWRlci9lcnJvckhlbHBlcnMubWpzJztcbmltcG9ydCB7IHRva2VuT3JjaGVzdHJhdG9yIH0gZnJvbSAnLi4vdG9rZW5Qcm92aWRlci90b2tlblByb3ZpZGVyLm1qcyc7XG5pbXBvcnQgeyBnZXRBdXRoVXNlckFnZW50VmFsdWUgfSBmcm9tICcuLi8uLi8uLi91dGlscy9nZXRBdXRoVXNlckFnZW50VmFsdWUubWpzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMvY29tcG9zZXJzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMnO1xuaW1wb3J0ICcuLi8uLi8uLi9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9zaGFyZWQvaGFuZGxlci9jb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvY29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uL2NvbW1vbi9BdXRoRXJyb3JTdHJpbmdzLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uL2Vycm9ycy90eXBlcy92YWxpZGF0aW9uLm1qcyc7XG5pbXBvcnQgJy4uL3R5cGVzL2Vycm9ycy5tanMnO1xuaW1wb3J0IHsgY3JlYXRlRGVsZXRlVXNlckNsaWVudCB9IGZyb20gJy4uLy4uLy4uL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eVByb3ZpZGVyL2NyZWF0ZURlbGV0ZVVzZXJDbGllbnQubWpzJztcbmltcG9ydCB7IGNyZWF0ZUNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIgfSBmcm9tICcuLi9mYWN0b3JpZXMvY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlci5tanMnO1xuaW1wb3J0IHsgc2lnbk91dCB9IGZyb20gJy4vc2lnbk91dC5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIERlbGV0ZXMgYSB1c2VyIGZyb20gdGhlIHVzZXIgcG9vbCB3aGlsZSBhdXRoZW50aWNhdGVkLlxuICpcbiAqIEB0aHJvd3MgLSB7QGxpbmsgRGVsZXRlVXNlckV4Y2VwdGlvbn1cbiAqIEB0aHJvd3MgQXV0aFRva2VuQ29uZmlnRXhjZXB0aW9uIC0gVGhyb3duIHdoZW4gdGhlIHRva2VuIHByb3ZpZGVyIGNvbmZpZyBpcyBpbnZhbGlkLlxuICovXG5hc3luYyBmdW5jdGlvbiBkZWxldGVVc2VyKCkge1xuICBjb25zdCBhdXRoQ29uZmlnID0gQW1wbGlmeS5nZXRDb25maWcoKS5BdXRoPy5Db2duaXRvO1xuICBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnKGF1dGhDb25maWcpO1xuICBjb25zdCB7XG4gICAgdXNlclBvb2xFbmRwb2ludCxcbiAgICB1c2VyUG9vbElkXG4gIH0gPSBhdXRoQ29uZmlnO1xuICBjb25zdCB7XG4gICAgdG9rZW5zXG4gIH0gPSBhd2FpdCBmZXRjaEF1dGhTZXNzaW9uKCk7XG4gIGFzc2VydEF1dGhUb2tlbnModG9rZW5zKTtcbiAgY29uc3Qgc2VydmljZURlbGV0ZVVzZXIgPSBjcmVhdGVEZWxldGVVc2VyQ2xpZW50KHtcbiAgICBlbmRwb2ludFJlc29sdmVyOiBjcmVhdGVDb2duaXRvVXNlclBvb2xFbmRwb2ludFJlc29sdmVyKHtcbiAgICAgIGVuZHBvaW50T3ZlcnJpZGU6IHVzZXJQb29sRW5kcG9pbnRcbiAgICB9KVxuICB9KTtcbiAgYXdhaXQgc2VydmljZURlbGV0ZVVzZXIoe1xuICAgIHJlZ2lvbjogZ2V0UmVnaW9uRnJvbVVzZXJQb29sSWQodXNlclBvb2xJZCksXG4gICAgdXNlckFnZW50VmFsdWU6IGdldEF1dGhVc2VyQWdlbnRWYWx1ZShBdXRoQWN0aW9uLkRlbGV0ZVVzZXIpXG4gIH0sIHtcbiAgICBBY2Nlc3NUb2tlbjogdG9rZW5zLmFjY2Vzc1Rva2VuLnRvU3RyaW5nKClcbiAgfSk7XG4gIGF3YWl0IHRva2VuT3JjaGVzdHJhdG9yLmNsZWFyRGV2aWNlTWV0YWRhdGEoKTtcbiAgYXdhaXQgc2lnbk91dCgpO1xufVxuZXhwb3J0IHsgZGVsZXRlVXNlciB9O1xuIiwiaW1wb3J0IHsgYXNzZXJ0VG9rZW5Qcm92aWRlckNvbmZpZyB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5pbXBvcnQgeyBhc3NlcnRBdXRoVG9rZW5zIH0gZnJvbSAnLi4vLi4vdXRpbHMvdHlwZXMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuY29uc3QgZ2V0Q3VycmVudFVzZXIgPSBhc3luYyBhbXBsaWZ5ID0+IHtcbiAgY29uc3QgYXV0aENvbmZpZyA9IGFtcGxpZnkuZ2V0Q29uZmlnKCkuQXV0aD8uQ29nbml0bztcbiAgYXNzZXJ0VG9rZW5Qcm92aWRlckNvbmZpZyhhdXRoQ29uZmlnKTtcbiAgY29uc3QgdG9rZW5zID0gYXdhaXQgYW1wbGlmeS5BdXRoLmdldFRva2Vucyh7XG4gICAgZm9yY2VSZWZyZXNoOiBmYWxzZVxuICB9KTtcbiAgYXNzZXJ0QXV0aFRva2Vucyh0b2tlbnMpO1xuICBjb25zdCB7XG4gICAgJ2NvZ25pdG86dXNlcm5hbWUnOiB1c2VybmFtZSxcbiAgICBzdWJcbiAgfSA9IHRva2Vucy5pZFRva2VuPy5wYXlsb2FkID8/IHt9O1xuICBjb25zdCBhdXRoVXNlciA9IHtcbiAgICB1c2VybmFtZTogdXNlcm5hbWUsXG4gICAgdXNlcklkOiBzdWJcbiAgfTtcbiAgY29uc3Qgc2lnbkluRGV0YWlscyA9IGdldFNpZ25JbkRldGFpbHNGcm9tVG9rZW5zKHRva2Vucyk7XG4gIGlmIChzaWduSW5EZXRhaWxzKSB7XG4gICAgYXV0aFVzZXIuc2lnbkluRGV0YWlscyA9IHNpZ25JbkRldGFpbHM7XG4gIH1cbiAgcmV0dXJuIGF1dGhVc2VyO1xufTtcbmZ1bmN0aW9uIGdldFNpZ25JbkRldGFpbHNGcm9tVG9rZW5zKHRva2Vucykge1xuICByZXR1cm4gdG9rZW5zPy5zaWduSW5EZXRhaWxzO1xufVxuZXhwb3J0IHsgZ2V0Q3VycmVudFVzZXIgfTtcbiIsImltcG9ydCB7IEFtcGxpZnkgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZSc7XG5pbXBvcnQgeyBnZXRDdXJyZW50VXNlciBhcyBnZXRDdXJyZW50VXNlciQxIH0gZnJvbSAnLi9pbnRlcm5hbC9nZXRDdXJyZW50VXNlci5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIEdldHMgdGhlIGN1cnJlbnQgdXNlciBmcm9tIHRoZSBpZFRva2VuLlxuICpcbiAqIEBwYXJhbSBpbnB1dCAtICBUaGUgR2V0Q3VycmVudFVzZXJJbnB1dCBvYmplY3QuXG4gKiBAcmV0dXJucyBHZXRDdXJyZW50VXNlck91dHB1dFxuICogQHRocm93cyAtIHtAbGluayBJbml0aWF0ZUF1dGhFeGNlcHRpb259IC0gVGhyb3duIHdoZW4gdGhlIHNlcnZpY2UgZmFpbHMgdG8gcmVmcmVzaCB0aGUgdG9rZW5zLlxuICogQHRocm93cyBBdXRoVG9rZW5Db25maWdFeGNlcHRpb24gLSBUaHJvd24gd2hlbiB0aGUgdG9rZW4gcHJvdmlkZXIgY29uZmlnIGlzIGludmFsaWQuXG4gKi9cbmNvbnN0IGdldEN1cnJlbnRVc2VyID0gYXN5bmMgKCkgPT4ge1xuICByZXR1cm4gZ2V0Q3VycmVudFVzZXIkMShBbXBsaWZ5KTtcbn07XG5leHBvcnQgeyBnZXRDdXJyZW50VXNlciB9O1xuIiwiaW1wb3J0IHsgY29tcG9zZVNlcnZpY2VBcGkgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscy9jb21wb3NlcnMnO1xuaW1wb3J0IHsgY3JlYXRlVXNlclBvb2xTZXJpYWxpemVyIH0gZnJvbSAnLi9zaGFyZWQvc2VyZGUvY3JlYXRlVXNlclBvb2xTZXJpYWxpemVyLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVVc2VyUG9vbERlc2VyaWFsaXplciB9IGZyb20gJy4vc2hhcmVkL3NlcmRlL2NyZWF0ZVVzZXJQb29sRGVzZXJpYWxpemVyLm1qcyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy9hd3MtY2xpZW50LXV0aWxzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL3V0aWxzJztcbmltcG9ydCB7IGNvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlciB9IGZyb20gJy4vc2hhcmVkL2hhbmRsZXIvY29nbml0b1VzZXJQb29sVHJhbnNmZXJIYW5kbGVyLm1qcyc7XG5pbXBvcnQgeyBERUZBVUxUX1NFUlZJQ0VfQ0xJRU5UX0FQSV9DT05GSUcgfSBmcm9tICcuL2NvbnN0YW50cy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBjcmVhdGVJbml0aWF0ZUF1dGhDbGllbnQgPSBjb25maWcgPT4gY29tcG9zZVNlcnZpY2VBcGkoY29nbml0b1VzZXJQb29sVHJhbnNmZXJIYW5kbGVyLCBjcmVhdGVVc2VyUG9vbFNlcmlhbGl6ZXIoJ0luaXRpYXRlQXV0aCcpLCBjcmVhdGVVc2VyUG9vbERlc2VyaWFsaXplcigpLCB7XG4gIC4uLkRFRkFVTFRfU0VSVklDRV9DTElFTlRfQVBJX0NPTkZJRyxcbiAgLi4uY29uZmlnXG59KTtcbmV4cG9ydCB7IGNyZWF0ZUluaXRpYXRlQXV0aENsaWVudCB9O1xuIiwiaW1wb3J0IHsgY29tcG9zZVNlcnZpY2VBcGkgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscy9jb21wb3NlcnMnO1xuaW1wb3J0IHsgY29nbml0b1VzZXJQb29sVHJhbnNmZXJIYW5kbGVyIH0gZnJvbSAnLi9zaGFyZWQvaGFuZGxlci9jb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIubWpzJztcbmltcG9ydCB7IGNyZWF0ZVVzZXJQb29sU2VyaWFsaXplciB9IGZyb20gJy4vc2hhcmVkL3NlcmRlL2NyZWF0ZVVzZXJQb29sU2VyaWFsaXplci5tanMnO1xuaW1wb3J0IHsgY3JlYXRlVXNlclBvb2xEZXNlcmlhbGl6ZXIgfSBmcm9tICcuL3NoYXJlZC9zZXJkZS9jcmVhdGVVc2VyUG9vbERlc2VyaWFsaXplci5tanMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5pbXBvcnQgeyBERUZBVUxUX1NFUlZJQ0VfQ0xJRU5UX0FQSV9DT05GSUcgfSBmcm9tICcuL2NvbnN0YW50cy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBjcmVhdGVSZXNwb25kVG9BdXRoQ2hhbGxlbmdlQ2xpZW50ID0gY29uZmlnID0+IGNvbXBvc2VTZXJ2aWNlQXBpKGNvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlciwgY3JlYXRlVXNlclBvb2xTZXJpYWxpemVyKCdSZXNwb25kVG9BdXRoQ2hhbGxlbmdlJyksIGNyZWF0ZVVzZXJQb29sRGVzZXJpYWxpemVyKCksIHtcbiAgLi4uREVGQVVMVF9TRVJWSUNFX0NMSUVOVF9BUElfQ09ORklHLFxuICAuLi5jb25maWdcbn0pO1xuZXhwb3J0IHsgY3JlYXRlUmVzcG9uZFRvQXV0aENoYWxsZW5nZUNsaWVudCB9O1xuIiwiaW1wb3J0IHsgY29tcG9zZVNlcnZpY2VBcGkgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscy9jb21wb3NlcnMnO1xuaW1wb3J0IHsgY29nbml0b1VzZXJQb29sVHJhbnNmZXJIYW5kbGVyIH0gZnJvbSAnLi9zaGFyZWQvaGFuZGxlci9jb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIubWpzJztcbmltcG9ydCB7IGNyZWF0ZVVzZXJQb29sU2VyaWFsaXplciB9IGZyb20gJy4vc2hhcmVkL3NlcmRlL2NyZWF0ZVVzZXJQb29sU2VyaWFsaXplci5tanMnO1xuaW1wb3J0IHsgY3JlYXRlVXNlclBvb2xEZXNlcmlhbGl6ZXIgfSBmcm9tICcuL3NoYXJlZC9zZXJkZS9jcmVhdGVVc2VyUG9vbERlc2VyaWFsaXplci5tanMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5pbXBvcnQgeyBERUZBVUxUX1NFUlZJQ0VfQ0xJRU5UX0FQSV9DT05GSUcgfSBmcm9tICcuL2NvbnN0YW50cy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBjcmVhdGVBc3NvY2lhdGVTb2Z0d2FyZVRva2VuQ2xpZW50ID0gY29uZmlnID0+IGNvbXBvc2VTZXJ2aWNlQXBpKGNvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlciwgY3JlYXRlVXNlclBvb2xTZXJpYWxpemVyKCdBc3NvY2lhdGVTb2Z0d2FyZVRva2VuJyksIGNyZWF0ZVVzZXJQb29sRGVzZXJpYWxpemVyKCksIHtcbiAgLi4uREVGQVVMVF9TRVJWSUNFX0NMSUVOVF9BUElfQ09ORklHLFxuICAuLi5jb25maWdcbn0pO1xuZXhwb3J0IHsgY3JlYXRlQXNzb2NpYXRlU29mdHdhcmVUb2tlbkNsaWVudCB9O1xuIiwiaW1wb3J0IHsgZGVjb2RlSldULCBBbXBsaWZ5RXJyb3IgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuaW1wb3J0IHsgdG9rZW5PcmNoZXN0cmF0b3IgfSBmcm9tICcuL3Rva2VuUHJvdmlkZXIubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuYXN5bmMgZnVuY3Rpb24gY2FjaGVDb2duaXRvVG9rZW5zKEF1dGhlbnRpY2F0aW9uUmVzdWx0KSB7XG4gIGlmIChBdXRoZW50aWNhdGlvblJlc3VsdC5BY2Nlc3NUb2tlbikge1xuICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gZGVjb2RlSldUKEF1dGhlbnRpY2F0aW9uUmVzdWx0LkFjY2Vzc1Rva2VuKTtcbiAgICBjb25zdCBhY2Nlc3NUb2tlbklzc3VlZEF0SW5NaWxsaXMgPSAoYWNjZXNzVG9rZW4ucGF5bG9hZC5pYXQgfHwgMCkgKiAxMDAwO1xuICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgY29uc3QgY2xvY2tEcmlmdCA9IGFjY2Vzc1Rva2VuSXNzdWVkQXRJbk1pbGxpcyA+IDAgPyBhY2Nlc3NUb2tlbklzc3VlZEF0SW5NaWxsaXMgLSBjdXJyZW50VGltZSA6IDA7XG4gICAgbGV0IGlkVG9rZW47XG4gICAgbGV0IHJlZnJlc2hUb2tlbjtcbiAgICBsZXQgZGV2aWNlTWV0YWRhdGE7XG4gICAgaWYgKEF1dGhlbnRpY2F0aW9uUmVzdWx0LlJlZnJlc2hUb2tlbikge1xuICAgICAgcmVmcmVzaFRva2VuID0gQXV0aGVudGljYXRpb25SZXN1bHQuUmVmcmVzaFRva2VuO1xuICAgIH1cbiAgICBpZiAoQXV0aGVudGljYXRpb25SZXN1bHQuSWRUb2tlbikge1xuICAgICAgaWRUb2tlbiA9IGRlY29kZUpXVChBdXRoZW50aWNhdGlvblJlc3VsdC5JZFRva2VuKTtcbiAgICB9XG4gICAgaWYgKEF1dGhlbnRpY2F0aW9uUmVzdWx0Py5OZXdEZXZpY2VNZXRhZGF0YSkge1xuICAgICAgZGV2aWNlTWV0YWRhdGEgPSBBdXRoZW50aWNhdGlvblJlc3VsdC5OZXdEZXZpY2VNZXRhZGF0YTtcbiAgICB9XG4gICAgY29uc3QgdG9rZW5zID0ge1xuICAgICAgYWNjZXNzVG9rZW4sXG4gICAgICBpZFRva2VuLFxuICAgICAgcmVmcmVzaFRva2VuLFxuICAgICAgY2xvY2tEcmlmdCxcbiAgICAgIGRldmljZU1ldGFkYXRhLFxuICAgICAgdXNlcm5hbWU6IEF1dGhlbnRpY2F0aW9uUmVzdWx0LnVzZXJuYW1lXG4gICAgfTtcbiAgICBpZiAoQXV0aGVudGljYXRpb25SZXN1bHQ/LnNpZ25JbkRldGFpbHMpIHtcbiAgICAgIHRva2Vucy5zaWduSW5EZXRhaWxzID0gQXV0aGVudGljYXRpb25SZXN1bHQuc2lnbkluRGV0YWlscztcbiAgICB9XG4gICAgYXdhaXQgdG9rZW5PcmNoZXN0cmF0b3Iuc2V0VG9rZW5zKHtcbiAgICAgIHRva2Vuc1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIC8vIFRoaXMgd291bGQgYmUgYSBzZXJ2aWNlIGVycm9yXG4gICAgdGhyb3cgbmV3IEFtcGxpZnlFcnJvcih7XG4gICAgICBtZXNzYWdlOiAnSW52YWxpZCB0b2tlbnMnLFxuICAgICAgbmFtZTogJ0ludmFsaWRUb2tlbnMnLFxuICAgICAgcmVjb3ZlcnlTdWdnZXN0aW9uOiAnQ2hlY2sgQ29nbml0byBVc2VyUG9vbCBzZXR0aW5ncydcbiAgICB9KTtcbiAgfVxufVxuZXhwb3J0IHsgY2FjaGVDb2duaXRvVG9rZW5zIH07XG4iLCJpbXBvcnQgeyBIdWIgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZSc7XG5pbXBvcnQgeyBBTVBMSUZZX1NZTUJPTCB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5pbXBvcnQgeyBnZXRDdXJyZW50VXNlciB9IGZyb20gJy4uL2FwaXMvZ2V0Q3VycmVudFVzZXIubWpzJztcbmltcG9ydCB7IFVTRVJfVU5BVVRIRU5USUNBVEVEX0VYQ0VQVElPTiwgVU5FWFBFQ1RFRF9TSUdOX0lOX0lOVEVSUlVQVElPTl9FWENFUFRJT04gfSBmcm9tICcuLi8uLi8uLi9lcnJvcnMvY29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyBBdXRoRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvcnMvQXV0aEVycm9yLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IEVSUk9SX01FU1NBR0UgPSAnVW5hYmxlIHRvIGdldCB1c2VyIHNlc3Npb24gZm9sbG93aW5nIHN1Y2Nlc3NmdWwgc2lnbi1pbi4nO1xuY29uc3QgZGlzcGF0Y2hTaWduZWRJbkh1YkV2ZW50ID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIEh1Yi5kaXNwYXRjaCgnYXV0aCcsIHtcbiAgICAgIGV2ZW50OiAnc2lnbmVkSW4nLFxuICAgICAgZGF0YTogYXdhaXQgZ2V0Q3VycmVudFVzZXIoKVxuICAgIH0sICdBdXRoJywgQU1QTElGWV9TWU1CT0wpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChlcnJvci5uYW1lID09PSBVU0VSX1VOQVVUSEVOVElDQVRFRF9FWENFUFRJT04pIHtcbiAgICAgIHRocm93IG5ldyBBdXRoRXJyb3Ioe1xuICAgICAgICBuYW1lOiBVTkVYUEVDVEVEX1NJR05fSU5fSU5URVJSVVBUSU9OX0VYQ0VQVElPTixcbiAgICAgICAgbWVzc2FnZTogRVJST1JfTUVTU0FHRSxcbiAgICAgICAgcmVjb3ZlcnlTdWdnZXN0aW9uOiAnVGhpcyBtb3N0IGxpa2VseSBpcyBkdWUgdG8gYXV0aCB0b2tlbnMgbm90IGJlaW5nIHBlcnNpc3RlZC4gSWYgeW91IGFyZSB1c2luZyBjb29raWUgc3RvcmUsIHBsZWFzZSBlbnN1cmUgY29va2llcyBjYW4gYmUgY29ycmVjdGx5IHNldCBmcm9tIHlvdXIgc2VydmVyLidcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcbmV4cG9ydCB7IEVSUk9SX01FU1NBR0UsIGRpc3BhdGNoU2lnbmVkSW5IdWJFdmVudCB9O1xuIiwiLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuZnVuY3Rpb24gZGVmYXVsdFN0YXRlKCkge1xuICByZXR1cm4ge1xuICAgIGFjdGl2ZTogZmFsc2VcbiAgfTtcbn1cbmNvbnN0IGF1dG9TaWduSW5SZWR1Y2VyID0gKHN0YXRlLCBhY3Rpb24pID0+IHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgJ1NFVF9VU0VSTkFNRSc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgdXNlcm5hbWU6IGFjdGlvbi52YWx1ZVxuICAgICAgfTtcbiAgICBjYXNlICdTRVRfU0VTU0lPTic6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgc2Vzc2lvbjogYWN0aW9uLnZhbHVlXG4gICAgICB9O1xuICAgIGNhc2UgJ1NUQVJUJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBhY3RpdmU6IHRydWVcbiAgICAgIH07XG4gICAgY2FzZSAnUkVTRVQnOlxuICAgICAgcmV0dXJuIGRlZmF1bHRTdGF0ZSgpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn07XG5jb25zdCBjcmVhdGVBdXRvU2lnbkluU3RvcmUgPSByZWR1Y2VyID0+IHtcbiAgbGV0IGN1cnJlbnRTdGF0ZSA9IHJlZHVjZXIoZGVmYXVsdFN0YXRlKCksIHtcbiAgICB0eXBlOiAnUkVTRVQnXG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGdldFN0YXRlOiAoKSA9PiBjdXJyZW50U3RhdGUsXG4gICAgZGlzcGF0Y2g6IGFjdGlvbiA9PiB7XG4gICAgICBjdXJyZW50U3RhdGUgPSByZWR1Y2VyKGN1cnJlbnRTdGF0ZSwgYWN0aW9uKTtcbiAgICB9XG4gIH07XG59O1xuY29uc3QgYXV0b1NpZ25JblN0b3JlID0gY3JlYXRlQXV0b1NpZ25JblN0b3JlKGF1dG9TaWduSW5SZWR1Y2VyKTtcbmV4cG9ydCB7IGF1dG9TaWduSW5TdG9yZSB9O1xuIiwiaW1wb3J0IHsgc3luY1Nlc3Npb25TdG9yYWdlIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vLyBNaW51dGVzIHVudGlsIHN0b3JlZCBzZXNzaW9uIGludmFsaWRhdGVzIGlzIGRlZmF1bHRlZCB0byAzIG1pbnV0ZXNcbi8vIHRvIG1haW50YWluIHBhcml0eSB3aXRoIEFtYXpvbiBDb2duaXRvIHVzZXIgcG9vbHMgQVBJIGJlaGF2aW9yXG5jb25zdCBNU19UT19FWFBJUlkgPSAzICogNjAgKiAxMDAwO1xuY29uc3QgVEdUX1NUQVRFID0gJ0NvZ25pdG9TaWduSW5TdGF0ZSc7XG5jb25zdCBTSUdOX0lOX1NUQVRFX0tFWVMgPSB7XG4gIHVzZXJuYW1lOiBgJHtUR1RfU1RBVEV9LnVzZXJuYW1lYCxcbiAgY2hhbGxlbmdlTmFtZTogYCR7VEdUX1NUQVRFfS5jaGFsbGVuZ2VOYW1lYCxcbiAgc2lnbkluU2Vzc2lvbjogYCR7VEdUX1NUQVRFfS5zaWduSW5TZXNzaW9uYCxcbiAgZXhwaXJ5OiBgJHtUR1RfU1RBVEV9LmV4cGlyeWBcbn07XG5jb25zdCBzaWduSW5SZWR1Y2VyID0gKHN0YXRlLCBhY3Rpb24pID0+IHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgJ1NFVF9TSUdOX0lOX1NFU1NJT04nOlxuICAgICAgcGVyc2lzdFNpZ25JblN0YXRlKHtcbiAgICAgICAgc2lnbkluU2Vzc2lvbjogYWN0aW9uLnZhbHVlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBzaWduSW5TZXNzaW9uOiBhY3Rpb24udmFsdWVcbiAgICAgIH07XG4gICAgY2FzZSAnU0VUX1NJR05fSU5fU1RBVEUnOlxuICAgICAgcGVyc2lzdFNpZ25JblN0YXRlKGFjdGlvbi52YWx1ZSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5hY3Rpb24udmFsdWVcbiAgICAgIH07XG4gICAgY2FzZSAnU0VUX0NIQUxMRU5HRV9OQU1FJzpcbiAgICAgIHBlcnNpc3RTaWduSW5TdGF0ZSh7XG4gICAgICAgIGNoYWxsZW5nZU5hbWU6IGFjdGlvbi52YWx1ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgY2hhbGxlbmdlTmFtZTogYWN0aW9uLnZhbHVlXG4gICAgICB9O1xuICAgIGNhc2UgJ1NFVF9VU0VSTkFNRSc6XG4gICAgICBwZXJzaXN0U2lnbkluU3RhdGUoe1xuICAgICAgICB1c2VybmFtZTogYWN0aW9uLnZhbHVlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICB1c2VybmFtZTogYWN0aW9uLnZhbHVlXG4gICAgICB9O1xuICAgIGNhc2UgJ1NFVF9JTklUSUFMX1NUQVRFJzpcbiAgICAgIHJldHVybiBnZXRJbml0aWFsU3RhdGUoKTtcbiAgICBjYXNlICdSRVNFVF9TVEFURSc6XG4gICAgICBjbGVhclBlcnNpc3RlZFNpZ25JblN0YXRlKCk7XG4gICAgICByZXR1cm4gZ2V0RGVmYXVsdFN0YXRlKCk7XG4gICAgLy8gdGhpcyBzdGF0ZSBpcyBuZXZlciByZWFjaGFibGVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59O1xuY29uc3QgaXNFeHBpcmVkID0gZXhwaXJ5RGF0ZSA9PiB7XG4gIGNvbnN0IGV4cGlyeVRpbWVzdGFtcCA9IE51bWJlcihleHBpcnlEYXRlKTtcbiAgY29uc3QgY3VycmVudFRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gIHJldHVybiBleHBpcnlUaW1lc3RhbXAgPD0gY3VycmVudFRpbWVzdGFtcDtcbn07XG5jb25zdCByZXNldEFjdGl2ZVNpZ25JblN0YXRlID0gKCkgPT4ge1xuICBzaWduSW5TdG9yZS5kaXNwYXRjaCh7XG4gICAgdHlwZTogJ1JFU0VUX1NUQVRFJ1xuICB9KTtcbn07XG5jb25zdCBjbGVhclBlcnNpc3RlZFNpZ25JblN0YXRlID0gKCkgPT4ge1xuICBmb3IgKGNvbnN0IHN0YXRlS2V5IG9mIE9iamVjdC52YWx1ZXMoU0lHTl9JTl9TVEFURV9LRVlTKSkge1xuICAgIHN5bmNTZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKHN0YXRlS2V5KTtcbiAgfVxufTtcbmNvbnN0IGdldERlZmF1bHRTdGF0ZSA9ICgpID0+ICh7XG4gIHVzZXJuYW1lOiB1bmRlZmluZWQsXG4gIGNoYWxsZW5nZU5hbWU6IHVuZGVmaW5lZCxcbiAgc2lnbkluU2Vzc2lvbjogdW5kZWZpbmVkXG59KTtcbi8vIEh5ZHJhdGUgc2lnbkluU3RvcmUgZnJvbSBzeW5jU2Vzc2lvblN0b3JhZ2UgaWYgdGhlIHNlc3Npb24gaGFzIG5vdCBleHBpcmVkXG5jb25zdCBnZXRJbml0aWFsU3RhdGUgPSAoKSA9PiB7XG4gIGNvbnN0IGV4cGlyeSA9IHN5bmNTZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNJR05fSU5fU1RBVEVfS0VZUy5leHBpcnkpO1xuICBpZiAoIWV4cGlyeSB8fCBpc0V4cGlyZWQoZXhwaXJ5KSkge1xuICAgIGNsZWFyUGVyc2lzdGVkU2lnbkluU3RhdGUoKTtcbiAgICByZXR1cm4gZ2V0RGVmYXVsdFN0YXRlKCk7XG4gIH1cbiAgY29uc3QgdXNlcm5hbWUgPSBzeW5jU2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTSUdOX0lOX1NUQVRFX0tFWVMudXNlcm5hbWUpID8/IHVuZGVmaW5lZDtcbiAgY29uc3QgY2hhbGxlbmdlTmFtZSA9IHN5bmNTZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFNJR05fSU5fU1RBVEVfS0VZUy5jaGFsbGVuZ2VOYW1lKSA/PyB1bmRlZmluZWQ7XG4gIGNvbnN0IHNpZ25JblNlc3Npb24gPSBzeW5jU2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTSUdOX0lOX1NUQVRFX0tFWVMuc2lnbkluU2Vzc2lvbikgPz8gdW5kZWZpbmVkO1xuICByZXR1cm4ge1xuICAgIHVzZXJuYW1lLFxuICAgIGNoYWxsZW5nZU5hbWUsXG4gICAgc2lnbkluU2Vzc2lvblxuICB9O1xufTtcbmNvbnN0IGNyZWF0ZVN0b3JlID0gcmVkdWNlciA9PiB7XG4gIGxldCBjdXJyZW50U3RhdGUgPSByZWR1Y2VyKGdldERlZmF1bHRTdGF0ZSgpLCB7XG4gICAgdHlwZTogJ1NFVF9JTklUSUFMX1NUQVRFJ1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBnZXRTdGF0ZTogKCkgPT4gY3VycmVudFN0YXRlLFxuICAgIGRpc3BhdGNoOiBhY3Rpb24gPT4ge1xuICAgICAgY3VycmVudFN0YXRlID0gcmVkdWNlcihjdXJyZW50U3RhdGUsIGFjdGlvbik7XG4gICAgfVxuICB9O1xufTtcbmNvbnN0IHNpZ25JblN0b3JlID0gY3JlYXRlU3RvcmUoc2lnbkluUmVkdWNlcik7XG5mdW5jdGlvbiBzZXRBY3RpdmVTaWduSW5TdGF0ZShzdGF0ZSkge1xuICBzaWduSW5TdG9yZS5kaXNwYXRjaCh7XG4gICAgdHlwZTogJ1NFVF9TSUdOX0lOX1NUQVRFJyxcbiAgICB2YWx1ZTogc3RhdGVcbiAgfSk7XG59XG4vLyBTYXZlIGxvY2FsIHN0YXRlIGludG8gU2Vzc2lvbiBTdG9yYWdlXG5jb25zdCBwZXJzaXN0U2lnbkluU3RhdGUgPSAoe1xuICBjaGFsbGVuZ2VOYW1lLFxuICBzaWduSW5TZXNzaW9uLFxuICB1c2VybmFtZVxufSkgPT4ge1xuICB1c2VybmFtZSAmJiBzeW5jU2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTSUdOX0lOX1NUQVRFX0tFWVMudXNlcm5hbWUsIHVzZXJuYW1lKTtcbiAgY2hhbGxlbmdlTmFtZSAmJiBzeW5jU2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTSUdOX0lOX1NUQVRFX0tFWVMuY2hhbGxlbmdlTmFtZSwgY2hhbGxlbmdlTmFtZSk7XG4gIGlmIChzaWduSW5TZXNzaW9uKSB7XG4gICAgc3luY1Nlc3Npb25TdG9yYWdlLnNldEl0ZW0oU0lHTl9JTl9TVEFURV9LRVlTLnNpZ25JblNlc3Npb24sIHNpZ25JblNlc3Npb24pO1xuICAgIC8vIFVwZGF0ZXMgZXhwaXJ5IHdoZW4gc2Vzc2lvbiBpcyBwYXNzZWRcbiAgICBzeW5jU2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTSUdOX0lOX1NUQVRFX0tFWVMuZXhwaXJ5LCBTdHJpbmcoRGF0ZS5ub3coKSArIE1TX1RPX0VYUElSWSkpO1xuICB9XG59O1xuZXhwb3J0IHsgcGVyc2lzdFNpZ25JblN0YXRlLCByZXNldEFjdGl2ZVNpZ25JblN0YXRlLCBzZXRBY3RpdmVTaWduSW5TdGF0ZSwgc2lnbkluU3RvcmUgfTtcbiIsImltcG9ydCB7IGNyZWF0ZUFzc2VydGlvbkZ1bmN0aW9uLCBBbXBsaWZ5RXJyb3IsIEFtcGxpZnlFcnJvckNvZGUgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jbGFzcyBQYXNza2V5RXJyb3IgZXh0ZW5kcyBBbXBsaWZ5RXJyb3Ige1xuICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICBzdXBlcihwYXJhbXMpO1xuICAgIC8vIEhhY2sgZm9yIG1ha2luZyB0aGUgY3VzdG9tIGVycm9yIGNsYXNzIHdvcmsgd2hlbiB0cmFuc3BpbGVkIHRvIGVzNVxuICAgIC8vIFRPRE86IERlbGV0ZSB0aGUgZm9sbG93aW5nIDIgbGluZXMgYWZ0ZXIgd2UgY2hhbmdlIHRoZSBidWlsZCB0YXJnZXQgdG8gPj0gZXMyMDE1XG4gICAgdGhpcy5jb25zdHJ1Y3RvciA9IFBhc3NrZXlFcnJvcjtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgUGFzc2tleUVycm9yLnByb3RvdHlwZSk7XG4gIH1cbn1cbnZhciBQYXNza2V5RXJyb3JDb2RlO1xuKGZ1bmN0aW9uIChQYXNza2V5RXJyb3JDb2RlKSB7XG4gIC8vIG5vdCBzdXBwb3J0ZWRcbiAgUGFzc2tleUVycm9yQ29kZVtcIlBhc3NrZXlOb3RTdXBwb3J0ZWRcIl0gPSBcIlBhc3NrZXlOb3RTdXBwb3J0ZWRcIjtcbiAgLy8gZHVwbGljYXRlIHBhc3NrZXlcbiAgUGFzc2tleUVycm9yQ29kZVtcIlBhc3NrZXlBbHJlYWR5RXhpc3RzXCJdID0gXCJQYXNza2V5QWxyZWFkeUV4aXN0c1wiO1xuICAvLyBtaXNjb25maWd1cmF0aW9uc1xuICBQYXNza2V5RXJyb3JDb2RlW1wiSW52YWxpZFBhc3NrZXlSZWdpc3RyYXRpb25PcHRpb25zXCJdID0gXCJJbnZhbGlkUGFzc2tleVJlZ2lzdHJhdGlvbk9wdGlvbnNcIjtcbiAgUGFzc2tleUVycm9yQ29kZVtcIkludmFsaWRQYXNza2V5QXV0aGVudGljYXRpb25PcHRpb25zXCJdID0gXCJJbnZhbGlkUGFzc2tleUF1dGhlbnRpY2F0aW9uT3B0aW9uc1wiO1xuICBQYXNza2V5RXJyb3JDb2RlW1wiUmVseWluZ1BhcnR5TWlzbWF0Y2hcIl0gPSBcIlJlbHlpbmdQYXJ0eU1pc21hdGNoXCI7XG4gIC8vIGZhaWxlZCBjcmVkZW50aWFsIGNyZWF0aW9uIC8gcmV0cmlldmFsXG4gIFBhc3NrZXlFcnJvckNvZGVbXCJQYXNza2V5UmVnaXN0cmF0aW9uRmFpbGVkXCJdID0gXCJQYXNza2V5UmVnaXN0cmF0aW9uRmFpbGVkXCI7XG4gIFBhc3NrZXlFcnJvckNvZGVbXCJQYXNza2V5UmV0cmlldmFsRmFpbGVkXCJdID0gXCJQYXNza2V5UmV0cmlldmFsRmFpbGVkXCI7XG4gIC8vIGNhbmNlbCAvIGFib3J0c1xuICBQYXNza2V5RXJyb3JDb2RlW1wiUGFzc2tleVJlZ2lzdHJhdGlvbkNhbmNlbGVkXCJdID0gXCJQYXNza2V5UmVnaXN0cmF0aW9uQ2FuY2VsZWRcIjtcbiAgUGFzc2tleUVycm9yQ29kZVtcIlBhc3NrZXlBdXRoZW50aWNhdGlvbkNhbmNlbGVkXCJdID0gXCJQYXNza2V5QXV0aGVudGljYXRpb25DYW5jZWxlZFwiO1xuICBQYXNza2V5RXJyb3JDb2RlW1wiUGFzc2tleU9wZXJhdGlvbkFib3J0ZWRcIl0gPSBcIlBhc3NrZXlPcGVyYXRpb25BYm9ydGVkXCI7XG59KShQYXNza2V5RXJyb3JDb2RlIHx8IChQYXNza2V5RXJyb3JDb2RlID0ge30pKTtcbmNvbnN0IG5vdFN1cHBvcnRlZFJlY292ZXJ5U3VnZ2VzdGlvbiA9ICdQYXNza2V5cyBtYXkgbm90IGJlIHN1cHBvcnRlZCBvbiB0aGlzIGRldmljZS4gRW5zdXJlIHlvdXIgYXBwbGljYXRpb24gaXMgcnVubmluZyBpbiBhIHNlY3VyZSBjb250ZXh0IChIVFRQUykgYW5kIFdlYiBBdXRoZW50aWNhdGlvbiBBUEkgaXMgc3VwcG9ydGVkLic7XG5jb25zdCBhYm9ydE9yQ2FuY2VsUmVjb3ZlcnlTdWdnZXN0aW9uID0gJ1VzZXIgbWF5IGhhdmUgY2FuY2VsZWQgdGhlIGNlcmVtb255IG9yIGFub3RoZXIgaW50ZXJydXB0aW9uIGhhcyBvY2N1cnJlZC4gQ2hlY2sgdW5kZXJseWluZyBlcnJvciBmb3IgZGV0YWlscy4nO1xuY29uc3QgbWlzY29uZmlndXJhdGlvblJlY292ZXJ5U3VnZ2VzdGlvbiA9ICdFbnN1cmUgeW91ciB1c2VyIHBvb2wgaXMgY29uZmlndXJlZCB0byBzdXBwb3J0IHRoZSBXRUJfQVVUSE4gYXMgYW4gYXV0aGVudGljYXRpb24gZmFjdG9yLic7XG5jb25zdCBwYXNza2V5RXJyb3JNYXAgPSB7XG4gIFtQYXNza2V5RXJyb3JDb2RlLlBhc3NrZXlOb3RTdXBwb3J0ZWRdOiB7XG4gICAgbWVzc2FnZTogJ1Bhc3NrZXlzIG1heSBub3QgYmUgc3VwcG9ydGVkIG9uIHRoaXMgZGV2aWNlLicsXG4gICAgcmVjb3ZlcnlTdWdnZXN0aW9uOiBub3RTdXBwb3J0ZWRSZWNvdmVyeVN1Z2dlc3Rpb25cbiAgfSxcbiAgW1Bhc3NrZXlFcnJvckNvZGUuSW52YWxpZFBhc3NrZXlSZWdpc3RyYXRpb25PcHRpb25zXToge1xuICAgIG1lc3NhZ2U6ICdJbnZhbGlkIHBhc3NrZXkgcmVnaXN0cmF0aW9uIG9wdGlvbnMuJyxcbiAgICByZWNvdmVyeVN1Z2dlc3Rpb246IG1pc2NvbmZpZ3VyYXRpb25SZWNvdmVyeVN1Z2dlc3Rpb25cbiAgfSxcbiAgW1Bhc3NrZXlFcnJvckNvZGUuSW52YWxpZFBhc3NrZXlBdXRoZW50aWNhdGlvbk9wdGlvbnNdOiB7XG4gICAgbWVzc2FnZTogJ0ludmFsaWQgcGFzc2tleSBhdXRoZW50aWNhdGlvbiBvcHRpb25zLicsXG4gICAgcmVjb3ZlcnlTdWdnZXN0aW9uOiBtaXNjb25maWd1cmF0aW9uUmVjb3ZlcnlTdWdnZXN0aW9uXG4gIH0sXG4gIFtQYXNza2V5RXJyb3JDb2RlLlBhc3NrZXlSZWdpc3RyYXRpb25GYWlsZWRdOiB7XG4gICAgbWVzc2FnZTogJ0RldmljZSBmYWlsZWQgdG8gY3JlYXRlIHBhc3NrZXkuJyxcbiAgICByZWNvdmVyeVN1Z2dlc3Rpb246IG5vdFN1cHBvcnRlZFJlY292ZXJ5U3VnZ2VzdGlvblxuICB9LFxuICBbUGFzc2tleUVycm9yQ29kZS5QYXNza2V5UmV0cmlldmFsRmFpbGVkXToge1xuICAgIG1lc3NhZ2U6ICdEZXZpY2UgZmFpbGVkIHRvIHJldHJpZXZlIHBhc3NrZXkuJyxcbiAgICByZWNvdmVyeVN1Z2dlc3Rpb246ICdQYXNza2V5cyBtYXkgbm90IGJlIGF2YWlsYWJsZSBvbiB0aGlzIGRldmljZS4gVHJ5IGFuIGFsdGVybmF0aXZlIGF1dGhlbnRpY2F0aW9uIGZhY3RvciBsaWtlIFBBU1NXT1JELCBFTUFJTF9PVFAsIG9yIFNNU19PVFAuJ1xuICB9LFxuICBbUGFzc2tleUVycm9yQ29kZS5QYXNza2V5QWxyZWFkeUV4aXN0c106IHtcbiAgICBtZXNzYWdlOiAnUGFzc2tleSBhbHJlYWR5IGV4aXN0cyBpbiBhdXRoZW50aWNhdG9yLicsXG4gICAgcmVjb3ZlcnlTdWdnZXN0aW9uOiAnUHJvY2VlZCB3aXRoIGV4aXN0aW5nIHBhc3NrZXkgb3IgdHJ5IGFnYWluIGFmdGVyIGRlbGV0aW5nIHRoZSBjcmVkZW50aWFsLidcbiAgfSxcbiAgW1Bhc3NrZXlFcnJvckNvZGUuUGFzc2tleVJlZ2lzdHJhdGlvbkNhbmNlbGVkXToge1xuICAgIG1lc3NhZ2U6ICdQYXNza2V5IHJlZ2lzdHJhdGlvbiBjZXJlbW9ueSBoYXMgYmVlbiBjYW5jZWxlZC4nLFxuICAgIHJlY292ZXJ5U3VnZ2VzdGlvbjogYWJvcnRPckNhbmNlbFJlY292ZXJ5U3VnZ2VzdGlvblxuICB9LFxuICBbUGFzc2tleUVycm9yQ29kZS5QYXNza2V5QXV0aGVudGljYXRpb25DYW5jZWxlZF06IHtcbiAgICBtZXNzYWdlOiAnUGFzc2tleSBhdXRoZW50aWNhdGlvbiBjZXJlbW9ueSBoYXMgYmVlbiBjYW5jZWxlZC4nLFxuICAgIHJlY292ZXJ5U3VnZ2VzdGlvbjogYWJvcnRPckNhbmNlbFJlY292ZXJ5U3VnZ2VzdGlvblxuICB9LFxuICBbUGFzc2tleUVycm9yQ29kZS5QYXNza2V5T3BlcmF0aW9uQWJvcnRlZF06IHtcbiAgICBtZXNzYWdlOiAnUGFzc2tleSBvcGVyYXRpb24gaGFzIGJlZW4gYWJvcnRlZC4nLFxuICAgIHJlY292ZXJ5U3VnZ2VzdGlvbjogYWJvcnRPckNhbmNlbFJlY292ZXJ5U3VnZ2VzdGlvblxuICB9LFxuICBbUGFzc2tleUVycm9yQ29kZS5SZWx5aW5nUGFydHlNaXNtYXRjaF06IHtcbiAgICBtZXNzYWdlOiAnUmVseWluZyBwYXJ0eSBkb2VzIG5vdCBtYXRjaCBjdXJyZW50IGRvbWFpbi4nLFxuICAgIHJlY292ZXJ5U3VnZ2VzdGlvbjogJ0Vuc3VyZSByZWx5aW5nIHBhcnR5IGlkZW50aWZpZXIgbWF0Y2hlcyBjdXJyZW50IGRvbWFpbi4nXG4gIH1cbn07XG5jb25zdCBhc3NlcnRQYXNza2V5RXJyb3IgPSBjcmVhdGVBc3NlcnRpb25GdW5jdGlvbihwYXNza2V5RXJyb3JNYXAsIFBhc3NrZXlFcnJvcik7XG4vKipcbiAqIEhhbmRsZSBQYXNza2V5IEF1dGhlbnRpY2F0aW9uIEVycm9yc1xuICogaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3dlYmF1dGhuLyNzY3RuLWdldC1yZXF1ZXN0LWV4Y2VwdGlvbnNcbiAqXG4gKiBAcGFyYW0gZXJyIHVua25vd25cbiAqIEByZXR1cm5zIFBhc3NrZXlFcnJvclxuICovXG5jb25zdCBoYW5kbGVQYXNza2V5QXV0aGVudGljYXRpb25FcnJvciA9IGVyciA9PiB7XG4gIGlmIChlcnIgaW5zdGFuY2VvZiBQYXNza2V5RXJyb3IpIHtcbiAgICByZXR1cm4gZXJyO1xuICB9XG4gIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIGlmIChlcnIubmFtZSA9PT0gJ05vdEFsbG93ZWRFcnJvcicpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgcmVjb3ZlcnlTdWdnZXN0aW9uXG4gICAgICB9ID0gcGFzc2tleUVycm9yTWFwW1Bhc3NrZXlFcnJvckNvZGUuUGFzc2tleUF1dGhlbnRpY2F0aW9uQ2FuY2VsZWRdO1xuICAgICAgcmV0dXJuIG5ldyBQYXNza2V5RXJyb3Ioe1xuICAgICAgICBuYW1lOiBQYXNza2V5RXJyb3JDb2RlLlBhc3NrZXlBdXRoZW50aWNhdGlvbkNhbmNlbGVkLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICByZWNvdmVyeVN1Z2dlc3Rpb24sXG4gICAgICAgIHVuZGVybHlpbmdFcnJvcjogZXJyXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGhhbmRsZVBhc3NrZXlFcnJvcihlcnIpO1xufTtcbi8qKlxuICogSGFuZGxlIFBhc3NrZXkgUmVnaXN0cmF0aW9uIEVycm9yc1xuICogaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3dlYmF1dGhuLyNzY3RuLWNyZWF0ZS1yZXF1ZXN0LWV4Y2VwdGlvbnNcbiAqXG4gKiBAcGFyYW0gZXJyIHVua25vd25cbiAqIEByZXR1cm5zIFBhc3NrZXlFcnJvclxuICovXG5jb25zdCBoYW5kbGVQYXNza2V5UmVnaXN0cmF0aW9uRXJyb3IgPSBlcnIgPT4ge1xuICBpZiAoZXJyIGluc3RhbmNlb2YgUGFzc2tleUVycm9yKSB7XG4gICAgcmV0dXJuIGVycjtcbiAgfVxuICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAvLyBEdXBsaWNhdGUgUGFzc2tleVxuICAgIGlmIChlcnIubmFtZSA9PT0gJ0ludmFsaWRTdGF0ZUVycm9yJykge1xuICAgICAgY29uc3Qge1xuICAgICAgICBtZXNzYWdlLFxuICAgICAgICByZWNvdmVyeVN1Z2dlc3Rpb25cbiAgICAgIH0gPSBwYXNza2V5RXJyb3JNYXBbUGFzc2tleUVycm9yQ29kZS5QYXNza2V5QWxyZWFkeUV4aXN0c107XG4gICAgICByZXR1cm4gbmV3IFBhc3NrZXlFcnJvcih7XG4gICAgICAgIG5hbWU6IFBhc3NrZXlFcnJvckNvZGUuUGFzc2tleUFscmVhZHlFeGlzdHMsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHJlY292ZXJ5U3VnZ2VzdGlvbixcbiAgICAgICAgdW5kZXJseWluZ0Vycm9yOiBlcnJcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBVc2VyIENhbmNlbHMgQ2VyZW1vbnkgLyBHZW5lcmljIENhdGNoIEFsbFxuICAgIGlmIChlcnIubmFtZSA9PT0gJ05vdEFsbG93ZWRFcnJvcicpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgcmVjb3ZlcnlTdWdnZXN0aW9uXG4gICAgICB9ID0gcGFzc2tleUVycm9yTWFwW1Bhc3NrZXlFcnJvckNvZGUuUGFzc2tleVJlZ2lzdHJhdGlvbkNhbmNlbGVkXTtcbiAgICAgIHJldHVybiBuZXcgUGFzc2tleUVycm9yKHtcbiAgICAgICAgbmFtZTogUGFzc2tleUVycm9yQ29kZS5QYXNza2V5UmVnaXN0cmF0aW9uQ2FuY2VsZWQsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHJlY292ZXJ5U3VnZ2VzdGlvbixcbiAgICAgICAgdW5kZXJseWluZ0Vycm9yOiBlcnJcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaGFuZGxlUGFzc2tleUVycm9yKGVycik7XG59O1xuLyoqXG4gKiBIYW5kbGVzIE92ZXJsYXBwaW5nIFBhc3NrZXkgRXJyb3JzIEJldHdlZW4gUmVnaXN0cmF0aW9uICYgQXV0aGVudGljYXRpb25cbiAqIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby93ZWJhdXRobi8jc2N0bi1jcmVhdGUtcmVxdWVzdC1leGNlcHRpb25zXG4gKiBodHRwczovL3czYy5naXRodWIuaW8vd2ViYXV0aG4vI3NjdG4tZ2V0LXJlcXVlc3QtZXhjZXB0aW9uc1xuICpcbiAqIEBwYXJhbSBlcnIgdW5rbm93blxuICogQHJldHVybnMgUGFzc2tleUVycm9yXG4gKi9cbmNvbnN0IGhhbmRsZVBhc3NrZXlFcnJvciA9IGVyciA9PiB7XG4gIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIC8vIFBhc3NrZXkgT3BlcmF0aW9uIEFib3J0ZWRcbiAgICBpZiAoZXJyLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgY29uc3Qge1xuICAgICAgICBtZXNzYWdlLFxuICAgICAgICByZWNvdmVyeVN1Z2dlc3Rpb25cbiAgICAgIH0gPSBwYXNza2V5RXJyb3JNYXBbUGFzc2tleUVycm9yQ29kZS5QYXNza2V5T3BlcmF0aW9uQWJvcnRlZF07XG4gICAgICByZXR1cm4gbmV3IFBhc3NrZXlFcnJvcih7XG4gICAgICAgIG5hbWU6IFBhc3NrZXlFcnJvckNvZGUuUGFzc2tleU9wZXJhdGlvbkFib3J0ZWQsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHJlY292ZXJ5U3VnZ2VzdGlvbixcbiAgICAgICAgdW5kZXJseWluZ0Vycm9yOiBlcnJcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBSZWx5aW5nIFBhcnR5IC8gRG9tYWluIE1pc21hdGNoXG4gICAgaWYgKGVyci5uYW1lID09PSAnU2VjdXJpdHlFcnJvcicpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgcmVjb3ZlcnlTdWdnZXN0aW9uXG4gICAgICB9ID0gcGFzc2tleUVycm9yTWFwW1Bhc3NrZXlFcnJvckNvZGUuUmVseWluZ1BhcnR5TWlzbWF0Y2hdO1xuICAgICAgcmV0dXJuIG5ldyBQYXNza2V5RXJyb3Ioe1xuICAgICAgICBuYW1lOiBQYXNza2V5RXJyb3JDb2RlLlJlbHlpbmdQYXJ0eU1pc21hdGNoLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICByZWNvdmVyeVN1Z2dlc3Rpb24sXG4gICAgICAgIHVuZGVybHlpbmdFcnJvcjogZXJyXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ldyBQYXNza2V5RXJyb3Ioe1xuICAgIG5hbWU6IEFtcGxpZnlFcnJvckNvZGUuVW5rbm93bixcbiAgICBtZXNzYWdlOiAnQW4gdW5rbm93biBlcnJvciBoYXMgb2NjdXJyZWQuJyxcbiAgICB1bmRlcmx5aW5nRXJyb3I6IGVyclxuICB9KTtcbn07XG5leHBvcnQgeyBQYXNza2V5RXJyb3IsIFBhc3NrZXlFcnJvckNvZGUsIGFzc2VydFBhc3NrZXlFcnJvciwgaGFuZGxlUGFzc2tleUF1dGhlbnRpY2F0aW9uRXJyb3IsIGhhbmRsZVBhc3NrZXlSZWdpc3RyYXRpb25FcnJvciB9O1xuIiwiaW1wb3J0IHsgaXNCcm93c2VyIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL3V0aWxzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHBhc3NrZXkgaXMgc3VwcG9ydGVkIGluIGN1cnJlbnQgY29udGV4dFxuICogV2lsbCByZXR1cm4gZmFsc2UgaWYgZXhlY3V0ZWQgaW4gbm9uLXNlY3VyZSBjb250ZXh0XG4gKiBAcmV0dXJucyBib29sZWFuXG4gKi9cbmNvbnN0IGdldElzUGFzc2tleVN1cHBvcnRlZCA9ICgpID0+IHtcbiAgcmV0dXJuIGlzQnJvd3NlcigpICYmIHdpbmRvdy5pc1NlY3VyZUNvbnRleHQgJiYgJ2NyZWRlbnRpYWxzJyBpbiBuYXZpZ2F0b3IgJiYgdHlwZW9mIHdpbmRvdy5QdWJsaWNLZXlDcmVkZW50aWFsID09PSAnZnVuY3Rpb24nO1xufTtcbmV4cG9ydCB7IGdldElzUGFzc2tleVN1cHBvcnRlZCB9O1xuIiwiaW1wb3J0IHsgYmFzZTY0RW5jb2RlciB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8vIGh0dHBzOi8vZGF0YXRyYWNrZXIuaWV0Zi5vcmcvZG9jL2h0bWwvcmZjNDY0OCNwYWdlLTdcbi8qKlxuICogQ29udmVydHMgYW4gQXJyYXlCdWZmZXIgdG8gYSBiYXNlNjR1cmwgZW5jb2RlZCBzdHJpbmdcbiAqIEBwYXJhbSBidWZmZXIgLSB0aGUgQXJyYXlCdWZmZXIgaW5zdGFuY2Ugb2YgYSBVaW50OEFycmF5XG4gKiBAcmV0dXJucyBzdHJpbmcgLSBhIGJhc2U2NHVybCBlbmNvZGVkIHN0cmluZ1xuICovXG5jb25zdCBjb252ZXJ0QXJyYXlCdWZmZXJUb0Jhc2U2NFVybCA9IGJ1ZmZlciA9PiB7XG4gIHJldHVybiBiYXNlNjRFbmNvZGVyLmNvbnZlcnQobmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSwge1xuICAgIHVybFNhZmU6IHRydWUsXG4gICAgc2tpcFBhZGRpbmc6IHRydWVcbiAgfSk7XG59O1xuZXhwb3J0IHsgY29udmVydEFycmF5QnVmZmVyVG9CYXNlNjRVcmwgfTtcbiIsImltcG9ydCB7IGJhc2U2NERlY29kZXIgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIENvbnZlcnRzIGEgYmFzZTY0dXJsIGVuY29kZWQgc3RyaW5nIHRvIGFuIEFycmF5QnVmZmVyXG4gKiBAcGFyYW0gYmFzZTY0dXJsIC0gYSBiYXNlNjR1cmwgZW5jb2RlZCBzdHJpbmdcbiAqIEByZXR1cm5zIEFycmF5QnVmZmVyXG4gKi9cbmNvbnN0IGNvbnZlcnRCYXNlNjRVcmxUb0FycmF5QnVmZmVyID0gYmFzZTY0dXJsID0+IHtcbiAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShiYXNlNjREZWNvZGVyLmNvbnZlcnQoYmFzZTY0dXJsLCB7XG4gICAgdXJsU2FmZTogdHJ1ZVxuICB9KSwgeCA9PiB4LmNoYXJDb2RlQXQoMCkpLmJ1ZmZlcjtcbn07XG5leHBvcnQgeyBjb252ZXJ0QmFzZTY0VXJsVG9BcnJheUJ1ZmZlciB9O1xuIiwiaW1wb3J0IHsgY29udmVydEFycmF5QnVmZmVyVG9CYXNlNjRVcmwgfSBmcm9tICcuLi8uLi8uLi9mb3VuZGF0aW9uL2NvbnZlcnQvYmFzZTY0dXJsL2NvbnZlcnRBcnJheUJ1ZmZlclRvQmFzZTY0VXJsLm1qcyc7XG5pbXBvcnQgeyBjb252ZXJ0QmFzZTY0VXJsVG9BcnJheUJ1ZmZlciB9IGZyb20gJy4uLy4uLy4uL2ZvdW5kYXRpb24vY29udmVydC9iYXNlNjR1cmwvY29udmVydEJhc2U2NFVybFRvQXJyYXlCdWZmZXIubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLyoqXG4gKiBEZXNlcmlhbGl6ZXMgUHVibGljIEtleSBDcmVkZW50aWFsIENyZWF0aW9uIE9wdGlvbnMgSlNPTlxuICogQHBhcmFtIGlucHV0IFBhc3NrZXlDcmVhdGVPcHRpb25zSnNvblxuICogQHJldHVybnMgUHVibGljS2V5Q3JlZGVudGlhbENyZWF0aW9uT3B0aW9uc1xuICovXG5jb25zdCBkZXNlcmlhbGl6ZUpzb25Ub1BrY0NyZWF0aW9uT3B0aW9ucyA9IGlucHV0ID0+IHtcbiAgY29uc3QgdXNlcklkQnVmZmVyID0gY29udmVydEJhc2U2NFVybFRvQXJyYXlCdWZmZXIoaW5wdXQudXNlci5pZCk7XG4gIGNvbnN0IGNoYWxsZW5nZUJ1ZmZlciA9IGNvbnZlcnRCYXNlNjRVcmxUb0FycmF5QnVmZmVyKGlucHV0LmNoYWxsZW5nZSk7XG4gIGNvbnN0IGV4Y2x1ZGVDcmVkZW50aWFsc1dpdGhCdWZmZXIgPSAoaW5wdXQuZXhjbHVkZUNyZWRlbnRpYWxzIHx8IFtdKS5tYXAoZXhjbHVkZUNyZWQgPT4gKHtcbiAgICAuLi5leGNsdWRlQ3JlZCxcbiAgICBpZDogY29udmVydEJhc2U2NFVybFRvQXJyYXlCdWZmZXIoZXhjbHVkZUNyZWQuaWQpXG4gIH0pKTtcbiAgcmV0dXJuIHtcbiAgICAuLi5pbnB1dCxcbiAgICBleGNsdWRlQ3JlZGVudGlhbHM6IGV4Y2x1ZGVDcmVkZW50aWFsc1dpdGhCdWZmZXIsXG4gICAgY2hhbGxlbmdlOiBjaGFsbGVuZ2VCdWZmZXIsXG4gICAgdXNlcjoge1xuICAgICAgLi4uaW5wdXQudXNlcixcbiAgICAgIGlkOiB1c2VySWRCdWZmZXJcbiAgICB9XG4gIH07XG59O1xuLyoqXG4gKiBTZXJpYWxpemVzIGEgUHVibGljIEtleSBDcmVkZW50aWFsIFdpdGggQXR0ZXN0YXRpb24gdG8gSlNPTlxuICogQHBhcmFtIGlucHV0IFBhc3NrZXlDcmVhdGVSZXN1bHRcbiAqIEByZXR1cm5zIFBhc3NrZXlDcmVhdGVSZXN1bHRKc29uXG4gKi9cbmNvbnN0IHNlcmlhbGl6ZVBrY1dpdGhBdHRlc3RhdGlvblRvSnNvbiA9IGlucHV0ID0+IHtcbiAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgY2xpZW50RGF0YUpTT046IGNvbnZlcnRBcnJheUJ1ZmZlclRvQmFzZTY0VXJsKGlucHV0LnJlc3BvbnNlLmNsaWVudERhdGFKU09OKSxcbiAgICBhdHRlc3RhdGlvbk9iamVjdDogY29udmVydEFycmF5QnVmZmVyVG9CYXNlNjRVcmwoaW5wdXQucmVzcG9uc2UuYXR0ZXN0YXRpb25PYmplY3QpLFxuICAgIHRyYW5zcG9ydHM6IGlucHV0LnJlc3BvbnNlLmdldFRyYW5zcG9ydHMoKSxcbiAgICBwdWJsaWNLZXlBbGdvcml0aG06IGlucHV0LnJlc3BvbnNlLmdldFB1YmxpY0tleUFsZ29yaXRobSgpLFxuICAgIGF1dGhlbnRpY2F0b3JEYXRhOiBjb252ZXJ0QXJyYXlCdWZmZXJUb0Jhc2U2NFVybChpbnB1dC5yZXNwb25zZS5nZXRBdXRoZW50aWNhdG9yRGF0YSgpKVxuICB9O1xuICBjb25zdCBwdWJsaWNLZXkgPSBpbnB1dC5yZXNwb25zZS5nZXRQdWJsaWNLZXkoKTtcbiAgaWYgKHB1YmxpY0tleSkge1xuICAgIHJlc3BvbnNlLnB1YmxpY0tleSA9IGNvbnZlcnRBcnJheUJ1ZmZlclRvQmFzZTY0VXJsKHB1YmxpY0tleSk7XG4gIH1cbiAgY29uc3QgcmVzdWx0SnNvbiA9IHtcbiAgICB0eXBlOiBpbnB1dC50eXBlLFxuICAgIGlkOiBpbnB1dC5pZCxcbiAgICByYXdJZDogY29udmVydEFycmF5QnVmZmVyVG9CYXNlNjRVcmwoaW5wdXQucmF3SWQpLFxuICAgIGNsaWVudEV4dGVuc2lvblJlc3VsdHM6IGlucHV0LmdldENsaWVudEV4dGVuc2lvblJlc3VsdHMoKSxcbiAgICByZXNwb25zZVxuICB9O1xuICBpZiAoaW5wdXQuYXV0aGVudGljYXRvckF0dGFjaG1lbnQpIHtcbiAgICByZXN1bHRKc29uLmF1dGhlbnRpY2F0b3JBdHRhY2htZW50ID0gaW5wdXQuYXV0aGVudGljYXRvckF0dGFjaG1lbnQ7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdEpzb247XG59O1xuLyoqXG4gKiBEZXNlcmlhbGl6ZXMgUHVibGljIEtleSBDcmVkZW50aWFsIEdldCBPcHRpb25zIEpTT05cbiAqIEBwYXJhbSBpbnB1dCBQYXNza2V5R2V0T3B0aW9uc0pzb25cbiAqIEByZXR1cm5zIFB1YmxpY0tleUNyZWRlbnRpYWxSZXF1ZXN0T3B0aW9uc1xuICovXG5jb25zdCBkZXNlcmlhbGl6ZUpzb25Ub1BrY0dldE9wdGlvbnMgPSBpbnB1dCA9PiB7XG4gIGNvbnN0IGNoYWxsZW5nZUJ1ZmZlciA9IGNvbnZlcnRCYXNlNjRVcmxUb0FycmF5QnVmZmVyKGlucHV0LmNoYWxsZW5nZSk7XG4gIGNvbnN0IGFsbG93ZWRDcmVkZW50aWFsc1dpdGhCdWZmZXIgPSAoaW5wdXQuYWxsb3dDcmVkZW50aWFscyB8fCBbXSkubWFwKGFsbG93ZWRDcmVkID0+ICh7XG4gICAgLi4uYWxsb3dlZENyZWQsXG4gICAgaWQ6IGNvbnZlcnRCYXNlNjRVcmxUb0FycmF5QnVmZmVyKGFsbG93ZWRDcmVkLmlkKVxuICB9KSk7XG4gIHJldHVybiB7XG4gICAgLi4uaW5wdXQsXG4gICAgY2hhbGxlbmdlOiBjaGFsbGVuZ2VCdWZmZXIsXG4gICAgYWxsb3dDcmVkZW50aWFsczogYWxsb3dlZENyZWRlbnRpYWxzV2l0aEJ1ZmZlclxuICB9O1xufTtcbi8qKlxuICogU2VyaWFsaXplcyBhIFB1YmxpYyBLZXkgQ3JlZGVudGlhbCBXaXRoIEF0dGVzdGF0aW9uIHRvIEpTT05cbiAqIEBwYXJhbSBpbnB1dCBQYXNza2V5R2V0UmVzdWx0XG4gKiBAcmV0dXJucyBQYXNza2V5R2V0UmVzdWx0SnNvblxuICovXG5jb25zdCBzZXJpYWxpemVQa2NXaXRoQXNzZXJ0aW9uVG9Kc29uID0gaW5wdXQgPT4ge1xuICBjb25zdCByZXNwb25zZSA9IHtcbiAgICBjbGllbnREYXRhSlNPTjogY29udmVydEFycmF5QnVmZmVyVG9CYXNlNjRVcmwoaW5wdXQucmVzcG9uc2UuY2xpZW50RGF0YUpTT04pLFxuICAgIGF1dGhlbnRpY2F0b3JEYXRhOiBjb252ZXJ0QXJyYXlCdWZmZXJUb0Jhc2U2NFVybChpbnB1dC5yZXNwb25zZS5hdXRoZW50aWNhdG9yRGF0YSksXG4gICAgc2lnbmF0dXJlOiBjb252ZXJ0QXJyYXlCdWZmZXJUb0Jhc2U2NFVybChpbnB1dC5yZXNwb25zZS5zaWduYXR1cmUpXG4gIH07XG4gIGlmIChpbnB1dC5yZXNwb25zZS51c2VySGFuZGxlKSB7XG4gICAgcmVzcG9uc2UudXNlckhhbmRsZSA9IGNvbnZlcnRBcnJheUJ1ZmZlclRvQmFzZTY0VXJsKGlucHV0LnJlc3BvbnNlLnVzZXJIYW5kbGUpO1xuICB9XG4gIGNvbnN0IHJlc3VsdEpzb24gPSB7XG4gICAgaWQ6IGlucHV0LmlkLFxuICAgIHJhd0lkOiBjb252ZXJ0QXJyYXlCdWZmZXJUb0Jhc2U2NFVybChpbnB1dC5yYXdJZCksXG4gICAgdHlwZTogaW5wdXQudHlwZSxcbiAgICBjbGllbnRFeHRlbnNpb25SZXN1bHRzOiBpbnB1dC5nZXRDbGllbnRFeHRlbnNpb25SZXN1bHRzKCksXG4gICAgcmVzcG9uc2VcbiAgfTtcbiAgaWYgKGlucHV0LmF1dGhlbnRpY2F0b3JBdHRhY2htZW50KSB7XG4gICAgcmVzdWx0SnNvbi5hdXRoZW50aWNhdG9yQXR0YWNobWVudCA9IGlucHV0LmF1dGhlbnRpY2F0b3JBdHRhY2htZW50O1xuICB9XG4gIHJldHVybiByZXN1bHRKc29uO1xufTtcbmV4cG9ydCB7IGRlc2VyaWFsaXplSnNvblRvUGtjQ3JlYXRpb25PcHRpb25zLCBkZXNlcmlhbGl6ZUpzb25Ub1BrY0dldE9wdGlvbnMsIHNlcmlhbGl6ZVBrY1dpdGhBc3NlcnRpb25Ub0pzb24sIHNlcmlhbGl6ZVBrY1dpdGhBdHRlc3RhdGlvblRvSnNvbiB9O1xuIiwiaW1wb3J0IHsgYXNzZXJ0UGFzc2tleUVycm9yLCBQYXNza2V5RXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzLm1qcyc7XG5leHBvcnQgeyBhc3NlcnRWYWxpZENyZWRlbnRpYWxDcmVhdGlvbk9wdGlvbnMgfSBmcm9tICcuL3NoYXJlZC5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5mdW5jdGlvbiBhc3NlcnRDcmVkZW50aWFsSXNQa2NXaXRoQXV0aGVudGljYXRvckF0dGVzdGF0aW9uUmVzcG9uc2UoY3JlZGVudGlhbCkge1xuICBhc3NlcnRQYXNza2V5RXJyb3IoY3JlZGVudGlhbCAmJiBjcmVkZW50aWFsIGluc3RhbmNlb2YgUHVibGljS2V5Q3JlZGVudGlhbCAmJiBjcmVkZW50aWFsLnJlc3BvbnNlIGluc3RhbmNlb2YgQXV0aGVudGljYXRvckF0dGVzdGF0aW9uUmVzcG9uc2UsIFBhc3NrZXlFcnJvckNvZGUuUGFzc2tleVJlZ2lzdHJhdGlvbkZhaWxlZCk7XG59XG5mdW5jdGlvbiBhc3NlcnRDcmVkZW50aWFsSXNQa2NXaXRoQXV0aGVudGljYXRvckFzc2VydGlvblJlc3BvbnNlKGNyZWRlbnRpYWwpIHtcbiAgYXNzZXJ0UGFzc2tleUVycm9yKGNyZWRlbnRpYWwgJiYgY3JlZGVudGlhbCBpbnN0YW5jZW9mIFB1YmxpY0tleUNyZWRlbnRpYWwgJiYgY3JlZGVudGlhbC5yZXNwb25zZSBpbnN0YW5jZW9mIEF1dGhlbnRpY2F0b3JBc3NlcnRpb25SZXNwb25zZSwgUGFzc2tleUVycm9yQ29kZS5QYXNza2V5UmV0cmlldmFsRmFpbGVkKTtcbn1cbmV4cG9ydCB7IGFzc2VydENyZWRlbnRpYWxJc1BrY1dpdGhBdXRoZW50aWNhdG9yQXNzZXJ0aW9uUmVzcG9uc2UsIGFzc2VydENyZWRlbnRpYWxJc1BrY1dpdGhBdXRoZW50aWNhdG9yQXR0ZXN0YXRpb25SZXNwb25zZSB9O1xuIiwiaW1wb3J0IHsgYXNzZXJ0UGFzc2tleUVycm9yLCBQYXNza2V5RXJyb3JDb2RlLCBoYW5kbGVQYXNza2V5QXV0aGVudGljYXRpb25FcnJvciB9IGZyb20gJy4vZXJyb3JzLm1qcyc7XG5pbXBvcnQgeyBnZXRJc1Bhc3NrZXlTdXBwb3J0ZWQgfSBmcm9tICcuL2dldElzUGFzc2tleVN1cHBvcnRlZC5tanMnO1xuaW1wb3J0IHsgZGVzZXJpYWxpemVKc29uVG9Qa2NHZXRPcHRpb25zLCBzZXJpYWxpemVQa2NXaXRoQXNzZXJ0aW9uVG9Kc29uIH0gZnJvbSAnLi9zZXJkZS5tanMnO1xuaW1wb3J0IHsgYXNzZXJ0Q3JlZGVudGlhbElzUGtjV2l0aEF1dGhlbnRpY2F0b3JBc3NlcnRpb25SZXNwb25zZSB9IGZyb20gJy4vdHlwZXMvaW5kZXgubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuY29uc3QgZ2V0UGFzc2tleSA9IGFzeW5jIGlucHV0ID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBpc1Bhc3NrZXlTdXBwb3J0ZWQgPSBnZXRJc1Bhc3NrZXlTdXBwb3J0ZWQoKTtcbiAgICBhc3NlcnRQYXNza2V5RXJyb3IoaXNQYXNza2V5U3VwcG9ydGVkLCBQYXNza2V5RXJyb3JDb2RlLlBhc3NrZXlOb3RTdXBwb3J0ZWQpO1xuICAgIGNvbnN0IHBhc3NrZXlHZXRPcHRpb25zID0gZGVzZXJpYWxpemVKc29uVG9Qa2NHZXRPcHRpb25zKGlucHV0KTtcbiAgICBjb25zdCBjcmVkZW50aWFsID0gYXdhaXQgbmF2aWdhdG9yLmNyZWRlbnRpYWxzLmdldCh7XG4gICAgICBwdWJsaWNLZXk6IHBhc3NrZXlHZXRPcHRpb25zXG4gICAgfSk7XG4gICAgYXNzZXJ0Q3JlZGVudGlhbElzUGtjV2l0aEF1dGhlbnRpY2F0b3JBc3NlcnRpb25SZXNwb25zZShjcmVkZW50aWFsKTtcbiAgICByZXR1cm4gc2VyaWFsaXplUGtjV2l0aEFzc2VydGlvblRvSnNvbihjcmVkZW50aWFsKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdGhyb3cgaGFuZGxlUGFzc2tleUF1dGhlbnRpY2F0aW9uRXJyb3IoZXJyKTtcbiAgfVxufTtcbmV4cG9ydCB7IGdldFBhc3NrZXkgfTtcbiIsImltcG9ydCB7IGNvbXBvc2VTZXJ2aWNlQXBpIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMvY29tcG9zZXJzJztcbmltcG9ydCB7IGNvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlciB9IGZyb20gJy4vc2hhcmVkL2hhbmRsZXIvY29nbml0b1VzZXJQb29sVHJhbnNmZXJIYW5kbGVyLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVVc2VyUG9vbFNlcmlhbGl6ZXIgfSBmcm9tICcuL3NoYXJlZC9zZXJkZS9jcmVhdGVVc2VyUG9vbFNlcmlhbGl6ZXIubWpzJztcbmltcG9ydCB7IGNyZWF0ZVVzZXJQb29sRGVzZXJpYWxpemVyIH0gZnJvbSAnLi9zaGFyZWQvc2VyZGUvY3JlYXRlVXNlclBvb2xEZXNlcmlhbGl6ZXIubWpzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuaW1wb3J0IHsgREVGQVVMVF9TRVJWSUNFX0NMSUVOVF9BUElfQ09ORklHIH0gZnJvbSAnLi9jb25zdGFudHMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuY29uc3QgY3JlYXRlQ29uZmlybURldmljZUNsaWVudCA9IGNvbmZpZyA9PiBjb21wb3NlU2VydmljZUFwaShjb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIsIGNyZWF0ZVVzZXJQb29sU2VyaWFsaXplcignQ29uZmlybURldmljZScpLCBjcmVhdGVVc2VyUG9vbERlc2VyaWFsaXplcigpLCB7XG4gIC4uLkRFRkFVTFRfU0VSVklDRV9DTElFTlRfQVBJX0NPTkZJRyxcbiAgLi4uY29uZmlnXG59KTtcbmV4cG9ydCB7IGNyZWF0ZUNvbmZpcm1EZXZpY2VDbGllbnQgfTtcbiIsIi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IHRleHRFbmNvZGVyID0ge1xuICBjb252ZXJ0KGlucHV0KSB7XG4gICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShpbnB1dCk7XG4gIH1cbn07XG5leHBvcnQgeyB0ZXh0RW5jb2RlciB9O1xuIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbi8vIEB0cy1ub2NoZWNrIC0+IEJpZ0ludGVnZXIgaXMgYWxyZWFkeSBhIHZlbmRlZCB1dGlsaXR5XG4vLyBBIHNtYWxsIGltcGxlbWVudGF0aW9uIG9mIEJpZ0ludGVnZXIgYmFzZWQgb24gaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuL1xuLy9cbi8vIEFsbCBwdWJsaWMgbWV0aG9kcyBoYXZlIGJlZW4gcmVtb3ZlZCBleGNlcHQgdGhlIGZvbGxvd2luZzpcbi8vICAgbmV3IEJpZ0ludGVnZXIoYSwgYikgKG9ubHkgcmFkaXggMiwgNCwgOCwgMTYgYW5kIDMyIHN1cHBvcnRlZClcbi8vICAgdG9TdHJpbmcgKG9ubHkgcmFkaXggMiwgNCwgOCwgMTYgYW5kIDMyIHN1cHBvcnRlZClcbi8vICAgbmVnYXRlXG4vLyAgIGFic1xuLy8gICBjb21wYXJlVG9cbi8vICAgYml0TGVuZ3RoXG4vLyAgIG1vZFxuLy8gICBlcXVhbHNcbi8vICAgYWRkXG4vLyAgIHN1YnRyYWN0XG4vLyAgIG11bHRpcGx5XG4vLyAgIGRpdmlkZVxuLy8gICBtb2RQb3dcbi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMDMtMjAwNSAgVG9tIFd1XG4gKiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZ1xuICogYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4gKiBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbiAqIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbiAqIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0b1xuICogcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvXG4gKiB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmVcbiAqIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTLUlTXCIgQU5EIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXG4gKiBFWFBSRVNTLCBJTVBMSUVEIE9SIE9USEVSV0lTRSwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiwgQU5ZXG4gKiBXQVJSQU5UWSBPRiBNRVJDSEFOVEFCSUxJVFkgT1IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuXG4gKlxuICogSU4gTk8gRVZFTlQgU0hBTEwgVE9NIFdVIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIElOQ0lERU5UQUwsXG4gKiBJTkRJUkVDVCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT0YgQU5ZIEtJTkQsIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVJcbiAqIFJFU1VMVElORyBGUk9NIExPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgT1IgTk9UIEFEVklTRUQgT0ZcbiAqIFRIRSBQT1NTSUJJTElUWSBPRiBEQU1BR0UsIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgQVJJU0lORyBPVVRcbiAqIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SIFBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4gKlxuICogSW4gYWRkaXRpb24sIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uIGFwcGxpZXM6XG4gKlxuICogQWxsIHJlZGlzdHJpYnV0aW9ucyBtdXN0IHJldGFpbiBhbiBpbnRhY3QgY29weSBvZiB0aGlzIGNvcHlyaWdodCBub3RpY2VcbiAqIGFuZCBkaXNjbGFpbWVyLlxuICovXG4vLyAocHVibGljKSBDb25zdHJ1Y3RvclxuZnVuY3Rpb24gQmlnSW50ZWdlcihhLCBiKSB7XG4gIGlmIChhICE9IG51bGwpIHRoaXMuZnJvbVN0cmluZyhhLCBiKTtcbn1cbi8vIHJldHVybiBuZXcsIHVuc2V0IEJpZ0ludGVnZXJcbmZ1bmN0aW9uIG5iaSgpIHtcbiAgcmV0dXJuIG5ldyBCaWdJbnRlZ2VyKG51bGwsIG51bGwpO1xufVxuLy8gQml0cyBwZXIgZGlnaXRcbmxldCBkYml0cztcbi8vIEphdmFTY3JpcHQgZW5naW5lIGFuYWx5c2lzXG5jb25zdCBjYW5hcnkgPSAweGRlYWRiZWVmY2FmZTtcbmNvbnN0IGpfbG0gPSAoY2FuYXJ5ICYgMHhmZmZmZmYpID09PSAweGVmY2FmZTtcbi8vIGFtOiBDb21wdXRlIHdfaiArPSAoeCp0aGlzX2kpLCBwcm9wYWdhdGUgY2Fycmllcyxcbi8vIGMgaXMgaW5pdGlhbCBjYXJyeSwgcmV0dXJucyBmaW5hbCBjYXJyeS5cbi8vIGMgPCAzKmR2YWx1ZSwgeCA8IDIqZHZhbHVlLCB0aGlzX2kgPCBkdmFsdWVcbi8vIFdlIG5lZWQgdG8gc2VsZWN0IHRoZSBmYXN0ZXN0IG9uZSB0aGF0IHdvcmtzIGluIHRoaXMgZW52aXJvbm1lbnQuXG4vLyBhbTE6IHVzZSBhIHNpbmdsZSBtdWx0IGFuZCBkaXZpZGUgdG8gZ2V0IHRoZSBoaWdoIGJpdHMsXG4vLyBtYXggZGlnaXQgYml0cyBzaG91bGQgYmUgMjYgYmVjYXVzZVxuLy8gbWF4IGludGVybmFsIHZhbHVlID0gMipkdmFsdWVeMi0yKmR2YWx1ZSAoPCAyXjUzKVxuZnVuY3Rpb24gYW0xKGksIHgsIHcsIGosIGMsIG4pIHtcbiAgd2hpbGUgKC0tbiA+PSAwKSB7XG4gICAgY29uc3QgdiA9IHggKiB0aGlzW2krK10gKyB3W2pdICsgYztcbiAgICBjID0gTWF0aC5mbG9vcih2IC8gMHg0MDAwMDAwKTtcbiAgICB3W2orK10gPSB2ICYgMHgzZmZmZmZmO1xuICB9XG4gIHJldHVybiBjO1xufVxuLy8gYW0yIGF2b2lkcyBhIGJpZyBtdWx0LWFuZC1leHRyYWN0IGNvbXBsZXRlbHkuXG4vLyBNYXggZGlnaXQgYml0cyBzaG91bGQgYmUgPD0gMzAgYmVjYXVzZSB3ZSBkbyBiaXR3aXNlIG9wc1xuLy8gb24gdmFsdWVzIHVwIHRvIDIqaGR2YWx1ZV4yLWhkdmFsdWUtMSAoPCAyXjMxKVxuZnVuY3Rpb24gYW0yKGksIHgsIHcsIGosIGMsIG4pIHtcbiAgY29uc3QgeGwgPSB4ICYgMHg3ZmZmO1xuICBjb25zdCB4aCA9IHggPj4gMTU7XG4gIHdoaWxlICgtLW4gPj0gMCkge1xuICAgIGxldCBsID0gdGhpc1tpXSAmIDB4N2ZmZjtcbiAgICBjb25zdCBoID0gdGhpc1tpKytdID4+IDE1O1xuICAgIGNvbnN0IG0gPSB4aCAqIGwgKyBoICogeGw7XG4gICAgbCA9IHhsICogbCArICgobSAmIDB4N2ZmZikgPDwgMTUpICsgd1tqXSArIChjICYgMHgzZmZmZmZmZik7XG4gICAgYyA9IChsID4+PiAzMCkgKyAobSA+Pj4gMTUpICsgeGggKiBoICsgKGMgPj4+IDMwKTtcbiAgICB3W2orK10gPSBsICYgMHgzZmZmZmZmZjtcbiAgfVxuICByZXR1cm4gYztcbn1cbi8vIEFsdGVybmF0ZWx5LCBzZXQgbWF4IGRpZ2l0IGJpdHMgdG8gMjggc2luY2Ugc29tZVxuLy8gYnJvd3NlcnMgc2xvdyBkb3duIHdoZW4gZGVhbGluZyB3aXRoIDMyLWJpdCBudW1iZXJzLlxuZnVuY3Rpb24gYW0zKGksIHgsIHcsIGosIGMsIG4pIHtcbiAgY29uc3QgeGwgPSB4ICYgMHgzZmZmO1xuICBjb25zdCB4aCA9IHggPj4gMTQ7XG4gIHdoaWxlICgtLW4gPj0gMCkge1xuICAgIGxldCBsID0gdGhpc1tpXSAmIDB4M2ZmZjtcbiAgICBjb25zdCBoID0gdGhpc1tpKytdID4+IDE0O1xuICAgIGNvbnN0IG0gPSB4aCAqIGwgKyBoICogeGw7XG4gICAgbCA9IHhsICogbCArICgobSAmIDB4M2ZmZikgPDwgMTQpICsgd1tqXSArIGM7XG4gICAgYyA9IChsID4+IDI4KSArIChtID4+IDE0KSArIHhoICogaDtcbiAgICB3W2orK10gPSBsICYgMHhmZmZmZmZmO1xuICB9XG4gIHJldHVybiBjO1xufVxuY29uc3QgaW5Ccm93c2VyID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCc7XG5pZiAoaW5Ccm93c2VyICYmIGpfbG0gJiYgbmF2aWdhdG9yLmFwcE5hbWUgPT09ICdNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXInKSB7XG4gIEJpZ0ludGVnZXIucHJvdG90eXBlLmFtID0gYW0yO1xuICBkYml0cyA9IDMwO1xufSBlbHNlIGlmIChpbkJyb3dzZXIgJiYgal9sbSAmJiBuYXZpZ2F0b3IuYXBwTmFtZSAhPT0gJ05ldHNjYXBlJykge1xuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5hbSA9IGFtMTtcbiAgZGJpdHMgPSAyNjtcbn0gZWxzZSB7XG4gIC8vIE1vemlsbGEvTmV0c2NhcGUgc2VlbXMgdG8gcHJlZmVyIGFtM1xuICBCaWdJbnRlZ2VyLnByb3RvdHlwZS5hbSA9IGFtMztcbiAgZGJpdHMgPSAyODtcbn1cbkJpZ0ludGVnZXIucHJvdG90eXBlLkRCID0gZGJpdHM7XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5ETSA9ICgxIDw8IGRiaXRzKSAtIDE7XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5EViA9IDEgPDwgZGJpdHM7XG5jb25zdCBCSV9GUCA9IDUyO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuRlYgPSBNYXRoLnBvdygyLCBCSV9GUCk7XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5GMSA9IEJJX0ZQIC0gZGJpdHM7XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5GMiA9IDIgKiBkYml0cyAtIEJJX0ZQO1xuLy8gRGlnaXQgY29udmVyc2lvbnNcbmNvbnN0IEJJX1JNID0gJzAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eic7XG5jb25zdCBCSV9SQyA9IFtdO1xubGV0IHJyLCB2djtcbnJyID0gJzAnLmNoYXJDb2RlQXQoMCk7XG5mb3IgKHZ2ID0gMDsgdnYgPD0gOTsgKyt2dikgQklfUkNbcnIrK10gPSB2djtcbnJyID0gJ2EnLmNoYXJDb2RlQXQoMCk7XG5mb3IgKHZ2ID0gMTA7IHZ2IDwgMzY7ICsrdnYpIEJJX1JDW3JyKytdID0gdnY7XG5yciA9ICdBJy5jaGFyQ29kZUF0KDApO1xuZm9yICh2diA9IDEwOyB2diA8IDM2OyArK3Z2KSBCSV9SQ1tycisrXSA9IHZ2O1xuZnVuY3Rpb24gaW50MmNoYXIobikge1xuICByZXR1cm4gQklfUk0uY2hhckF0KG4pO1xufVxuZnVuY3Rpb24gaW50QXQocywgaSkge1xuICBjb25zdCBjID0gQklfUkNbcy5jaGFyQ29kZUF0KGkpXTtcbiAgcmV0dXJuIGMgPT0gbnVsbCA/IC0xIDogYztcbn1cbi8vIChwcm90ZWN0ZWQpIGNvcHkgdGhpcyB0byByXG5mdW5jdGlvbiBibnBDb3B5VG8ocikge1xuICBmb3IgKGxldCBpID0gdGhpcy50IC0gMTsgaSA+PSAwOyAtLWkpIHJbaV0gPSB0aGlzW2ldO1xuICByLnQgPSB0aGlzLnQ7XG4gIHIucyA9IHRoaXMucztcbn1cbi8vIChwcm90ZWN0ZWQpIHNldCBmcm9tIGludGVnZXIgdmFsdWUgeCwgLURWIDw9IHggPCBEVlxuZnVuY3Rpb24gYm5wRnJvbUludCh4KSB7XG4gIHRoaXMudCA9IDE7XG4gIHRoaXMucyA9IHggPCAwID8gLTEgOiAwO1xuICBpZiAoeCA+IDApIHRoaXNbMF0gPSB4O2Vsc2UgaWYgKHggPCAtMSkgdGhpc1swXSA9IHggKyB0aGlzLkRWO2Vsc2UgdGhpcy50ID0gMDtcbn1cbi8vIHJldHVybiBiaWdpbnQgaW5pdGlhbGl6ZWQgdG8gdmFsdWVcbmZ1bmN0aW9uIG5idihpKSB7XG4gIGNvbnN0IHIgPSBuYmkoKTtcbiAgci5mcm9tSW50KGkpO1xuICByZXR1cm4gcjtcbn1cbi8vIChwcm90ZWN0ZWQpIHNldCBmcm9tIHN0cmluZyBhbmQgcmFkaXhcbmZ1bmN0aW9uIGJucEZyb21TdHJpbmcocywgYikge1xuICBsZXQgaztcbiAgaWYgKGIgPT09IDE2KSBrID0gNDtlbHNlIGlmIChiID09PSA4KSBrID0gMztlbHNlIGlmIChiID09PSAyKSBrID0gMTtlbHNlIGlmIChiID09PSAzMikgayA9IDU7ZWxzZSBpZiAoYiA9PT0gNCkgayA9IDI7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgcmFkaXggMiwgNCwgOCwgMTYsIDMyIGFyZSBzdXBwb3J0ZWQnKTtcbiAgdGhpcy50ID0gMDtcbiAgdGhpcy5zID0gMDtcbiAgbGV0IGkgPSBzLmxlbmd0aDtcbiAgbGV0IG1pID0gZmFsc2U7XG4gIGxldCBzaCA9IDA7XG4gIHdoaWxlICgtLWkgPj0gMCkge1xuICAgIGNvbnN0IHggPSBpbnRBdChzLCBpKTtcbiAgICBpZiAoeCA8IDApIHtcbiAgICAgIGlmIChzLmNoYXJBdChpKSA9PT0gJy0nKSBtaSA9IHRydWU7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgbWkgPSBmYWxzZTtcbiAgICBpZiAoc2ggPT09IDApIHRoaXNbdGhpcy50KytdID0geDtlbHNlIGlmIChzaCArIGsgPiB0aGlzLkRCKSB7XG4gICAgICB0aGlzW3RoaXMudCAtIDFdIHw9ICh4ICYgKDEgPDwgdGhpcy5EQiAtIHNoKSAtIDEpIDw8IHNoO1xuICAgICAgdGhpc1t0aGlzLnQrK10gPSB4ID4+IHRoaXMuREIgLSBzaDtcbiAgICB9IGVsc2UgdGhpc1t0aGlzLnQgLSAxXSB8PSB4IDw8IHNoO1xuICAgIHNoICs9IGs7XG4gICAgaWYgKHNoID49IHRoaXMuREIpIHNoIC09IHRoaXMuREI7XG4gIH1cbiAgdGhpcy5jbGFtcCgpO1xuICBpZiAobWkpIEJpZ0ludGVnZXIuWkVSTy5zdWJUbyh0aGlzLCB0aGlzKTtcbn1cbi8vIChwcm90ZWN0ZWQpIGNsYW1wIG9mZiBleGNlc3MgaGlnaCB3b3Jkc1xuZnVuY3Rpb24gYm5wQ2xhbXAoKSB7XG4gIGNvbnN0IGMgPSB0aGlzLnMgJiB0aGlzLkRNO1xuICB3aGlsZSAodGhpcy50ID4gMCAmJiB0aGlzW3RoaXMudCAtIDFdID09IGMpIC0tdGhpcy50O1xufVxuLy8gKHB1YmxpYykgcmV0dXJuIHN0cmluZyByZXByZXNlbnRhdGlvbiBpbiBnaXZlbiByYWRpeFxuZnVuY3Rpb24gYm5Ub1N0cmluZyhiKSB7XG4gIGlmICh0aGlzLnMgPCAwKSByZXR1cm4gJy0nICsgdGhpcy5uZWdhdGUoKS50b1N0cmluZyhiKTtcbiAgbGV0IGs7XG4gIGlmIChiID09IDE2KSBrID0gNDtlbHNlIGlmIChiID09PSA4KSBrID0gMztlbHNlIGlmIChiID09PSAyKSBrID0gMTtlbHNlIGlmIChiID09PSAzMikgayA9IDU7ZWxzZSBpZiAoYiA9PT0gNCkgayA9IDI7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgcmFkaXggMiwgNCwgOCwgMTYsIDMyIGFyZSBzdXBwb3J0ZWQnKTtcbiAgY29uc3Qga20gPSAoMSA8PCBrKSAtIDE7XG4gIGxldCBkO1xuICBsZXQgbSA9IGZhbHNlO1xuICBsZXQgciA9ICcnO1xuICBsZXQgaSA9IHRoaXMudDtcbiAgbGV0IHAgPSB0aGlzLkRCIC0gaSAqIHRoaXMuREIgJSBrO1xuICBpZiAoaS0tID4gMCkge1xuICAgIGlmIChwIDwgdGhpcy5EQiAmJiAoZCA9IHRoaXNbaV0gPj4gcCkgPiAwKSB7XG4gICAgICBtID0gdHJ1ZTtcbiAgICAgIHIgPSBpbnQyY2hhcihkKTtcbiAgICB9XG4gICAgd2hpbGUgKGkgPj0gMCkge1xuICAgICAgaWYgKHAgPCBrKSB7XG4gICAgICAgIGQgPSAodGhpc1tpXSAmICgxIDw8IHApIC0gMSkgPDwgayAtIHA7XG4gICAgICAgIGQgfD0gdGhpc1stLWldID4+IChwICs9IHRoaXMuREIgLSBrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGQgPSB0aGlzW2ldID4+IChwIC09IGspICYga207XG4gICAgICAgIGlmIChwIDw9IDApIHtcbiAgICAgICAgICBwICs9IHRoaXMuREI7XG4gICAgICAgICAgLS1pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZCA+IDApIG0gPSB0cnVlO1xuICAgICAgaWYgKG0pIHIgKz0gaW50MmNoYXIoZCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBtID8gciA6ICcwJztcbn1cbi8vIChwdWJsaWMpIC10aGlzXG5mdW5jdGlvbiBibk5lZ2F0ZSgpIHtcbiAgY29uc3QgciA9IG5iaSgpO1xuICBCaWdJbnRlZ2VyLlpFUk8uc3ViVG8odGhpcywgcik7XG4gIHJldHVybiByO1xufVxuLy8gKHB1YmxpYykgfHRoaXN8XG5mdW5jdGlvbiBibkFicygpIHtcbiAgcmV0dXJuIHRoaXMucyA8IDAgPyB0aGlzLm5lZ2F0ZSgpIDogdGhpcztcbn1cbi8vIChwdWJsaWMpIHJldHVybiArIGlmIHRoaXMgPiBhLCAtIGlmIHRoaXMgPCBhLCAwIGlmIGVxdWFsXG5mdW5jdGlvbiBibkNvbXBhcmVUbyhhKSB7XG4gIGxldCByID0gdGhpcy5zIC0gYS5zO1xuICBpZiAociAhPSAwKSByZXR1cm4gcjtcbiAgbGV0IGkgPSB0aGlzLnQ7XG4gIHIgPSBpIC0gYS50O1xuICBpZiAociAhPSAwKSByZXR1cm4gdGhpcy5zIDwgMCA/IC1yIDogcjtcbiAgd2hpbGUgKC0taSA+PSAwKSBpZiAoKHIgPSB0aGlzW2ldIC0gYVtpXSkgIT0gMCkgcmV0dXJuIHI7XG4gIHJldHVybiAwO1xufVxuLy8gcmV0dXJucyBiaXQgbGVuZ3RoIG9mIHRoZSBpbnRlZ2VyIHhcbmZ1bmN0aW9uIG5iaXRzKHgpIHtcbiAgbGV0IHIgPSAxO1xuICBsZXQgdDtcbiAgaWYgKCh0ID0geCA+Pj4gMTYpICE9PSAwKSB7XG4gICAgeCA9IHQ7XG4gICAgciArPSAxNjtcbiAgfVxuICBpZiAoKHQgPSB4ID4+IDgpICE9PSAwKSB7XG4gICAgeCA9IHQ7XG4gICAgciArPSA4O1xuICB9XG4gIGlmICgodCA9IHggPj4gNCkgIT09IDApIHtcbiAgICB4ID0gdDtcbiAgICByICs9IDQ7XG4gIH1cbiAgaWYgKCh0ID0geCA+PiAyKSAhPT0gMCkge1xuICAgIHggPSB0O1xuICAgIHIgKz0gMjtcbiAgfVxuICBpZiAoKHQgPSB4ID4+IDEpICE9PSAwKSB7XG4gICAgeCA9IHQ7XG4gICAgciArPSAxO1xuICB9XG4gIHJldHVybiByO1xufVxuLy8gKHB1YmxpYykgcmV0dXJuIHRoZSBudW1iZXIgb2YgYml0cyBpbiBcInRoaXNcIlxuZnVuY3Rpb24gYm5CaXRMZW5ndGgoKSB7XG4gIGlmICh0aGlzLnQgPD0gMCkgcmV0dXJuIDA7XG4gIHJldHVybiB0aGlzLkRCICogKHRoaXMudCAtIDEpICsgbmJpdHModGhpc1t0aGlzLnQgLSAxXSBeIHRoaXMucyAmIHRoaXMuRE0pO1xufVxuLy8gKHByb3RlY3RlZCkgciA9IHRoaXMgPDwgbipEQlxuZnVuY3Rpb24gYm5wRExTaGlmdFRvKG4sIHIpIHtcbiAgbGV0IGk7XG4gIGZvciAoaSA9IHRoaXMudCAtIDE7IGkgPj0gMDsgLS1pKSByW2kgKyBuXSA9IHRoaXNbaV07XG4gIGZvciAoaSA9IG4gLSAxOyBpID49IDA7IC0taSkgcltpXSA9IDA7XG4gIHIudCA9IHRoaXMudCArIG47XG4gIHIucyA9IHRoaXMucztcbn1cbi8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzID4+IG4qREJcbmZ1bmN0aW9uIGJucERSU2hpZnRUbyhuLCByKSB7XG4gIGZvciAobGV0IGkgPSBuOyBpIDwgdGhpcy50OyArK2kpIHJbaSAtIG5dID0gdGhpc1tpXTtcbiAgci50ID0gTWF0aC5tYXgodGhpcy50IC0gbiwgMCk7XG4gIHIucyA9IHRoaXMucztcbn1cbi8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzIDw8IG5cbmZ1bmN0aW9uIGJucExTaGlmdFRvKG4sIHIpIHtcbiAgY29uc3QgYnMgPSBuICUgdGhpcy5EQjtcbiAgY29uc3QgY2JzID0gdGhpcy5EQiAtIGJzO1xuICBjb25zdCBibSA9ICgxIDw8IGNicykgLSAxO1xuICBjb25zdCBkcyA9IE1hdGguZmxvb3IobiAvIHRoaXMuREIpO1xuICBsZXQgYyA9IHRoaXMucyA8PCBicyAmIHRoaXMuRE07XG4gIGxldCBpO1xuICBmb3IgKGkgPSB0aGlzLnQgLSAxOyBpID49IDA7IC0taSkge1xuICAgIHJbaSArIGRzICsgMV0gPSB0aGlzW2ldID4+IGNicyB8IGM7XG4gICAgYyA9ICh0aGlzW2ldICYgYm0pIDw8IGJzO1xuICB9XG4gIGZvciAoaSA9IGRzIC0gMTsgaSA+PSAwOyAtLWkpIHJbaV0gPSAwO1xuICByW2RzXSA9IGM7XG4gIHIudCA9IHRoaXMudCArIGRzICsgMTtcbiAgci5zID0gdGhpcy5zO1xuICByLmNsYW1wKCk7XG59XG4vLyAocHJvdGVjdGVkKSByID0gdGhpcyA+PiBuXG5mdW5jdGlvbiBibnBSU2hpZnRUbyhuLCByKSB7XG4gIHIucyA9IHRoaXMucztcbiAgY29uc3QgZHMgPSBNYXRoLmZsb29yKG4gLyB0aGlzLkRCKTtcbiAgaWYgKGRzID49IHRoaXMudCkge1xuICAgIHIudCA9IDA7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGJzID0gbiAlIHRoaXMuREI7XG4gIGNvbnN0IGNicyA9IHRoaXMuREIgLSBicztcbiAgY29uc3QgYm0gPSAoMSA8PCBicykgLSAxO1xuICByWzBdID0gdGhpc1tkc10gPj4gYnM7XG4gIGZvciAobGV0IGkgPSBkcyArIDE7IGkgPCB0aGlzLnQ7ICsraSkge1xuICAgIHJbaSAtIGRzIC0gMV0gfD0gKHRoaXNbaV0gJiBibSkgPDwgY2JzO1xuICAgIHJbaSAtIGRzXSA9IHRoaXNbaV0gPj4gYnM7XG4gIH1cbiAgaWYgKGJzID4gMCkgclt0aGlzLnQgLSBkcyAtIDFdIHw9ICh0aGlzLnMgJiBibSkgPDwgY2JzO1xuICByLnQgPSB0aGlzLnQgLSBkcztcbiAgci5jbGFtcCgpO1xufVxuLy8gKHByb3RlY3RlZCkgciA9IHRoaXMgLSBhXG5mdW5jdGlvbiBibnBTdWJUbyhhLCByKSB7XG4gIGxldCBpID0gMDtcbiAgbGV0IGMgPSAwO1xuICBjb25zdCBtID0gTWF0aC5taW4oYS50LCB0aGlzLnQpO1xuICB3aGlsZSAoaSA8IG0pIHtcbiAgICBjICs9IHRoaXNbaV0gLSBhW2ldO1xuICAgIHJbaSsrXSA9IGMgJiB0aGlzLkRNO1xuICAgIGMgPj49IHRoaXMuREI7XG4gIH1cbiAgaWYgKGEudCA8IHRoaXMudCkge1xuICAgIGMgLT0gYS5zO1xuICAgIHdoaWxlIChpIDwgdGhpcy50KSB7XG4gICAgICBjICs9IHRoaXNbaV07XG4gICAgICByW2krK10gPSBjICYgdGhpcy5ETTtcbiAgICAgIGMgPj49IHRoaXMuREI7XG4gICAgfVxuICAgIGMgKz0gdGhpcy5zO1xuICB9IGVsc2Uge1xuICAgIGMgKz0gdGhpcy5zO1xuICAgIHdoaWxlIChpIDwgYS50KSB7XG4gICAgICBjIC09IGFbaV07XG4gICAgICByW2krK10gPSBjICYgdGhpcy5ETTtcbiAgICAgIGMgPj49IHRoaXMuREI7XG4gICAgfVxuICAgIGMgLT0gYS5zO1xuICB9XG4gIHIucyA9IGMgPCAwID8gLTEgOiAwO1xuICBpZiAoYyA8IC0xKSByW2krK10gPSB0aGlzLkRWICsgYztlbHNlIGlmIChjID4gMCkgcltpKytdID0gYztcbiAgci50ID0gaTtcbiAgci5jbGFtcCgpO1xufVxuLy8gKHByb3RlY3RlZCkgciA9IHRoaXMgKiBhLCByICE9IHRoaXMsYSAoSEFDIDE0LjEyKVxuLy8gXCJ0aGlzXCIgc2hvdWxkIGJlIHRoZSBsYXJnZXIgb25lIGlmIGFwcHJvcHJpYXRlLlxuZnVuY3Rpb24gYm5wTXVsdGlwbHlUbyhhLCByKSB7XG4gIGNvbnN0IHggPSB0aGlzLmFicygpO1xuICBjb25zdCB5ID0gYS5hYnMoKTtcbiAgbGV0IGkgPSB4LnQ7XG4gIHIudCA9IGkgKyB5LnQ7XG4gIHdoaWxlICgtLWkgPj0gMCkgcltpXSA9IDA7XG4gIGZvciAoaSA9IDA7IGkgPCB5LnQ7ICsraSkgcltpICsgeC50XSA9IHguYW0oMCwgeVtpXSwgciwgaSwgMCwgeC50KTtcbiAgci5zID0gMDtcbiAgci5jbGFtcCgpO1xuICBpZiAodGhpcy5zICE9PSBhLnMpIEJpZ0ludGVnZXIuWkVSTy5zdWJUbyhyLCByKTtcbn1cbi8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzXjIsIHIgIT0gdGhpcyAoSEFDIDE0LjE2KVxuZnVuY3Rpb24gYm5wU3F1YXJlVG8ocikge1xuICBjb25zdCB4ID0gdGhpcy5hYnMoKTtcbiAgbGV0IGkgPSByLnQgPSAyICogeC50O1xuICB3aGlsZSAoLS1pID49IDApIHJbaV0gPSAwO1xuICBmb3IgKGkgPSAwOyBpIDwgeC50IC0gMTsgKytpKSB7XG4gICAgY29uc3QgYyA9IHguYW0oaSwgeFtpXSwgciwgMiAqIGksIDAsIDEpO1xuICAgIGlmICgocltpICsgeC50XSArPSB4LmFtKGkgKyAxLCAyICogeFtpXSwgciwgMiAqIGkgKyAxLCBjLCB4LnQgLSBpIC0gMSkpID49IHguRFYpIHtcbiAgICAgIHJbaSArIHgudF0gLT0geC5EVjtcbiAgICAgIHJbaSArIHgudCArIDFdID0gMTtcbiAgICB9XG4gIH1cbiAgaWYgKHIudCA+IDApIHJbci50IC0gMV0gKz0geC5hbShpLCB4W2ldLCByLCAyICogaSwgMCwgMSk7XG4gIHIucyA9IDA7XG4gIHIuY2xhbXAoKTtcbn1cbi8vIChwcm90ZWN0ZWQpIGRpdmlkZSB0aGlzIGJ5IG0sIHF1b3RpZW50IGFuZCByZW1haW5kZXIgdG8gcSwgciAoSEFDIDE0LjIwKVxuLy8gciAhPSBxLCB0aGlzICE9IG0uICBxIG9yIHIgbWF5IGJlIG51bGwuXG5mdW5jdGlvbiBibnBEaXZSZW1UbyhtLCBxLCByKSB7XG4gIGNvbnN0IHBtID0gbS5hYnMoKTtcbiAgaWYgKHBtLnQgPD0gMCkgcmV0dXJuO1xuICBjb25zdCBwdCA9IHRoaXMuYWJzKCk7XG4gIGlmIChwdC50IDwgcG0udCkge1xuICAgIGlmIChxICE9IG51bGwpIHEuZnJvbUludCgwKTtcbiAgICBpZiAociAhPSBudWxsKSB0aGlzLmNvcHlUbyhyKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHIgPT09IG51bGwpIHIgPSBuYmkoKTtcbiAgY29uc3QgeSA9IG5iaSgpO1xuICBjb25zdCB0cyA9IHRoaXMucztcbiAgY29uc3QgbXMgPSBtLnM7XG4gIGNvbnN0IG5zaCA9IHRoaXMuREIgLSBuYml0cyhwbVtwbS50IC0gMV0pO1xuICAvLyBub3JtYWxpemUgbW9kdWx1c1xuICBpZiAobnNoID4gMCkge1xuICAgIHBtLmxTaGlmdFRvKG5zaCwgeSk7XG4gICAgcHQubFNoaWZ0VG8obnNoLCByKTtcbiAgfSBlbHNlIHtcbiAgICBwbS5jb3B5VG8oeSk7XG4gICAgcHQuY29weVRvKHIpO1xuICB9XG4gIGNvbnN0IHlzID0geS50O1xuICBjb25zdCB5MCA9IHlbeXMgLSAxXTtcbiAgaWYgKHkwID09PSAwKSByZXR1cm47XG4gIGNvbnN0IHl0ID0geTAgKiAoMSA8PCB0aGlzLkYxKSArICh5cyA+IDEgPyB5W3lzIC0gMl0gPj4gdGhpcy5GMiA6IDApO1xuICBjb25zdCBkMSA9IHRoaXMuRlYgLyB5dDtcbiAgY29uc3QgZDIgPSAoMSA8PCB0aGlzLkYxKSAvIHl0O1xuICBjb25zdCBlID0gMSA8PCB0aGlzLkYyO1xuICBsZXQgaSA9IHIudDtcbiAgbGV0IGogPSBpIC0geXM7XG4gIGNvbnN0IHQgPSBxID09PSBudWxsID8gbmJpKCkgOiBxO1xuICB5LmRsU2hpZnRUbyhqLCB0KTtcbiAgaWYgKHIuY29tcGFyZVRvKHQpID49IDApIHtcbiAgICByW3IudCsrXSA9IDE7XG4gICAgci5zdWJUbyh0LCByKTtcbiAgfVxuICBCaWdJbnRlZ2VyLk9ORS5kbFNoaWZ0VG8oeXMsIHQpO1xuICB0LnN1YlRvKHksIHkpO1xuICAvLyBcIm5lZ2F0aXZlXCIgeSBzbyB3ZSBjYW4gcmVwbGFjZSBzdWIgd2l0aCBhbSBsYXRlclxuICB3aGlsZSAoeS50IDwgeXMpIHlbeS50KytdID0gMDtcbiAgd2hpbGUgKC0taiA+PSAwKSB7XG4gICAgLy8gRXN0aW1hdGUgcXVvdGllbnQgZGlnaXRcbiAgICBsZXQgcWQgPSByWy0taV0gPT09IHkwID8gdGhpcy5ETSA6IE1hdGguZmxvb3IocltpXSAqIGQxICsgKHJbaSAtIDFdICsgZSkgKiBkMik7XG4gICAgaWYgKChyW2ldICs9IHkuYW0oMCwgcWQsIHIsIGosIDAsIHlzKSkgPCBxZCkge1xuICAgICAgLy8gVHJ5IGl0IG91dFxuICAgICAgeS5kbFNoaWZ0VG8oaiwgdCk7XG4gICAgICByLnN1YlRvKHQsIHIpO1xuICAgICAgd2hpbGUgKHJbaV0gPCAtLXFkKSByLnN1YlRvKHQsIHIpO1xuICAgIH1cbiAgfVxuICBpZiAocSAhPT0gbnVsbCkge1xuICAgIHIuZHJTaGlmdFRvKHlzLCBxKTtcbiAgICBpZiAodHMgIT09IG1zKSBCaWdJbnRlZ2VyLlpFUk8uc3ViVG8ocSwgcSk7XG4gIH1cbiAgci50ID0geXM7XG4gIHIuY2xhbXAoKTtcbiAgaWYgKG5zaCA+IDApIHIuclNoaWZ0VG8obnNoLCByKTtcbiAgLy8gRGVub3JtYWxpemUgcmVtYWluZGVyXG4gIGlmICh0cyA8IDApIEJpZ0ludGVnZXIuWkVSTy5zdWJUbyhyLCByKTtcbn1cbi8vIChwdWJsaWMpIHRoaXMgbW9kIGFcbmZ1bmN0aW9uIGJuTW9kKGEpIHtcbiAgY29uc3QgciA9IG5iaSgpO1xuICB0aGlzLmFicygpLmRpdlJlbVRvKGEsIG51bGwsIHIpO1xuICBpZiAodGhpcy5zIDwgMCAmJiByLmNvbXBhcmVUbyhCaWdJbnRlZ2VyLlpFUk8pID4gMCkgYS5zdWJUbyhyLCByKTtcbiAgcmV0dXJuIHI7XG59XG4vLyAocHJvdGVjdGVkKSByZXR1cm4gXCItMS90aGlzICUgMl5EQlwiOyB1c2VmdWwgZm9yIE1vbnQuIHJlZHVjdGlvblxuLy8ganVzdGlmaWNhdGlvbjpcbi8vICAgICAgICAgeHkgPT0gMSAobW9kIG0pXG4vLyAgICAgICAgIHh5ID0gIDEra21cbi8vICAgeHkoMi14eSkgPSAoMStrbSkoMS1rbSlcbi8vIHhbeSgyLXh5KV0gPSAxLWteMm1eMlxuLy8geFt5KDIteHkpXSA9PSAxIChtb2QgbV4yKVxuLy8gaWYgeSBpcyAxL3ggbW9kIG0sIHRoZW4geSgyLXh5KSBpcyAxL3ggbW9kIG1eMlxuLy8gc2hvdWxkIHJlZHVjZSB4IGFuZCB5KDIteHkpIGJ5IG1eMiBhdCBlYWNoIHN0ZXAgdG8ga2VlcCBzaXplIGJvdW5kZWQuXG4vLyBKUyBtdWx0aXBseSBcIm92ZXJmbG93c1wiIGRpZmZlcmVudGx5IGZyb20gQy9DKyssIHNvIGNhcmUgaXMgbmVlZGVkIGhlcmUuXG5mdW5jdGlvbiBibnBJbnZEaWdpdCgpIHtcbiAgaWYgKHRoaXMudCA8IDEpIHJldHVybiAwO1xuICBjb25zdCB4ID0gdGhpc1swXTtcbiAgaWYgKCh4ICYgMSkgPT09IDApIHJldHVybiAwO1xuICBsZXQgeSA9IHggJiAzO1xuICAvLyB5ID09IDEveCBtb2QgMl4yXG4gIHkgPSB5ICogKDIgLSAoeCAmIDB4ZikgKiB5KSAmIDB4ZjtcbiAgLy8geSA9PSAxL3ggbW9kIDJeNFxuICB5ID0geSAqICgyIC0gKHggJiAweGZmKSAqIHkpICYgMHhmZjtcbiAgLy8geSA9PSAxL3ggbW9kIDJeOFxuICB5ID0geSAqICgyIC0gKCh4ICYgMHhmZmZmKSAqIHkgJiAweGZmZmYpKSAmIDB4ZmZmZjtcbiAgLy8geSA9PSAxL3ggbW9kIDJeMTZcbiAgLy8gbGFzdCBzdGVwIC0gY2FsY3VsYXRlIGludmVyc2UgbW9kIERWIGRpcmVjdGx5O1xuICAvLyBhc3N1bWVzIDE2IDwgREIgPD0gMzIgYW5kIGFzc3VtZXMgYWJpbGl0eSB0byBoYW5kbGUgNDgtYml0IGludHNcbiAgeSA9IHkgKiAoMiAtIHggKiB5ICUgdGhpcy5EVikgJSB0aGlzLkRWO1xuICAvLyB5ID09IDEveCBtb2QgMl5kYml0c1xuICAvLyB3ZSByZWFsbHkgd2FudCB0aGUgbmVnYXRpdmUgaW52ZXJzZSwgYW5kIC1EViA8IHkgPCBEVlxuICByZXR1cm4geSA+IDAgPyB0aGlzLkRWIC0geSA6IC15O1xufVxuZnVuY3Rpb24gYm5FcXVhbHMoYSkge1xuICByZXR1cm4gdGhpcy5jb21wYXJlVG8oYSkgPT09IDA7XG59XG4vLyAocHJvdGVjdGVkKSByID0gdGhpcyArIGFcbmZ1bmN0aW9uIGJucEFkZFRvKGEsIHIpIHtcbiAgbGV0IGkgPSAwO1xuICBsZXQgYyA9IDA7XG4gIGNvbnN0IG0gPSBNYXRoLm1pbihhLnQsIHRoaXMudCk7XG4gIHdoaWxlIChpIDwgbSkge1xuICAgIGMgKz0gdGhpc1tpXSArIGFbaV07XG4gICAgcltpKytdID0gYyAmIHRoaXMuRE07XG4gICAgYyA+Pj0gdGhpcy5EQjtcbiAgfVxuICBpZiAoYS50IDwgdGhpcy50KSB7XG4gICAgYyArPSBhLnM7XG4gICAgd2hpbGUgKGkgPCB0aGlzLnQpIHtcbiAgICAgIGMgKz0gdGhpc1tpXTtcbiAgICAgIHJbaSsrXSA9IGMgJiB0aGlzLkRNO1xuICAgICAgYyA+Pj0gdGhpcy5EQjtcbiAgICB9XG4gICAgYyArPSB0aGlzLnM7XG4gIH0gZWxzZSB7XG4gICAgYyArPSB0aGlzLnM7XG4gICAgd2hpbGUgKGkgPCBhLnQpIHtcbiAgICAgIGMgKz0gYVtpXTtcbiAgICAgIHJbaSsrXSA9IGMgJiB0aGlzLkRNO1xuICAgICAgYyA+Pj0gdGhpcy5EQjtcbiAgICB9XG4gICAgYyArPSBhLnM7XG4gIH1cbiAgci5zID0gYyA8IDAgPyAtMSA6IDA7XG4gIGlmIChjID4gMCkgcltpKytdID0gYztlbHNlIGlmIChjIDwgLTEpIHJbaSsrXSA9IHRoaXMuRFYgKyBjO1xuICByLnQgPSBpO1xuICByLmNsYW1wKCk7XG59XG4vLyAocHVibGljKSB0aGlzICsgYVxuZnVuY3Rpb24gYm5BZGQoYSkge1xuICBjb25zdCByID0gbmJpKCk7XG4gIHRoaXMuYWRkVG8oYSwgcik7XG4gIHJldHVybiByO1xufVxuLy8gKHB1YmxpYykgdGhpcyAtIGFcbmZ1bmN0aW9uIGJuU3VidHJhY3QoYSkge1xuICBjb25zdCByID0gbmJpKCk7XG4gIHRoaXMuc3ViVG8oYSwgcik7XG4gIHJldHVybiByO1xufVxuLy8gKHB1YmxpYykgdGhpcyAqIGFcbmZ1bmN0aW9uIGJuTXVsdGlwbHkoYSkge1xuICBjb25zdCByID0gbmJpKCk7XG4gIHRoaXMubXVsdGlwbHlUbyhhLCByKTtcbiAgcmV0dXJuIHI7XG59XG4vLyAocHVibGljKSB0aGlzIC8gYVxuZnVuY3Rpb24gYm5EaXZpZGUoYSkge1xuICBjb25zdCByID0gbmJpKCk7XG4gIHRoaXMuZGl2UmVtVG8oYSwgciwgbnVsbCk7XG4gIHJldHVybiByO1xufVxuLy8gTW9udGdvbWVyeSByZWR1Y3Rpb25cbmZ1bmN0aW9uIE1vbnRnb21lcnkobSkge1xuICB0aGlzLm0gPSBtO1xuICB0aGlzLm1wID0gbS5pbnZEaWdpdCgpO1xuICB0aGlzLm1wbCA9IHRoaXMubXAgJiAweDdmZmY7XG4gIHRoaXMubXBoID0gdGhpcy5tcCA+PiAxNTtcbiAgdGhpcy51bSA9ICgxIDw8IG0uREIgLSAxNSkgLSAxO1xuICB0aGlzLm10MiA9IDIgKiBtLnQ7XG59XG4vLyB4UiBtb2QgbVxuZnVuY3Rpb24gbW9udENvbnZlcnQoeCkge1xuICBjb25zdCByID0gbmJpKCk7XG4gIHguYWJzKCkuZGxTaGlmdFRvKHRoaXMubS50LCByKTtcbiAgci5kaXZSZW1Ubyh0aGlzLm0sIG51bGwsIHIpO1xuICBpZiAoeC5zIDwgMCAmJiByLmNvbXBhcmVUbyhCaWdJbnRlZ2VyLlpFUk8pID4gMCkgdGhpcy5tLnN1YlRvKHIsIHIpO1xuICByZXR1cm4gcjtcbn1cbi8vIHgvUiBtb2QgbVxuZnVuY3Rpb24gbW9udFJldmVydCh4KSB7XG4gIGNvbnN0IHIgPSBuYmkoKTtcbiAgeC5jb3B5VG8ocik7XG4gIHRoaXMucmVkdWNlKHIpO1xuICByZXR1cm4gcjtcbn1cbi8vIHggPSB4L1IgbW9kIG0gKEhBQyAxNC4zMilcbmZ1bmN0aW9uIG1vbnRSZWR1Y2UoeCkge1xuICB3aGlsZSAoeC50IDw9IHRoaXMubXQyKVxuICAvLyBwYWQgeCBzbyBhbSBoYXMgZW5vdWdoIHJvb20gbGF0ZXJcbiAgeFt4LnQrK10gPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubS50OyArK2kpIHtcbiAgICAvLyBmYXN0ZXIgd2F5IG9mIGNhbGN1bGF0aW5nIHUwID0geFtpXSptcCBtb2QgRFZcbiAgICBsZXQgaiA9IHhbaV0gJiAweDdmZmY7XG4gICAgY29uc3QgdTAgPSBqICogdGhpcy5tcGwgKyAoKGogKiB0aGlzLm1waCArICh4W2ldID4+IDE1KSAqIHRoaXMubXBsICYgdGhpcy51bSkgPDwgMTUpICYgeC5ETTtcbiAgICAvLyB1c2UgYW0gdG8gY29tYmluZSB0aGUgbXVsdGlwbHktc2hpZnQtYWRkIGludG8gb25lIGNhbGxcbiAgICBqID0gaSArIHRoaXMubS50O1xuICAgIHhbal0gKz0gdGhpcy5tLmFtKDAsIHUwLCB4LCBpLCAwLCB0aGlzLm0udCk7XG4gICAgLy8gcHJvcGFnYXRlIGNhcnJ5XG4gICAgd2hpbGUgKHhbal0gPj0geC5EVikge1xuICAgICAgeFtqXSAtPSB4LkRWO1xuICAgICAgeFsrK2pdKys7XG4gICAgfVxuICB9XG4gIHguY2xhbXAoKTtcbiAgeC5kclNoaWZ0VG8odGhpcy5tLnQsIHgpO1xuICBpZiAoeC5jb21wYXJlVG8odGhpcy5tKSA+PSAwKSB4LnN1YlRvKHRoaXMubSwgeCk7XG59XG4vLyByID0gXCJ4XjIvUiBtb2QgbVwiOyB4ICE9IHJcbmZ1bmN0aW9uIG1vbnRTcXJUbyh4LCByKSB7XG4gIHguc3F1YXJlVG8ocik7XG4gIHRoaXMucmVkdWNlKHIpO1xufVxuLy8gciA9IFwieHkvUiBtb2QgbVwiOyB4LHkgIT0gclxuZnVuY3Rpb24gbW9udE11bFRvKHgsIHksIHIpIHtcbiAgeC5tdWx0aXBseVRvKHksIHIpO1xuICB0aGlzLnJlZHVjZShyKTtcbn1cbk1vbnRnb21lcnkucHJvdG90eXBlLmNvbnZlcnQgPSBtb250Q29udmVydDtcbk1vbnRnb21lcnkucHJvdG90eXBlLnJldmVydCA9IG1vbnRSZXZlcnQ7XG5Nb250Z29tZXJ5LnByb3RvdHlwZS5yZWR1Y2UgPSBtb250UmVkdWNlO1xuTW9udGdvbWVyeS5wcm90b3R5cGUubXVsVG8gPSBtb250TXVsVG87XG5Nb250Z29tZXJ5LnByb3RvdHlwZS5zcXJUbyA9IG1vbnRTcXJUbztcbi8vIChwdWJsaWMpIHRoaXNeZSAlIG0gKEhBQyAxNC44NSlcbmZ1bmN0aW9uIGJuTW9kUG93KGUsIG0sIGNhbGxiYWNrKSB7XG4gIGxldCBpID0gZS5iaXRMZW5ndGgoKTtcbiAgbGV0IGs7XG4gIGxldCByID0gbmJ2KDEpO1xuICBjb25zdCB6ID0gbmV3IE1vbnRnb21lcnkobSk7XG4gIGlmIChpIDw9IDApIHJldHVybiByO2Vsc2UgaWYgKGkgPCAxOCkgayA9IDE7ZWxzZSBpZiAoaSA8IDQ4KSBrID0gMztlbHNlIGlmIChpIDwgMTQ0KSBrID0gNDtlbHNlIGlmIChpIDwgNzY4KSBrID0gNTtlbHNlIGsgPSA2O1xuICAvLyBwcmVjb21wdXRhdGlvblxuICBjb25zdCBnID0gW107XG4gIGxldCBuID0gMztcbiAgY29uc3QgazEgPSBrIC0gMTtcbiAgY29uc3Qga20gPSAoMSA8PCBrKSAtIDE7XG4gIGdbMV0gPSB6LmNvbnZlcnQodGhpcyk7XG4gIGlmIChrID4gMSkge1xuICAgIGNvbnN0IGcyID0gbmJpKCk7XG4gICAgei5zcXJUbyhnWzFdLCBnMik7XG4gICAgd2hpbGUgKG4gPD0ga20pIHtcbiAgICAgIGdbbl0gPSBuYmkoKTtcbiAgICAgIHoubXVsVG8oZzIsIGdbbiAtIDJdLCBnW25dKTtcbiAgICAgIG4gKz0gMjtcbiAgICB9XG4gIH1cbiAgbGV0IGogPSBlLnQgLSAxO1xuICBsZXQgdztcbiAgbGV0IGlzMSA9IHRydWU7XG4gIGxldCByMiA9IG5iaSgpO1xuICBsZXQgdDtcbiAgaSA9IG5iaXRzKGVbal0pIC0gMTtcbiAgd2hpbGUgKGogPj0gMCkge1xuICAgIGlmIChpID49IGsxKSB3ID0gZVtqXSA+PiBpIC0gazEgJiBrbTtlbHNlIHtcbiAgICAgIHcgPSAoZVtqXSAmICgxIDw8IGkgKyAxKSAtIDEpIDw8IGsxIC0gaTtcbiAgICAgIGlmIChqID4gMCkgdyB8PSBlW2ogLSAxXSA+PiB0aGlzLkRCICsgaSAtIGsxO1xuICAgIH1cbiAgICBuID0gaztcbiAgICB3aGlsZSAoKHcgJiAxKSA9PT0gMCkge1xuICAgICAgdyA+Pj0gMTtcbiAgICAgIC0tbjtcbiAgICB9XG4gICAgaWYgKChpIC09IG4pIDwgMCkge1xuICAgICAgaSArPSB0aGlzLkRCO1xuICAgICAgLS1qO1xuICAgIH1cbiAgICBpZiAoaXMxKSB7XG4gICAgICAvLyByZXQgPT0gMSwgZG9uJ3QgYm90aGVyIHNxdWFyaW5nIG9yIG11bHRpcGx5aW5nIGl0XG4gICAgICBnW3ddLmNvcHlUbyhyKTtcbiAgICAgIGlzMSA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aGlsZSAobiA+IDEpIHtcbiAgICAgICAgei5zcXJUbyhyLCByMik7XG4gICAgICAgIHouc3FyVG8ocjIsIHIpO1xuICAgICAgICBuIC09IDI7XG4gICAgICB9XG4gICAgICBpZiAobiA+IDApIHouc3FyVG8ociwgcjIpO2Vsc2Uge1xuICAgICAgICB0ID0gcjtcbiAgICAgICAgciA9IHIyO1xuICAgICAgICByMiA9IHQ7XG4gICAgICB9XG4gICAgICB6Lm11bFRvKHIyLCBnW3ddLCByKTtcbiAgICB9XG4gICAgd2hpbGUgKGogPj0gMCAmJiAoZVtqXSAmIDEgPDwgaSkgPT09IDApIHtcbiAgICAgIHouc3FyVG8ociwgcjIpO1xuICAgICAgdCA9IHI7XG4gICAgICByID0gcjI7XG4gICAgICByMiA9IHQ7XG4gICAgICBpZiAoLS1pIDwgMCkge1xuICAgICAgICBpID0gdGhpcy5EQiAtIDE7XG4gICAgICAgIC0tajtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gei5yZXZlcnQocik7XG4gIGNhbGxiYWNrKG51bGwsIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG4vLyBwcm90ZWN0ZWRcbkJpZ0ludGVnZXIucHJvdG90eXBlLmNvcHlUbyA9IGJucENvcHlUbztcbkJpZ0ludGVnZXIucHJvdG90eXBlLmZyb21JbnQgPSBibnBGcm9tSW50O1xuQmlnSW50ZWdlci5wcm90b3R5cGUuZnJvbVN0cmluZyA9IGJucEZyb21TdHJpbmc7XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5jbGFtcCA9IGJucENsYW1wO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuZGxTaGlmdFRvID0gYm5wRExTaGlmdFRvO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuZHJTaGlmdFRvID0gYm5wRFJTaGlmdFRvO1xuQmlnSW50ZWdlci5wcm90b3R5cGUubFNoaWZ0VG8gPSBibnBMU2hpZnRUbztcbkJpZ0ludGVnZXIucHJvdG90eXBlLnJTaGlmdFRvID0gYm5wUlNoaWZ0VG87XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5zdWJUbyA9IGJucFN1YlRvO1xuQmlnSW50ZWdlci5wcm90b3R5cGUubXVsdGlwbHlUbyA9IGJucE11bHRpcGx5VG87XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5zcXVhcmVUbyA9IGJucFNxdWFyZVRvO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuZGl2UmVtVG8gPSBibnBEaXZSZW1UbztcbkJpZ0ludGVnZXIucHJvdG90eXBlLmludkRpZ2l0ID0gYm5wSW52RGlnaXQ7XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5hZGRUbyA9IGJucEFkZFRvO1xuLy8gcHVibGljXG5CaWdJbnRlZ2VyLnByb3RvdHlwZS50b1N0cmluZyA9IGJuVG9TdHJpbmc7XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5uZWdhdGUgPSBibk5lZ2F0ZTtcbkJpZ0ludGVnZXIucHJvdG90eXBlLmFicyA9IGJuQWJzO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuY29tcGFyZVRvID0gYm5Db21wYXJlVG87XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5iaXRMZW5ndGggPSBibkJpdExlbmd0aDtcbkJpZ0ludGVnZXIucHJvdG90eXBlLm1vZCA9IGJuTW9kO1xuQmlnSW50ZWdlci5wcm90b3R5cGUuZXF1YWxzID0gYm5FcXVhbHM7XG5CaWdJbnRlZ2VyLnByb3RvdHlwZS5hZGQgPSBibkFkZDtcbkJpZ0ludGVnZXIucHJvdG90eXBlLnN1YnRyYWN0ID0gYm5TdWJ0cmFjdDtcbkJpZ0ludGVnZXIucHJvdG90eXBlLm11bHRpcGx5ID0gYm5NdWx0aXBseTtcbkJpZ0ludGVnZXIucHJvdG90eXBlLmRpdmlkZSA9IGJuRGl2aWRlO1xuQmlnSW50ZWdlci5wcm90b3R5cGUubW9kUG93ID0gYm5Nb2RQb3c7XG4vLyBcImNvbnN0YW50c1wiXG5CaWdJbnRlZ2VyLlpFUk8gPSBuYnYoMCk7XG5CaWdJbnRlZ2VyLk9ORSA9IG5idigxKTtcbmV4cG9ydCB7IEJpZ0ludGVnZXIgYXMgZGVmYXVsdCB9O1xuIiwiLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgY2FsY3VsYXRlUyA9IGFzeW5jICh7XG4gIGEsXG4gIGcsXG4gIGssXG4gIHgsXG4gIEIsXG4gIE4sXG4gIFVcbn0pID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBnLm1vZFBvdyh4LCBOLCAob3V0ZXJFcnIsIG91dGVyUmVzdWx0KSA9PiB7XG4gICAgICBpZiAob3V0ZXJFcnIpIHtcbiAgICAgICAgcmVqZWN0KG91dGVyRXJyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgQi5zdWJ0cmFjdChrLm11bHRpcGx5KG91dGVyUmVzdWx0KSkubW9kUG93KGEuYWRkKFUubXVsdGlwbHkoeCkpLCBOLCAoaW5uZXJFcnIsIGlubmVyUmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChpbm5lckVycikge1xuICAgICAgICAgIHJlamVjdChpbm5lckVycik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUoaW5uZXJSZXN1bHQubW9kKE4pKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn07XG5leHBvcnQgeyBjYWxjdWxhdGVTIH07XG4iLCIvLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBJTklUX04gPSAnRkZGRkZGRkZGRkZGRkZGRkM5MEZEQUEyMjE2OEMyMzRDNEM2NjI4QjgwREMxQ0QxJyArICcyOTAyNEUwODhBNjdDQzc0MDIwQkJFQTYzQjEzOUIyMjUxNEEwODc5OEUzNDA0REQnICsgJ0VGOTUxOUIzQ0QzQTQzMUIzMDJCMEE2REYyNUYxNDM3NEZFMTM1NkQ2RDUxQzI0NScgKyAnRTQ4NUI1NzY2MjVFN0VDNkY0NEM0MkU5QTYzN0VENkIwQkZGNUNCNkY0MDZCN0VEJyArICdFRTM4NkJGQjVBODk5RkE1QUU5RjI0MTE3QzRCMUZFNjQ5Mjg2NjUxRUNFNDVCM0QnICsgJ0MyMDA3Q0I4QTE2M0JGMDU5OERBNDgzNjFDNTVEMzlBNjkxNjNGQThGRDI0Q0Y1RicgKyAnODM2NTVEMjNEQ0EzQUQ5NjFDNjJGMzU2MjA4NTUyQkI5RUQ1MjkwNzcwOTY5NjZEJyArICc2NzBDMzU0RTRBQkM5ODA0RjE3NDZDMDhDQTE4MjE3QzMyOTA1RTQ2MkUzNkNFM0InICsgJ0UzOUU3NzJDMTgwRTg2MDM5QjI3ODNBMkVDMDdBMjhGQjVDNTVERjA2RjRDNTJDOScgKyAnREUyQkNCRjY5NTU4MTcxODM5OTU0OTdDRUE5NTZBRTUxNUQyMjYxODk4RkEwNTEwJyArICcxNTcyOEU1QThBQUFDNDJEQUQzMzE3MEQwNDUwN0EzM0E4NTUyMUFCREYxQ0JBNjQnICsgJ0VDRkI4NTA0NThEQkVGMEE4QUVBNzE1NzVEMDYwQzdEQjM5NzBGODVBNkUxRTRDNycgKyAnQUJGNUFFOENEQjA5MzNENzFFOEM5NEUwNEEyNTYxOURDRUUzRDIyNjFBRDJFRTZCJyArICdGMTJGRkEwNkQ5OEEwODY0RDg3NjAyNzMzRUM4NkE2NDUyMUYyQjE4MTc3QjIwMEMnICsgJ0JCRTExNzU3N0E2MTVENkM3NzA5ODhDMEJBRDk0NkUyMDhFMjRGQTA3NEU1QUIzMScgKyAnNDNEQjVCRkNFMEZEMTA4RTRCODJEMTIwQTkzQUQyQ0FGRkZGRkZGRkZGRkZGRkZGJztcbmNvbnN0IFNIT1JUX1RPX0hFWCA9IHt9O1xuY29uc3QgSEVYX1RPX1NIT1JUID0ge307XG5mb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgaSsrKSB7XG4gIGxldCBlbmNvZGVkQnl0ZSA9IGkudG9TdHJpbmcoMTYpLnRvTG93ZXJDYXNlKCk7XG4gIGlmIChlbmNvZGVkQnl0ZS5sZW5ndGggPT09IDEpIHtcbiAgICBlbmNvZGVkQnl0ZSA9IGAwJHtlbmNvZGVkQnl0ZX1gO1xuICB9XG4gIFNIT1JUX1RPX0hFWFtpXSA9IGVuY29kZWRCeXRlO1xuICBIRVhfVE9fU0hPUlRbZW5jb2RlZEJ5dGVdID0gaTtcbn1cbmV4cG9ydCB7IEhFWF9UT19TSE9SVCwgSU5JVF9OLCBTSE9SVF9UT19IRVggfTtcbiIsImltcG9ydCB7IEhFWF9UT19TSE9SVCB9IGZyb20gJy4vY29uc3RhbnRzLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8qKlxuICogQ29udmVydHMgYSBoZXhhZGVjaW1hbCBlbmNvZGVkIHN0cmluZyB0byBhIFVpbnQ4QXJyYXkgb2YgYnl0ZXMuXG4gKlxuICogQHBhcmFtIGVuY29kZWQgVGhlIGhleGFkZWNpbWFsIGVuY29kZWQgc3RyaW5nXG4gKi9cbmNvbnN0IGdldEJ5dGVzRnJvbUhleCA9IGVuY29kZWQgPT4ge1xuICBpZiAoZW5jb2RlZC5sZW5ndGggJSAyICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdIZXggZW5jb2RlZCBzdHJpbmdzIG11c3QgaGF2ZSBhbiBldmVuIG51bWJlciBsZW5ndGgnKTtcbiAgfVxuICBjb25zdCBvdXQgPSBuZXcgVWludDhBcnJheShlbmNvZGVkLmxlbmd0aCAvIDIpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGVuY29kZWQubGVuZ3RoOyBpICs9IDIpIHtcbiAgICBjb25zdCBlbmNvZGVkQnl0ZSA9IGVuY29kZWQuc2xpY2UoaSwgaSArIDIpLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGVuY29kZWRCeXRlIGluIEhFWF9UT19TSE9SVCkge1xuICAgICAgb3V0W2kgLyAyXSA9IEhFWF9UT19TSE9SVFtlbmNvZGVkQnl0ZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGRlY29kZSB1bnJlY29nbml6ZWQgc2VxdWVuY2UgJHtlbmNvZGVkQnl0ZX0gYXMgaGV4YWRlY2ltYWxgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG91dDtcbn07XG5leHBvcnQgeyBnZXRCeXRlc0Zyb21IZXggfTtcbiIsImltcG9ydCB7IFNIT1JUX1RPX0hFWCB9IGZyb20gJy4vY29uc3RhbnRzLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8qKlxuICogQ29udmVydHMgYSBVaW50OEFycmF5IG9mIGJpbmFyeSBkYXRhIHRvIGEgaGV4YWRlY2ltYWwgZW5jb2RlZCBzdHJpbmcuXG4gKlxuICogQHBhcmFtIGJ5dGVzIFRoZSBiaW5hcnkgZGF0YSB0byBlbmNvZGVcbiAqL1xuY29uc3QgZ2V0SGV4RnJvbUJ5dGVzID0gYnl0ZXMgPT4ge1xuICBsZXQgb3V0ID0gJyc7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMuYnl0ZUxlbmd0aDsgaSsrKSB7XG4gICAgb3V0ICs9IFNIT1JUX1RPX0hFWFtieXRlc1tpXV07XG4gIH1cbiAgcmV0dXJuIG91dDtcbn07XG5leHBvcnQgeyBnZXRIZXhGcm9tQnl0ZXMgfTtcbiIsImltcG9ydCB7IFNoYTI1NiB9IGZyb20gJ0Bhd3MtY3J5cHRvL3NoYTI1Ni1qcyc7XG5pbXBvcnQgeyBnZXRIZXhGcm9tQnl0ZXMgfSBmcm9tICcuL2dldEhleEZyb21CeXRlcy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIENhbGN1bGF0ZSBhIGhhc2ggZnJvbSBhIGBTb3VyY2VEYXRhYFxuICogQHBhcmFtIHtTb3VyY2VEYXRhfSBkYXRhIFZhbHVlIHRvIGhhc2guXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBIZXgtZW5jb2RlZCBoYXNoLlxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgZ2V0SGFzaEZyb21EYXRhID0gZGF0YSA9PiB7XG4gIGNvbnN0IHNoYTI1NiA9IG5ldyBTaGEyNTYoKTtcbiAgc2hhMjU2LnVwZGF0ZShkYXRhKTtcbiAgY29uc3QgaGFzaGVkRGF0YSA9IHNoYTI1Ni5kaWdlc3RTeW5jKCk7XG4gIGNvbnN0IGhhc2hIZXhGcm9tVWludDggPSBnZXRIZXhGcm9tQnl0ZXMoaGFzaGVkRGF0YSk7XG4gIHJldHVybiBuZXcgQXJyYXkoNjQgLSBoYXNoSGV4RnJvbVVpbnQ4Lmxlbmd0aCkuam9pbignMCcpICsgaGFzaEhleEZyb21VaW50ODtcbn07XG5leHBvcnQgeyBnZXRIYXNoRnJvbURhdGEgfTtcbiIsImltcG9ydCB7IGdldEJ5dGVzRnJvbUhleCB9IGZyb20gJy4vZ2V0Qnl0ZXNGcm9tSGV4Lm1qcyc7XG5pbXBvcnQgeyBnZXRIYXNoRnJvbURhdGEgfSBmcm9tICcuL2dldEhhc2hGcm9tRGF0YS5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIENhbGN1bGF0ZSBhIGhhc2ggZnJvbSBhIGhleCBzdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBoZXhTdHIgVmFsdWUgdG8gaGFzaC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEhleC1lbmNvZGVkIGhhc2guXG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBnZXRIYXNoRnJvbUhleCA9IGhleFN0ciA9PiBnZXRIYXNoRnJvbURhdGEoZ2V0Qnl0ZXNGcm9tSGV4KGhleFN0cikpO1xuZXhwb3J0IHsgZ2V0SGFzaEZyb21IZXggfTtcbiIsImltcG9ydCBCaWdJbnRlZ2VyIGZyb20gJy4vQmlnSW50ZWdlci9CaWdJbnRlZ2VyLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8qKlxuICogVGVzdHMgaWYgYSBoZXggc3RyaW5nIGhhcyBpdCBtb3N0IHNpZ25pZmljYW50IGJpdCBzZXQgKGNhc2UtaW5zZW5zaXRpdmUgcmVnZXgpXG4gKi9cbmNvbnN0IEhFWF9NU0JfUkVHRVggPSAvXls4OWEtZl0vaTtcbi8qKlxuICogUmV0dXJucyBhbiB1bmFtYmlndW91cywgZXZlbi1sZW5ndGggaGV4IHN0cmluZyBvZiB0aGUgdHdvJ3MgY29tcGxlbWVudCBlbmNvZGluZyBvZiBhbiBpbnRlZ2VyLlxuICpcbiAqIEl0IGlzIGNvbXBhdGlibGUgd2l0aCB0aGUgaGV4IGVuY29kaW5nIG9mIEphdmEncyBCaWdJbnRlZ2VyJ3MgdG9CeXRlQXJyYXkoKSwgd2ljaCByZXR1cm5zIGFcbiAqIGJ5dGUgYXJyYXkgY29udGFpbmluZyB0aGUgdHdvJ3MtY29tcGxlbWVudCByZXByZXNlbnRhdGlvbiBvZiBhIEJpZ0ludGVnZXIuIFRoZSBhcnJheSBjb250YWluc1xuICogdGhlIG1pbmltdW0gbnVtYmVyIG9mIGJ5dGVzIHJlcXVpcmVkIHRvIHJlcHJlc2VudCB0aGUgQmlnSW50ZWdlciwgaW5jbHVkaW5nIGF0IGxlYXN0IG9uZSBzaWduIGJpdC5cbiAqXG4gKiBFeGFtcGxlcyBzaG93aW5nIGhvdyBhbWJpZ3VpdHkgaXMgYXZvaWRlZCBieSBsZWZ0IHBhZGRpbmcgd2l0aDpcbiAqIFx0XCIwMFwiIChmb3IgcG9zaXRpdmUgdmFsdWVzIHdoZXJlIHRoZSBtb3N0LXNpZ25pZmljYW50LWJpdCBpcyBzZXQpXG4gKiAgXCJGRlwiIChmb3IgbmVnYXRpdmUgdmFsdWVzIHdoZXJlIHRoZSBtb3N0LXNpZ25pZmljYW50LWJpdCBpcyBzZXQpXG4gKlxuICogcGFkSGV4KGJpZ0ludGVnZXIuZnJvbUludCgtMjM2KSkgID09PSBcIkZGMTRcIlxuICogcGFkSGV4KGJpZ0ludGVnZXIuZnJvbUludCgyMCkpICAgID09PSBcIjE0XCJcbiAqXG4gKiBwYWRIZXgoYmlnSW50ZWdlci5mcm9tSW50KC0yMDApKSAgPT09IFwiRkYzOFwiXG4gKiBwYWRIZXgoYmlnSW50ZWdlci5mcm9tSW50KDU2KSkgICAgPT09IFwiMzhcIlxuICpcbiAqIHBhZEhleChiaWdJbnRlZ2VyLmZyb21JbnQoLTIwKSkgICA9PT0gXCJFQ1wiXG4gKiBwYWRIZXgoYmlnSW50ZWdlci5mcm9tSW50KDIzNikpICAgPT09IFwiMDBFQ1wiXG4gKlxuICogcGFkSGV4KGJpZ0ludGVnZXIuZnJvbUludCgtNTYpKSAgID09PSBcIkM4XCJcbiAqIHBhZEhleChiaWdJbnRlZ2VyLmZyb21JbnQoMjAwKSkgICA9PT0gXCIwMEM4XCJcbiAqXG4gKiBAcGFyYW0ge0F1dGhCaWdJbnRlZ2VyfSBiaWdJbnQgTnVtYmVyIHRvIGVuY29kZS5cbiAqIEByZXR1cm5zIHtTdHJpbmd9IGV2ZW4tbGVuZ3RoIGhleCBzdHJpbmcgb2YgdGhlIHR3bydzIGNvbXBsZW1lbnQgZW5jb2RpbmcuXG4gKi9cbmNvbnN0IGdldFBhZGRlZEhleCA9IGJpZ0ludCA9PiB7XG4gIGlmICghKGJpZ0ludCBpbnN0YW5jZW9mIEJpZ0ludGVnZXIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgYSBCaWdJbnRlZ2VyJyk7XG4gIH1cbiAgY29uc3QgaXNOZWdhdGl2ZSA9IGJpZ0ludC5jb21wYXJlVG8oQmlnSW50ZWdlci5aRVJPKSA8IDA7XG4gIC8qIEdldCBhIGhleCBzdHJpbmcgZm9yIGFicyhiaWdJbnQpICovXG4gIGxldCBoZXhTdHIgPSBiaWdJbnQuYWJzKCkudG9TdHJpbmcoMTYpO1xuICAvKiBQYWQgaGV4IHRvIGV2ZW4gbGVuZ3RoIGlmIG5lZWRlZCAqL1xuICBoZXhTdHIgPSBoZXhTdHIubGVuZ3RoICUgMiAhPT0gMCA/IGAwJHtoZXhTdHJ9YCA6IGhleFN0cjtcbiAgLyogUHJlcGVuZCBcIjAwXCIgaWYgdGhlIG1vc3Qgc2lnbmlmaWNhbnQgYml0IGlzIHNldCAqL1xuICBoZXhTdHIgPSBIRVhfTVNCX1JFR0VYLnRlc3QoaGV4U3RyKSA/IGAwMCR7aGV4U3RyfWAgOiBoZXhTdHI7XG4gIGlmIChpc05lZ2F0aXZlKSB7XG4gICAgLyogRmxpcCB0aGUgYml0cyBvZiB0aGUgcmVwcmVzZW50YXRpb24gKi9cbiAgICBjb25zdCBpbnZlcnRlZE5pYmJsZXMgPSBoZXhTdHIuc3BsaXQoJycpLm1hcCh4ID0+IHtcbiAgICAgIGNvbnN0IGludmVydGVkTmliYmxlID0gfnBhcnNlSW50KHgsIDE2KSAmIDB4ZjtcbiAgICAgIHJldHVybiAnMDEyMzQ1Njc4OUFCQ0RFRicuY2hhckF0KGludmVydGVkTmliYmxlKTtcbiAgICB9KS5qb2luKCcnKTtcbiAgICAvKiBBZnRlciBmbGlwcGluZyB0aGUgYml0cywgYWRkIG9uZSB0byBnZXQgdGhlIDIncyBjb21wbGVtZW50IHJlcHJlc2VudGF0aW9uICovXG4gICAgY29uc3QgZmxpcHBlZEJpdHNCSSA9IG5ldyBCaWdJbnRlZ2VyKGludmVydGVkTmliYmxlcywgMTYpLmFkZChCaWdJbnRlZ2VyLk9ORSk7XG4gICAgaGV4U3RyID0gZmxpcHBlZEJpdHNCSS50b1N0cmluZygxNik7XG4gICAgLypcbiAgICBGb3IgaGV4IHN0cmluZ3Mgc3RhcnRpbmcgd2l0aCAnRkY4JywgJ0ZGJyBjYW4gYmUgZHJvcHBlZCwgZS5nLiAweEZGRkY4MD0weEZGODA9MHg4MD0tMTI4XG4gICAgIEFueSBzZXF1ZW5jZSBvZiAnMScgYml0cyBvbiB0aGUgbGVmdCBjYW4gYWx3YXlzIGJlIHN1YnN0aXR1dGVkIHdpdGggYSBzaW5nbGUgJzEnIGJpdFxuICAgIHdpdGhvdXQgY2hhbmdpbmcgdGhlIHJlcHJlc2VudGVkIHZhbHVlLlxuICAgICBUaGlzIG9ubHkgaGFwcGVucyBpbiB0aGUgY2FzZSB3aGVuIHRoZSBpbnB1dCBpcyA4MC4uLjAwXG4gICAgKi9cbiAgICBpZiAoaGV4U3RyLnRvVXBwZXJDYXNlKCkuc3RhcnRzV2l0aCgnRkY4JykpIHtcbiAgICAgIGhleFN0ciA9IGhleFN0ci5zdWJzdHJpbmcoMik7XG4gICAgfVxuICB9XG4gIHJldHVybiBoZXhTdHI7XG59O1xuZXhwb3J0IHsgZ2V0UGFkZGVkSGV4IH07XG4iLCJpbXBvcnQgQmlnSW50ZWdlciBmcm9tICcuLi9CaWdJbnRlZ2VyL0JpZ0ludGVnZXIubWpzJztcbmltcG9ydCB7IGdldEhhc2hGcm9tSGV4IH0gZnJvbSAnLi4vZ2V0SGFzaEZyb21IZXgubWpzJztcbmltcG9ydCB7IGdldFBhZGRlZEhleCB9IGZyb20gJy4uL2dldFBhZGRlZEhleC5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBjYWxjdWxhdGVVID0gKHtcbiAgQSxcbiAgQlxufSkgPT4ge1xuICBjb25zdCBVID0gbmV3IEJpZ0ludGVnZXIoZ2V0SGFzaEZyb21IZXgoZ2V0UGFkZGVkSGV4KEEpICsgZ2V0UGFkZGVkSGV4KEIpKSwgMTYpO1xuICBpZiAoVS5lcXVhbHMoQmlnSW50ZWdlci5aRVJPKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignVSBjYW5ub3QgYmUgemVyby4nKTtcbiAgfVxuICByZXR1cm4gVTtcbn07XG5leHBvcnQgeyBjYWxjdWxhdGVVIH07XG4iLCJpbXBvcnQgeyBTaGEyNTYgfSBmcm9tICdAYXdzLWNyeXB0by9zaGEyNTYtanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIFN0YW5kYXJkIEhLREYgYWxnb3JpdGhtLlxuICpcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gaWttIElucHV0IGtleSBtYXRlcmlhbC5cbiAqIEBwYXJhbSB7VWludDhBcnJheX0gc2FsdCBTYWx0IHZhbHVlLlxuICogQHBhcmFtIHtVaW50OEFycmF5fSBpbmZvIENvbnRleHQgYW5kIGFwcGxpY2F0aW9uIHNwZWNpZmljIGluZm8uXG4gKlxuICogQHJldHVybnMge1VpbnQ4QXJyYXl9IFN0cm9uZyBrZXkgbWF0ZXJpYWwuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IGdldEhrZGZLZXkgPSAoaWttLCBzYWx0LCBpbmZvKSA9PiB7XG4gIGNvbnN0IGF3c0NyeXB0b0hhc2ggPSBuZXcgU2hhMjU2KHNhbHQpO1xuICBhd3NDcnlwdG9IYXNoLnVwZGF0ZShpa20pO1xuICBjb25zdCByZXN1bHRGcm9tQVdTQ3J5cHRvUHJrID0gYXdzQ3J5cHRvSGFzaC5kaWdlc3RTeW5jKCk7XG4gIGNvbnN0IGF3c0NyeXB0b0hhc2hIbWFjID0gbmV3IFNoYTI1NihyZXN1bHRGcm9tQVdTQ3J5cHRvUHJrKTtcbiAgYXdzQ3J5cHRvSGFzaEhtYWMudXBkYXRlKGluZm8pO1xuICBjb25zdCByZXN1bHRGcm9tQVdTQ3J5cHRvSG1hYyA9IGF3c0NyeXB0b0hhc2hIbWFjLmRpZ2VzdFN5bmMoKTtcbiAgY29uc3QgaGFzaEhleEZyb21BV1NDcnlwdG8gPSByZXN1bHRGcm9tQVdTQ3J5cHRvSG1hYztcbiAgcmV0dXJuIGhhc2hIZXhGcm9tQVdTQ3J5cHRvLnNsaWNlKDAsIDE2KTtcbn07XG5leHBvcnQgeyBnZXRIa2RmS2V5IH07XG4iLCJpbXBvcnQgeyBXb3JkQXJyYXkgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuaW1wb3J0IHsgZ2V0Qnl0ZXNGcm9tSGV4IH0gZnJvbSAnLi9nZXRCeXRlc0Zyb21IZXgubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLyoqXG4gKiBSZXR1cm5zIGEgVWludDhBcnJheSB3aXRoIGEgc2VxdWVuY2Ugb2YgcmFuZG9tIG5CeXRlc1xuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBuQnl0ZXNcbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBmaXhlZC1sZW5ndGggc2VxdWVuY2Ugb2YgcmFuZG9tIGJ5dGVzXG4gKi9cbmNvbnN0IGdldFJhbmRvbUJ5dGVzID0gbkJ5dGVzID0+IHtcbiAgY29uc3Qgc3RyID0gbmV3IFdvcmRBcnJheSgpLnJhbmRvbShuQnl0ZXMpLnRvU3RyaW5nKCk7XG4gIHJldHVybiBnZXRCeXRlc0Zyb21IZXgoc3RyKTtcbn07XG5leHBvcnQgeyBnZXRSYW5kb21CeXRlcyB9O1xuIiwiaW1wb3J0IHsgYmFzZTY0RW5jb2RlciB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5pbXBvcnQgeyBnZXRSYW5kb21CeXRlcyB9IGZyb20gJy4vZ2V0UmFuZG9tQnl0ZXMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgYSByYW5kb20gc3RyaW5nXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBhIHJhbmRvbSB2YWx1ZS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgZ2V0UmFuZG9tU3RyaW5nID0gKCkgPT4gYmFzZTY0RW5jb2Rlci5jb252ZXJ0KGdldFJhbmRvbUJ5dGVzKDQwKSk7XG5leHBvcnQgeyBnZXRSYW5kb21TdHJpbmcgfTtcbiIsImltcG9ydCB7IEF1dGhFcnJvciB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2Vycm9ycy9BdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IHRleHRFbmNvZGVyIH0gZnJvbSAnLi4vLi4vdGV4dEVuY29kZXIvaW5kZXgubWpzJztcbmltcG9ydCBCaWdJbnRlZ2VyIGZyb20gJy4uL0JpZ0ludGVnZXIvQmlnSW50ZWdlci5tanMnO1xuaW1wb3J0IHsgY2FsY3VsYXRlUyB9IGZyb20gJy4uL2NhbGN1bGF0ZS9jYWxjdWxhdGVTLm1qcyc7XG5pbXBvcnQgeyBjYWxjdWxhdGVVIH0gZnJvbSAnLi4vY2FsY3VsYXRlL2NhbGN1bGF0ZVUubWpzJztcbmltcG9ydCB7IGdldEJ5dGVzRnJvbUhleCB9IGZyb20gJy4uL2dldEJ5dGVzRnJvbUhleC5tanMnO1xuaW1wb3J0IHsgZ2V0SGFzaEZyb21EYXRhIH0gZnJvbSAnLi4vZ2V0SGFzaEZyb21EYXRhLm1qcyc7XG5pbXBvcnQgeyBnZXRIYXNoRnJvbUhleCB9IGZyb20gJy4uL2dldEhhc2hGcm9tSGV4Lm1qcyc7XG5pbXBvcnQgeyBnZXRIZXhGcm9tQnl0ZXMgfSBmcm9tICcuLi9nZXRIZXhGcm9tQnl0ZXMubWpzJztcbmltcG9ydCB7IGdldEhrZGZLZXkgfSBmcm9tICcuLi9nZXRIa2RmS2V5Lm1qcyc7XG5pbXBvcnQgeyBnZXRQYWRkZWRIZXggfSBmcm9tICcuLi9nZXRQYWRkZWRIZXgubWpzJztcbmltcG9ydCB7IGdldFJhbmRvbUJ5dGVzIH0gZnJvbSAnLi4vZ2V0UmFuZG9tQnl0ZXMubWpzJztcbmltcG9ydCB7IGdldFJhbmRvbVN0cmluZyB9IGZyb20gJy4uL2dldFJhbmRvbVN0cmluZy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKiogQGNsYXNzICovXG5jbGFzcyBBdXRoZW50aWNhdGlvbkhlbHBlciB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICB1c2VyUG9vbE5hbWUsXG4gICAgYSxcbiAgICBnLFxuICAgIEEsXG4gICAgTlxuICB9KSB7XG4gICAgdGhpcy5lbmNvZGVyID0gdGV4dEVuY29kZXI7XG4gICAgdGhpcy51c2VyUG9vbE5hbWUgPSB1c2VyUG9vbE5hbWU7XG4gICAgdGhpcy5hID0gYTtcbiAgICB0aGlzLmcgPSBnO1xuICAgIHRoaXMuQSA9IEE7XG4gICAgdGhpcy5OID0gTjtcbiAgICB0aGlzLmsgPSBuZXcgQmlnSW50ZWdlcihnZXRIYXNoRnJvbUhleChgJHtnZXRQYWRkZWRIZXgoTil9JHtnZXRQYWRkZWRIZXgoZyl9YCksIDE2KTtcbiAgfVxuICAvKipcbiAgICogQHJldHVybnMge3N0cmluZ30gR2VuZXJhdGVkIHJhbmRvbSB2YWx1ZSBpbmNsdWRlZCBpbiBwYXNzd29yZCBoYXNoLlxuICAgKi9cbiAgZ2V0UmFuZG9tUGFzc3dvcmQoKSB7XG4gICAgaWYgKCF0aGlzLnJhbmRvbVBhc3N3b3JkKSB7XG4gICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKHtcbiAgICAgICAgbmFtZTogJ0VtcHR5QmlnSW50ZWdlclJhbmRvbVBhc3N3b3JkJyxcbiAgICAgICAgbWVzc2FnZTogJ3JhbmRvbSBwYXNzd29yZCBpcyBlbXB0eSdcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5yYW5kb21QYXNzd29yZDtcbiAgfVxuICAvKipcbiAgICogQHJldHVybnMge3N0cmluZ30gR2VuZXJhdGVkIHJhbmRvbSB2YWx1ZSBpbmNsdWRlZCBpbiBkZXZpY2VzIGhhc2guXG4gICAqL1xuICBnZXRTYWx0VG9IYXNoRGV2aWNlcygpIHtcbiAgICBpZiAoIXRoaXMuc2FsdFRvSGFzaERldmljZXMpIHtcbiAgICAgIHRocm93IG5ldyBBdXRoRXJyb3Ioe1xuICAgICAgICBuYW1lOiAnRW1wdHlCaWdJbnRlZ2Vyc2FsdFRvSGFzaERldmljZXMnLFxuICAgICAgICBtZXNzYWdlOiAnc2FsdFRvSGFzaERldmljZXMgaXMgZW1wdHknXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2FsdFRvSGFzaERldmljZXM7XG4gIH1cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFZhbHVlIHVzZWQgdG8gdmVyaWZ5IGRldmljZXMuXG4gICAqL1xuICBnZXRWZXJpZmllckRldmljZXMoKSB7XG4gICAgaWYgKCF0aGlzLnZlcmlmaWVyRGV2aWNlcykge1xuICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcih7XG4gICAgICAgIG5hbWU6ICdFbXB0eUJpZ0ludGVnZXJWZXJpZmllckRldmljZXMnLFxuICAgICAgICBtZXNzYWdlOiAndmVyaWZ5RGV2aWNlcyBpcyBlbXB0eSdcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy52ZXJpZmllckRldmljZXM7XG4gIH1cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHNhbHRzIGFuZCBjb21wdXRlIHZlcmlmaWVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlR3JvdXBLZXkgRGV2aWNlcyB0byBnZW5lcmF0ZSB2ZXJpZmllciBmb3IuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VybmFtZSBVc2VyIHRvIGdlbmVyYXRlIHZlcmlmaWVyIGZvci5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICBhc3luYyBnZW5lcmF0ZUhhc2hEZXZpY2UoZGV2aWNlR3JvdXBLZXksIHVzZXJuYW1lKSB7XG4gICAgdGhpcy5yYW5kb21QYXNzd29yZCA9IGdldFJhbmRvbVN0cmluZygpO1xuICAgIGNvbnN0IGNvbWJpbmVkU3RyaW5nID0gYCR7ZGV2aWNlR3JvdXBLZXl9JHt1c2VybmFtZX06JHt0aGlzLnJhbmRvbVBhc3N3b3JkfWA7XG4gICAgY29uc3QgaGFzaGVkU3RyaW5nID0gZ2V0SGFzaEZyb21EYXRhKGNvbWJpbmVkU3RyaW5nKTtcbiAgICBjb25zdCBoZXhSYW5kb20gPSBnZXRIZXhGcm9tQnl0ZXMoZ2V0UmFuZG9tQnl0ZXMoMTYpKTtcbiAgICAvLyBUaGUgcmFuZG9tIGhleCB3aWxsIGJlIHVuYW1iaWd1b3VzbHkgcmVwcmVzZW50ZWQgYXMgYSBwb3N0aXZlIGludGVnZXJcbiAgICB0aGlzLnNhbHRUb0hhc2hEZXZpY2VzID0gZ2V0UGFkZGVkSGV4KG5ldyBCaWdJbnRlZ2VyKGhleFJhbmRvbSwgMTYpKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5nLm1vZFBvdyhuZXcgQmlnSW50ZWdlcihnZXRIYXNoRnJvbUhleCh0aGlzLnNhbHRUb0hhc2hEZXZpY2VzICsgaGFzaGVkU3RyaW5nKSwgMTYpLCB0aGlzLk4sIChlcnIsIHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmVyaWZpZXJEZXZpY2VzID0gZ2V0UGFkZGVkSGV4KHJlc3VsdCk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBmaW5hbCBIS0RGIGtleSBiYXNlZCBvbiBjb21wdXRlZCBTIHZhbHVlLCBjb21wdXRlZCBVIHZhbHVlIGFuZCB0aGUga2V5XG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB1c2VybmFtZSBVc2VybmFtZS5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHBhc3N3b3JkIFBhc3N3b3JkLlxuICAgKiBAcGFyYW0ge0F1dGhCaWdJbnRlZ2VyfSBCIFNlcnZlciBCIHZhbHVlLlxuICAgKiBAcGFyYW0ge0F1dGhCaWdJbnRlZ2VyfSBzYWx0IEdlbmVyYXRlZCBzYWx0LlxuICAgKi9cbiAgYXN5bmMgZ2V0UGFzc3dvcmRBdXRoZW50aWNhdGlvbktleSh7XG4gICAgdXNlcm5hbWUsXG4gICAgcGFzc3dvcmQsXG4gICAgc2VydmVyQlZhbHVlLFxuICAgIHNhbHRcbiAgfSkge1xuICAgIGlmIChzZXJ2ZXJCVmFsdWUubW9kKHRoaXMuTikuZXF1YWxzKEJpZ0ludGVnZXIuWkVSTykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQiBjYW5ub3QgYmUgemVyby4nKTtcbiAgICB9XG4gICAgY29uc3QgVSA9IGNhbGN1bGF0ZVUoe1xuICAgICAgQTogdGhpcy5BLFxuICAgICAgQjogc2VydmVyQlZhbHVlXG4gICAgfSk7XG4gICAgY29uc3QgdXNlcm5hbWVQYXNzd29yZCA9IGAke3RoaXMudXNlclBvb2xOYW1lfSR7dXNlcm5hbWV9OiR7cGFzc3dvcmR9YDtcbiAgICBjb25zdCB1c2VybmFtZVBhc3N3b3JkSGFzaCA9IGdldEhhc2hGcm9tRGF0YSh1c2VybmFtZVBhc3N3b3JkKTtcbiAgICBjb25zdCB4ID0gbmV3IEJpZ0ludGVnZXIoZ2V0SGFzaEZyb21IZXgoZ2V0UGFkZGVkSGV4KHNhbHQpICsgdXNlcm5hbWVQYXNzd29yZEhhc2gpLCAxNik7XG4gICAgY29uc3QgUyA9IGF3YWl0IGNhbGN1bGF0ZVMoe1xuICAgICAgYTogdGhpcy5hLFxuICAgICAgZzogdGhpcy5nLFxuICAgICAgazogdGhpcy5rLFxuICAgICAgeCxcbiAgICAgIEI6IHNlcnZlckJWYWx1ZSxcbiAgICAgIE46IHRoaXMuTixcbiAgICAgIFVcbiAgICB9KTtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5lbmNvZGVyLmNvbnZlcnQoJ0NhbGRlcmEgRGVyaXZlZCBLZXknKTtcbiAgICBjb25zdCBzcGFjZXIgPSB0aGlzLmVuY29kZXIuY29udmVydChTdHJpbmcuZnJvbUNoYXJDb2RlKDEpKTtcbiAgICBjb25zdCBpbmZvID0gbmV3IFVpbnQ4QXJyYXkoY29udGV4dC5ieXRlTGVuZ3RoICsgc3BhY2VyLmJ5dGVMZW5ndGgpO1xuICAgIGluZm8uc2V0KGNvbnRleHQsIDApO1xuICAgIGluZm8uc2V0KHNwYWNlciwgY29udGV4dC5ieXRlTGVuZ3RoKTtcbiAgICBjb25zdCBoa2RmS2V5ID0gZ2V0SGtkZktleShnZXRCeXRlc0Zyb21IZXgoZ2V0UGFkZGVkSGV4KFMpKSwgZ2V0Qnl0ZXNGcm9tSGV4KGdldFBhZGRlZEhleChVKSksIGluZm8pO1xuICAgIHJldHVybiBoa2RmS2V5O1xuICB9XG59XG5leHBvcnQgeyBBdXRoZW50aWNhdGlvbkhlbHBlciBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgQmlnSW50ZWdlciBmcm9tICcuLi9CaWdJbnRlZ2VyL0JpZ0ludGVnZXIubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgY2FsY3VsYXRlQSA9IGFzeW5jICh7XG4gIGEsXG4gIGcsXG4gIE5cbn0pID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBnLm1vZFBvdyhhLCBOLCAoZXJyLCBBKSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoQS5tb2QoTikuZXF1YWxzKEJpZ0ludGVnZXIuWkVSTykpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignSWxsZWdhbCBwYXJhbWV0ZXIuIEEgbW9kIE4gY2Fubm90IGJlIDAuJykpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXNvbHZlKEEpO1xuICAgIH0pO1xuICB9KTtcbn07XG5leHBvcnQgeyBjYWxjdWxhdGVBIH07XG4iLCJpbXBvcnQgQXV0aGVudGljYXRpb25IZWxwZXIgZnJvbSAnLi9BdXRoZW50aWNhdGlvbkhlbHBlci9BdXRoZW50aWNhdGlvbkhlbHBlci5tanMnO1xuaW1wb3J0IEJpZ0ludGVnZXIgZnJvbSAnLi9CaWdJbnRlZ2VyL0JpZ0ludGVnZXIubWpzJztcbmltcG9ydCB7IGNhbGN1bGF0ZUEgfSBmcm9tICcuL2NhbGN1bGF0ZS9jYWxjdWxhdGVBLm1qcyc7XG5pbXBvcnQgeyBJTklUX04gfSBmcm9tICcuL2NvbnN0YW50cy5tanMnO1xuaW1wb3J0ICdAYXdzLWNyeXB0by9zaGEyNTYtanMnO1xuaW1wb3J0IHsgZ2V0SGV4RnJvbUJ5dGVzIH0gZnJvbSAnLi9nZXRIZXhGcm9tQnl0ZXMubWpzJztcbmltcG9ydCB7IGdldFJhbmRvbUJ5dGVzIH0gZnJvbSAnLi9nZXRSYW5kb21CeXRlcy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIFJldHVybnMgYSBuZXcge0BsaW5rIEF1dGhlbnRpY2F0aW9uSGVscGVyfSBpbnN0YW5jZSB3aXRoIHJhbmRvbWx5IGdlbmVyYXRlZCBCaWdJbnRlZ2VyIHNlZWRcbiAqXG4gKiBAcGFyYW0gdXNlclBvb2xOYW1lIENvZ25pdG8gdXNlciBwb29sIG5hbWUuXG4gKiBAcmV0dXJucyBBbiB7QGxpbmsgQXV0aGVudGljYXRpb25IZWxwZXJ9IGluc3RhbmNlLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBnZXRBdXRoZW50aWNhdGlvbkhlbHBlciA9IGFzeW5jIHVzZXJQb29sTmFtZSA9PiB7XG4gIGNvbnN0IE4gPSBuZXcgQmlnSW50ZWdlcihJTklUX04sIDE2KTtcbiAgY29uc3QgZyA9IG5ldyBCaWdJbnRlZ2VyKCcyJywgMTYpO1xuICBjb25zdCBhID0gZ2VuZXJhdGVSYW5kb21CaWdJbnRlZ2VyKCk7XG4gIGNvbnN0IEEgPSBhd2FpdCBjYWxjdWxhdGVBKHtcbiAgICBhLFxuICAgIGcsXG4gICAgTlxuICB9KTtcbiAgcmV0dXJuIG5ldyBBdXRoZW50aWNhdGlvbkhlbHBlcih7XG4gICAgdXNlclBvb2xOYW1lLFxuICAgIGEsXG4gICAgZyxcbiAgICBBLFxuICAgIE5cbiAgfSk7XG59O1xuLyoqXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gQmlnSW50ZWdlci5cbiAqXG4gKiBAcmV0dXJucyB7QmlnSW50ZWdlcn0gYSByYW5kb20gdmFsdWUuXG4gKi9cbmNvbnN0IGdlbmVyYXRlUmFuZG9tQmlnSW50ZWdlciA9ICgpID0+IHtcbiAgLy8gVGhpcyB3aWxsIGJlIGludGVycHJldGVkIGFzIGEgcG9zdGl2ZSAxMjgtYml0IGludGVnZXJcbiAgY29uc3QgaGV4UmFuZG9tID0gZ2V0SGV4RnJvbUJ5dGVzKGdldFJhbmRvbUJ5dGVzKDEyOCkpO1xuICAvLyBUaGVyZSBpcyBubyBuZWVkIHRvIGRvIHJhbmRvbUJpZ0ludC5tb2QodGhpcy5OIC0gMSkgYXMgTiAoMzA3Mi1iaXQpIGlzID4gMTI4IGJ5dGVzICgxMDI0LWJpdClcbiAgcmV0dXJuIG5ldyBCaWdJbnRlZ2VyKGhleFJhbmRvbSwgMTYpO1xufTtcbmV4cG9ydCB7IGdldEF1dGhlbnRpY2F0aW9uSGVscGVyIH07XG4iLCJpbXBvcnQgeyBiYXNlNjRFbmNvZGVyLCBnZXREZXZpY2VOYW1lIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL3V0aWxzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMvY29tcG9zZXJzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMnO1xuaW1wb3J0ICcuLi8uLi8uLi9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9zaGFyZWQvaGFuZGxlci9jb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvY29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uL2NvbW1vbi9BdXRoRXJyb3JTdHJpbmdzLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uL2Vycm9ycy90eXBlcy92YWxpZGF0aW9uLm1qcyc7XG5pbXBvcnQgJy4uL3R5cGVzL2Vycm9ycy5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQ29uZmlybURldmljZUNsaWVudCB9IGZyb20gJy4uLy4uLy4uL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eVByb3ZpZGVyL2NyZWF0ZUNvbmZpcm1EZXZpY2VDbGllbnQubWpzJztcbmltcG9ydCB7IGNyZWF0ZUNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIgfSBmcm9tICcuLi9mYWN0b3JpZXMvY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlci5tanMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZSc7XG5pbXBvcnQgeyBnZXRSZWdpb25Gcm9tVXNlclBvb2xJZCB9IGZyb20gJy4uLy4uLy4uL2ZvdW5kYXRpb24vcGFyc2Vycy9yZWdpb25QYXJzZXJzLm1qcyc7XG5pbXBvcnQgeyBnZXRBdXRoZW50aWNhdGlvbkhlbHBlciB9IGZyb20gJy4vc3JwL2dldEF1dGhlbnRpY2F0aW9uSGVscGVyLm1qcyc7XG5pbXBvcnQgeyBnZXRCeXRlc0Zyb21IZXggfSBmcm9tICcuL3NycC9nZXRCeXRlc0Zyb21IZXgubWpzJztcbmltcG9ydCAnQGF3cy1jcnlwdG8vc2hhMjU2LWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8ga2ljayBvZmYgdGhlIGRldmljZSBtYW5hZ2VtZW50IGZsb3cuXG4gKlxuICogSWYgYW4gZXJyb3IgaXMgdGhyb3duIHdoaWxlIGdlbmVyYXRpbmcgYSBoYXNoIGRldmljZSBvciBjYWxsaW5nIHRoZSBgQ29uZmlybURldmljZWBcbiAqIGNsaWVudCwgdGhlbiB0aGlzIEFQSSB3aWxsIGlnbm9yZSB0aGUgZXJyb3IgYW5kIHJldHVybiB1bmRlZmluZWQuIE90aGVyd2lzZSB0aGUgYXV0aGVudGljYXRpb25cbiAqIGZsb3cgd2lsbCBub3QgY29tcGxldGUgYW5kIHRoZSB1c2VyIHdvbid0IGJlIGFibGUgdG8gYmUgc2lnbmVkIGluLlxuICpcbiAqIEByZXR1cm5zIERldmljZU1ldGFkYXRhIHwgdW5kZWZpbmVkXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldE5ld0RldmljZU1ldGFkYXRhKHtcbiAgdXNlclBvb2xJZCxcbiAgdXNlclBvb2xFbmRwb2ludCxcbiAgbmV3RGV2aWNlTWV0YWRhdGEsXG4gIGFjY2Vzc1Rva2VuXG59KSB7XG4gIGlmICghbmV3RGV2aWNlTWV0YWRhdGEpIHJldHVybiB1bmRlZmluZWQ7XG4gIGNvbnN0IHVzZXJQb29sTmFtZSA9IHVzZXJQb29sSWQuc3BsaXQoJ18nKVsxXSB8fCAnJztcbiAgY29uc3QgYXV0aGVudGljYXRpb25IZWxwZXIgPSBhd2FpdCBnZXRBdXRoZW50aWNhdGlvbkhlbHBlcih1c2VyUG9vbE5hbWUpO1xuICBjb25zdCBkZXZpY2VLZXkgPSBuZXdEZXZpY2VNZXRhZGF0YT8uRGV2aWNlS2V5O1xuICBjb25zdCBkZXZpY2VHcm91cEtleSA9IG5ld0RldmljZU1ldGFkYXRhPy5EZXZpY2VHcm91cEtleTtcbiAgdHJ5IHtcbiAgICBhd2FpdCBhdXRoZW50aWNhdGlvbkhlbHBlci5nZW5lcmF0ZUhhc2hEZXZpY2UoZGV2aWNlR3JvdXBLZXkgPz8gJycsIGRldmljZUtleSA/PyAnJyk7XG4gIH0gY2F0Y2ggKGVyckdlbkhhc2gpIHtcbiAgICAvLyBUT0RPOiBsb2cgZXJyb3IgaGVyZVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgY29uc3QgZGV2aWNlU2VjcmV0VmVyaWZpZXJDb25maWcgPSB7XG4gICAgU2FsdDogYmFzZTY0RW5jb2Rlci5jb252ZXJ0KGdldEJ5dGVzRnJvbUhleChhdXRoZW50aWNhdGlvbkhlbHBlci5nZXRTYWx0VG9IYXNoRGV2aWNlcygpKSksXG4gICAgUGFzc3dvcmRWZXJpZmllcjogYmFzZTY0RW5jb2Rlci5jb252ZXJ0KGdldEJ5dGVzRnJvbUhleChhdXRoZW50aWNhdGlvbkhlbHBlci5nZXRWZXJpZmllckRldmljZXMoKSkpXG4gIH07XG4gIGNvbnN0IHJhbmRvbVBhc3N3b3JkID0gYXV0aGVudGljYXRpb25IZWxwZXIuZ2V0UmFuZG9tUGFzc3dvcmQoKTtcbiAgdHJ5IHtcbiAgICBjb25zdCBjb25maXJtRGV2aWNlID0gY3JlYXRlQ29uZmlybURldmljZUNsaWVudCh7XG4gICAgICBlbmRwb2ludFJlc29sdmVyOiBjcmVhdGVDb2duaXRvVXNlclBvb2xFbmRwb2ludFJlc29sdmVyKHtcbiAgICAgICAgZW5kcG9pbnRPdmVycmlkZTogdXNlclBvb2xFbmRwb2ludFxuICAgICAgfSlcbiAgICB9KTtcbiAgICBhd2FpdCBjb25maXJtRGV2aWNlKHtcbiAgICAgIHJlZ2lvbjogZ2V0UmVnaW9uRnJvbVVzZXJQb29sSWQodXNlclBvb2xJZClcbiAgICB9LCB7XG4gICAgICBBY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW4sXG4gICAgICBEZXZpY2VOYW1lOiBhd2FpdCBnZXREZXZpY2VOYW1lKCksXG4gICAgICBEZXZpY2VLZXk6IG5ld0RldmljZU1ldGFkYXRhPy5EZXZpY2VLZXksXG4gICAgICBEZXZpY2VTZWNyZXRWZXJpZmllckNvbmZpZzogZGV2aWNlU2VjcmV0VmVyaWZpZXJDb25maWdcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgZGV2aWNlS2V5LFxuICAgICAgZGV2aWNlR3JvdXBLZXksXG4gICAgICByYW5kb21QYXNzd29yZFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gVE9ETzogbG9nIGVycm9yIGhlcmVcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5leHBvcnQgeyBnZXROZXdEZXZpY2VNZXRhZGF0YSB9O1xuIiwiaW1wb3J0IHsgQW1wbGlmeSB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlJztcbmltcG9ydCB7IGFzc2VydFRva2VuUHJvdmlkZXJDb25maWcsIEF1dGhBY3Rpb24gfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZXMgfSBmcm9tICcuLi8uLi8uLi9jb21tb24vQXV0aEVycm9yU3RyaW5ncy5tanMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscy9jb21wb3NlcnMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscyc7XG5pbXBvcnQgeyBBdXRoRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvcnMvQXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eVByb3ZpZGVyL3NoYXJlZC9oYW5kbGVyL2NvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlci5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9jb25zdGFudHMubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vZXJyb3JzL3R5cGVzL3ZhbGlkYXRpb24ubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vcHJvdmlkZXJzL2NvZ25pdG8vdHlwZXMvZXJyb3JzLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVSZXNwb25kVG9BdXRoQ2hhbGxlbmdlQ2xpZW50IH0gZnJvbSAnLi4vLi4vLi4vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvY3JlYXRlUmVzcG9uZFRvQXV0aENoYWxsZW5nZUNsaWVudC5tanMnO1xuaW1wb3J0IHsgZ2V0UmVnaW9uRnJvbVVzZXJQb29sSWQgfSBmcm9tICcuLi8uLi8uLi9mb3VuZGF0aW9uL3BhcnNlcnMvcmVnaW9uUGFyc2Vycy5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlciB9IGZyb20gJy4uLy4uLy4uL3Byb3ZpZGVycy9jb2duaXRvL2ZhY3Rvcmllcy9jcmVhdGVDb2duaXRvVXNlclBvb2xFbmRwb2ludFJlc29sdmVyLm1qcyc7XG5pbXBvcnQgeyBjYWNoZUNvZ25pdG9Ub2tlbnMgfSBmcm9tICcuLi8uLi8uLi9wcm92aWRlcnMvY29nbml0by90b2tlblByb3ZpZGVyL2NhY2hlVG9rZW5zLm1qcyc7XG5pbXBvcnQgeyBkaXNwYXRjaFNpZ25lZEluSHViRXZlbnQgfSBmcm9tICcuLi8uLi8uLi9wcm92aWRlcnMvY29nbml0by91dGlscy9kaXNwYXRjaFNpZ25lZEluSHViRXZlbnQubWpzJztcbmltcG9ydCAnLi4vLi4vdXRpbHMvc3RvcmUvYXV0b1NpZ25JblN0b3JlLm1qcyc7XG5pbXBvcnQgeyBzaWduSW5TdG9yZSwgc2V0QWN0aXZlU2lnbkluU3RhdGUgfSBmcm9tICcuLi8uLi91dGlscy9zdG9yZS9zaWduSW5TdG9yZS5tanMnO1xuaW1wb3J0IHsgZ2V0QXV0aFVzZXJBZ2VudFZhbHVlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZ2V0QXV0aFVzZXJBZ2VudFZhbHVlLm1qcyc7XG5pbXBvcnQgeyBhc3NlcnRQYXNza2V5RXJyb3IsIFBhc3NrZXlFcnJvckNvZGUgfSBmcm9tICcuLi8uLi91dGlscy9wYXNza2V5L2Vycm9ycy5tanMnO1xuaW1wb3J0IHsgZ2V0UGFzc2tleSB9IGZyb20gJy4uLy4uL3V0aWxzL3Bhc3NrZXkvZ2V0UGFzc2tleS5tanMnO1xuaW1wb3J0IHsgZ2V0TmV3RGV2aWNlTWV0YWRhdGEgfSBmcm9tICcuLi8uLi8uLi9wcm92aWRlcnMvY29nbml0by91dGlscy9nZXROZXdEZXZpY2VNZXRhZGF0YS5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVXZWJBdXRoblNpZ25JblJlc3VsdChjaGFsbGVuZ2VQYXJhbWV0ZXJzKSB7XG4gIGNvbnN0IGF1dGhDb25maWcgPSBBbXBsaWZ5LmdldENvbmZpZygpLkF1dGg/LkNvZ25pdG87XG4gIGFzc2VydFRva2VuUHJvdmlkZXJDb25maWcoYXV0aENvbmZpZyk7XG4gIGNvbnN0IHtcbiAgICB1c2VybmFtZSxcbiAgICBzaWduSW5TZXNzaW9uLFxuICAgIHNpZ25JbkRldGFpbHMsXG4gICAgY2hhbGxlbmdlTmFtZVxuICB9ID0gc2lnbkluU3RvcmUuZ2V0U3RhdGUoKTtcbiAgaWYgKGNoYWxsZW5nZU5hbWUgIT09ICdXRUJfQVVUSE4nIHx8ICF1c2VybmFtZSkge1xuICAgIHRocm93IG5ldyBBdXRoRXJyb3Ioe1xuICAgICAgbmFtZTogQXV0aEVycm9yQ29kZXMuU2lnbkluRXhjZXB0aW9uLFxuICAgICAgbWVzc2FnZTogJ1VuYWJsZSB0byBwcm9jZWVkIGR1ZSB0byBpbnZhbGlkIHNpZ24gaW4gc3RhdGUuJ1xuICAgIH0pO1xuICB9XG4gIGNvbnN0IHtcbiAgICBDUkVERU5USUFMX1JFUVVFU1RfT1BUSU9OUzogY3JlZGVudGlhbFJlcXVlc3RPcHRpb25zXG4gIH0gPSBjaGFsbGVuZ2VQYXJhbWV0ZXJzO1xuICBhc3NlcnRQYXNza2V5RXJyb3IoISFjcmVkZW50aWFsUmVxdWVzdE9wdGlvbnMsIFBhc3NrZXlFcnJvckNvZGUuSW52YWxpZFBhc3NrZXlBdXRoZW50aWNhdGlvbk9wdGlvbnMpO1xuICBjb25zdCBjcmVkID0gYXdhaXQgZ2V0UGFzc2tleShKU09OLnBhcnNlKGNyZWRlbnRpYWxSZXF1ZXN0T3B0aW9ucykpO1xuICBjb25zdCByZXNwb25kVG9BdXRoQ2hhbGxlbmdlID0gY3JlYXRlUmVzcG9uZFRvQXV0aENoYWxsZW5nZUNsaWVudCh7XG4gICAgZW5kcG9pbnRSZXNvbHZlcjogY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlcih7XG4gICAgICBlbmRwb2ludE92ZXJyaWRlOiBhdXRoQ29uZmlnLnVzZXJQb29sRW5kcG9pbnRcbiAgICB9KVxuICB9KTtcbiAgY29uc3Qge1xuICAgIENoYWxsZW5nZU5hbWU6IG5leHRDaGFsbGVuZ2VOYW1lLFxuICAgIENoYWxsZW5nZVBhcmFtZXRlcnM6IG5leHRDaGFsbGVuZ2VQYXJhbWV0ZXJzLFxuICAgIEF1dGhlbnRpY2F0aW9uUmVzdWx0OiBhdXRoZW50aWNhdGlvblJlc3VsdCxcbiAgICBTZXNzaW9uOiBuZXh0U2Vzc2lvblxuICB9ID0gYXdhaXQgcmVzcG9uZFRvQXV0aENoYWxsZW5nZSh7XG4gICAgcmVnaW9uOiBnZXRSZWdpb25Gcm9tVXNlclBvb2xJZChhdXRoQ29uZmlnLnVzZXJQb29sSWQpLFxuICAgIHVzZXJBZ2VudFZhbHVlOiBnZXRBdXRoVXNlckFnZW50VmFsdWUoQXV0aEFjdGlvbi5Db25maXJtU2lnbkluKVxuICB9LCB7XG4gICAgQ2hhbGxlbmdlTmFtZTogJ1dFQl9BVVRITicsXG4gICAgQ2hhbGxlbmdlUmVzcG9uc2VzOiB7XG4gICAgICBVU0VSTkFNRTogdXNlcm5hbWUsXG4gICAgICBDUkVERU5USUFMOiBKU09OLnN0cmluZ2lmeShjcmVkKVxuICAgIH0sXG4gICAgQ2xpZW50SWQ6IGF1dGhDb25maWcudXNlclBvb2xDbGllbnRJZCxcbiAgICBTZXNzaW9uOiBzaWduSW5TZXNzaW9uXG4gIH0pO1xuICBzZXRBY3RpdmVTaWduSW5TdGF0ZSh7XG4gICAgc2lnbkluU2Vzc2lvbjogbmV4dFNlc3Npb24sXG4gICAgdXNlcm5hbWUsXG4gICAgY2hhbGxlbmdlTmFtZTogbmV4dENoYWxsZW5nZU5hbWUsXG4gICAgc2lnbkluRGV0YWlsc1xuICB9KTtcbiAgaWYgKGF1dGhlbnRpY2F0aW9uUmVzdWx0KSB7XG4gICAgYXdhaXQgY2FjaGVDb2duaXRvVG9rZW5zKHtcbiAgICAgIC4uLmF1dGhlbnRpY2F0aW9uUmVzdWx0LFxuICAgICAgdXNlcm5hbWUsXG4gICAgICBOZXdEZXZpY2VNZXRhZGF0YTogYXdhaXQgZ2V0TmV3RGV2aWNlTWV0YWRhdGEoe1xuICAgICAgICB1c2VyUG9vbElkOiBhdXRoQ29uZmlnLnVzZXJQb29sSWQsXG4gICAgICAgIHVzZXJQb29sRW5kcG9pbnQ6IGF1dGhDb25maWcudXNlclBvb2xFbmRwb2ludCxcbiAgICAgICAgbmV3RGV2aWNlTWV0YWRhdGE6IGF1dGhlbnRpY2F0aW9uUmVzdWx0Lk5ld0RldmljZU1ldGFkYXRhLFxuICAgICAgICBhY2Nlc3NUb2tlbjogYXV0aGVudGljYXRpb25SZXN1bHQuQWNjZXNzVG9rZW5cbiAgICAgIH0pLFxuICAgICAgc2lnbkluRGV0YWlsc1xuICAgIH0pO1xuICAgIHNpZ25JblN0b3JlLmRpc3BhdGNoKHtcbiAgICAgIHR5cGU6ICdSRVNFVF9TVEFURSdcbiAgICB9KTtcbiAgICBhd2FpdCBkaXNwYXRjaFNpZ25lZEluSHViRXZlbnQoKTtcbiAgICByZXR1cm4ge1xuICAgICAgaXNTaWduZWRJbjogdHJ1ZSxcbiAgICAgIG5leHRTdGVwOiB7XG4gICAgICAgIHNpZ25JblN0ZXA6ICdET05FJ1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgaWYgKG5leHRDaGFsbGVuZ2VOYW1lID09PSAnV0VCX0FVVEhOJykge1xuICAgIHRocm93IG5ldyBBdXRoRXJyb3Ioe1xuICAgICAgbmFtZTogQXV0aEVycm9yQ29kZXMuU2lnbkluRXhjZXB0aW9uLFxuICAgICAgbWVzc2FnZTogJ1NlcXVlbnRpYWwgV0VCX0FVVEhOIGNoYWxsZW5nZXMgcmV0dXJuZWQgZnJvbSB1bmRlcmx5aW5nIHNlcnZpY2UgY2Fubm90IGJlIGhhbmRsZWQuJ1xuICAgIH0pO1xuICB9XG4gIHJldHVybiB7XG4gICAgY2hhbGxlbmdlTmFtZTogbmV4dENoYWxsZW5nZU5hbWUsXG4gICAgY2hhbGxlbmdlUGFyYW1ldGVyczogbmV4dENoYWxsZW5nZVBhcmFtZXRlcnNcbiAgfTtcbn1cbmV4cG9ydCB7IGhhbmRsZVdlYkF1dGhuU2lnbkluUmVzdWx0IH07XG4iLCIvLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBNT05USF9OQU1FUyA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLCAnT2N0JywgJ05vdicsICdEZWMnXTtcbmNvbnN0IFdFRUtfTkFNRVMgPSBbJ1N1bicsICdNb24nLCAnVHVlJywgJ1dlZCcsICdUaHUnLCAnRnJpJywgJ1NhdCddO1xuY29uc3QgZ2V0Tm93U3RyaW5nID0gKCkgPT4ge1xuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICBjb25zdCB3ZWVrRGF5ID0gV0VFS19OQU1FU1tub3cuZ2V0VVRDRGF5KCldO1xuICBjb25zdCBtb250aCA9IE1PTlRIX05BTUVTW25vdy5nZXRVVENNb250aCgpXTtcbiAgY29uc3QgZGF5ID0gbm93LmdldFVUQ0RhdGUoKTtcbiAgbGV0IGhvdXJzID0gbm93LmdldFVUQ0hvdXJzKCk7XG4gIGlmIChob3VycyA8IDEwKSB7XG4gICAgaG91cnMgPSBgMCR7aG91cnN9YDtcbiAgfVxuICBsZXQgbWludXRlcyA9IG5vdy5nZXRVVENNaW51dGVzKCk7XG4gIGlmIChtaW51dGVzIDwgMTApIHtcbiAgICBtaW51dGVzID0gYDAke21pbnV0ZXN9YDtcbiAgfVxuICBsZXQgc2Vjb25kcyA9IG5vdy5nZXRVVENTZWNvbmRzKCk7XG4gIGlmIChzZWNvbmRzIDwgMTApIHtcbiAgICBzZWNvbmRzID0gYDAke3NlY29uZHN9YDtcbiAgfVxuICBjb25zdCB5ZWFyID0gbm93LmdldFVUQ0Z1bGxZZWFyKCk7XG4gIC8vIGRkZCBNTU0gRCBISDptbTpzcyBVVEMgWVlZWVxuICBjb25zdCBkYXRlTm93ID0gYCR7d2Vla0RheX0gJHttb250aH0gJHtkYXl9ICR7aG91cnN9OiR7bWludXRlc306JHtzZWNvbmRzfSBVVEMgJHt5ZWFyfWA7XG4gIHJldHVybiBkYXRlTm93O1xufTtcbmV4cG9ydCB7IGdldE5vd1N0cmluZyB9O1xuIiwiaW1wb3J0IHsgU2hhMjU2IH0gZnJvbSAnQGF3cy1jcnlwdG8vc2hhMjU2LWpzJztcbmltcG9ydCB7IGJhc2U2NEVuY29kZXIsIGJhc2U2NERlY29kZXIgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuaW1wb3J0IHsgdGV4dEVuY29kZXIgfSBmcm9tICcuLi90ZXh0RW5jb2Rlci9pbmRleC5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBnZXRTaWduYXR1cmVTdHJpbmcgPSAoe1xuICB1c2VyUG9vbE5hbWUsXG4gIHVzZXJuYW1lLFxuICBjaGFsbGVuZ2VQYXJhbWV0ZXJzLFxuICBkYXRlTm93LFxuICBoa2RmXG59KSA9PiB7XG4gIGNvbnN0IGJ1ZlVQSURhVG9CID0gdGV4dEVuY29kZXIuY29udmVydCh1c2VyUG9vbE5hbWUpO1xuICBjb25zdCBidWZVTmFUb0IgPSB0ZXh0RW5jb2Rlci5jb252ZXJ0KHVzZXJuYW1lKTtcbiAgY29uc3QgYnVmU0JhVG9CID0gdXJsQjY0VG9VaW50OEFycmF5KGNoYWxsZW5nZVBhcmFtZXRlcnMuU0VDUkVUX0JMT0NLKTtcbiAgY29uc3QgYnVmRE5hVG9CID0gdGV4dEVuY29kZXIuY29udmVydChkYXRlTm93KTtcbiAgY29uc3QgYnVmQ29uY2F0ID0gbmV3IFVpbnQ4QXJyYXkoYnVmVVBJRGFUb0IuYnl0ZUxlbmd0aCArIGJ1ZlVOYVRvQi5ieXRlTGVuZ3RoICsgYnVmU0JhVG9CLmJ5dGVMZW5ndGggKyBidWZETmFUb0IuYnl0ZUxlbmd0aCk7XG4gIGJ1ZkNvbmNhdC5zZXQoYnVmVVBJRGFUb0IsIDApO1xuICBidWZDb25jYXQuc2V0KGJ1ZlVOYVRvQiwgYnVmVVBJRGFUb0IuYnl0ZUxlbmd0aCk7XG4gIGJ1ZkNvbmNhdC5zZXQoYnVmU0JhVG9CLCBidWZVUElEYVRvQi5ieXRlTGVuZ3RoICsgYnVmVU5hVG9CLmJ5dGVMZW5ndGgpO1xuICBidWZDb25jYXQuc2V0KGJ1ZkROYVRvQiwgYnVmVVBJRGFUb0IuYnl0ZUxlbmd0aCArIGJ1ZlVOYVRvQi5ieXRlTGVuZ3RoICsgYnVmU0JhVG9CLmJ5dGVMZW5ndGgpO1xuICBjb25zdCBhd3NDcnlwdG9IYXNoID0gbmV3IFNoYTI1Nihoa2RmKTtcbiAgYXdzQ3J5cHRvSGFzaC51cGRhdGUoYnVmQ29uY2F0KTtcbiAgY29uc3QgcmVzdWx0RnJvbUFXU0NyeXB0byA9IGF3c0NyeXB0b0hhc2guZGlnZXN0U3luYygpO1xuICBjb25zdCBzaWduYXR1cmVTdHJpbmcgPSBiYXNlNjRFbmNvZGVyLmNvbnZlcnQocmVzdWx0RnJvbUFXU0NyeXB0byk7XG4gIHJldHVybiBzaWduYXR1cmVTdHJpbmc7XG59O1xuY29uc3QgdXJsQjY0VG9VaW50OEFycmF5ID0gYmFzZTY0U3RyaW5nID0+IHtcbiAgY29uc3QgcGFkZGluZyA9ICc9Jy5yZXBlYXQoKDQgLSBiYXNlNjRTdHJpbmcubGVuZ3RoICUgNCkgJSA0KTtcbiAgY29uc3QgYmFzZTY0ID0gKGJhc2U2NFN0cmluZyArIHBhZGRpbmcpLnJlcGxhY2UoLy0vZywgJysnKS5yZXBsYWNlKC9fL2csICcvJyk7XG4gIGNvbnN0IHJhd0RhdGEgPSBiYXNlNjREZWNvZGVyLmNvbnZlcnQoYmFzZTY0KTtcbiAgY29uc3Qgb3V0cHV0QXJyYXkgPSBuZXcgVWludDhBcnJheShyYXdEYXRhLmxlbmd0aCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmF3RGF0YS5sZW5ndGg7ICsraSkge1xuICAgIG91dHB1dEFycmF5W2ldID0gcmF3RGF0YS5jaGFyQ29kZUF0KGkpO1xuICB9XG4gIHJldHVybiBvdXRwdXRBcnJheTtcbn07XG5leHBvcnQgeyBnZXRTaWduYXR1cmVTdHJpbmcgfTtcbiIsImltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMvY29tcG9zZXJzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuaW1wb3J0ICcuLi8uLi8uLi9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9zaGFyZWQvaGFuZGxlci9jb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvY29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uL2NvbW1vbi9BdXRoRXJyb3JTdHJpbmdzLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uL2Vycm9ycy90eXBlcy92YWxpZGF0aW9uLm1qcyc7XG5pbXBvcnQgJy4uL3R5cGVzL2Vycm9ycy5tanMnO1xuaW1wb3J0IHsgY3JlYXRlUmVzcG9uZFRvQXV0aENoYWxsZW5nZUNsaWVudCB9IGZyb20gJy4uLy4uLy4uL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eVByb3ZpZGVyL2NyZWF0ZVJlc3BvbmRUb0F1dGhDaGFsbGVuZ2VDbGllbnQubWpzJztcbmltcG9ydCB7IGNyZWF0ZUNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIgfSBmcm9tICcuLi9mYWN0b3JpZXMvY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlci5tanMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZSc7XG5pbXBvcnQgeyBnZXRSZWdpb25Gcm9tVXNlclBvb2xJZCB9IGZyb20gJy4uLy4uLy4uL2ZvdW5kYXRpb24vcGFyc2Vycy9yZWdpb25QYXJzZXJzLm1qcyc7XG5pbXBvcnQgeyBhc3NlcnREZXZpY2VNZXRhZGF0YSB9IGZyb20gJy4vdHlwZXMubWpzJztcbmltcG9ydCB7IGdldEF1dGhlbnRpY2F0aW9uSGVscGVyIH0gZnJvbSAnLi9zcnAvZ2V0QXV0aGVudGljYXRpb25IZWxwZXIubWpzJztcbmltcG9ydCAnLi9zcnAvY29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyBnZXROb3dTdHJpbmcgfSBmcm9tICcuL3NycC9nZXROb3dTdHJpbmcubWpzJztcbmltcG9ydCB7IGdldFNpZ25hdHVyZVN0cmluZyB9IGZyb20gJy4vc3JwL2dldFNpZ25hdHVyZVN0cmluZy5tanMnO1xuaW1wb3J0IEJpZ0ludGVnZXIgZnJvbSAnLi9zcnAvQmlnSW50ZWdlci9CaWdJbnRlZ2VyLm1qcyc7XG5pbXBvcnQgeyBnZXRVc2VyQ29udGV4dERhdGEgfSBmcm9tICcuL3VzZXJDb250ZXh0RGF0YS5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVEZXZpY2VTUlBBdXRoKHtcbiAgdXNlcm5hbWUsXG4gIGNvbmZpZyxcbiAgY2xpZW50TWV0YWRhdGEsXG4gIHNlc3Npb24sXG4gIHRva2VuT3JjaGVzdHJhdG9yXG59KSB7XG4gIGNvbnN0IHtcbiAgICB1c2VyUG9vbElkLFxuICAgIHVzZXJQb29sRW5kcG9pbnRcbiAgfSA9IGNvbmZpZztcbiAgY29uc3QgY2xpZW50SWQgPSBjb25maWcudXNlclBvb2xDbGllbnRJZDtcbiAgY29uc3QgZGV2aWNlTWV0YWRhdGEgPSBhd2FpdCB0b2tlbk9yY2hlc3RyYXRvcj8uZ2V0RGV2aWNlTWV0YWRhdGEodXNlcm5hbWUpO1xuICBhc3NlcnREZXZpY2VNZXRhZGF0YShkZXZpY2VNZXRhZGF0YSk7XG4gIGNvbnN0IGF1dGhlbnRpY2F0aW9uSGVscGVyID0gYXdhaXQgZ2V0QXV0aGVudGljYXRpb25IZWxwZXIoZGV2aWNlTWV0YWRhdGEuZGV2aWNlR3JvdXBLZXkpO1xuICBjb25zdCBjaGFsbGVuZ2VSZXNwb25zZXMgPSB7XG4gICAgVVNFUk5BTUU6IHVzZXJuYW1lLFxuICAgIFNSUF9BOiBhdXRoZW50aWNhdGlvbkhlbHBlci5BLnRvU3RyaW5nKDE2KSxcbiAgICBERVZJQ0VfS0VZOiBkZXZpY2VNZXRhZGF0YS5kZXZpY2VLZXlcbiAgfTtcbiAgY29uc3QganNvblJlcVJlc3BvbnNlQ2hhbGxlbmdlID0ge1xuICAgIENoYWxsZW5nZU5hbWU6ICdERVZJQ0VfU1JQX0FVVEgnLFxuICAgIENsaWVudElkOiBjbGllbnRJZCxcbiAgICBDaGFsbGVuZ2VSZXNwb25zZXM6IGNoYWxsZW5nZVJlc3BvbnNlcyxcbiAgICBDbGllbnRNZXRhZGF0YTogY2xpZW50TWV0YWRhdGEsXG4gICAgU2Vzc2lvbjogc2Vzc2lvblxuICB9O1xuICBjb25zdCByZXNwb25kVG9BdXRoQ2hhbGxlbmdlID0gY3JlYXRlUmVzcG9uZFRvQXV0aENoYWxsZW5nZUNsaWVudCh7XG4gICAgZW5kcG9pbnRSZXNvbHZlcjogY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlcih7XG4gICAgICBlbmRwb2ludE92ZXJyaWRlOiB1c2VyUG9vbEVuZHBvaW50XG4gICAgfSlcbiAgfSk7XG4gIGNvbnN0IHtcbiAgICBDaGFsbGVuZ2VQYXJhbWV0ZXJzOiByZXNwb25kZWRDaGFsbGVuZ2VQYXJhbWV0ZXJzLFxuICAgIFNlc3Npb25cbiAgfSA9IGF3YWl0IHJlc3BvbmRUb0F1dGhDaGFsbGVuZ2Uoe1xuICAgIHJlZ2lvbjogZ2V0UmVnaW9uRnJvbVVzZXJQb29sSWQodXNlclBvb2xJZClcbiAgfSwganNvblJlcVJlc3BvbnNlQ2hhbGxlbmdlKTtcbiAgcmV0dXJuIGhhbmRsZURldmljZVBhc3N3b3JkVmVyaWZpZXIodXNlcm5hbWUsIHJlc3BvbmRlZENoYWxsZW5nZVBhcmFtZXRlcnMsIGNsaWVudE1ldGFkYXRhLCBTZXNzaW9uLCBhdXRoZW50aWNhdGlvbkhlbHBlciwgY29uZmlnLCB0b2tlbk9yY2hlc3RyYXRvcik7XG59XG5hc3luYyBmdW5jdGlvbiBoYW5kbGVEZXZpY2VQYXNzd29yZFZlcmlmaWVyKHVzZXJuYW1lLCBjaGFsbGVuZ2VQYXJhbWV0ZXJzLCBjbGllbnRNZXRhZGF0YSwgc2Vzc2lvbiwgYXV0aGVudGljYXRpb25IZWxwZXIsIHtcbiAgdXNlclBvb2xJZCxcbiAgdXNlclBvb2xDbGllbnRJZCxcbiAgdXNlclBvb2xFbmRwb2ludFxufSwgdG9rZW5PcmNoZXN0cmF0b3IpIHtcbiAgY29uc3QgZGV2aWNlTWV0YWRhdGEgPSBhd2FpdCB0b2tlbk9yY2hlc3RyYXRvcj8uZ2V0RGV2aWNlTWV0YWRhdGEodXNlcm5hbWUpO1xuICBhc3NlcnREZXZpY2VNZXRhZGF0YShkZXZpY2VNZXRhZGF0YSk7XG4gIGNvbnN0IHNlcnZlckJWYWx1ZSA9IG5ldyBCaWdJbnRlZ2VyKGNoYWxsZW5nZVBhcmFtZXRlcnM/LlNSUF9CLCAxNik7XG4gIGNvbnN0IHNhbHQgPSBuZXcgQmlnSW50ZWdlcihjaGFsbGVuZ2VQYXJhbWV0ZXJzPy5TQUxULCAxNik7XG4gIGNvbnN0IHtcbiAgICBkZXZpY2VLZXlcbiAgfSA9IGRldmljZU1ldGFkYXRhO1xuICBjb25zdCB7XG4gICAgZGV2aWNlR3JvdXBLZXlcbiAgfSA9IGRldmljZU1ldGFkYXRhO1xuICBjb25zdCBoa2RmID0gYXdhaXQgYXV0aGVudGljYXRpb25IZWxwZXIuZ2V0UGFzc3dvcmRBdXRoZW50aWNhdGlvbktleSh7XG4gICAgdXNlcm5hbWU6IGRldmljZU1ldGFkYXRhLmRldmljZUtleSxcbiAgICBwYXNzd29yZDogZGV2aWNlTWV0YWRhdGEucmFuZG9tUGFzc3dvcmQsXG4gICAgc2VydmVyQlZhbHVlLFxuICAgIHNhbHRcbiAgfSk7XG4gIGNvbnN0IGRhdGVOb3cgPSBnZXROb3dTdHJpbmcoKTtcbiAgY29uc3QgY2hhbGxlbmdlUmVzcG9uc2VzID0ge1xuICAgIFVTRVJOQU1FOiBjaGFsbGVuZ2VQYXJhbWV0ZXJzPy5VU0VSTkFNRSA/PyB1c2VybmFtZSxcbiAgICBQQVNTV09SRF9DTEFJTV9TRUNSRVRfQkxPQ0s6IGNoYWxsZW5nZVBhcmFtZXRlcnM/LlNFQ1JFVF9CTE9DSyxcbiAgICBUSU1FU1RBTVA6IGRhdGVOb3csXG4gICAgUEFTU1dPUkRfQ0xBSU1fU0lHTkFUVVJFOiBnZXRTaWduYXR1cmVTdHJpbmcoe1xuICAgICAgdXNlcm5hbWU6IGRldmljZUtleSxcbiAgICAgIHVzZXJQb29sTmFtZTogZGV2aWNlR3JvdXBLZXksXG4gICAgICBjaGFsbGVuZ2VQYXJhbWV0ZXJzLFxuICAgICAgZGF0ZU5vdyxcbiAgICAgIGhrZGZcbiAgICB9KSxcbiAgICBERVZJQ0VfS0VZOiBkZXZpY2VLZXlcbiAgfTtcbiAgY29uc3QgVXNlckNvbnRleHREYXRhID0gZ2V0VXNlckNvbnRleHREYXRhKHtcbiAgICB1c2VybmFtZSxcbiAgICB1c2VyUG9vbElkLFxuICAgIHVzZXJQb29sQ2xpZW50SWRcbiAgfSk7XG4gIGNvbnN0IGpzb25SZXFSZXNwb25zZUNoYWxsZW5nZSA9IHtcbiAgICBDaGFsbGVuZ2VOYW1lOiAnREVWSUNFX1BBU1NXT1JEX1ZFUklGSUVSJyxcbiAgICBDbGllbnRJZDogdXNlclBvb2xDbGllbnRJZCxcbiAgICBDaGFsbGVuZ2VSZXNwb25zZXM6IGNoYWxsZW5nZVJlc3BvbnNlcyxcbiAgICBTZXNzaW9uOiBzZXNzaW9uLFxuICAgIENsaWVudE1ldGFkYXRhOiBjbGllbnRNZXRhZGF0YSxcbiAgICBVc2VyQ29udGV4dERhdGFcbiAgfTtcbiAgY29uc3QgcmVzcG9uZFRvQXV0aENoYWxsZW5nZSA9IGNyZWF0ZVJlc3BvbmRUb0F1dGhDaGFsbGVuZ2VDbGllbnQoe1xuICAgIGVuZHBvaW50UmVzb2x2ZXI6IGNyZWF0ZUNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIoe1xuICAgICAgZW5kcG9pbnRPdmVycmlkZTogdXNlclBvb2xFbmRwb2ludFxuICAgIH0pXG4gIH0pO1xuICByZXR1cm4gcmVzcG9uZFRvQXV0aENoYWxsZW5nZSh7XG4gICAgcmVnaW9uOiBnZXRSZWdpb25Gcm9tVXNlclBvb2xJZCh1c2VyUG9vbElkKVxuICB9LCBqc29uUmVxUmVzcG9uc2VDaGFsbGVuZ2UpO1xufVxuZXhwb3J0IHsgaGFuZGxlRGV2aWNlU1JQQXV0aCB9O1xuIiwiaW1wb3J0IHsgQXV0aEVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3JzL0F1dGhFcnJvci5tanMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscy9jb21wb3NlcnMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5pbXBvcnQgJy4uLy4uLy4uL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eVByb3ZpZGVyL3NoYXJlZC9oYW5kbGVyL2NvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlci5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9jb25zdGFudHMubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vY29tbW9uL0F1dGhFcnJvclN0cmluZ3MubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vZXJyb3JzL3R5cGVzL3ZhbGlkYXRpb24ubWpzJztcbmltcG9ydCAnLi4vdHlwZXMvZXJyb3JzLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVSZXNwb25kVG9BdXRoQ2hhbGxlbmdlQ2xpZW50IH0gZnJvbSAnLi4vLi4vLi4vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvY3JlYXRlUmVzcG9uZFRvQXV0aENoYWxsZW5nZUNsaWVudC5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlciB9IGZyb20gJy4uL2ZhY3Rvcmllcy9jcmVhdGVDb2duaXRvVXNlclBvb2xFbmRwb2ludFJlc29sdmVyLm1qcyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlJztcbmltcG9ydCB7IGdldFJlZ2lvbkZyb21Vc2VyUG9vbElkIH0gZnJvbSAnLi4vLi4vLi4vZm91bmRhdGlvbi9wYXJzZXJzL3JlZ2lvblBhcnNlcnMubWpzJztcbmltcG9ydCBCaWdJbnRlZ2VyIGZyb20gJy4vc3JwL0JpZ0ludGVnZXIvQmlnSW50ZWdlci5tanMnO1xuaW1wb3J0ICcuL3NycC9jb25zdGFudHMubWpzJztcbmltcG9ydCAnQGF3cy1jcnlwdG8vc2hhMjU2LWpzJztcbmltcG9ydCB7IGdldE5vd1N0cmluZyB9IGZyb20gJy4vc3JwL2dldE5vd1N0cmluZy5tanMnO1xuaW1wb3J0IHsgZ2V0U2lnbmF0dXJlU3RyaW5nIH0gZnJvbSAnLi9zcnAvZ2V0U2lnbmF0dXJlU3RyaW5nLm1qcyc7XG5pbXBvcnQgeyBnZXRVc2VyQ29udGV4dERhdGEgfSBmcm9tICcuL3VzZXJDb250ZXh0RGF0YS5tanMnO1xuaW1wb3J0IHsgaGFuZGxlRGV2aWNlU1JQQXV0aCB9IGZyb20gJy4vaGFuZGxlRGV2aWNlU1JQQXV0aC5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVQYXNzd29yZFZlcmlmaWVyQ2hhbGxlbmdlKHBhc3N3b3JkLCBjaGFsbGVuZ2VQYXJhbWV0ZXJzLCBjbGllbnRNZXRhZGF0YSwgc2Vzc2lvbiwgYXV0aGVudGljYXRpb25IZWxwZXIsIGNvbmZpZywgdG9rZW5PcmNoZXN0cmF0b3IpIHtcbiAgY29uc3Qge1xuICAgIHVzZXJQb29sSWQsXG4gICAgdXNlclBvb2xDbGllbnRJZCxcbiAgICB1c2VyUG9vbEVuZHBvaW50XG4gIH0gPSBjb25maWc7XG4gIGNvbnN0IHVzZXJQb29sTmFtZSA9IHVzZXJQb29sSWQ/LnNwbGl0KCdfJylbMV0gfHwgJyc7XG4gIGNvbnN0IHNlcnZlckJWYWx1ZSA9IG5ldyBCaWdJbnRlZ2VyKGNoYWxsZW5nZVBhcmFtZXRlcnM/LlNSUF9CLCAxNik7XG4gIGNvbnN0IHNhbHQgPSBuZXcgQmlnSW50ZWdlcihjaGFsbGVuZ2VQYXJhbWV0ZXJzPy5TQUxULCAxNik7XG4gIGNvbnN0IHVzZXJuYW1lID0gY2hhbGxlbmdlUGFyYW1ldGVycz8uVVNFUl9JRF9GT1JfU1JQO1xuICBpZiAoIXVzZXJuYW1lKSB0aHJvdyBuZXcgQXV0aEVycm9yKHtcbiAgICBuYW1lOiAnRW1wdHlVc2VySWRGb3JTUlBFeGNlcHRpb24nLFxuICAgIG1lc3NhZ2U6ICdVU0VSX0lEX0ZPUl9TUlAgd2FzIG5vdCBmb3VuZCBpbiBjaGFsbGVuZ2VQYXJhbWV0ZXJzJ1xuICB9KTtcbiAgY29uc3QgaGtkZiA9IGF3YWl0IGF1dGhlbnRpY2F0aW9uSGVscGVyLmdldFBhc3N3b3JkQXV0aGVudGljYXRpb25LZXkoe1xuICAgIHVzZXJuYW1lLFxuICAgIHBhc3N3b3JkLFxuICAgIHNlcnZlckJWYWx1ZSxcbiAgICBzYWx0XG4gIH0pO1xuICBjb25zdCBkYXRlTm93ID0gZ2V0Tm93U3RyaW5nKCk7XG4gIGNvbnN0IGNoYWxsZW5nZVJlc3BvbnNlcyA9IHtcbiAgICBVU0VSTkFNRTogdXNlcm5hbWUsXG4gICAgUEFTU1dPUkRfQ0xBSU1fU0VDUkVUX0JMT0NLOiBjaGFsbGVuZ2VQYXJhbWV0ZXJzPy5TRUNSRVRfQkxPQ0ssXG4gICAgVElNRVNUQU1QOiBkYXRlTm93LFxuICAgIFBBU1NXT1JEX0NMQUlNX1NJR05BVFVSRTogZ2V0U2lnbmF0dXJlU3RyaW5nKHtcbiAgICAgIHVzZXJuYW1lLFxuICAgICAgdXNlclBvb2xOYW1lLFxuICAgICAgY2hhbGxlbmdlUGFyYW1ldGVycyxcbiAgICAgIGRhdGVOb3csXG4gICAgICBoa2RmXG4gICAgfSlcbiAgfTtcbiAgY29uc3QgZGV2aWNlTWV0YWRhdGEgPSBhd2FpdCB0b2tlbk9yY2hlc3RyYXRvci5nZXREZXZpY2VNZXRhZGF0YSh1c2VybmFtZSk7XG4gIGlmIChkZXZpY2VNZXRhZGF0YSAmJiBkZXZpY2VNZXRhZGF0YS5kZXZpY2VLZXkpIHtcbiAgICBjaGFsbGVuZ2VSZXNwb25zZXMuREVWSUNFX0tFWSA9IGRldmljZU1ldGFkYXRhLmRldmljZUtleTtcbiAgfVxuICBjb25zdCBVc2VyQ29udGV4dERhdGEgPSBnZXRVc2VyQ29udGV4dERhdGEoe1xuICAgIHVzZXJuYW1lLFxuICAgIHVzZXJQb29sSWQsXG4gICAgdXNlclBvb2xDbGllbnRJZFxuICB9KTtcbiAgY29uc3QganNvblJlcVJlc3BvbnNlQ2hhbGxlbmdlID0ge1xuICAgIENoYWxsZW5nZU5hbWU6ICdQQVNTV09SRF9WRVJJRklFUicsXG4gICAgQ2hhbGxlbmdlUmVzcG9uc2VzOiBjaGFsbGVuZ2VSZXNwb25zZXMsXG4gICAgQ2xpZW50TWV0YWRhdGE6IGNsaWVudE1ldGFkYXRhLFxuICAgIFNlc3Npb246IHNlc3Npb24sXG4gICAgQ2xpZW50SWQ6IHVzZXJQb29sQ2xpZW50SWQsXG4gICAgVXNlckNvbnRleHREYXRhXG4gIH07XG4gIGNvbnN0IHJlc3BvbmRUb0F1dGhDaGFsbGVuZ2UgPSBjcmVhdGVSZXNwb25kVG9BdXRoQ2hhbGxlbmdlQ2xpZW50KHtcbiAgICBlbmRwb2ludFJlc29sdmVyOiBjcmVhdGVDb2duaXRvVXNlclBvb2xFbmRwb2ludFJlc29sdmVyKHtcbiAgICAgIGVuZHBvaW50T3ZlcnJpZGU6IHVzZXJQb29sRW5kcG9pbnRcbiAgICB9KVxuICB9KTtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXNwb25kVG9BdXRoQ2hhbGxlbmdlKHtcbiAgICByZWdpb246IGdldFJlZ2lvbkZyb21Vc2VyUG9vbElkKHVzZXJQb29sSWQpXG4gIH0sIGpzb25SZXFSZXNwb25zZUNoYWxsZW5nZSk7XG4gIGlmIChyZXNwb25zZS5DaGFsbGVuZ2VOYW1lID09PSAnREVWSUNFX1NSUF9BVVRIJykgcmV0dXJuIGhhbmRsZURldmljZVNSUEF1dGgoe1xuICAgIHVzZXJuYW1lLFxuICAgIGNvbmZpZyxcbiAgICBjbGllbnRNZXRhZGF0YSxcbiAgICBzZXNzaW9uOiByZXNwb25zZS5TZXNzaW9uLFxuICAgIHRva2VuT3JjaGVzdHJhdG9yXG4gIH0pO1xuICByZXR1cm4gcmVzcG9uc2U7XG59XG5leHBvcnQgeyBoYW5kbGVQYXNzd29yZFZlcmlmaWVyQ2hhbGxlbmdlIH07XG4iLCJpbXBvcnQgeyBBdXRoRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvcnMvQXV0aEVycm9yLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8qKlxuICogSXQgd2lsbCByZXRyeSB0aGUgZnVuY3Rpb24gaWYgdGhlIGVycm9yIGlzIGEgYFJlc291cmNlTm90Rm91bmRFeGNlcHRpb25gIGFuZFxuICogd2lsbCBjbGVhbiB0aGUgZGV2aWNlIGtleXMgc3RvcmVkIGluIHRoZSBzdG9yYWdlIG1lY2hhbmlzbS5cbiAqXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHJldHJ5T25SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uKGZ1bmMsIGFyZ3MsIHVzZXJuYW1lLCB0b2tlbk9yY2hlc3RyYXRvcikge1xuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCBmdW5jKC4uLmFyZ3MpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEF1dGhFcnJvciAmJiBlcnJvci5uYW1lID09PSAnUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbicgJiYgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnRGV2aWNlIGRvZXMgbm90IGV4aXN0LicpKSB7XG4gICAgICBhd2FpdCB0b2tlbk9yY2hlc3RyYXRvci5jbGVhckRldmljZU1ldGFkYXRhKHVzZXJuYW1lKTtcbiAgICAgIHJldHVybiBmdW5jKC4uLmFyZ3MpO1xuICAgIH1cbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuZXhwb3J0IHsgcmV0cnlPblJlc291cmNlTm90Rm91bmRFeGNlcHRpb24gfTtcbiIsImltcG9ydCAnLi4vLi4vLi4vY2xpZW50L3V0aWxzL3N0b3JlL2F1dG9TaWduSW5TdG9yZS5tanMnO1xuaW1wb3J0IHsgc2lnbkluU3RvcmUgfSBmcm9tICcuLi8uLi8uLi9jbGllbnQvdXRpbHMvc3RvcmUvc2lnbkluU3RvcmUubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuZnVuY3Rpb24gc2V0QWN0aXZlU2lnbkluVXNlcm5hbWUodXNlcm5hbWUpIHtcbiAgY29uc3Qge1xuICAgIGRpc3BhdGNoXG4gIH0gPSBzaWduSW5TdG9yZTtcbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6ICdTRVRfVVNFUk5BTUUnLFxuICAgIHZhbHVlOiB1c2VybmFtZVxuICB9KTtcbn1cbmV4cG9ydCB7IHNldEFjdGl2ZVNpZ25JblVzZXJuYW1lIH07XG4iLCJpbXBvcnQgeyBBdXRoQWN0aW9uIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL3V0aWxzJztcbmltcG9ydCB7IGdldFVzZXJDb250ZXh0RGF0YSB9IGZyb20gJy4uLy4uLy4uL3Byb3ZpZGVycy9jb2duaXRvL3V0aWxzL3VzZXJDb250ZXh0RGF0YS5tanMnO1xuaW1wb3J0IHsgZ2V0QXV0aGVudGljYXRpb25IZWxwZXIgfSBmcm9tICcuLi8uLi8uLi9wcm92aWRlcnMvY29nbml0by91dGlscy9zcnAvZ2V0QXV0aGVudGljYXRpb25IZWxwZXIubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vcHJvdmlkZXJzL2NvZ25pdG8vdXRpbHMvc3JwL2NvbnN0YW50cy5tanMnO1xuaW1wb3J0ICdAYXdzLWNyeXB0by9zaGEyNTYtanMnO1xuaW1wb3J0IHsgY3JlYXRlSW5pdGlhdGVBdXRoQ2xpZW50IH0gZnJvbSAnLi4vLi4vLi4vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvY3JlYXRlSW5pdGlhdGVBdXRoQ2xpZW50Lm1qcyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy9hd3MtY2xpZW50LXV0aWxzL2NvbXBvc2Vycyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy9hd3MtY2xpZW50LXV0aWxzJztcbmltcG9ydCAnLi4vLi4vLi4vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvc2hhcmVkL2hhbmRsZXIvY29nbml0b1VzZXJQb29sVHJhbnNmZXJIYW5kbGVyLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eVByb3ZpZGVyL2NvbnN0YW50cy5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi9jb21tb24vQXV0aEVycm9yU3RyaW5ncy5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi9lcnJvcnMvdHlwZXMvdmFsaWRhdGlvbi5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi9wcm92aWRlcnMvY29nbml0by90eXBlcy9lcnJvcnMubWpzJztcbmltcG9ydCB7IGNyZWF0ZUNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIgfSBmcm9tICcuLi8uLi8uLi9wcm92aWRlcnMvY29nbml0by9mYWN0b3JpZXMvY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlci5tanMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZSc7XG5pbXBvcnQgeyBnZXRSZWdpb25Gcm9tVXNlclBvb2xJZCB9IGZyb20gJy4uLy4uLy4uL2ZvdW5kYXRpb24vcGFyc2Vycy9yZWdpb25QYXJzZXJzLm1qcyc7XG5pbXBvcnQgeyBnZXRBdXRoVXNlckFnZW50VmFsdWUgfSBmcm9tICcuLi8uLi8uLi91dGlscy9nZXRBdXRoVXNlckFnZW50VmFsdWUubWpzJztcbmltcG9ydCB7IGhhbmRsZVBhc3N3b3JkVmVyaWZpZXJDaGFsbGVuZ2UgfSBmcm9tICcuLi8uLi8uLi9wcm92aWRlcnMvY29nbml0by91dGlscy9oYW5kbGVQYXNzd29yZFZlcmlmaWVyQ2hhbGxlbmdlLm1qcyc7XG5pbXBvcnQgeyByZXRyeU9uUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbiB9IGZyb20gJy4uLy4uLy4uL3Byb3ZpZGVycy9jb2duaXRvL3V0aWxzL3JldHJ5T25SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uLm1qcyc7XG5pbXBvcnQgeyBzZXRBY3RpdmVTaWduSW5Vc2VybmFtZSB9IGZyb20gJy4uLy4uLy4uL3Byb3ZpZGVycy9jb2duaXRvL3V0aWxzL3NldEFjdGl2ZVNpZ25JblVzZXJuYW1lLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8qKlxuICogSGFuZGxlcyB0aGUgUGFzc3dvcmQgU1JQIChTZWN1cmUgUmVtb3RlIFBhc3N3b3JkKSBhdXRoZW50aWNhdGlvbiBmbG93LlxuICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB3aXRoIGJvdGggVVNFUl9TUlBfQVVUSCBhbmQgVVNFUl9BVVRIIGZsb3dzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgdGhlIFBhc3N3b3JkIFNSUCBhdXRoZW50aWNhdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy51c2VybmFtZSAtIFRoZSB1c2VybmFtZSBmb3IgYXV0aGVudGljYXRpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbXMucGFzc3dvcmQgLSBUaGUgdXNlcidzIHBhc3N3b3JkXG4gKiBAcGFyYW0ge0NsaWVudE1ldGFkYXRhfSBbcGFyYW1zLmNsaWVudE1ldGFkYXRhXSAtIE9wdGlvbmFsIG1ldGFkYXRhIHRvIGJlIHNlbnQgd2l0aCBhdXRoIHJlcXVlc3RzXG4gKiBAcGFyYW0ge0NvZ25pdG9Vc2VyUG9vbENvbmZpZ30gcGFyYW1zLmNvbmZpZyAtIENvZ25pdG8gVXNlciBQb29sIGNvbmZpZ3VyYXRpb25cbiAqIEBwYXJhbSB7QXV0aFRva2VuT3JjaGVzdHJhdG9yfSBwYXJhbXMudG9rZW5PcmNoZXN0cmF0b3IgLSBUb2tlbiBvcmNoZXN0cmF0b3IgZm9yIG1hbmFnaW5nIGF1dGggdG9rZW5zXG4gKiBAcGFyYW0ge0F1dGhGbG93VHlwZX0gcGFyYW1zLmF1dGhGbG93IC0gVGhlIHR5cGUgb2YgYXV0aGVudGljYXRpb24gZmxvdyAoJ1VTRVJfU1JQX0FVVEgnIG9yICdVU0VSX0FVVEgnKVxuICogQHBhcmFtIHtBdXRoRmFjdG9yVHlwZX0gW3BhcmFtcy5wcmVmZXJyZWRDaGFsbGVuZ2VdIC0gT3B0aW9uYWwgcHJlZmVycmVkIGNoYWxsZW5nZSB0eXBlIHdoZW4gdXNpbmcgVVNFUl9BVVRIIGZsb3dcbiAqXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxSZXNwb25kVG9BdXRoQ2hhbGxlbmdlQ29tbWFuZE91dHB1dD59IFRoZSBhdXRoZW50aWNhdGlvbiByZXNwb25zZVxuICovXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVQYXNzd29yZFNSUCh7XG4gIHVzZXJuYW1lLFxuICBwYXNzd29yZCxcbiAgY2xpZW50TWV0YWRhdGEsXG4gIGNvbmZpZyxcbiAgdG9rZW5PcmNoZXN0cmF0b3IsXG4gIGF1dGhGbG93LFxuICBwcmVmZXJyZWRDaGFsbGVuZ2Vcbn0pIHtcbiAgY29uc3Qge1xuICAgIHVzZXJQb29sSWQsXG4gICAgdXNlclBvb2xDbGllbnRJZCxcbiAgICB1c2VyUG9vbEVuZHBvaW50XG4gIH0gPSBjb25maWc7XG4gIGNvbnN0IHVzZXJQb29sTmFtZSA9IHVzZXJQb29sSWQ/LnNwbGl0KCdfJylbMV0gfHwgJyc7XG4gIGNvbnN0IGF1dGhlbnRpY2F0aW9uSGVscGVyID0gYXdhaXQgZ2V0QXV0aGVudGljYXRpb25IZWxwZXIodXNlclBvb2xOYW1lKTtcbiAgY29uc3QgYXV0aFBhcmFtZXRlcnMgPSB7XG4gICAgVVNFUk5BTUU6IHVzZXJuYW1lLFxuICAgIFNSUF9BOiBhdXRoZW50aWNhdGlvbkhlbHBlci5BLnRvU3RyaW5nKDE2KVxuICB9O1xuICBpZiAoYXV0aEZsb3cgPT09ICdVU0VSX0FVVEgnICYmIHByZWZlcnJlZENoYWxsZW5nZSkge1xuICAgIGF1dGhQYXJhbWV0ZXJzLlBSRUZFUlJFRF9DSEFMTEVOR0UgPSBwcmVmZXJyZWRDaGFsbGVuZ2U7XG4gIH1cbiAgY29uc3QgVXNlckNvbnRleHREYXRhID0gZ2V0VXNlckNvbnRleHREYXRhKHtcbiAgICB1c2VybmFtZSxcbiAgICB1c2VyUG9vbElkLFxuICAgIHVzZXJQb29sQ2xpZW50SWRcbiAgfSk7XG4gIGNvbnN0IGpzb25SZXEgPSB7XG4gICAgQXV0aEZsb3c6IGF1dGhGbG93LFxuICAgIEF1dGhQYXJhbWV0ZXJzOiBhdXRoUGFyYW1ldGVycyxcbiAgICBDbGllbnRNZXRhZGF0YTogY2xpZW50TWV0YWRhdGEsXG4gICAgQ2xpZW50SWQ6IHVzZXJQb29sQ2xpZW50SWQsXG4gICAgVXNlckNvbnRleHREYXRhXG4gIH07XG4gIGNvbnN0IGluaXRpYXRlQXV0aCA9IGNyZWF0ZUluaXRpYXRlQXV0aENsaWVudCh7XG4gICAgZW5kcG9pbnRSZXNvbHZlcjogY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlcih7XG4gICAgICBlbmRwb2ludE92ZXJyaWRlOiB1c2VyUG9vbEVuZHBvaW50XG4gICAgfSlcbiAgfSk7XG4gIGNvbnN0IHJlc3AgPSBhd2FpdCBpbml0aWF0ZUF1dGgoe1xuICAgIHJlZ2lvbjogZ2V0UmVnaW9uRnJvbVVzZXJQb29sSWQodXNlclBvb2xJZCksXG4gICAgdXNlckFnZW50VmFsdWU6IGdldEF1dGhVc2VyQWdlbnRWYWx1ZShBdXRoQWN0aW9uLlNpZ25JbilcbiAgfSwganNvblJlcSk7XG4gIGNvbnN0IHtcbiAgICBDaGFsbGVuZ2VQYXJhbWV0ZXJzOiBjaGFsbGVuZ2VQYXJhbWV0ZXJzLFxuICAgIFNlc3Npb246IHNlc3Npb25cbiAgfSA9IHJlc3A7XG4gIGNvbnN0IGFjdGl2ZVVzZXJuYW1lID0gY2hhbGxlbmdlUGFyYW1ldGVycz8uVVNFUk5BTUUgPz8gdXNlcm5hbWU7XG4gIHNldEFjdGl2ZVNpZ25JblVzZXJuYW1lKGFjdGl2ZVVzZXJuYW1lKTtcbiAgaWYgKHJlc3AuQ2hhbGxlbmdlTmFtZSA9PT0gJ1BBU1NXT1JEX1ZFUklGSUVSJykge1xuICAgIHJldHVybiByZXRyeU9uUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbihoYW5kbGVQYXNzd29yZFZlcmlmaWVyQ2hhbGxlbmdlLCBbcGFzc3dvcmQsIGNoYWxsZW5nZVBhcmFtZXRlcnMsIGNsaWVudE1ldGFkYXRhLCBzZXNzaW9uLCBhdXRoZW50aWNhdGlvbkhlbHBlciwgY29uZmlnLCB0b2tlbk9yY2hlc3RyYXRvcl0sIGFjdGl2ZVVzZXJuYW1lLCB0b2tlbk9yY2hlc3RyYXRvcik7XG4gIH1cbiAgcmV0dXJuIHJlc3A7XG59XG5leHBvcnQgeyBoYW5kbGVQYXNzd29yZFNSUCB9O1xuIiwiaW1wb3J0IHsgQW1wbGlmeSB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlJztcbmltcG9ydCB7IEF1dGhBY3Rpb24sIGFzc2VydFRva2VuUHJvdmlkZXJDb25maWcsIEFtcGxpZnlVcmwgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuaW1wb3J0IHsgQXV0aEVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3JzL0F1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgSW5pdGlhdGVBdXRoRXhjZXB0aW9uIH0gZnJvbSAnLi4vdHlwZXMvZXJyb3JzLm1qcyc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlcyB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9BdXRoRXJyb3JTdHJpbmdzLm1qcyc7XG5pbXBvcnQgeyBBdXRoVmFsaWRhdGlvbkVycm9yQ29kZSB9IGZyb20gJy4uLy4uLy4uL2Vycm9ycy90eXBlcy92YWxpZGF0aW9uLm1qcyc7XG5pbXBvcnQgeyBhc3NlcnRWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvcnMvdXRpbHMvYXNzZXJ0VmFsaWRhdGlvbkVycm9yLm1qcyc7XG5pbXBvcnQgeyBVU0VSX0FMUkVBRFlfQVVUSEVOVElDQVRFRF9FWENFUFRJT04gfSBmcm9tICcuLi8uLi8uLi9lcnJvcnMvY29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyBnZXRDdXJyZW50VXNlciB9IGZyb20gJy4uL2FwaXMvZ2V0Q3VycmVudFVzZXIubWpzJztcbmltcG9ydCB7IGdldEF1dGhVc2VyQWdlbnRWYWx1ZSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2dldEF1dGhVc2VyQWdlbnRWYWx1ZS5tanMnO1xuaW1wb3J0IHsgY3JlYXRlSW5pdGlhdGVBdXRoQ2xpZW50IH0gZnJvbSAnLi4vLi4vLi4vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvY3JlYXRlSW5pdGlhdGVBdXRoQ2xpZW50Lm1qcyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy9hd3MtY2xpZW50LXV0aWxzL2NvbXBvc2Vycyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy9hd3MtY2xpZW50LXV0aWxzJztcbmltcG9ydCAnLi4vLi4vLi4vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvc2hhcmVkL2hhbmRsZXIvY29nbml0b1VzZXJQb29sVHJhbnNmZXJIYW5kbGVyLm1qcyc7XG5pbXBvcnQgJy4uLy4uLy4uL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eVByb3ZpZGVyL2NvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgY3JlYXRlUmVzcG9uZFRvQXV0aENoYWxsZW5nZUNsaWVudCB9IGZyb20gJy4uLy4uLy4uL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eVByb3ZpZGVyL2NyZWF0ZVJlc3BvbmRUb0F1dGhDaGFsbGVuZ2VDbGllbnQubWpzJztcbmltcG9ydCB7IGNyZWF0ZVZlcmlmeVNvZnR3YXJlVG9rZW5DbGllbnQgfSBmcm9tICcuLi8uLi8uLi9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9jcmVhdGVWZXJpZnlTb2Z0d2FyZVRva2VuQ2xpZW50Lm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVBc3NvY2lhdGVTb2Z0d2FyZVRva2VuQ2xpZW50IH0gZnJvbSAnLi4vLi4vLi4vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvY3JlYXRlQXNzb2NpYXRlU29mdHdhcmVUb2tlbkNsaWVudC5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlciB9IGZyb20gJy4uL2ZhY3Rvcmllcy9jcmVhdGVDb2duaXRvVXNlclBvb2xFbmRwb2ludFJlc29sdmVyLm1qcyc7XG5pbXBvcnQgeyBnZXRSZWdpb25Gcm9tVXNlclBvb2xJZCB9IGZyb20gJy4uLy4uLy4uL2ZvdW5kYXRpb24vcGFyc2Vycy9yZWdpb25QYXJzZXJzLm1qcyc7XG5pbXBvcnQgeyBoYW5kbGVXZWJBdXRoblNpZ25JblJlc3VsdCB9IGZyb20gJy4uLy4uLy4uL2NsaWVudC9mbG93cy91c2VyQXV0aC9oYW5kbGVXZWJBdXRoblNpZ25JblJlc3VsdC5tanMnO1xuaW1wb3J0IHsgaGFuZGxlUGFzc3dvcmRTUlAgfSBmcm9tICcuLi8uLi8uLi9jbGllbnQvZmxvd3Mvc2hhcmVkL2hhbmRsZVBhc3N3b3JkU1JQLm1qcyc7XG5pbXBvcnQgeyBpbml0aWF0ZVNlbGVjdGVkQ2hhbGxlbmdlIH0gZnJvbSAnLi4vLi4vLi4vY2xpZW50L2Zsb3dzL3VzZXJBdXRoL2hhbmRsZVNlbGVjdENoYWxsZW5nZS5tanMnO1xuaW1wb3J0IHsgaGFuZGxlU2VsZWN0Q2hhbGxlbmdlV2l0aFBhc3N3b3JkIH0gZnJvbSAnLi4vLi4vLi4vY2xpZW50L2Zsb3dzL3VzZXJBdXRoL2hhbmRsZVNlbGVjdENoYWxsZW5nZVdpdGhQYXNzd29yZC5tanMnO1xuaW1wb3J0IHsgaGFuZGxlU2VsZWN0Q2hhbGxlbmdlV2l0aFBhc3N3b3JkU1JQIH0gZnJvbSAnLi4vLi4vLi4vY2xpZW50L2Zsb3dzL3VzZXJBdXRoL2hhbmRsZVNlbGVjdENoYWxsZW5nZVdpdGhQYXNzd29yZFNSUC5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi9jbGllbnQvdXRpbHMvc3RvcmUvYXV0b1NpZ25JblN0b3JlLm1qcyc7XG5pbXBvcnQgeyBzaWduSW5TdG9yZSB9IGZyb20gJy4uLy4uLy4uL2NsaWVudC91dGlscy9zdG9yZS9zaWduSW5TdG9yZS5tanMnO1xuaW1wb3J0IHsgZ2V0QXV0aGVudGljYXRpb25IZWxwZXIgfSBmcm9tICcuL3NycC9nZXRBdXRoZW50aWNhdGlvbkhlbHBlci5tanMnO1xuaW1wb3J0ICcuL3NycC9jb25zdGFudHMubWpzJztcbmltcG9ydCAnQGF3cy1jcnlwdG8vc2hhMjU2LWpzJztcbmltcG9ydCB7IGdldFVzZXJDb250ZXh0RGF0YSB9IGZyb20gJy4vdXNlckNvbnRleHREYXRhLm1qcyc7XG5pbXBvcnQgeyBoYW5kbGVQYXNzd29yZFZlcmlmaWVyQ2hhbGxlbmdlIH0gZnJvbSAnLi9oYW5kbGVQYXNzd29yZFZlcmlmaWVyQ2hhbGxlbmdlLm1qcyc7XG5pbXBvcnQgeyBoYW5kbGVEZXZpY2VTUlBBdXRoIH0gZnJvbSAnLi9oYW5kbGVEZXZpY2VTUlBBdXRoLm1qcyc7XG5pbXBvcnQgeyByZXRyeU9uUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbiB9IGZyb20gJy4vcmV0cnlPblJlc291cmNlTm90Rm91bmRFeGNlcHRpb24ubWpzJztcbmltcG9ydCB7IHNldEFjdGl2ZVNpZ25JblVzZXJuYW1lIH0gZnJvbSAnLi9zZXRBY3RpdmVTaWduSW5Vc2VybmFtZS5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBVU0VSX0FUVFJJQlVURVMgPSAndXNlckF0dHJpYnV0ZXMuJztcbmZ1bmN0aW9uIGlzV2ViQXV0aG5SZXN1bHRBdXRoU2lnbkluT3V0cHV0KHJlc3VsdCkge1xuICByZXR1cm4gJ2lzU2lnbmVkSW4nIGluIHJlc3VsdCAmJiAnbmV4dFN0ZXAnIGluIHJlc3VsdDtcbn1cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZUN1c3RvbUNoYWxsZW5nZSh7XG4gIGNoYWxsZW5nZVJlc3BvbnNlLFxuICBjbGllbnRNZXRhZGF0YSxcbiAgc2Vzc2lvbixcbiAgdXNlcm5hbWUsXG4gIGNvbmZpZyxcbiAgdG9rZW5PcmNoZXN0cmF0b3Jcbn0pIHtcbiAgY29uc3Qge1xuICAgIHVzZXJQb29sSWQsXG4gICAgdXNlclBvb2xDbGllbnRJZCxcbiAgICB1c2VyUG9vbEVuZHBvaW50XG4gIH0gPSBjb25maWc7XG4gIGNvbnN0IGNoYWxsZW5nZVJlc3BvbnNlcyA9IHtcbiAgICBVU0VSTkFNRTogdXNlcm5hbWUsXG4gICAgQU5TV0VSOiBjaGFsbGVuZ2VSZXNwb25zZVxuICB9O1xuICBjb25zdCBkZXZpY2VNZXRhZGF0YSA9IGF3YWl0IHRva2VuT3JjaGVzdHJhdG9yPy5nZXREZXZpY2VNZXRhZGF0YSh1c2VybmFtZSk7XG4gIGlmIChkZXZpY2VNZXRhZGF0YSAmJiBkZXZpY2VNZXRhZGF0YS5kZXZpY2VLZXkpIHtcbiAgICBjaGFsbGVuZ2VSZXNwb25zZXMuREVWSUNFX0tFWSA9IGRldmljZU1ldGFkYXRhLmRldmljZUtleTtcbiAgfVxuICBjb25zdCBVc2VyQ29udGV4dERhdGEgPSBnZXRVc2VyQ29udGV4dERhdGEoe1xuICAgIHVzZXJuYW1lLFxuICAgIHVzZXJQb29sSWQsXG4gICAgdXNlclBvb2xDbGllbnRJZFxuICB9KTtcbiAgY29uc3QganNvblJlcSA9IHtcbiAgICBDaGFsbGVuZ2VOYW1lOiAnQ1VTVE9NX0NIQUxMRU5HRScsXG4gICAgQ2hhbGxlbmdlUmVzcG9uc2VzOiBjaGFsbGVuZ2VSZXNwb25zZXMsXG4gICAgU2Vzc2lvbjogc2Vzc2lvbixcbiAgICBDbGllbnRNZXRhZGF0YTogY2xpZW50TWV0YWRhdGEsXG4gICAgQ2xpZW50SWQ6IHVzZXJQb29sQ2xpZW50SWQsXG4gICAgVXNlckNvbnRleHREYXRhXG4gIH07XG4gIGNvbnN0IHJlc3BvbmRUb0F1dGhDaGFsbGVuZ2UgPSBjcmVhdGVSZXNwb25kVG9BdXRoQ2hhbGxlbmdlQ2xpZW50KHtcbiAgICBlbmRwb2ludFJlc29sdmVyOiBjcmVhdGVDb2duaXRvVXNlclBvb2xFbmRwb2ludFJlc29sdmVyKHtcbiAgICAgIGVuZHBvaW50T3ZlcnJpZGU6IHVzZXJQb29sRW5kcG9pbnRcbiAgICB9KVxuICB9KTtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXNwb25kVG9BdXRoQ2hhbGxlbmdlKHtcbiAgICByZWdpb246IGdldFJlZ2lvbkZyb21Vc2VyUG9vbElkKHVzZXJQb29sSWQpLFxuICAgIHVzZXJBZ2VudFZhbHVlOiBnZXRBdXRoVXNlckFnZW50VmFsdWUoQXV0aEFjdGlvbi5Db25maXJtU2lnbkluKVxuICB9LCBqc29uUmVxKTtcbiAgaWYgKHJlc3BvbnNlLkNoYWxsZW5nZU5hbWUgPT09ICdERVZJQ0VfU1JQX0FVVEgnKSB7XG4gICAgcmV0dXJuIGhhbmRsZURldmljZVNSUEF1dGgoe1xuICAgICAgdXNlcm5hbWUsXG4gICAgICBjb25maWcsXG4gICAgICBjbGllbnRNZXRhZGF0YSxcbiAgICAgIHNlc3Npb246IHJlc3BvbnNlLlNlc3Npb24sXG4gICAgICB0b2tlbk9yY2hlc3RyYXRvclxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXNwb25zZTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZU1GQVNldHVwQ2hhbGxlbmdlKHtcbiAgY2hhbGxlbmdlUmVzcG9uc2UsXG4gIHVzZXJuYW1lLFxuICBjbGllbnRNZXRhZGF0YSxcbiAgc2Vzc2lvbixcbiAgZGV2aWNlTmFtZSxcbiAgY29uZmlnXG59KSB7XG4gIGNvbnN0IHtcbiAgICB1c2VyUG9vbElkLFxuICAgIHVzZXJQb29sQ2xpZW50SWQsXG4gICAgdXNlclBvb2xFbmRwb2ludFxuICB9ID0gY29uZmlnO1xuICBpZiAoY2hhbGxlbmdlUmVzcG9uc2UgPT09ICdFTUFJTCcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgQ2hhbGxlbmdlTmFtZTogJ01GQV9TRVRVUCcsXG4gICAgICBTZXNzaW9uOiBzZXNzaW9uLFxuICAgICAgQ2hhbGxlbmdlUGFyYW1ldGVyczoge1xuICAgICAgICBNRkFTX0NBTl9TRVRVUDogJ1tcIkVNQUlMX09UUFwiXSdcbiAgICAgIH0sXG4gICAgICAkbWV0YWRhdGE6IHt9XG4gICAgfTtcbiAgfVxuICBpZiAoY2hhbGxlbmdlUmVzcG9uc2UgPT09ICdUT1RQJykge1xuICAgIHJldHVybiB7XG4gICAgICBDaGFsbGVuZ2VOYW1lOiAnTUZBX1NFVFVQJyxcbiAgICAgIFNlc3Npb246IHNlc3Npb24sXG4gICAgICBDaGFsbGVuZ2VQYXJhbWV0ZXJzOiB7XG4gICAgICAgIE1GQVNfQ0FOX1NFVFVQOiAnW1wiU09GVFdBUkVfVE9LRU5fTUZBXCJdJ1xuICAgICAgfSxcbiAgICAgICRtZXRhZGF0YToge31cbiAgICB9O1xuICB9XG4gIGNvbnN0IGNoYWxsZW5nZVJlc3BvbnNlcyA9IHtcbiAgICBVU0VSTkFNRTogdXNlcm5hbWVcbiAgfTtcbiAgY29uc3QgaXNUT1RQQ29kZSA9IC9eXFxkKyQvLnRlc3QoY2hhbGxlbmdlUmVzcG9uc2UpO1xuICBpZiAoaXNUT1RQQ29kZSkge1xuICAgIGNvbnN0IHZlcmlmeVNvZnR3YXJlVG9rZW4gPSBjcmVhdGVWZXJpZnlTb2Z0d2FyZVRva2VuQ2xpZW50KHtcbiAgICAgIGVuZHBvaW50UmVzb2x2ZXI6IGNyZWF0ZUNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIoe1xuICAgICAgICBlbmRwb2ludE92ZXJyaWRlOiB1c2VyUG9vbEVuZHBvaW50XG4gICAgICB9KVxuICAgIH0pO1xuICAgIGNvbnN0IHtcbiAgICAgIFNlc3Npb25cbiAgICB9ID0gYXdhaXQgdmVyaWZ5U29mdHdhcmVUb2tlbih7XG4gICAgICByZWdpb246IGdldFJlZ2lvbkZyb21Vc2VyUG9vbElkKHVzZXJQb29sSWQpLFxuICAgICAgdXNlckFnZW50VmFsdWU6IGdldEF1dGhVc2VyQWdlbnRWYWx1ZShBdXRoQWN0aW9uLkNvbmZpcm1TaWduSW4pXG4gICAgfSwge1xuICAgICAgVXNlckNvZGU6IGNoYWxsZW5nZVJlc3BvbnNlLFxuICAgICAgU2Vzc2lvbjogc2Vzc2lvbixcbiAgICAgIEZyaWVuZGx5RGV2aWNlTmFtZTogZGV2aWNlTmFtZVxuICAgIH0pO1xuICAgIHNpZ25JblN0b3JlLmRpc3BhdGNoKHtcbiAgICAgIHR5cGU6ICdTRVRfU0lHTl9JTl9TRVNTSU9OJyxcbiAgICAgIHZhbHVlOiBTZXNzaW9uXG4gICAgfSk7XG4gICAgY29uc3QganNvblJlcSA9IHtcbiAgICAgIENoYWxsZW5nZU5hbWU6ICdNRkFfU0VUVVAnLFxuICAgICAgQ2hhbGxlbmdlUmVzcG9uc2VzOiBjaGFsbGVuZ2VSZXNwb25zZXMsXG4gICAgICBTZXNzaW9uLFxuICAgICAgQ2xpZW50TWV0YWRhdGE6IGNsaWVudE1ldGFkYXRhLFxuICAgICAgQ2xpZW50SWQ6IHVzZXJQb29sQ2xpZW50SWRcbiAgICB9O1xuICAgIGNvbnN0IHJlc3BvbmRUb0F1dGhDaGFsbGVuZ2UgPSBjcmVhdGVSZXNwb25kVG9BdXRoQ2hhbGxlbmdlQ2xpZW50KHtcbiAgICAgIGVuZHBvaW50UmVzb2x2ZXI6IGNyZWF0ZUNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIoe1xuICAgICAgICBlbmRwb2ludE92ZXJyaWRlOiB1c2VyUG9vbEVuZHBvaW50XG4gICAgICB9KVxuICAgIH0pO1xuICAgIHJldHVybiByZXNwb25kVG9BdXRoQ2hhbGxlbmdlKHtcbiAgICAgIHJlZ2lvbjogZ2V0UmVnaW9uRnJvbVVzZXJQb29sSWQodXNlclBvb2xJZCksXG4gICAgICB1c2VyQWdlbnRWYWx1ZTogZ2V0QXV0aFVzZXJBZ2VudFZhbHVlKEF1dGhBY3Rpb24uQ29uZmlybVNpZ25JbilcbiAgICB9LCBqc29uUmVxKTtcbiAgfVxuICBjb25zdCBpc0VtYWlsID0gY2hhbGxlbmdlUmVzcG9uc2UuaW5jbHVkZXMoJ0AnKTtcbiAgaWYgKGlzRW1haWwpIHtcbiAgICBjaGFsbGVuZ2VSZXNwb25zZXMuRU1BSUwgPSBjaGFsbGVuZ2VSZXNwb25zZTtcbiAgICBjb25zdCBqc29uUmVxID0ge1xuICAgICAgQ2hhbGxlbmdlTmFtZTogJ01GQV9TRVRVUCcsXG4gICAgICBDaGFsbGVuZ2VSZXNwb25zZXM6IGNoYWxsZW5nZVJlc3BvbnNlcyxcbiAgICAgIFNlc3Npb246IHNlc3Npb24sXG4gICAgICBDbGllbnRNZXRhZGF0YTogY2xpZW50TWV0YWRhdGEsXG4gICAgICBDbGllbnRJZDogdXNlclBvb2xDbGllbnRJZFxuICAgIH07XG4gICAgY29uc3QgcmVzcG9uZFRvQXV0aENoYWxsZW5nZSA9IGNyZWF0ZVJlc3BvbmRUb0F1dGhDaGFsbGVuZ2VDbGllbnQoe1xuICAgICAgZW5kcG9pbnRSZXNvbHZlcjogY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlcih7XG4gICAgICAgIGVuZHBvaW50T3ZlcnJpZGU6IHVzZXJQb29sRW5kcG9pbnRcbiAgICAgIH0pXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3BvbmRUb0F1dGhDaGFsbGVuZ2Uoe1xuICAgICAgcmVnaW9uOiBnZXRSZWdpb25Gcm9tVXNlclBvb2xJZCh1c2VyUG9vbElkKSxcbiAgICAgIHVzZXJBZ2VudFZhbHVlOiBnZXRBdXRoVXNlckFnZW50VmFsdWUoQXV0aEFjdGlvbi5Db25maXJtU2lnbkluKVxuICAgIH0sIGpzb25SZXEpO1xuICB9XG4gIHRocm93IG5ldyBBdXRoRXJyb3Ioe1xuICAgIG5hbWU6IEF1dGhFcnJvckNvZGVzLlNpZ25JbkV4Y2VwdGlvbixcbiAgICBtZXNzYWdlOiBgQ2Fubm90IHByb2NlZWQgd2l0aCBNRkEgc2V0dXAgdXNpbmcgY2hhbGxlbmdlUmVzcG9uc2U6ICR7Y2hhbGxlbmdlUmVzcG9uc2V9YCxcbiAgICByZWNvdmVyeVN1Z2dlc3Rpb246ICdUcnkgcGFzc2luZyBcIkVNQUlMXCIsIFwiVE9UUFwiLCBhIHZhbGlkIGVtYWlsLCBvciBPVFAgY29kZSBhcyB0aGUgY2hhbGxlbmdlUmVzcG9uc2UuJ1xuICB9KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZVNlbGVjdE1GQVR5cGVDaGFsbGVuZ2Uoe1xuICBjaGFsbGVuZ2VSZXNwb25zZSxcbiAgdXNlcm5hbWUsXG4gIGNsaWVudE1ldGFkYXRhLFxuICBzZXNzaW9uLFxuICBjb25maWdcbn0pIHtcbiAgY29uc3Qge1xuICAgIHVzZXJQb29sSWQsXG4gICAgdXNlclBvb2xDbGllbnRJZCxcbiAgICB1c2VyUG9vbEVuZHBvaW50XG4gIH0gPSBjb25maWc7XG4gIGFzc2VydFZhbGlkYXRpb25FcnJvcihjaGFsbGVuZ2VSZXNwb25zZSA9PT0gJ1RPVFAnIHx8IGNoYWxsZW5nZVJlc3BvbnNlID09PSAnU01TJyB8fCBjaGFsbGVuZ2VSZXNwb25zZSA9PT0gJ0VNQUlMJywgQXV0aFZhbGlkYXRpb25FcnJvckNvZGUuSW5jb3JyZWN0TUZBTWV0aG9kKTtcbiAgY29uc3QgY2hhbGxlbmdlUmVzcG9uc2VzID0ge1xuICAgIFVTRVJOQU1FOiB1c2VybmFtZSxcbiAgICBBTlNXRVI6IG1hcE1mYVR5cGUoY2hhbGxlbmdlUmVzcG9uc2UpXG4gIH07XG4gIGNvbnN0IFVzZXJDb250ZXh0RGF0YSA9IGdldFVzZXJDb250ZXh0RGF0YSh7XG4gICAgdXNlcm5hbWUsXG4gICAgdXNlclBvb2xJZCxcbiAgICB1c2VyUG9vbENsaWVudElkXG4gIH0pO1xuICBjb25zdCBqc29uUmVxID0ge1xuICAgIENoYWxsZW5nZU5hbWU6ICdTRUxFQ1RfTUZBX1RZUEUnLFxuICAgIENoYWxsZW5nZVJlc3BvbnNlczogY2hhbGxlbmdlUmVzcG9uc2VzLFxuICAgIFNlc3Npb246IHNlc3Npb24sXG4gICAgQ2xpZW50TWV0YWRhdGE6IGNsaWVudE1ldGFkYXRhLFxuICAgIENsaWVudElkOiB1c2VyUG9vbENsaWVudElkLFxuICAgIFVzZXJDb250ZXh0RGF0YVxuICB9O1xuICBjb25zdCByZXNwb25kVG9BdXRoQ2hhbGxlbmdlID0gY3JlYXRlUmVzcG9uZFRvQXV0aENoYWxsZW5nZUNsaWVudCh7XG4gICAgZW5kcG9pbnRSZXNvbHZlcjogY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlcih7XG4gICAgICBlbmRwb2ludE92ZXJyaWRlOiB1c2VyUG9vbEVuZHBvaW50XG4gICAgfSlcbiAgfSk7XG4gIHJldHVybiByZXNwb25kVG9BdXRoQ2hhbGxlbmdlKHtcbiAgICByZWdpb246IGdldFJlZ2lvbkZyb21Vc2VyUG9vbElkKHVzZXJQb29sSWQpLFxuICAgIHVzZXJBZ2VudFZhbHVlOiBnZXRBdXRoVXNlckFnZW50VmFsdWUoQXV0aEFjdGlvbi5Db25maXJtU2lnbkluKVxuICB9LCBqc29uUmVxKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZUNvbXBsZXRlTmV3UGFzc3dvcmRDaGFsbGVuZ2Uoe1xuICBjaGFsbGVuZ2VSZXNwb25zZSxcbiAgY2xpZW50TWV0YWRhdGEsXG4gIHNlc3Npb24sXG4gIHVzZXJuYW1lLFxuICByZXF1aXJlZEF0dHJpYnV0ZXMsXG4gIGNvbmZpZ1xufSkge1xuICBjb25zdCB7XG4gICAgdXNlclBvb2xJZCxcbiAgICB1c2VyUG9vbENsaWVudElkLFxuICAgIHVzZXJQb29sRW5kcG9pbnRcbiAgfSA9IGNvbmZpZztcbiAgY29uc3QgY2hhbGxlbmdlUmVzcG9uc2VzID0ge1xuICAgIC4uLmNyZWF0ZUF0dHJpYnV0ZXMocmVxdWlyZWRBdHRyaWJ1dGVzKSxcbiAgICBORVdfUEFTU1dPUkQ6IGNoYWxsZW5nZVJlc3BvbnNlLFxuICAgIFVTRVJOQU1FOiB1c2VybmFtZVxuICB9O1xuICBjb25zdCBVc2VyQ29udGV4dERhdGEgPSBnZXRVc2VyQ29udGV4dERhdGEoe1xuICAgIHVzZXJuYW1lLFxuICAgIHVzZXJQb29sSWQsXG4gICAgdXNlclBvb2xDbGllbnRJZFxuICB9KTtcbiAgY29uc3QganNvblJlcSA9IHtcbiAgICBDaGFsbGVuZ2VOYW1lOiAnTkVXX1BBU1NXT1JEX1JFUVVJUkVEJyxcbiAgICBDaGFsbGVuZ2VSZXNwb25zZXM6IGNoYWxsZW5nZVJlc3BvbnNlcyxcbiAgICBDbGllbnRNZXRhZGF0YTogY2xpZW50TWV0YWRhdGEsXG4gICAgU2Vzc2lvbjogc2Vzc2lvbixcbiAgICBDbGllbnRJZDogdXNlclBvb2xDbGllbnRJZCxcbiAgICBVc2VyQ29udGV4dERhdGFcbiAgfTtcbiAgY29uc3QgcmVzcG9uZFRvQXV0aENoYWxsZW5nZSA9IGNyZWF0ZVJlc3BvbmRUb0F1dGhDaGFsbGVuZ2VDbGllbnQoe1xuICAgIGVuZHBvaW50UmVzb2x2ZXI6IGNyZWF0ZUNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIoe1xuICAgICAgZW5kcG9pbnRPdmVycmlkZTogdXNlclBvb2xFbmRwb2ludFxuICAgIH0pXG4gIH0pO1xuICByZXR1cm4gcmVzcG9uZFRvQXV0aENoYWxsZW5nZSh7XG4gICAgcmVnaW9uOiBnZXRSZWdpb25Gcm9tVXNlclBvb2xJZCh1c2VyUG9vbElkKSxcbiAgICB1c2VyQWdlbnRWYWx1ZTogZ2V0QXV0aFVzZXJBZ2VudFZhbHVlKEF1dGhBY3Rpb24uQ29uZmlybVNpZ25JbilcbiAgfSwganNvblJlcSk7XG59XG5hc3luYyBmdW5jdGlvbiBoYW5kbGVVc2VyUGFzc3dvcmRBdXRoRmxvdyh1c2VybmFtZSwgcGFzc3dvcmQsIGNsaWVudE1ldGFkYXRhLCBjb25maWcsIHRva2VuT3JjaGVzdHJhdG9yKSB7XG4gIGNvbnN0IHtcbiAgICB1c2VyUG9vbENsaWVudElkLFxuICAgIHVzZXJQb29sSWQsXG4gICAgdXNlclBvb2xFbmRwb2ludFxuICB9ID0gY29uZmlnO1xuICBjb25zdCBhdXRoUGFyYW1ldGVycyA9IHtcbiAgICBVU0VSTkFNRTogdXNlcm5hbWUsXG4gICAgUEFTU1dPUkQ6IHBhc3N3b3JkXG4gIH07XG4gIGNvbnN0IGRldmljZU1ldGFkYXRhID0gYXdhaXQgdG9rZW5PcmNoZXN0cmF0b3IuZ2V0RGV2aWNlTWV0YWRhdGEodXNlcm5hbWUpO1xuICBpZiAoZGV2aWNlTWV0YWRhdGEgJiYgZGV2aWNlTWV0YWRhdGEuZGV2aWNlS2V5KSB7XG4gICAgYXV0aFBhcmFtZXRlcnMuREVWSUNFX0tFWSA9IGRldmljZU1ldGFkYXRhLmRldmljZUtleTtcbiAgfVxuICBjb25zdCBVc2VyQ29udGV4dERhdGEgPSBnZXRVc2VyQ29udGV4dERhdGEoe1xuICAgIHVzZXJuYW1lLFxuICAgIHVzZXJQb29sSWQsXG4gICAgdXNlclBvb2xDbGllbnRJZFxuICB9KTtcbiAgY29uc3QganNvblJlcSA9IHtcbiAgICBBdXRoRmxvdzogJ1VTRVJfUEFTU1dPUkRfQVVUSCcsXG4gICAgQXV0aFBhcmFtZXRlcnM6IGF1dGhQYXJhbWV0ZXJzLFxuICAgIENsaWVudE1ldGFkYXRhOiBjbGllbnRNZXRhZGF0YSxcbiAgICBDbGllbnRJZDogdXNlclBvb2xDbGllbnRJZCxcbiAgICBVc2VyQ29udGV4dERhdGFcbiAgfTtcbiAgY29uc3QgaW5pdGlhdGVBdXRoID0gY3JlYXRlSW5pdGlhdGVBdXRoQ2xpZW50KHtcbiAgICBlbmRwb2ludFJlc29sdmVyOiBjcmVhdGVDb2duaXRvVXNlclBvb2xFbmRwb2ludFJlc29sdmVyKHtcbiAgICAgIGVuZHBvaW50T3ZlcnJpZGU6IHVzZXJQb29sRW5kcG9pbnRcbiAgICB9KVxuICB9KTtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBpbml0aWF0ZUF1dGgoe1xuICAgIHJlZ2lvbjogZ2V0UmVnaW9uRnJvbVVzZXJQb29sSWQodXNlclBvb2xJZCksXG4gICAgdXNlckFnZW50VmFsdWU6IGdldEF1dGhVc2VyQWdlbnRWYWx1ZShBdXRoQWN0aW9uLlNpZ25JbilcbiAgfSwganNvblJlcSk7XG4gIGNvbnN0IGFjdGl2ZVVzZXJuYW1lID0gcmVzcG9uc2UuQ2hhbGxlbmdlUGFyYW1ldGVycz8uVVNFUk5BTUUgPz8gcmVzcG9uc2UuQ2hhbGxlbmdlUGFyYW1ldGVycz8uVVNFUl9JRF9GT1JfU1JQID8/IHVzZXJuYW1lO1xuICBzZXRBY3RpdmVTaWduSW5Vc2VybmFtZShhY3RpdmVVc2VybmFtZSk7XG4gIGlmIChyZXNwb25zZS5DaGFsbGVuZ2VOYW1lID09PSAnREVWSUNFX1NSUF9BVVRIJykgcmV0dXJuIGhhbmRsZURldmljZVNSUEF1dGgoe1xuICAgIHVzZXJuYW1lOiBhY3RpdmVVc2VybmFtZSxcbiAgICBjb25maWcsXG4gICAgY2xpZW50TWV0YWRhdGEsXG4gICAgc2Vzc2lvbjogcmVzcG9uc2UuU2Vzc2lvbixcbiAgICB0b2tlbk9yY2hlc3RyYXRvclxuICB9KTtcbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlVXNlclNSUEF1dGhGbG93KHVzZXJuYW1lLCBwYXNzd29yZCwgY2xpZW50TWV0YWRhdGEsIGNvbmZpZywgdG9rZW5PcmNoZXN0cmF0b3IpIHtcbiAgcmV0dXJuIGhhbmRsZVBhc3N3b3JkU1JQKHtcbiAgICB1c2VybmFtZSxcbiAgICBwYXNzd29yZCxcbiAgICBjbGllbnRNZXRhZGF0YSxcbiAgICBjb25maWcsXG4gICAgdG9rZW5PcmNoZXN0cmF0b3IsXG4gICAgYXV0aEZsb3c6ICdVU0VSX1NSUF9BVVRIJ1xuICB9KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZUN1c3RvbUF1dGhGbG93V2l0aG91dFNSUCh1c2VybmFtZSwgY2xpZW50TWV0YWRhdGEsIGNvbmZpZywgdG9rZW5PcmNoZXN0cmF0b3IpIHtcbiAgY29uc3Qge1xuICAgIHVzZXJQb29sQ2xpZW50SWQsXG4gICAgdXNlclBvb2xJZCxcbiAgICB1c2VyUG9vbEVuZHBvaW50XG4gIH0gPSBjb25maWc7XG4gIGNvbnN0IGF1dGhQYXJhbWV0ZXJzID0ge1xuICAgIFVTRVJOQU1FOiB1c2VybmFtZVxuICB9O1xuICBjb25zdCBkZXZpY2VNZXRhZGF0YSA9IGF3YWl0IHRva2VuT3JjaGVzdHJhdG9yLmdldERldmljZU1ldGFkYXRhKHVzZXJuYW1lKTtcbiAgaWYgKGRldmljZU1ldGFkYXRhICYmIGRldmljZU1ldGFkYXRhLmRldmljZUtleSkge1xuICAgIGF1dGhQYXJhbWV0ZXJzLkRFVklDRV9LRVkgPSBkZXZpY2VNZXRhZGF0YS5kZXZpY2VLZXk7XG4gIH1cbiAgY29uc3QgVXNlckNvbnRleHREYXRhID0gZ2V0VXNlckNvbnRleHREYXRhKHtcbiAgICB1c2VybmFtZSxcbiAgICB1c2VyUG9vbElkLFxuICAgIHVzZXJQb29sQ2xpZW50SWRcbiAgfSk7XG4gIGNvbnN0IGpzb25SZXEgPSB7XG4gICAgQXV0aEZsb3c6ICdDVVNUT01fQVVUSCcsXG4gICAgQXV0aFBhcmFtZXRlcnM6IGF1dGhQYXJhbWV0ZXJzLFxuICAgIENsaWVudE1ldGFkYXRhOiBjbGllbnRNZXRhZGF0YSxcbiAgICBDbGllbnRJZDogdXNlclBvb2xDbGllbnRJZCxcbiAgICBVc2VyQ29udGV4dERhdGFcbiAgfTtcbiAgY29uc3QgaW5pdGlhdGVBdXRoID0gY3JlYXRlSW5pdGlhdGVBdXRoQ2xpZW50KHtcbiAgICBlbmRwb2ludFJlc29sdmVyOiBjcmVhdGVDb2duaXRvVXNlclBvb2xFbmRwb2ludFJlc29sdmVyKHtcbiAgICAgIGVuZHBvaW50T3ZlcnJpZGU6IHVzZXJQb29sRW5kcG9pbnRcbiAgICB9KVxuICB9KTtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBpbml0aWF0ZUF1dGgoe1xuICAgIHJlZ2lvbjogZ2V0UmVnaW9uRnJvbVVzZXJQb29sSWQodXNlclBvb2xJZCksXG4gICAgdXNlckFnZW50VmFsdWU6IGdldEF1dGhVc2VyQWdlbnRWYWx1ZShBdXRoQWN0aW9uLlNpZ25JbilcbiAgfSwganNvblJlcSk7XG4gIGNvbnN0IGFjdGl2ZVVzZXJuYW1lID0gcmVzcG9uc2UuQ2hhbGxlbmdlUGFyYW1ldGVycz8uVVNFUk5BTUUgPz8gdXNlcm5hbWU7XG4gIHNldEFjdGl2ZVNpZ25JblVzZXJuYW1lKGFjdGl2ZVVzZXJuYW1lKTtcbiAgaWYgKHJlc3BvbnNlLkNoYWxsZW5nZU5hbWUgPT09ICdERVZJQ0VfU1JQX0FVVEgnKSByZXR1cm4gaGFuZGxlRGV2aWNlU1JQQXV0aCh7XG4gICAgdXNlcm5hbWU6IGFjdGl2ZVVzZXJuYW1lLFxuICAgIGNvbmZpZyxcbiAgICBjbGllbnRNZXRhZGF0YSxcbiAgICBzZXNzaW9uOiByZXNwb25zZS5TZXNzaW9uLFxuICAgIHRva2VuT3JjaGVzdHJhdG9yXG4gIH0pO1xuICByZXR1cm4gcmVzcG9uc2U7XG59XG5hc3luYyBmdW5jdGlvbiBoYW5kbGVDdXN0b21TUlBBdXRoRmxvdyh1c2VybmFtZSwgcGFzc3dvcmQsIGNsaWVudE1ldGFkYXRhLCBjb25maWcsIHRva2VuT3JjaGVzdHJhdG9yKSB7XG4gIGFzc2VydFRva2VuUHJvdmlkZXJDb25maWcoY29uZmlnKTtcbiAgY29uc3Qge1xuICAgIHVzZXJQb29sSWQsXG4gICAgdXNlclBvb2xDbGllbnRJZCxcbiAgICB1c2VyUG9vbEVuZHBvaW50XG4gIH0gPSBjb25maWc7XG4gIGNvbnN0IHVzZXJQb29sTmFtZSA9IHVzZXJQb29sSWQ/LnNwbGl0KCdfJylbMV0gfHwgJyc7XG4gIGNvbnN0IGF1dGhlbnRpY2F0aW9uSGVscGVyID0gYXdhaXQgZ2V0QXV0aGVudGljYXRpb25IZWxwZXIodXNlclBvb2xOYW1lKTtcbiAgY29uc3QgYXV0aFBhcmFtZXRlcnMgPSB7XG4gICAgVVNFUk5BTUU6IHVzZXJuYW1lLFxuICAgIFNSUF9BOiBhdXRoZW50aWNhdGlvbkhlbHBlci5BLnRvU3RyaW5nKDE2KSxcbiAgICBDSEFMTEVOR0VfTkFNRTogJ1NSUF9BJ1xuICB9O1xuICBjb25zdCBVc2VyQ29udGV4dERhdGEgPSBnZXRVc2VyQ29udGV4dERhdGEoe1xuICAgIHVzZXJuYW1lLFxuICAgIHVzZXJQb29sSWQsXG4gICAgdXNlclBvb2xDbGllbnRJZFxuICB9KTtcbiAgY29uc3QganNvblJlcSA9IHtcbiAgICBBdXRoRmxvdzogJ0NVU1RPTV9BVVRIJyxcbiAgICBBdXRoUGFyYW1ldGVyczogYXV0aFBhcmFtZXRlcnMsXG4gICAgQ2xpZW50TWV0YWRhdGE6IGNsaWVudE1ldGFkYXRhLFxuICAgIENsaWVudElkOiB1c2VyUG9vbENsaWVudElkLFxuICAgIFVzZXJDb250ZXh0RGF0YVxuICB9O1xuICBjb25zdCBpbml0aWF0ZUF1dGggPSBjcmVhdGVJbml0aWF0ZUF1dGhDbGllbnQoe1xuICAgIGVuZHBvaW50UmVzb2x2ZXI6IGNyZWF0ZUNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIoe1xuICAgICAgZW5kcG9pbnRPdmVycmlkZTogdXNlclBvb2xFbmRwb2ludFxuICAgIH0pXG4gIH0pO1xuICBjb25zdCB7XG4gICAgQ2hhbGxlbmdlUGFyYW1ldGVyczogY2hhbGxlbmdlUGFyYW1ldGVycyxcbiAgICBTZXNzaW9uOiBzZXNzaW9uXG4gIH0gPSBhd2FpdCBpbml0aWF0ZUF1dGgoe1xuICAgIHJlZ2lvbjogZ2V0UmVnaW9uRnJvbVVzZXJQb29sSWQodXNlclBvb2xJZCksXG4gICAgdXNlckFnZW50VmFsdWU6IGdldEF1dGhVc2VyQWdlbnRWYWx1ZShBdXRoQWN0aW9uLlNpZ25JbilcbiAgfSwganNvblJlcSk7XG4gIGNvbnN0IGFjdGl2ZVVzZXJuYW1lID0gY2hhbGxlbmdlUGFyYW1ldGVycz8uVVNFUk5BTUUgPz8gdXNlcm5hbWU7XG4gIHNldEFjdGl2ZVNpZ25JblVzZXJuYW1lKGFjdGl2ZVVzZXJuYW1lKTtcbiAgcmV0dXJuIHJldHJ5T25SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uKGhhbmRsZVBhc3N3b3JkVmVyaWZpZXJDaGFsbGVuZ2UsIFtwYXNzd29yZCwgY2hhbGxlbmdlUGFyYW1ldGVycywgY2xpZW50TWV0YWRhdGEsIHNlc3Npb24sIGF1dGhlbnRpY2F0aW9uSGVscGVyLCBjb25maWcsIHRva2VuT3JjaGVzdHJhdG9yXSwgYWN0aXZlVXNlcm5hbWUsIHRva2VuT3JjaGVzdHJhdG9yKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldFNpZ25JblJlc3VsdChwYXJhbXMpIHtcbiAgY29uc3Qge1xuICAgIGNoYWxsZW5nZU5hbWUsXG4gICAgY2hhbGxlbmdlUGFyYW1ldGVycyxcbiAgICBhdmFpbGFibGVDaGFsbGVuZ2VzXG4gIH0gPSBwYXJhbXM7XG4gIGNvbnN0IGF1dGhDb25maWcgPSBBbXBsaWZ5LmdldENvbmZpZygpLkF1dGg/LkNvZ25pdG87XG4gIGFzc2VydFRva2VuUHJvdmlkZXJDb25maWcoYXV0aENvbmZpZyk7XG4gIHN3aXRjaCAoY2hhbGxlbmdlTmFtZSkge1xuICAgIGNhc2UgJ0NVU1RPTV9DSEFMTEVOR0UnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNTaWduZWRJbjogZmFsc2UsXG4gICAgICAgIG5leHRTdGVwOiB7XG4gICAgICAgICAgc2lnbkluU3RlcDogJ0NPTkZJUk1fU0lHTl9JTl9XSVRIX0NVU1RPTV9DSEFMTEVOR0UnLFxuICAgICAgICAgIGFkZGl0aW9uYWxJbmZvOiBjaGFsbGVuZ2VQYXJhbWV0ZXJzXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgY2FzZSAnTUZBX1NFVFVQJzpcbiAgICAgIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHNpZ25JblNlc3Npb24sXG4gICAgICAgICAgdXNlcm5hbWVcbiAgICAgICAgfSA9IHNpZ25JblN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IG1mYVNldHVwVHlwZXMgPSBnZXRNRkFUeXBlcyhwYXJzZU1GQVR5cGVzKGNoYWxsZW5nZVBhcmFtZXRlcnMuTUZBU19DQU5fU0VUVVApKSB8fCBbXTtcbiAgICAgICAgY29uc3QgYWxsb3dlZE1mYVNldHVwVHlwZXMgPSBnZXRBbGxvd2VkTWZhU2V0dXBUeXBlcyhtZmFTZXR1cFR5cGVzKTtcbiAgICAgICAgY29uc3QgaXNUb3RwTWZhU2V0dXBBdmFpbGFibGUgPSBhbGxvd2VkTWZhU2V0dXBUeXBlcy5pbmNsdWRlcygnVE9UUCcpO1xuICAgICAgICBjb25zdCBpc0VtYWlsTWZhU2V0dXBBdmFpbGFibGUgPSBhbGxvd2VkTWZhU2V0dXBUeXBlcy5pbmNsdWRlcygnRU1BSUwnKTtcbiAgICAgICAgaWYgKGlzVG90cE1mYVNldHVwQXZhaWxhYmxlICYmIGlzRW1haWxNZmFTZXR1cEF2YWlsYWJsZSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc1NpZ25lZEluOiBmYWxzZSxcbiAgICAgICAgICAgIG5leHRTdGVwOiB7XG4gICAgICAgICAgICAgIHNpZ25JblN0ZXA6ICdDT05USU5VRV9TSUdOX0lOX1dJVEhfTUZBX1NFVFVQX1NFTEVDVElPTicsXG4gICAgICAgICAgICAgIGFsbG93ZWRNRkFUeXBlczogYWxsb3dlZE1mYVNldHVwVHlwZXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0VtYWlsTWZhU2V0dXBBdmFpbGFibGUpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXNTaWduZWRJbjogZmFsc2UsXG4gICAgICAgICAgICBuZXh0U3RlcDoge1xuICAgICAgICAgICAgICBzaWduSW5TdGVwOiAnQ09OVElOVUVfU0lHTl9JTl9XSVRIX0VNQUlMX1NFVFVQJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzVG90cE1mYVNldHVwQXZhaWxhYmxlKSB7XG4gICAgICAgICAgY29uc3QgYXNzb2NpYXRlU29mdHdhcmVUb2tlbiA9IGNyZWF0ZUFzc29jaWF0ZVNvZnR3YXJlVG9rZW5DbGllbnQoe1xuICAgICAgICAgICAgZW5kcG9pbnRSZXNvbHZlcjogY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlcih7XG4gICAgICAgICAgICAgIGVuZHBvaW50T3ZlcnJpZGU6IGF1dGhDb25maWcudXNlclBvb2xFbmRwb2ludFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBTZXNzaW9uLFxuICAgICAgICAgICAgU2VjcmV0Q29kZTogc2VjcmV0Q29kZVxuICAgICAgICAgIH0gPSBhd2FpdCBhc3NvY2lhdGVTb2Z0d2FyZVRva2VuKHtcbiAgICAgICAgICAgIHJlZ2lvbjogZ2V0UmVnaW9uRnJvbVVzZXJQb29sSWQoYXV0aENvbmZpZy51c2VyUG9vbElkKVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIFNlc3Npb246IHNpZ25JblNlc3Npb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzaWduSW5TdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiAnU0VUX1NJR05fSU5fU0VTU0lPTicsXG4gICAgICAgICAgICB2YWx1ZTogU2Vzc2lvblxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc1NpZ25lZEluOiBmYWxzZSxcbiAgICAgICAgICAgIG5leHRTdGVwOiB7XG4gICAgICAgICAgICAgIHNpZ25JblN0ZXA6ICdDT05USU5VRV9TSUdOX0lOX1dJVEhfVE9UUF9TRVRVUCcsXG4gICAgICAgICAgICAgIHRvdHBTZXR1cERldGFpbHM6IGdldFRPVFBTZXR1cERldGFpbHMoc2VjcmV0Q29kZSwgdXNlcm5hbWUpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKHtcbiAgICAgICAgICBuYW1lOiBBdXRoRXJyb3JDb2Rlcy5TaWduSW5FeGNlcHRpb24sXG4gICAgICAgICAgbWVzc2FnZTogYENhbm5vdCBpbml0aWF0ZSBNRkEgc2V0dXAgZnJvbSBhdmFpbGFibGUgdHlwZXM6ICR7bWZhU2V0dXBUeXBlc31gXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIGNhc2UgJ05FV19QQVNTV09SRF9SRVFVSVJFRCc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc1NpZ25lZEluOiBmYWxzZSxcbiAgICAgICAgbmV4dFN0ZXA6IHtcbiAgICAgICAgICBzaWduSW5TdGVwOiAnQ09ORklSTV9TSUdOX0lOX1dJVEhfTkVXX1BBU1NXT1JEX1JFUVVJUkVEJyxcbiAgICAgICAgICBtaXNzaW5nQXR0cmlidXRlczogcGFyc2VBdHRyaWJ1dGVzKGNoYWxsZW5nZVBhcmFtZXRlcnMucmVxdWlyZWRBdHRyaWJ1dGVzKVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIGNhc2UgJ1NFTEVDVF9NRkFfVFlQRSc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc1NpZ25lZEluOiBmYWxzZSxcbiAgICAgICAgbmV4dFN0ZXA6IHtcbiAgICAgICAgICBzaWduSW5TdGVwOiAnQ09OVElOVUVfU0lHTl9JTl9XSVRIX01GQV9TRUxFQ1RJT04nLFxuICAgICAgICAgIGFsbG93ZWRNRkFUeXBlczogZ2V0TUZBVHlwZXMocGFyc2VNRkFUeXBlcyhjaGFsbGVuZ2VQYXJhbWV0ZXJzLk1GQVNfQ0FOX0NIT09TRSkpXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgY2FzZSAnU01TX09UUCc6XG4gICAgY2FzZSAnU01TX01GQSc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc1NpZ25lZEluOiBmYWxzZSxcbiAgICAgICAgbmV4dFN0ZXA6IHtcbiAgICAgICAgICBzaWduSW5TdGVwOiAnQ09ORklSTV9TSUdOX0lOX1dJVEhfU01TX0NPREUnLFxuICAgICAgICAgIGNvZGVEZWxpdmVyeURldGFpbHM6IHtcbiAgICAgICAgICAgIGRlbGl2ZXJ5TWVkaXVtOiBjaGFsbGVuZ2VQYXJhbWV0ZXJzLkNPREVfREVMSVZFUllfREVMSVZFUllfTUVESVVNLFxuICAgICAgICAgICAgZGVzdGluYXRpb246IGNoYWxsZW5nZVBhcmFtZXRlcnMuQ09ERV9ERUxJVkVSWV9ERVNUSU5BVElPTlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICBjYXNlICdTT0ZUV0FSRV9UT0tFTl9NRkEnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNTaWduZWRJbjogZmFsc2UsXG4gICAgICAgIG5leHRTdGVwOiB7XG4gICAgICAgICAgc2lnbkluU3RlcDogJ0NPTkZJUk1fU0lHTl9JTl9XSVRIX1RPVFBfQ09ERSdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICBjYXNlICdFTUFJTF9PVFAnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNTaWduZWRJbjogZmFsc2UsXG4gICAgICAgIG5leHRTdGVwOiB7XG4gICAgICAgICAgc2lnbkluU3RlcDogJ0NPTkZJUk1fU0lHTl9JTl9XSVRIX0VNQUlMX0NPREUnLFxuICAgICAgICAgIGNvZGVEZWxpdmVyeURldGFpbHM6IHtcbiAgICAgICAgICAgIGRlbGl2ZXJ5TWVkaXVtOiBjaGFsbGVuZ2VQYXJhbWV0ZXJzLkNPREVfREVMSVZFUllfREVMSVZFUllfTUVESVVNLFxuICAgICAgICAgICAgZGVzdGluYXRpb246IGNoYWxsZW5nZVBhcmFtZXRlcnMuQ09ERV9ERUxJVkVSWV9ERVNUSU5BVElPTlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICBjYXNlICdXRUJfQVVUSE4nOlxuICAgICAge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBoYW5kbGVXZWJBdXRoblNpZ25JblJlc3VsdChjaGFsbGVuZ2VQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKGlzV2ViQXV0aG5SZXN1bHRBdXRoU2lnbkluT3V0cHV0KHJlc3VsdCkpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZXRTaWduSW5SZXN1bHQocmVzdWx0KTtcbiAgICAgIH1cbiAgICBjYXNlICdQQVNTV09SRCc6XG4gICAgY2FzZSAnUEFTU1dPUkRfU1JQJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzU2lnbmVkSW46IGZhbHNlLFxuICAgICAgICBuZXh0U3RlcDoge1xuICAgICAgICAgIHNpZ25JblN0ZXA6ICdDT05GSVJNX1NJR05fSU5fV0lUSF9QQVNTV09SRCdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICBjYXNlICdTRUxFQ1RfQ0hBTExFTkdFJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzU2lnbmVkSW46IGZhbHNlLFxuICAgICAgICBuZXh0U3RlcDoge1xuICAgICAgICAgIHNpZ25JblN0ZXA6ICdDT05USU5VRV9TSUdOX0lOX1dJVEhfRklSU1RfRkFDVE9SX1NFTEVDVElPTicsXG4gICAgICAgICAgYXZhaWxhYmxlQ2hhbGxlbmdlc1xuICAgICAgICB9XG4gICAgICB9O1xuICB9XG4gIC8vIFRPRE86IHJlbW92ZSB0aGlzIGVycm9yIG1lc3NhZ2UgZm9yIHByb2R1Y3Rpb24gYXBwc1xuICB0aHJvdyBuZXcgQXV0aEVycm9yKHtcbiAgICBuYW1lOiBBdXRoRXJyb3JDb2Rlcy5TaWduSW5FeGNlcHRpb24sXG4gICAgbWVzc2FnZTogJ0FuIGVycm9yIG9jY3VycmVkIGR1cmluZyB0aGUgc2lnbiBpbiBwcm9jZXNzLiAnICsgYCR7Y2hhbGxlbmdlTmFtZX0gY2hhbGxlbmdlTmFtZSByZXR1cm5lZCBieSB0aGUgdW5kZXJseWluZyBzZXJ2aWNlIHdhcyBub3QgYWRkcmVzc2VkLmBcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRUT1RQU2V0dXBEZXRhaWxzKHNlY3JldENvZGUsIHVzZXJuYW1lKSB7XG4gIHJldHVybiB7XG4gICAgc2hhcmVkU2VjcmV0OiBzZWNyZXRDb2RlLFxuICAgIGdldFNldHVwVXJpOiAoYXBwTmFtZSwgYWNjb3VudE5hbWUpID0+IHtcbiAgICAgIGNvbnN0IHRvdHBVcmkgPSBgb3RwYXV0aDovL3RvdHAvJHthcHBOYW1lfToke2FjY291bnROYW1lID8/IHVzZXJuYW1lfT9zZWNyZXQ9JHtzZWNyZXRDb2RlfSZpc3N1ZXI9JHthcHBOYW1lfWA7XG4gICAgICByZXR1cm4gbmV3IEFtcGxpZnlVcmwodG90cFVyaSk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0U2lnbkluUmVzdWx0RnJvbUVycm9yKGVycm9yTmFtZSkge1xuICBpZiAoZXJyb3JOYW1lID09PSBJbml0aWF0ZUF1dGhFeGNlcHRpb24uUGFzc3dvcmRSZXNldFJlcXVpcmVkRXhjZXB0aW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzU2lnbmVkSW46IGZhbHNlLFxuICAgICAgbmV4dFN0ZXA6IHtcbiAgICAgICAgc2lnbkluU3RlcDogJ1JFU0VUX1BBU1NXT1JEJ1xuICAgICAgfVxuICAgIH07XG4gIH0gZWxzZSBpZiAoZXJyb3JOYW1lID09PSBJbml0aWF0ZUF1dGhFeGNlcHRpb24uVXNlck5vdENvbmZpcm1lZEV4Y2VwdGlvbikge1xuICAgIHJldHVybiB7XG4gICAgICBpc1NpZ25lZEluOiBmYWxzZSxcbiAgICAgIG5leHRTdGVwOiB7XG4gICAgICAgIHNpZ25JblN0ZXA6ICdDT05GSVJNX1NJR05fVVAnXG4gICAgICB9XG4gICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gcGFyc2VBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpIHtcbiAgaWYgKCFhdHRyaWJ1dGVzKSByZXR1cm4gW107XG4gIGNvbnN0IHBhcnNlZEF0dHJpYnV0ZXMgPSBKU09OLnBhcnNlKGF0dHJpYnV0ZXMpLm1hcChhdHQgPT4gYXR0LmluY2x1ZGVzKFVTRVJfQVRUUklCVVRFUykgPyBhdHQucmVwbGFjZShVU0VSX0FUVFJJQlVURVMsICcnKSA6IGF0dCk7XG4gIHJldHVybiBwYXJzZWRBdHRyaWJ1dGVzO1xufVxuZnVuY3Rpb24gY3JlYXRlQXR0cmlidXRlcyhhdHRyaWJ1dGVzKSB7XG4gIGlmICghYXR0cmlidXRlcykgcmV0dXJuIHt9O1xuICBjb25zdCBuZXdBdHRyaWJ1dGVzID0ge307XG4gIE9iamVjdC5lbnRyaWVzKGF0dHJpYnV0ZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgIGlmICh2YWx1ZSkgbmV3QXR0cmlidXRlc1tgJHtVU0VSX0FUVFJJQlVURVN9JHtrZXl9YF0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiBuZXdBdHRyaWJ1dGVzO1xufVxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlQ2hhbGxlbmdlTmFtZSh1c2VybmFtZSwgY2hhbGxlbmdlTmFtZSwgc2Vzc2lvbiwgY2hhbGxlbmdlUmVzcG9uc2UsIGNvbmZpZywgdG9rZW5PcmNoZXN0cmF0b3IsIGNsaWVudE1ldGFkYXRhLCBvcHRpb25zKSB7XG4gIGNvbnN0IHVzZXJBdHRyaWJ1dGVzID0gb3B0aW9ucz8udXNlckF0dHJpYnV0ZXM7XG4gIGNvbnN0IGRldmljZU5hbWUgPSBvcHRpb25zPy5mcmllbmRseURldmljZU5hbWU7XG4gIHN3aXRjaCAoY2hhbGxlbmdlTmFtZSkge1xuICAgIGNhc2UgJ1dFQl9BVVRITic6XG4gICAgY2FzZSAnU0VMRUNUX0NIQUxMRU5HRSc6XG4gICAgICBpZiAoY2hhbGxlbmdlUmVzcG9uc2UgPT09ICdQQVNTV09SRF9TUlAnIHx8IGNoYWxsZW5nZVJlc3BvbnNlID09PSAnUEFTU1dPUkQnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgQ2hhbGxlbmdlTmFtZTogY2hhbGxlbmdlUmVzcG9uc2UsXG4gICAgICAgICAgU2Vzc2lvbjogc2Vzc2lvbixcbiAgICAgICAgICAkbWV0YWRhdGE6IHt9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5pdGlhdGVTZWxlY3RlZENoYWxsZW5nZSh7XG4gICAgICAgIHVzZXJuYW1lLFxuICAgICAgICBzZXNzaW9uLFxuICAgICAgICBzZWxlY3RlZENoYWxsZW5nZTogY2hhbGxlbmdlUmVzcG9uc2UsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgY2xpZW50TWV0YWRhdGFcbiAgICAgIH0pO1xuICAgIGNhc2UgJ1NFTEVDVF9NRkFfVFlQRSc6XG4gICAgICByZXR1cm4gaGFuZGxlU2VsZWN0TUZBVHlwZUNoYWxsZW5nZSh7XG4gICAgICAgIGNoYWxsZW5nZVJlc3BvbnNlLFxuICAgICAgICBjbGllbnRNZXRhZGF0YSxcbiAgICAgICAgc2Vzc2lvbixcbiAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgIGNvbmZpZ1xuICAgICAgfSk7XG4gICAgY2FzZSAnTUZBX1NFVFVQJzpcbiAgICAgIHJldHVybiBoYW5kbGVNRkFTZXR1cENoYWxsZW5nZSh7XG4gICAgICAgIGNoYWxsZW5nZVJlc3BvbnNlLFxuICAgICAgICBjbGllbnRNZXRhZGF0YSxcbiAgICAgICAgc2Vzc2lvbixcbiAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgIGRldmljZU5hbWUsXG4gICAgICAgIGNvbmZpZ1xuICAgICAgfSk7XG4gICAgY2FzZSAnTkVXX1BBU1NXT1JEX1JFUVVJUkVEJzpcbiAgICAgIHJldHVybiBoYW5kbGVDb21wbGV0ZU5ld1Bhc3N3b3JkQ2hhbGxlbmdlKHtcbiAgICAgICAgY2hhbGxlbmdlUmVzcG9uc2UsXG4gICAgICAgIGNsaWVudE1ldGFkYXRhLFxuICAgICAgICBzZXNzaW9uLFxuICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgcmVxdWlyZWRBdHRyaWJ1dGVzOiB1c2VyQXR0cmlidXRlcyxcbiAgICAgICAgY29uZmlnXG4gICAgICB9KTtcbiAgICBjYXNlICdDVVNUT01fQ0hBTExFTkdFJzpcbiAgICAgIHJldHVybiByZXRyeU9uUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbihoYW5kbGVDdXN0b21DaGFsbGVuZ2UsIFt7XG4gICAgICAgIGNoYWxsZW5nZVJlc3BvbnNlLFxuICAgICAgICBjbGllbnRNZXRhZGF0YSxcbiAgICAgICAgc2Vzc2lvbixcbiAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgdG9rZW5PcmNoZXN0cmF0b3JcbiAgICAgIH1dLCB1c2VybmFtZSwgdG9rZW5PcmNoZXN0cmF0b3IpO1xuICAgIGNhc2UgJ1NNU19NRkEnOlxuICAgIGNhc2UgJ1NPRlRXQVJFX1RPS0VOX01GQSc6XG4gICAgY2FzZSAnU01TX09UUCc6XG4gICAgY2FzZSAnRU1BSUxfT1RQJzpcbiAgICAgIHJldHVybiBoYW5kbGVNRkFDaGFsbGVuZ2Uoe1xuICAgICAgICBjaGFsbGVuZ2VOYW1lLFxuICAgICAgICBjaGFsbGVuZ2VSZXNwb25zZSxcbiAgICAgICAgY2xpZW50TWV0YWRhdGEsXG4gICAgICAgIHNlc3Npb24sXG4gICAgICAgIHVzZXJuYW1lLFxuICAgICAgICBjb25maWdcbiAgICAgIH0pO1xuICAgIGNhc2UgJ1BBU1NXT1JEJzpcbiAgICAgIHJldHVybiBoYW5kbGVTZWxlY3RDaGFsbGVuZ2VXaXRoUGFzc3dvcmQodXNlcm5hbWUsIGNoYWxsZW5nZVJlc3BvbnNlLCBjbGllbnRNZXRhZGF0YSwgY29uZmlnLCBzZXNzaW9uKTtcbiAgICBjYXNlICdQQVNTV09SRF9TUlAnOlxuICAgICAgcmV0dXJuIGhhbmRsZVNlbGVjdENoYWxsZW5nZVdpdGhQYXNzd29yZFNSUCh1c2VybmFtZSwgY2hhbGxlbmdlUmVzcG9uc2UsXG4gICAgICAvLyBUaGlzIGlzIHRoZSBhY3R1YWwgcGFzc3dvcmRcbiAgICAgIGNsaWVudE1ldGFkYXRhLCBjb25maWcsIHNlc3Npb24sIHRva2VuT3JjaGVzdHJhdG9yKTtcbiAgfVxuICAvLyBUT0RPOiByZW1vdmUgdGhpcyBlcnJvciBtZXNzYWdlIGZvciBwcm9kdWN0aW9uIGFwcHNcbiAgdGhyb3cgbmV3IEF1dGhFcnJvcih7XG4gICAgbmFtZTogQXV0aEVycm9yQ29kZXMuU2lnbkluRXhjZXB0aW9uLFxuICAgIG1lc3NhZ2U6IGBBbiBlcnJvciBvY2N1cnJlZCBkdXJpbmcgdGhlIHNpZ24gaW4gcHJvY2Vzcy5cblx0XHQke2NoYWxsZW5nZU5hbWV9IGNoYWxsZW5nZU5hbWUgcmV0dXJuZWQgYnkgdGhlIHVuZGVybHlpbmcgc2VydmljZSB3YXMgbm90IGFkZHJlc3NlZC5gXG4gIH0pO1xufVxuZnVuY3Rpb24gbWFwTWZhVHlwZShtZmEpIHtcbiAgbGV0IG1mYVR5cGUgPSAnU01TX01GQSc7XG4gIGlmIChtZmEgPT09ICdUT1RQJykgbWZhVHlwZSA9ICdTT0ZUV0FSRV9UT0tFTl9NRkEnO1xuICBpZiAobWZhID09PSAnRU1BSUwnKSBtZmFUeXBlID0gJ0VNQUlMX09UUCc7XG4gIHJldHVybiBtZmFUeXBlO1xufVxuZnVuY3Rpb24gZ2V0TUZBVHlwZSh0eXBlKSB7XG4gIGlmICh0eXBlID09PSAnU01TX01GQScpIHJldHVybiAnU01TJztcbiAgaWYgKHR5cGUgPT09ICdTT0ZUV0FSRV9UT0tFTl9NRkEnKSByZXR1cm4gJ1RPVFAnO1xuICBpZiAodHlwZSA9PT0gJ0VNQUlMX09UUCcpIHJldHVybiAnRU1BSUwnO1xuICAvLyBUT0RPOiBsb2cgd2FybmluZyBmb3IgdW5rbm93biBNRkEgdHlwZVxufVxuZnVuY3Rpb24gZ2V0TUZBVHlwZXModHlwZXMpIHtcbiAgaWYgKCF0eXBlcykgcmV0dXJuIHVuZGVmaW5lZDtcbiAgcmV0dXJuIHR5cGVzLm1hcChnZXRNRkFUeXBlKS5maWx0ZXIoQm9vbGVhbik7XG59XG5mdW5jdGlvbiBwYXJzZU1GQVR5cGVzKG1mYSkge1xuICBpZiAoIW1mYSkgcmV0dXJuIFtdO1xuICByZXR1cm4gSlNPTi5wYXJzZShtZmEpO1xufVxuZnVuY3Rpb24gZ2V0QWxsb3dlZE1mYVNldHVwVHlwZXMoYXZhaWxhYmxlTWZhU2V0dXBUeXBlcykge1xuICByZXR1cm4gYXZhaWxhYmxlTWZhU2V0dXBUeXBlcy5maWx0ZXIoYXV0aE1mYVR5cGUgPT4gYXV0aE1mYVR5cGUgPT09ICdFTUFJTCcgfHwgYXV0aE1mYVR5cGUgPT09ICdUT1RQJyk7XG59XG5hc3luYyBmdW5jdGlvbiBhc3NlcnRVc2VyTm90QXV0aGVudGljYXRlZCgpIHtcbiAgbGV0IGF1dGhVc2VyO1xuICB0cnkge1xuICAgIGF1dGhVc2VyID0gYXdhaXQgZ2V0Q3VycmVudFVzZXIoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHt9XG4gIGlmIChhdXRoVXNlciAmJiBhdXRoVXNlci51c2VySWQgJiYgYXV0aFVzZXIudXNlcm5hbWUpIHtcbiAgICB0aHJvdyBuZXcgQXV0aEVycm9yKHtcbiAgICAgIG5hbWU6IFVTRVJfQUxSRUFEWV9BVVRIRU5USUNBVEVEX0VYQ0VQVElPTixcbiAgICAgIG1lc3NhZ2U6ICdUaGVyZSBpcyBhbHJlYWR5IGEgc2lnbmVkIGluIHVzZXIuJyxcbiAgICAgIHJlY292ZXJ5U3VnZ2VzdGlvbjogJ0NhbGwgc2lnbk91dCBiZWZvcmUgY2FsbGluZyBzaWduSW4gYWdhaW4uJ1xuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBnZXRBY3RpdmVTaWduSW5Vc2VybmFtZSh1c2VybmFtZSkge1xuICBjb25zdCBzdGF0ZSA9IHNpZ25JblN0b3JlLmdldFN0YXRlKCk7XG4gIHJldHVybiBzdGF0ZS51c2VybmFtZSA/PyB1c2VybmFtZTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZU1GQUNoYWxsZW5nZSh7XG4gIGNoYWxsZW5nZU5hbWUsXG4gIGNoYWxsZW5nZVJlc3BvbnNlLFxuICBjbGllbnRNZXRhZGF0YSxcbiAgc2Vzc2lvbixcbiAgdXNlcm5hbWUsXG4gIGNvbmZpZ1xufSkge1xuICBjb25zdCB7XG4gICAgdXNlclBvb2xJZCxcbiAgICB1c2VyUG9vbENsaWVudElkLFxuICAgIHVzZXJQb29sRW5kcG9pbnRcbiAgfSA9IGNvbmZpZztcbiAgY29uc3QgY2hhbGxlbmdlUmVzcG9uc2VzID0ge1xuICAgIFVTRVJOQU1FOiB1c2VybmFtZVxuICB9O1xuICBpZiAoY2hhbGxlbmdlTmFtZSA9PT0gJ0VNQUlMX09UUCcpIHtcbiAgICBjaGFsbGVuZ2VSZXNwb25zZXMuRU1BSUxfT1RQX0NPREUgPSBjaGFsbGVuZ2VSZXNwb25zZTtcbiAgfVxuICBpZiAoY2hhbGxlbmdlTmFtZSA9PT0gJ1NNU19NRkEnKSB7XG4gICAgY2hhbGxlbmdlUmVzcG9uc2VzLlNNU19NRkFfQ09ERSA9IGNoYWxsZW5nZVJlc3BvbnNlO1xuICB9XG4gIGlmIChjaGFsbGVuZ2VOYW1lID09PSAnU01TX09UUCcpIHtcbiAgICBjaGFsbGVuZ2VSZXNwb25zZXMuU01TX09UUF9DT0RFID0gY2hhbGxlbmdlUmVzcG9uc2U7XG4gIH1cbiAgaWYgKGNoYWxsZW5nZU5hbWUgPT09ICdTT0ZUV0FSRV9UT0tFTl9NRkEnKSB7XG4gICAgY2hhbGxlbmdlUmVzcG9uc2VzLlNPRlRXQVJFX1RPS0VOX01GQV9DT0RFID0gY2hhbGxlbmdlUmVzcG9uc2U7XG4gIH1cbiAgY29uc3QgdXNlckNvbnRleHREYXRhID0gZ2V0VXNlckNvbnRleHREYXRhKHtcbiAgICB1c2VybmFtZSxcbiAgICB1c2VyUG9vbElkLFxuICAgIHVzZXJQb29sQ2xpZW50SWRcbiAgfSk7XG4gIGNvbnN0IGpzb25SZXEgPSB7XG4gICAgQ2hhbGxlbmdlTmFtZTogY2hhbGxlbmdlTmFtZSxcbiAgICBDaGFsbGVuZ2VSZXNwb25zZXM6IGNoYWxsZW5nZVJlc3BvbnNlcyxcbiAgICBTZXNzaW9uOiBzZXNzaW9uLFxuICAgIENsaWVudE1ldGFkYXRhOiBjbGllbnRNZXRhZGF0YSxcbiAgICBDbGllbnRJZDogdXNlclBvb2xDbGllbnRJZCxcbiAgICBVc2VyQ29udGV4dERhdGE6IHVzZXJDb250ZXh0RGF0YVxuICB9O1xuICBjb25zdCByZXNwb25kVG9BdXRoQ2hhbGxlbmdlID0gY3JlYXRlUmVzcG9uZFRvQXV0aENoYWxsZW5nZUNsaWVudCh7XG4gICAgZW5kcG9pbnRSZXNvbHZlcjogY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlcih7XG4gICAgICBlbmRwb2ludE92ZXJyaWRlOiB1c2VyUG9vbEVuZHBvaW50XG4gICAgfSlcbiAgfSk7XG4gIHJldHVybiByZXNwb25kVG9BdXRoQ2hhbGxlbmdlKHtcbiAgICByZWdpb246IGdldFJlZ2lvbkZyb21Vc2VyUG9vbElkKHVzZXJQb29sSWQpLFxuICAgIHVzZXJBZ2VudFZhbHVlOiBnZXRBdXRoVXNlckFnZW50VmFsdWUoQXV0aEFjdGlvbi5Db25maXJtU2lnbkluKVxuICB9LCBqc29uUmVxKTtcbn1cbmV4cG9ydCB7IGFzc2VydFVzZXJOb3RBdXRoZW50aWNhdGVkLCBjcmVhdGVBdHRyaWJ1dGVzLCBnZXRBY3RpdmVTaWduSW5Vc2VybmFtZSwgZ2V0QWxsb3dlZE1mYVNldHVwVHlwZXMsIGdldE1GQVR5cGUsIGdldE1GQVR5cGVzLCBnZXRTaWduSW5SZXN1bHQsIGdldFNpZ25JblJlc3VsdEZyb21FcnJvciwgZ2V0VE9UUFNldHVwRGV0YWlscywgaGFuZGxlQ2hhbGxlbmdlTmFtZSwgaGFuZGxlQ29tcGxldGVOZXdQYXNzd29yZENoYWxsZW5nZSwgaGFuZGxlQ3VzdG9tQXV0aEZsb3dXaXRob3V0U1JQLCBoYW5kbGVDdXN0b21DaGFsbGVuZ2UsIGhhbmRsZUN1c3RvbVNSUEF1dGhGbG93LCBoYW5kbGVNRkFDaGFsbGVuZ2UsIGhhbmRsZU1GQVNldHVwQ2hhbGxlbmdlLCBoYW5kbGVTZWxlY3RNRkFUeXBlQ2hhbGxlbmdlLCBoYW5kbGVVc2VyUGFzc3dvcmRBdXRoRmxvdywgaGFuZGxlVXNlclNSUEF1dGhGbG93LCBtYXBNZmFUeXBlLCBwYXJzZUF0dHJpYnV0ZXMsIHBhcnNlTUZBVHlwZXMgfTtcbiIsImltcG9ydCB7IEFtcGxpZnkgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZSc7XG5pbXBvcnQgeyBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL3V0aWxzJztcbmltcG9ydCB7IEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3JzL3R5cGVzL3ZhbGlkYXRpb24ubWpzJztcbmltcG9ydCB7IGFzc2VydFZhbGlkYXRpb25FcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9ycy91dGlscy9hc3NlcnRWYWxpZGF0aW9uRXJyb3IubWpzJztcbmltcG9ydCB7IGFzc2VydFNlcnZpY2VFcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9ycy91dGlscy9hc3NlcnRTZXJ2aWNlRXJyb3IubWpzJztcbmltcG9ydCB7IGhhbmRsZUN1c3RvbUF1dGhGbG93V2l0aG91dFNSUCwgZ2V0QWN0aXZlU2lnbkluVXNlcm5hbWUsIGdldFNpZ25JblJlc3VsdCwgZ2V0U2lnbkluUmVzdWx0RnJvbUVycm9yIH0gZnJvbSAnLi4vdXRpbHMvc2lnbkluSGVscGVycy5tanMnO1xuaW1wb3J0IHsgc2V0QWN0aXZlU2lnbkluU3RhdGUsIHJlc2V0QWN0aXZlU2lnbkluU3RhdGUgfSBmcm9tICcuLi8uLi8uLi9jbGllbnQvdXRpbHMvc3RvcmUvc2lnbkluU3RvcmUubWpzJztcbmltcG9ydCB7IGNhY2hlQ29nbml0b1Rva2VucyB9IGZyb20gJy4uL3Rva2VuUHJvdmlkZXIvY2FjaGVUb2tlbnMubWpzJztcbmltcG9ydCAnLi4vdXRpbHMvcmVmcmVzaEF1dGhUb2tlbnMubWpzJztcbmltcG9ydCAnLi4vdG9rZW5Qcm92aWRlci9lcnJvckhlbHBlcnMubWpzJztcbmltcG9ydCAnLi4vdXRpbHMvdHlwZXMubWpzJztcbmltcG9ydCB7IHRva2VuT3JjaGVzdHJhdG9yIH0gZnJvbSAnLi4vdG9rZW5Qcm92aWRlci90b2tlblByb3ZpZGVyLm1qcyc7XG5pbXBvcnQgeyBkaXNwYXRjaFNpZ25lZEluSHViRXZlbnQgfSBmcm9tICcuLi91dGlscy9kaXNwYXRjaFNpZ25lZEluSHViRXZlbnQubWpzJztcbmltcG9ydCB7IHJldHJ5T25SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uIH0gZnJvbSAnLi4vdXRpbHMvcmV0cnlPblJlc291cmNlTm90Rm91bmRFeGNlcHRpb24ubWpzJztcbmltcG9ydCB7IGdldE5ld0RldmljZU1ldGFkYXRhIH0gZnJvbSAnLi4vdXRpbHMvZ2V0TmV3RGV2aWNlTWV0YWRhdGEubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLyoqXG4gKiBTaWducyBhIHVzZXIgaW4gdXNpbmcgYSBjdXN0b20gYXV0aGVudGljYXRpb24gZmxvdyB3aXRob3V0IHBhc3N3b3JkXG4gKlxuICogQHBhcmFtIGlucHV0IC0gIFRoZSBTaWduSW5XaXRoQ3VzdG9tQXV0aElucHV0IG9iamVjdFxuICogQHJldHVybnMgQXV0aFNpZ25JblJlc3VsdFxuICogQHRocm93cyBzZXJ2aWNlOiB7QGxpbmsgSW5pdGlhdGVBdXRoRXhjZXB0aW9uIH0gLSBDb2duaXRvIHNlcnZpY2UgZXJyb3JzIHRocm93biBkdXJpbmcgdGhlIHNpZ24taW4gcHJvY2Vzcy5cbiAqIEB0aHJvd3MgdmFsaWRhdGlvbjoge0BsaW5rIEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlICB9IC0gVmFsaWRhdGlvbiBlcnJvcnMgdGhyb3duIHdoZW4gZWl0aGVyIHVzZXJuYW1lIG9yIHBhc3N3b3JkXG4gKiAgYXJlIG5vdCBkZWZpbmVkLlxuICogQHRocm93cyBTaWduSW5XaXRoQ3VzdG9tQXV0aE91dHB1dCAtIFRocm93biB3aGVuIHRoZSB0b2tlbiBwcm92aWRlciBjb25maWcgaXMgaW52YWxpZC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2lnbkluV2l0aEN1c3RvbUF1dGgoaW5wdXQpIHtcbiAgY29uc3QgYXV0aENvbmZpZyA9IEFtcGxpZnkuZ2V0Q29uZmlnKCkuQXV0aD8uQ29nbml0bztcbiAgYXNzZXJ0VG9rZW5Qcm92aWRlckNvbmZpZyhhdXRoQ29uZmlnKTtcbiAgY29uc3Qge1xuICAgIHVzZXJuYW1lLFxuICAgIHBhc3N3b3JkLFxuICAgIG9wdGlvbnNcbiAgfSA9IGlucHV0O1xuICBjb25zdCBzaWduSW5EZXRhaWxzID0ge1xuICAgIGxvZ2luSWQ6IHVzZXJuYW1lLFxuICAgIGF1dGhGbG93VHlwZTogJ0NVU1RPTV9XSVRIT1VUX1NSUCdcbiAgfTtcbiAgY29uc3QgbWV0YWRhdGEgPSBvcHRpb25zPy5jbGllbnRNZXRhZGF0YTtcbiAgYXNzZXJ0VmFsaWRhdGlvbkVycm9yKCEhdXNlcm5hbWUsIEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlLkVtcHR5U2lnbkluVXNlcm5hbWUpO1xuICBhc3NlcnRWYWxpZGF0aW9uRXJyb3IoIXBhc3N3b3JkLCBBdXRoVmFsaWRhdGlvbkVycm9yQ29kZS5DdXN0b21BdXRoU2lnbkluUGFzc3dvcmQpO1xuICB0cnkge1xuICAgIGNvbnN0IHtcbiAgICAgIENoYWxsZW5nZU5hbWU6IHJldHJpZWRDaGFsbGVuZ2VOYW1lLFxuICAgICAgQ2hhbGxlbmdlUGFyYW1ldGVyczogcmV0aXJlZENoYWxsZW5nZVBhcmFtZXRlcnMsXG4gICAgICBBdXRoZW50aWNhdGlvblJlc3VsdCxcbiAgICAgIFNlc3Npb25cbiAgICB9ID0gYXdhaXQgcmV0cnlPblJlc291cmNlTm90Rm91bmRFeGNlcHRpb24oaGFuZGxlQ3VzdG9tQXV0aEZsb3dXaXRob3V0U1JQLCBbdXNlcm5hbWUsIG1ldGFkYXRhLCBhdXRoQ29uZmlnLCB0b2tlbk9yY2hlc3RyYXRvcl0sIHVzZXJuYW1lLCB0b2tlbk9yY2hlc3RyYXRvcik7XG4gICAgY29uc3QgYWN0aXZlVXNlcm5hbWUgPSBnZXRBY3RpdmVTaWduSW5Vc2VybmFtZSh1c2VybmFtZSk7XG4gICAgLy8gc2V0cyB1cCBsb2NhbCBzdGF0ZSB1c2VkIGR1cmluZyB0aGUgc2lnbi1pbiBwcm9jZXNzXG4gICAgc2V0QWN0aXZlU2lnbkluU3RhdGUoe1xuICAgICAgc2lnbkluU2Vzc2lvbjogU2Vzc2lvbixcbiAgICAgIHVzZXJuYW1lOiBhY3RpdmVVc2VybmFtZSxcbiAgICAgIGNoYWxsZW5nZU5hbWU6IHJldHJpZWRDaGFsbGVuZ2VOYW1lLFxuICAgICAgc2lnbkluRGV0YWlsc1xuICAgIH0pO1xuICAgIGlmIChBdXRoZW50aWNhdGlvblJlc3VsdCkge1xuICAgICAgYXdhaXQgY2FjaGVDb2duaXRvVG9rZW5zKHtcbiAgICAgICAgdXNlcm5hbWU6IGFjdGl2ZVVzZXJuYW1lLFxuICAgICAgICAuLi5BdXRoZW50aWNhdGlvblJlc3VsdCxcbiAgICAgICAgTmV3RGV2aWNlTWV0YWRhdGE6IGF3YWl0IGdldE5ld0RldmljZU1ldGFkYXRhKHtcbiAgICAgICAgICB1c2VyUG9vbElkOiBhdXRoQ29uZmlnLnVzZXJQb29sSWQsXG4gICAgICAgICAgdXNlclBvb2xFbmRwb2ludDogYXV0aENvbmZpZy51c2VyUG9vbEVuZHBvaW50LFxuICAgICAgICAgIG5ld0RldmljZU1ldGFkYXRhOiBBdXRoZW50aWNhdGlvblJlc3VsdC5OZXdEZXZpY2VNZXRhZGF0YSxcbiAgICAgICAgICBhY2Nlc3NUb2tlbjogQXV0aGVudGljYXRpb25SZXN1bHQuQWNjZXNzVG9rZW5cbiAgICAgICAgfSksXG4gICAgICAgIHNpZ25JbkRldGFpbHNcbiAgICAgIH0pO1xuICAgICAgcmVzZXRBY3RpdmVTaWduSW5TdGF0ZSgpO1xuICAgICAgYXdhaXQgZGlzcGF0Y2hTaWduZWRJbkh1YkV2ZW50KCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc1NpZ25lZEluOiB0cnVlLFxuICAgICAgICBuZXh0U3RlcDoge1xuICAgICAgICAgIHNpZ25JblN0ZXA6ICdET05FJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZ2V0U2lnbkluUmVzdWx0KHtcbiAgICAgIGNoYWxsZW5nZU5hbWU6IHJldHJpZWRDaGFsbGVuZ2VOYW1lLFxuICAgICAgY2hhbGxlbmdlUGFyYW1ldGVyczogcmV0aXJlZENoYWxsZW5nZVBhcmFtZXRlcnNcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXNldEFjdGl2ZVNpZ25JblN0YXRlKCk7XG4gICAgYXNzZXJ0U2VydmljZUVycm9yKGVycm9yKTtcbiAgICBjb25zdCByZXN1bHQgPSBnZXRTaWduSW5SZXN1bHRGcm9tRXJyb3IoZXJyb3IubmFtZSk7XG4gICAgaWYgKHJlc3VsdCkgcmV0dXJuIHJlc3VsdDtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuZXhwb3J0IHsgc2lnbkluV2l0aEN1c3RvbUF1dGggfTtcbiIsImltcG9ydCB7IEFtcGxpZnkgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZSc7XG5pbXBvcnQgeyBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL3V0aWxzJztcbmltcG9ydCB7IEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3JzL3R5cGVzL3ZhbGlkYXRpb24ubWpzJztcbmltcG9ydCB7IGFzc2VydFZhbGlkYXRpb25FcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9ycy91dGlscy9hc3NlcnRWYWxpZGF0aW9uRXJyb3IubWpzJztcbmltcG9ydCB7IGFzc2VydFNlcnZpY2VFcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9ycy91dGlscy9hc3NlcnRTZXJ2aWNlRXJyb3IubWpzJztcbmltcG9ydCB7IGhhbmRsZUN1c3RvbVNSUEF1dGhGbG93LCBnZXRBY3RpdmVTaWduSW5Vc2VybmFtZSwgZ2V0U2lnbkluUmVzdWx0LCBnZXRTaWduSW5SZXN1bHRGcm9tRXJyb3IgfSBmcm9tICcuLi91dGlscy9zaWduSW5IZWxwZXJzLm1qcyc7XG5pbXBvcnQgeyBzZXRBY3RpdmVTaWduSW5TdGF0ZSwgcmVzZXRBY3RpdmVTaWduSW5TdGF0ZSB9IGZyb20gJy4uLy4uLy4uL2NsaWVudC91dGlscy9zdG9yZS9zaWduSW5TdG9yZS5tanMnO1xuaW1wb3J0IHsgY2FjaGVDb2duaXRvVG9rZW5zIH0gZnJvbSAnLi4vdG9rZW5Qcm92aWRlci9jYWNoZVRva2Vucy5tanMnO1xuaW1wb3J0ICcuLi91dGlscy9yZWZyZXNoQXV0aFRva2Vucy5tanMnO1xuaW1wb3J0ICcuLi90b2tlblByb3ZpZGVyL2Vycm9ySGVscGVycy5tanMnO1xuaW1wb3J0ICcuLi91dGlscy90eXBlcy5tanMnO1xuaW1wb3J0IHsgdG9rZW5PcmNoZXN0cmF0b3IgfSBmcm9tICcuLi90b2tlblByb3ZpZGVyL3Rva2VuUHJvdmlkZXIubWpzJztcbmltcG9ydCB7IGRpc3BhdGNoU2lnbmVkSW5IdWJFdmVudCB9IGZyb20gJy4uL3V0aWxzL2Rpc3BhdGNoU2lnbmVkSW5IdWJFdmVudC5tanMnO1xuaW1wb3J0IHsgZ2V0TmV3RGV2aWNlTWV0YWRhdGEgfSBmcm9tICcuLi91dGlscy9nZXROZXdEZXZpY2VNZXRhZGF0YS5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIFNpZ25zIGEgdXNlciBpbiB1c2luZyBhIGN1c3RvbSBhdXRoZW50aWNhdGlvbiBmbG93IHdpdGggU1JQXG4gKlxuICogQHBhcmFtIGlucHV0IC0gIFRoZSBTaWduSW5XaXRoQ3VzdG9tU1JQQXV0aElucHV0IG9iamVjdFxuICogQHJldHVybnMgU2lnbkluV2l0aEN1c3RvbVNSUEF1dGhPdXRwdXRcbiAqIEB0aHJvd3Mgc2VydmljZToge0BsaW5rIEluaXRpYXRlQXV0aEV4Y2VwdGlvbiB9LCB7QGxpbmsgUmVzcG9uZFRvQXV0aENoYWxsZW5nZUV4Y2VwdGlvbiB9IC0gQ29nbml0b1xuICogc2VydmljZSBlcnJvcnMgdGhyb3duIGR1cmluZyB0aGUgc2lnbi1pbiBwcm9jZXNzLlxuICogQHRocm93cyB2YWxpZGF0aW9uOiB7QGxpbmsgQXV0aFZhbGlkYXRpb25FcnJvckNvZGUgIH0gLSBWYWxpZGF0aW9uIGVycm9ycyB0aHJvd24gd2hlbiBlaXRoZXIgdXNlcm5hbWUgb3IgcGFzc3dvcmRcbiAqICBhcmUgbm90IGRlZmluZWQuXG4gKiBAdGhyb3dzIEF1dGhUb2tlbkNvbmZpZ0V4Y2VwdGlvbiAtIFRocm93biB3aGVuIHRoZSB0b2tlbiBwcm92aWRlciBjb25maWcgaXMgaW52YWxpZC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2lnbkluV2l0aEN1c3RvbVNSUEF1dGgoaW5wdXQpIHtcbiAgY29uc3Qge1xuICAgIHVzZXJuYW1lLFxuICAgIHBhc3N3b3JkLFxuICAgIG9wdGlvbnNcbiAgfSA9IGlucHV0O1xuICBjb25zdCBzaWduSW5EZXRhaWxzID0ge1xuICAgIGxvZ2luSWQ6IHVzZXJuYW1lLFxuICAgIGF1dGhGbG93VHlwZTogJ0NVU1RPTV9XSVRIX1NSUCdcbiAgfTtcbiAgY29uc3QgYXV0aENvbmZpZyA9IEFtcGxpZnkuZ2V0Q29uZmlnKCkuQXV0aD8uQ29nbml0bztcbiAgYXNzZXJ0VG9rZW5Qcm92aWRlckNvbmZpZyhhdXRoQ29uZmlnKTtcbiAgY29uc3QgbWV0YWRhdGEgPSBvcHRpb25zPy5jbGllbnRNZXRhZGF0YTtcbiAgYXNzZXJ0VmFsaWRhdGlvbkVycm9yKCEhdXNlcm5hbWUsIEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlLkVtcHR5U2lnbkluVXNlcm5hbWUpO1xuICBhc3NlcnRWYWxpZGF0aW9uRXJyb3IoISFwYXNzd29yZCwgQXV0aFZhbGlkYXRpb25FcnJvckNvZGUuRW1wdHlTaWduSW5QYXNzd29yZCk7XG4gIHRyeSB7XG4gICAgY29uc3Qge1xuICAgICAgQ2hhbGxlbmdlTmFtZTogaGFuZGxlZENoYWxsZW5nZU5hbWUsXG4gICAgICBDaGFsbGVuZ2VQYXJhbWV0ZXJzOiBoYW5kbGVkQ2hhbGxlbmdlUGFyYW1ldGVycyxcbiAgICAgIEF1dGhlbnRpY2F0aW9uUmVzdWx0LFxuICAgICAgU2Vzc2lvblxuICAgIH0gPSBhd2FpdCBoYW5kbGVDdXN0b21TUlBBdXRoRmxvdyh1c2VybmFtZSwgcGFzc3dvcmQsIG1ldGFkYXRhLCBhdXRoQ29uZmlnLCB0b2tlbk9yY2hlc3RyYXRvcik7XG4gICAgY29uc3QgYWN0aXZlVXNlcm5hbWUgPSBnZXRBY3RpdmVTaWduSW5Vc2VybmFtZSh1c2VybmFtZSk7XG4gICAgLy8gc2V0cyB1cCBsb2NhbCBzdGF0ZSB1c2VkIGR1cmluZyB0aGUgc2lnbi1pbiBwcm9jZXNzXG4gICAgc2V0QWN0aXZlU2lnbkluU3RhdGUoe1xuICAgICAgc2lnbkluU2Vzc2lvbjogU2Vzc2lvbixcbiAgICAgIHVzZXJuYW1lOiBhY3RpdmVVc2VybmFtZSxcbiAgICAgIGNoYWxsZW5nZU5hbWU6IGhhbmRsZWRDaGFsbGVuZ2VOYW1lLFxuICAgICAgc2lnbkluRGV0YWlsc1xuICAgIH0pO1xuICAgIGlmIChBdXRoZW50aWNhdGlvblJlc3VsdCkge1xuICAgICAgYXdhaXQgY2FjaGVDb2duaXRvVG9rZW5zKHtcbiAgICAgICAgdXNlcm5hbWU6IGFjdGl2ZVVzZXJuYW1lLFxuICAgICAgICAuLi5BdXRoZW50aWNhdGlvblJlc3VsdCxcbiAgICAgICAgTmV3RGV2aWNlTWV0YWRhdGE6IGF3YWl0IGdldE5ld0RldmljZU1ldGFkYXRhKHtcbiAgICAgICAgICB1c2VyUG9vbElkOiBhdXRoQ29uZmlnLnVzZXJQb29sSWQsXG4gICAgICAgICAgdXNlclBvb2xFbmRwb2ludDogYXV0aENvbmZpZy51c2VyUG9vbEVuZHBvaW50LFxuICAgICAgICAgIG5ld0RldmljZU1ldGFkYXRhOiBBdXRoZW50aWNhdGlvblJlc3VsdC5OZXdEZXZpY2VNZXRhZGF0YSxcbiAgICAgICAgICBhY2Nlc3NUb2tlbjogQXV0aGVudGljYXRpb25SZXN1bHQuQWNjZXNzVG9rZW5cbiAgICAgICAgfSksXG4gICAgICAgIHNpZ25JbkRldGFpbHNcbiAgICAgIH0pO1xuICAgICAgcmVzZXRBY3RpdmVTaWduSW5TdGF0ZSgpO1xuICAgICAgYXdhaXQgZGlzcGF0Y2hTaWduZWRJbkh1YkV2ZW50KCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc1NpZ25lZEluOiB0cnVlLFxuICAgICAgICBuZXh0U3RlcDoge1xuICAgICAgICAgIHNpZ25JblN0ZXA6ICdET05FJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZ2V0U2lnbkluUmVzdWx0KHtcbiAgICAgIGNoYWxsZW5nZU5hbWU6IGhhbmRsZWRDaGFsbGVuZ2VOYW1lLFxuICAgICAgY2hhbGxlbmdlUGFyYW1ldGVyczogaGFuZGxlZENoYWxsZW5nZVBhcmFtZXRlcnNcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXNldEFjdGl2ZVNpZ25JblN0YXRlKCk7XG4gICAgYXNzZXJ0U2VydmljZUVycm9yKGVycm9yKTtcbiAgICBjb25zdCByZXN1bHQgPSBnZXRTaWduSW5SZXN1bHRGcm9tRXJyb3IoZXJyb3IubmFtZSk7XG4gICAgaWYgKHJlc3VsdCkgcmV0dXJuIHJlc3VsdDtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuZXhwb3J0IHsgc2lnbkluV2l0aEN1c3RvbVNSUEF1dGggfTtcbiIsImltcG9ydCB7IGF1dG9TaWduSW5TdG9yZSB9IGZyb20gJy4uLy4uLy4uL2NsaWVudC91dGlscy9zdG9yZS9hdXRvU2lnbkluU3RvcmUubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vY2xpZW50L3V0aWxzL3N0b3JlL3NpZ25JblN0b3JlLm1qcyc7XG5pbXBvcnQgeyBBdXRoRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvcnMvQXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgeyBBVVRPX1NJR05fSU5fRVhDRVBUSU9OIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3JzL2NvbnN0YW50cy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBpbml0aWFsQXV0b1NpZ25JbiA9IGFzeW5jICgpID0+IHtcbiAgdGhyb3cgbmV3IEF1dGhFcnJvcih7XG4gICAgbmFtZTogQVVUT19TSUdOX0lOX0VYQ0VQVElPTixcbiAgICBtZXNzYWdlOiAnVGhlIGF1dG9TaWduSW4gZmxvdyBoYXMgbm90IHN0YXJ0ZWQsIG9yIGhhcyBiZWVuIGNhbmNlbGxlZC9jb21wbGV0ZWQuJyxcbiAgICByZWNvdmVyeVN1Z2dlc3Rpb246ICdQbGVhc2UgdHJ5IHRvIHVzZSB0aGUgc2lnbkluIEFQSSBvciBsb2cgb3V0IGJlZm9yZSBzdGFydGluZyBhIG5ldyBhdXRvU2lnbkluIGZsb3cuJ1xuICB9KTtcbn07XG4vKipcbiAqIFNpZ25zIGEgdXNlciBpbiBhdXRvbWF0aWNhbGx5IGFmdGVyIGZpbmlzaGluZyB0aGUgc2lnbi11cCBwcm9jZXNzLlxuICpcbiAqIFRoaXMgQVBJIHdpbGwgYXV0b21hdGljYWxseSBzaWduIGEgdXNlciBpbiBpZiB0aGUgYXV0b1NpZ25JbiBmbG93IGhhcyBiZWVuIGNvbXBsZXRlZCBpbiB0aGUgZm9sbG93aW5nIGNhc2VzOlxuICogLSBVc2VyIGNvbmZpcm1lZCB0aGVpciBhY2NvdW50IHdpdGggYSB2ZXJpZmljYXRpb24gY29kZSBzZW50IHRvIHRoZWlyIHBob25lIG9yIGVtYWlsIChkZWZhdWx0IG9wdGlvbikuXG4gKiAtIFVzZXIgY29uZmlybWVkIHRoZWlyIGFjY291bnQgd2l0aCBhIHZlcmlmaWNhdGlvbiBsaW5rIHNlbnQgdG8gdGhlaXIgcGhvbmUgb3IgZW1haWwuIEluIG9yZGVyIHRvXG4gKiBlbmFibGUgdGhpcyBvcHRpb24geW91IG5lZWQgdG8gZ28gdG8gdGhlIEFtYXpvbiBDb2duaXRvIFtjb25zb2xlXShodHRwczovL2F3cy5hbWF6b24uY29tL3BtL2NvZ25pdG8pLFxuICogbG9vayBmb3IgeW91ciB1c2VycG9vbCwgdGhlbiBnbyB0byB0aGUgYE1lc3NhZ2luZ2AgdGFiIGFuZCBlbmFibGUgYGxpbmtgIG1vZGUgaW5zaWRlIHRoZSBgVmVyaWZpY2F0aW9uIG1lc3NhZ2VgIG9wdGlvbi5cbiAqIEZpbmFsbHkgeW91IG5lZWQgdG8gZGVmaW5lIHRoZSBgc2lnblVwVmVyaWZpY2F0aW9uTWV0aG9kYCBpbiB5b3VyIGBBdXRoYCBjb25maWcuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHR5cGVzY3JpcHRcbiAqICBBbXBsaWZ5LmNvbmZpZ3VyZSh7XG4gKiAgICBBdXRoOiB7XG4gKiAgICAgQ29nbml0bzoge1xuICogICAgLi4uY29nbml0b0NvbmZpZyxcbiAqICAgIHNpZ25VcFZlcmlmaWNhdGlvbk1ldGhvZDogXCJsaW5rXCIgLy8gdGhlIGRlZmF1bHQgdmFsdWUgaXMgXCJjb2RlXCJcbiAqICAgfVxuICpcdH19KTtcbiAqIGBgYFxuICpcbiAqIEB0aHJvd3MgQXV0b1NpZ25JbkV4Y2VwdGlvbiAtIFRocm93biB3aGVuIHRoZSBhdXRvU2lnbkluIGZsb3cgaGFzIG5vdCBzdGFydGVkLCBvciBoYXMgYmVlbiBjYW5jZWxsZWQvY29tcGxldGVkLlxuICogQHJldHVybnMgVGhlIHNpZ25Jbk91dHB1dC5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogIC8vIGhhbmRsZVNpZ25VcC50c1xuICogYXN5bmMgZnVuY3Rpb24gaGFuZGxlU2lnblVwKFxuICogICB1c2VybmFtZTpzdHJpbmcsXG4gKiAgIHBhc3N3b3JkOnN0cmluZ1xuICogKXtcbiAqICAgdHJ5IHtcbiAqICAgICBjb25zdCB7IG5leHRTdGVwIH0gPSBhd2FpdCBzaWduVXAoe1xuICogICAgICAgdXNlcm5hbWUsXG4gKiAgICAgICBwYXNzd29yZCxcbiAqICAgICAgIG9wdGlvbnM6IHtcbiAqICAgICAgICAgdXNlckF0dHJpYnV0ZXM6eyBlbWFpbDonZW1haWxAZW1haWwuY29tJ30sXG4gKiAgICAgICAgIGF1dG9TaWduSW46IHRydWUgLy8gVGhpcyBlbmFibGVzIHRoZSBhdXRvIHNpZ24taW4gZmxvdy5cbiAqICAgICAgIH0sXG4gKiAgICAgfSk7XG4gKlxuICogICAgIGhhbmRsZVNpZ25VcFN0ZXAobmV4dFN0ZXApO1xuICpcbiAqICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAqICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiAvLyBoYW5kbGVDb25maXJtU2lnblVwLnRzXG4gKiBhc3luYyBmdW5jdGlvbiBoYW5kbGVDb25maXJtU2lnblVwKHVzZXJuYW1lOnN0cmluZywgY29uZmlybWF0aW9uQ29kZTpzdHJpbmcpIHtcbiAqICAgdHJ5IHtcbiAqICAgICBjb25zdCB7IG5leHRTdGVwIH0gPSBhd2FpdCBjb25maXJtU2lnblVwKHtcbiAqICAgICAgIHVzZXJuYW1lLFxuICogICAgICAgY29uZmlybWF0aW9uQ29kZSxcbiAqICAgICB9KTtcbiAqXG4gKiAgICAgaGFuZGxlU2lnblVwU3RlcChuZXh0U3RlcCk7XG4gKiAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gKiAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICogICB9XG4gKiB9XG4gKlxuICogLy8gc2lnblVwVXRpbHMudHNcbiAqIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVNpZ25VcFN0ZXAoIHN0ZXA6IFNpZ25VcE91dHB1dFtcIm5leHRTdGVwXCJdKSB7XG4gKiBzd2l0Y2ggKHN0ZXAuc2lnblVwU3RlcCkge1xuICogICBjYXNlIFwiQ09ORklSTV9TSUdOX1VQXCI6XG4gKlxuICogICAgLy8gUmVkaXJlY3QgZW5kLXVzZXIgdG8gY29uZmlybS1zaWduIHVwIHNjcmVlbi5cbiAqXG4gKiAgIGNhc2UgXCJDT01QTEVURV9BVVRPX1NJR05fSU5cIjpcbiAqXHQgICBjb25zdCBjb2RlRGVsaXZlcnlEZXRhaWxzID0gc3RlcC5jb2RlRGVsaXZlcnlEZXRhaWxzO1xuICogICAgIGlmIChjb2RlRGVsaXZlcnlEZXRhaWxzKSB7XG4gKiAgICAgIC8vIFJlZGlyZWN0IHVzZXIgdG8gY29uZmlybS1zaWduLXVwIHdpdGggbGluayBzY3JlZW4uXG4gKiAgICAgfVxuICogICAgIGNvbnN0IHNpZ25Jbk91dHB1dCA9IGF3YWl0IGF1dG9TaWduSW4oKTtcbiAqICAgLy8gaGFuZGxlIHNpZ24taW4gc3RlcHNcbiAqIH1cbiAqXG4gKiBgYGBcbiAqL1xuLy8gVE9ETyhFc2xpbnQpOiBjYW4gdGhpcyBiZSByZWZhY3RvcmVkIG5vdCB1c2luZyBgbGV0YCBvbiBleHBvcnRlZCBtZW1iZXI/XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLW11dGFibGUtZXhwb3J0c1xubGV0IGF1dG9TaWduSW4gPSBpbml0aWFsQXV0b1NpZ25Jbjtcbi8qKlxuICogU2V0cyB0aGUgY29udGV4dCBvZiBhdXRvU2lnbkluIGF0IHJ1biB0aW1lLlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIHNldEF1dG9TaWduSW4oY2FsbGJhY2spIHtcbiAgYXV0b1NpZ25JbiA9IGNhbGxiYWNrO1xufVxuLyoqXG4gKiBSZXNldHMgdGhlIGNvbnRleHRcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gcmVzZXRBdXRvU2lnbkluKHJlc2V0Q2FsbGJhY2sgPSB0cnVlKSB7XG4gIGlmIChyZXNldENhbGxiYWNrKSB7XG4gICAgYXV0b1NpZ25JbiA9IGluaXRpYWxBdXRvU2lnbkluO1xuICB9XG4gIGF1dG9TaWduSW5TdG9yZS5kaXNwYXRjaCh7XG4gICAgdHlwZTogJ1JFU0VUJ1xuICB9KTtcbn1cbmV4cG9ydCB7IGF1dG9TaWduSW4sIHJlc2V0QXV0b1NpZ25Jbiwgc2V0QXV0b1NpZ25JbiB9O1xuIiwiaW1wb3J0IHsgQW1wbGlmeSB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlJztcbmltcG9ydCB7IGFzc2VydFRva2VuUHJvdmlkZXJDb25maWcgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuaW1wb3J0IHsgQXV0aFZhbGlkYXRpb25FcnJvckNvZGUgfSBmcm9tICcuLi8uLi8uLi9lcnJvcnMvdHlwZXMvdmFsaWRhdGlvbi5tanMnO1xuaW1wb3J0IHsgYXNzZXJ0VmFsaWRhdGlvbkVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3JzL3V0aWxzL2Fzc2VydFZhbGlkYXRpb25FcnJvci5tanMnO1xuaW1wb3J0IHsgYXNzZXJ0U2VydmljZUVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3JzL3V0aWxzL2Fzc2VydFNlcnZpY2VFcnJvci5tanMnO1xuaW1wb3J0IHsgaGFuZGxlVXNlclNSUEF1dGhGbG93LCBnZXRBY3RpdmVTaWduSW5Vc2VybmFtZSwgZ2V0U2lnbkluUmVzdWx0LCBnZXRTaWduSW5SZXN1bHRGcm9tRXJyb3IgfSBmcm9tICcuLi91dGlscy9zaWduSW5IZWxwZXJzLm1qcyc7XG5pbXBvcnQgeyBzZXRBY3RpdmVTaWduSW5TdGF0ZSwgcmVzZXRBY3RpdmVTaWduSW5TdGF0ZSB9IGZyb20gJy4uLy4uLy4uL2NsaWVudC91dGlscy9zdG9yZS9zaWduSW5TdG9yZS5tanMnO1xuaW1wb3J0IHsgY2FjaGVDb2duaXRvVG9rZW5zIH0gZnJvbSAnLi4vdG9rZW5Qcm92aWRlci9jYWNoZVRva2Vucy5tanMnO1xuaW1wb3J0ICcuLi91dGlscy9yZWZyZXNoQXV0aFRva2Vucy5tanMnO1xuaW1wb3J0ICcuLi90b2tlblByb3ZpZGVyL2Vycm9ySGVscGVycy5tanMnO1xuaW1wb3J0ICcuLi91dGlscy90eXBlcy5tanMnO1xuaW1wb3J0IHsgdG9rZW5PcmNoZXN0cmF0b3IgfSBmcm9tICcuLi90b2tlblByb3ZpZGVyL3Rva2VuUHJvdmlkZXIubWpzJztcbmltcG9ydCB7IGRpc3BhdGNoU2lnbmVkSW5IdWJFdmVudCB9IGZyb20gJy4uL3V0aWxzL2Rpc3BhdGNoU2lnbmVkSW5IdWJFdmVudC5tanMnO1xuaW1wb3J0IHsgZ2V0TmV3RGV2aWNlTWV0YWRhdGEgfSBmcm9tICcuLi91dGlscy9nZXROZXdEZXZpY2VNZXRhZGF0YS5tanMnO1xuaW1wb3J0IHsgcmVzZXRBdXRvU2lnbkluIH0gZnJvbSAnLi9hdXRvU2lnbkluLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8qKlxuICogU2lnbnMgYSB1c2VyIGluXG4gKlxuICogQHBhcmFtIGlucHV0IC0gVGhlIFNpZ25JbldpdGhTUlBJbnB1dCBvYmplY3RcbiAqIEByZXR1cm5zIFNpZ25JbldpdGhTUlBPdXRwdXRcbiAqIEB0aHJvd3Mgc2VydmljZToge0BsaW5rIEluaXRpYXRlQXV0aEV4Y2VwdGlvbiB9LCB7QGxpbmsgUmVzcG9uZFRvQXV0aENoYWxsZW5nZUV4Y2VwdGlvbiB9IC0gQ29nbml0byBzZXJ2aWNlIGVycm9yc1xuICogdGhyb3duIGR1cmluZyB0aGUgc2lnbi1pbiBwcm9jZXNzLlxuICogQHRocm93cyB2YWxpZGF0aW9uOiB7QGxpbmsgQXV0aFZhbGlkYXRpb25FcnJvckNvZGUgIH0gLSBWYWxpZGF0aW9uIGVycm9ycyB0aHJvd24gd2hlbiBlaXRoZXIgdXNlcm5hbWUgb3IgcGFzc3dvcmRcbiAqICBhcmUgbm90IGRlZmluZWQuXG4gKiBAdGhyb3dzIEF1dGhUb2tlbkNvbmZpZ0V4Y2VwdGlvbiAtIFRocm93biB3aGVuIHRoZSB0b2tlbiBwcm92aWRlciBjb25maWcgaXMgaW52YWxpZC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2lnbkluV2l0aFNSUChpbnB1dCkge1xuICBjb25zdCB7XG4gICAgdXNlcm5hbWUsXG4gICAgcGFzc3dvcmRcbiAgfSA9IGlucHV0O1xuICBjb25zdCBhdXRoQ29uZmlnID0gQW1wbGlmeS5nZXRDb25maWcoKS5BdXRoPy5Db2duaXRvO1xuICBjb25zdCBzaWduSW5EZXRhaWxzID0ge1xuICAgIGxvZ2luSWQ6IHVzZXJuYW1lLFxuICAgIGF1dGhGbG93VHlwZTogJ1VTRVJfU1JQX0FVVEgnXG4gIH07XG4gIGFzc2VydFRva2VuUHJvdmlkZXJDb25maWcoYXV0aENvbmZpZyk7XG4gIGNvbnN0IGNsaWVudE1ldGFEYXRhID0gaW5wdXQub3B0aW9ucz8uY2xpZW50TWV0YWRhdGE7XG4gIGFzc2VydFZhbGlkYXRpb25FcnJvcighIXVzZXJuYW1lLCBBdXRoVmFsaWRhdGlvbkVycm9yQ29kZS5FbXB0eVNpZ25JblVzZXJuYW1lKTtcbiAgYXNzZXJ0VmFsaWRhdGlvbkVycm9yKCEhcGFzc3dvcmQsIEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlLkVtcHR5U2lnbkluUGFzc3dvcmQpO1xuICB0cnkge1xuICAgIGNvbnN0IHtcbiAgICAgIENoYWxsZW5nZU5hbWU6IGhhbmRsZWRDaGFsbGVuZ2VOYW1lLFxuICAgICAgQ2hhbGxlbmdlUGFyYW1ldGVyczogaGFuZGxlZENoYWxsZW5nZVBhcmFtZXRlcnMsXG4gICAgICBBdXRoZW50aWNhdGlvblJlc3VsdCxcbiAgICAgIFNlc3Npb25cbiAgICB9ID0gYXdhaXQgaGFuZGxlVXNlclNSUEF1dGhGbG93KHVzZXJuYW1lLCBwYXNzd29yZCwgY2xpZW50TWV0YURhdGEsIGF1dGhDb25maWcsIHRva2VuT3JjaGVzdHJhdG9yKTtcbiAgICBjb25zdCBhY3RpdmVVc2VybmFtZSA9IGdldEFjdGl2ZVNpZ25JblVzZXJuYW1lKHVzZXJuYW1lKTtcbiAgICAvLyBzZXRzIHVwIGxvY2FsIHN0YXRlIHVzZWQgZHVyaW5nIHRoZSBzaWduLWluIHByb2Nlc3NcbiAgICBzZXRBY3RpdmVTaWduSW5TdGF0ZSh7XG4gICAgICBzaWduSW5TZXNzaW9uOiBTZXNzaW9uLFxuICAgICAgdXNlcm5hbWU6IGFjdGl2ZVVzZXJuYW1lLFxuICAgICAgY2hhbGxlbmdlTmFtZTogaGFuZGxlZENoYWxsZW5nZU5hbWUsXG4gICAgICBzaWduSW5EZXRhaWxzXG4gICAgfSk7XG4gICAgaWYgKEF1dGhlbnRpY2F0aW9uUmVzdWx0KSB7XG4gICAgICBhd2FpdCBjYWNoZUNvZ25pdG9Ub2tlbnMoe1xuICAgICAgICB1c2VybmFtZTogYWN0aXZlVXNlcm5hbWUsXG4gICAgICAgIC4uLkF1dGhlbnRpY2F0aW9uUmVzdWx0LFxuICAgICAgICBOZXdEZXZpY2VNZXRhZGF0YTogYXdhaXQgZ2V0TmV3RGV2aWNlTWV0YWRhdGEoe1xuICAgICAgICAgIHVzZXJQb29sSWQ6IGF1dGhDb25maWcudXNlclBvb2xJZCxcbiAgICAgICAgICB1c2VyUG9vbEVuZHBvaW50OiBhdXRoQ29uZmlnLnVzZXJQb29sRW5kcG9pbnQsXG4gICAgICAgICAgbmV3RGV2aWNlTWV0YWRhdGE6IEF1dGhlbnRpY2F0aW9uUmVzdWx0Lk5ld0RldmljZU1ldGFkYXRhLFxuICAgICAgICAgIGFjY2Vzc1Rva2VuOiBBdXRoZW50aWNhdGlvblJlc3VsdC5BY2Nlc3NUb2tlblxuICAgICAgICB9KSxcbiAgICAgICAgc2lnbkluRGV0YWlsc1xuICAgICAgfSk7XG4gICAgICByZXNldEFjdGl2ZVNpZ25JblN0YXRlKCk7XG4gICAgICBhd2FpdCBkaXNwYXRjaFNpZ25lZEluSHViRXZlbnQoKTtcbiAgICAgIHJlc2V0QXV0b1NpZ25JbigpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNTaWduZWRJbjogdHJ1ZSxcbiAgICAgICAgbmV4dFN0ZXA6IHtcbiAgICAgICAgICBzaWduSW5TdGVwOiAnRE9ORSdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGdldFNpZ25JblJlc3VsdCh7XG4gICAgICBjaGFsbGVuZ2VOYW1lOiBoYW5kbGVkQ2hhbGxlbmdlTmFtZSxcbiAgICAgIGNoYWxsZW5nZVBhcmFtZXRlcnM6IGhhbmRsZWRDaGFsbGVuZ2VQYXJhbWV0ZXJzXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVzZXRBY3RpdmVTaWduSW5TdGF0ZSgpO1xuICAgIHJlc2V0QXV0b1NpZ25JbigpO1xuICAgIGFzc2VydFNlcnZpY2VFcnJvcihlcnJvcik7XG4gICAgY29uc3QgcmVzdWx0ID0gZ2V0U2lnbkluUmVzdWx0RnJvbUVycm9yKGVycm9yLm5hbWUpO1xuICAgIGlmIChyZXN1bHQpIHJldHVybiByZXN1bHQ7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cbmV4cG9ydCB7IHNpZ25JbldpdGhTUlAgfTtcbiIsImltcG9ydCB7IEFtcGxpZnkgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZSc7XG5pbXBvcnQgeyBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL3V0aWxzJztcbmltcG9ydCB7IEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3JzL3R5cGVzL3ZhbGlkYXRpb24ubWpzJztcbmltcG9ydCB7IGFzc2VydFNlcnZpY2VFcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9ycy91dGlscy9hc3NlcnRTZXJ2aWNlRXJyb3IubWpzJztcbmltcG9ydCB7IGFzc2VydFZhbGlkYXRpb25FcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9ycy91dGlscy9hc3NlcnRWYWxpZGF0aW9uRXJyb3IubWpzJztcbmltcG9ydCB7IGhhbmRsZVVzZXJQYXNzd29yZEF1dGhGbG93LCBnZXRBY3RpdmVTaWduSW5Vc2VybmFtZSwgZ2V0U2lnbkluUmVzdWx0LCBnZXRTaWduSW5SZXN1bHRGcm9tRXJyb3IgfSBmcm9tICcuLi91dGlscy9zaWduSW5IZWxwZXJzLm1qcyc7XG5pbXBvcnQgeyBzZXRBY3RpdmVTaWduSW5TdGF0ZSwgcmVzZXRBY3RpdmVTaWduSW5TdGF0ZSB9IGZyb20gJy4uLy4uLy4uL2NsaWVudC91dGlscy9zdG9yZS9zaWduSW5TdG9yZS5tanMnO1xuaW1wb3J0IHsgY2FjaGVDb2duaXRvVG9rZW5zIH0gZnJvbSAnLi4vdG9rZW5Qcm92aWRlci9jYWNoZVRva2Vucy5tanMnO1xuaW1wb3J0ICcuLi91dGlscy9yZWZyZXNoQXV0aFRva2Vucy5tanMnO1xuaW1wb3J0ICcuLi90b2tlblByb3ZpZGVyL2Vycm9ySGVscGVycy5tanMnO1xuaW1wb3J0ICcuLi91dGlscy90eXBlcy5tanMnO1xuaW1wb3J0IHsgdG9rZW5PcmNoZXN0cmF0b3IgfSBmcm9tICcuLi90b2tlblByb3ZpZGVyL3Rva2VuUHJvdmlkZXIubWpzJztcbmltcG9ydCB7IGRpc3BhdGNoU2lnbmVkSW5IdWJFdmVudCB9IGZyb20gJy4uL3V0aWxzL2Rpc3BhdGNoU2lnbmVkSW5IdWJFdmVudC5tanMnO1xuaW1wb3J0IHsgcmV0cnlPblJlc291cmNlTm90Rm91bmRFeGNlcHRpb24gfSBmcm9tICcuLi91dGlscy9yZXRyeU9uUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbi5tanMnO1xuaW1wb3J0IHsgZ2V0TmV3RGV2aWNlTWV0YWRhdGEgfSBmcm9tICcuLi91dGlscy9nZXROZXdEZXZpY2VNZXRhZGF0YS5tanMnO1xuaW1wb3J0IHsgcmVzZXRBdXRvU2lnbkluIH0gZnJvbSAnLi9hdXRvU2lnbkluLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbi8qKlxuICogU2lnbnMgYSB1c2VyIGluIHVzaW5nIFVTRVJfUEFTU1dPUkRfQVVUSCBBdXRoRmxvd1R5cGVcbiAqXG4gKiBAcGFyYW0gaW5wdXQgLSBUaGUgU2lnbkluV2l0aFVzZXJQYXNzd29yZElucHV0IG9iamVjdFxuICogQHJldHVybnMgU2lnbkluV2l0aFVzZXJQYXNzd29yZE91dHB1dFxuICogQHRocm93cyBzZXJ2aWNlOiB7QGxpbmsgSW5pdGlhdGVBdXRoRXhjZXB0aW9uIH0gLSBDb2duaXRvIHNlcnZpY2UgZXJyb3IgdGhyb3duIGR1cmluZyB0aGUgc2lnbi1pbiBwcm9jZXNzLlxuICogQHRocm93cyB2YWxpZGF0aW9uOiB7QGxpbmsgQXV0aFZhbGlkYXRpb25FcnJvckNvZGUgIH0gLSBWYWxpZGF0aW9uIGVycm9ycyB0aHJvd24gd2hlbiBlaXRoZXIgdXNlcm5hbWUgb3IgcGFzc3dvcmRcbiAqICBhcmUgbm90IGRlZmluZWQuXG4gKiBAdGhyb3dzIEF1dGhUb2tlbkNvbmZpZ0V4Y2VwdGlvbiAtIFRocm93biB3aGVuIHRoZSB0b2tlbiBwcm92aWRlciBjb25maWcgaXMgaW52YWxpZC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2lnbkluV2l0aFVzZXJQYXNzd29yZChpbnB1dCkge1xuICBjb25zdCB7XG4gICAgdXNlcm5hbWUsXG4gICAgcGFzc3dvcmQsXG4gICAgb3B0aW9uc1xuICB9ID0gaW5wdXQ7XG4gIGNvbnN0IGF1dGhDb25maWcgPSBBbXBsaWZ5LmdldENvbmZpZygpLkF1dGg/LkNvZ25pdG87XG4gIGNvbnN0IHNpZ25JbkRldGFpbHMgPSB7XG4gICAgbG9naW5JZDogdXNlcm5hbWUsXG4gICAgYXV0aEZsb3dUeXBlOiAnVVNFUl9QQVNTV09SRF9BVVRIJ1xuICB9O1xuICBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnKGF1dGhDb25maWcpO1xuICBjb25zdCBtZXRhZGF0YSA9IG9wdGlvbnM/LmNsaWVudE1ldGFkYXRhO1xuICBhc3NlcnRWYWxpZGF0aW9uRXJyb3IoISF1c2VybmFtZSwgQXV0aFZhbGlkYXRpb25FcnJvckNvZGUuRW1wdHlTaWduSW5Vc2VybmFtZSk7XG4gIGFzc2VydFZhbGlkYXRpb25FcnJvcighIXBhc3N3b3JkLCBBdXRoVmFsaWRhdGlvbkVycm9yQ29kZS5FbXB0eVNpZ25JblBhc3N3b3JkKTtcbiAgdHJ5IHtcbiAgICBjb25zdCB7XG4gICAgICBDaGFsbGVuZ2VOYW1lOiByZXRpcmVkQ2hhbGxlbmdlTmFtZSxcbiAgICAgIENoYWxsZW5nZVBhcmFtZXRlcnM6IHJldHJpZWRDaGFsbGVuZ2VQYXJhbWV0ZXJzLFxuICAgICAgQXV0aGVudGljYXRpb25SZXN1bHQsXG4gICAgICBTZXNzaW9uXG4gICAgfSA9IGF3YWl0IHJldHJ5T25SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uKGhhbmRsZVVzZXJQYXNzd29yZEF1dGhGbG93LCBbdXNlcm5hbWUsIHBhc3N3b3JkLCBtZXRhZGF0YSwgYXV0aENvbmZpZywgdG9rZW5PcmNoZXN0cmF0b3JdLCB1c2VybmFtZSwgdG9rZW5PcmNoZXN0cmF0b3IpO1xuICAgIGNvbnN0IGFjdGl2ZVVzZXJuYW1lID0gZ2V0QWN0aXZlU2lnbkluVXNlcm5hbWUodXNlcm5hbWUpO1xuICAgIC8vIHNldHMgdXAgbG9jYWwgc3RhdGUgdXNlZCBkdXJpbmcgdGhlIHNpZ24taW4gcHJvY2Vzc1xuICAgIHNldEFjdGl2ZVNpZ25JblN0YXRlKHtcbiAgICAgIHNpZ25JblNlc3Npb246IFNlc3Npb24sXG4gICAgICB1c2VybmFtZTogYWN0aXZlVXNlcm5hbWUsXG4gICAgICBjaGFsbGVuZ2VOYW1lOiByZXRpcmVkQ2hhbGxlbmdlTmFtZSxcbiAgICAgIHNpZ25JbkRldGFpbHNcbiAgICB9KTtcbiAgICBpZiAoQXV0aGVudGljYXRpb25SZXN1bHQpIHtcbiAgICAgIGF3YWl0IGNhY2hlQ29nbml0b1Rva2Vucyh7XG4gICAgICAgIC4uLkF1dGhlbnRpY2F0aW9uUmVzdWx0LFxuICAgICAgICB1c2VybmFtZTogYWN0aXZlVXNlcm5hbWUsXG4gICAgICAgIE5ld0RldmljZU1ldGFkYXRhOiBhd2FpdCBnZXROZXdEZXZpY2VNZXRhZGF0YSh7XG4gICAgICAgICAgdXNlclBvb2xJZDogYXV0aENvbmZpZy51c2VyUG9vbElkLFxuICAgICAgICAgIHVzZXJQb29sRW5kcG9pbnQ6IGF1dGhDb25maWcudXNlclBvb2xFbmRwb2ludCxcbiAgICAgICAgICBuZXdEZXZpY2VNZXRhZGF0YTogQXV0aGVudGljYXRpb25SZXN1bHQuTmV3RGV2aWNlTWV0YWRhdGEsXG4gICAgICAgICAgYWNjZXNzVG9rZW46IEF1dGhlbnRpY2F0aW9uUmVzdWx0LkFjY2Vzc1Rva2VuXG4gICAgICAgIH0pLFxuICAgICAgICBzaWduSW5EZXRhaWxzXG4gICAgICB9KTtcbiAgICAgIHJlc2V0QWN0aXZlU2lnbkluU3RhdGUoKTtcbiAgICAgIGF3YWl0IGRpc3BhdGNoU2lnbmVkSW5IdWJFdmVudCgpO1xuICAgICAgcmVzZXRBdXRvU2lnbkluKCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc1NpZ25lZEluOiB0cnVlLFxuICAgICAgICBuZXh0U3RlcDoge1xuICAgICAgICAgIHNpZ25JblN0ZXA6ICdET05FJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZ2V0U2lnbkluUmVzdWx0KHtcbiAgICAgIGNoYWxsZW5nZU5hbWU6IHJldGlyZWRDaGFsbGVuZ2VOYW1lLFxuICAgICAgY2hhbGxlbmdlUGFyYW1ldGVyczogcmV0cmllZENoYWxsZW5nZVBhcmFtZXRlcnNcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXNldEFjdGl2ZVNpZ25JblN0YXRlKCk7XG4gICAgcmVzZXRBdXRvU2lnbkluKCk7XG4gICAgYXNzZXJ0U2VydmljZUVycm9yKGVycm9yKTtcbiAgICBjb25zdCByZXN1bHQgPSBnZXRTaWduSW5SZXN1bHRGcm9tRXJyb3IoZXJyb3IubmFtZSk7XG4gICAgaWYgKHJlc3VsdCkgcmV0dXJuIHJlc3VsdDtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuZXhwb3J0IHsgc2lnbkluV2l0aFVzZXJQYXNzd29yZCB9O1xuIiwiaW1wb3J0IHsgQXV0aEFjdGlvbiB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5pbXBvcnQgeyBnZXRVc2VyQ29udGV4dERhdGEgfSBmcm9tICcuLi8uLi8uLi9wcm92aWRlcnMvY29nbml0by91dGlscy91c2VyQ29udGV4dERhdGEubWpzJztcbmltcG9ydCB7IGNyZWF0ZUluaXRpYXRlQXV0aENsaWVudCB9IGZyb20gJy4uLy4uLy4uL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eVByb3ZpZGVyL2NyZWF0ZUluaXRpYXRlQXV0aENsaWVudC5tanMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscy9jb21wb3NlcnMnO1xuaW1wb3J0ICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvYXdzLWNsaWVudC11dGlscyc7XG5pbXBvcnQgJy4uLy4uLy4uL2ZvdW5kYXRpb24vZmFjdG9yaWVzL3NlcnZpY2VDbGllbnRzL2NvZ25pdG9JZGVudGl0eVByb3ZpZGVyL3NoYXJlZC9oYW5kbGVyL2NvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlci5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9jb25zdGFudHMubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vY29tbW9uL0F1dGhFcnJvclN0cmluZ3MubWpzJztcbmltcG9ydCB7IEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3JzL3R5cGVzL3ZhbGlkYXRpb24ubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vcHJvdmlkZXJzL2NvZ25pdG8vdHlwZXMvZXJyb3JzLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVDb2duaXRvVXNlclBvb2xFbmRwb2ludFJlc29sdmVyIH0gZnJvbSAnLi4vLi4vLi4vcHJvdmlkZXJzL2NvZ25pdG8vZmFjdG9yaWVzL2NyZWF0ZUNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIubWpzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUnO1xuaW1wb3J0IHsgZ2V0UmVnaW9uRnJvbVVzZXJQb29sSWQgfSBmcm9tICcuLi8uLi8uLi9mb3VuZGF0aW9uL3BhcnNlcnMvcmVnaW9uUGFyc2Vycy5tanMnO1xuaW1wb3J0IHsgZ2V0QXV0aFVzZXJBZ2VudFZhbHVlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZ2V0QXV0aFVzZXJBZ2VudFZhbHVlLm1qcyc7XG5pbXBvcnQgeyBoYW5kbGVQYXNzd29yZFNSUCB9IGZyb20gJy4uL3NoYXJlZC9oYW5kbGVQYXNzd29yZFNSUC5tanMnO1xuaW1wb3J0IHsgYXNzZXJ0VmFsaWRhdGlvbkVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3JzL3V0aWxzL2Fzc2VydFZhbGlkYXRpb25FcnJvci5tanMnO1xuaW1wb3J0IHsgc2V0QWN0aXZlU2lnbkluVXNlcm5hbWUgfSBmcm9tICcuLi8uLi8uLi9wcm92aWRlcnMvY29nbml0by91dGlscy9zZXRBY3RpdmVTaWduSW5Vc2VybmFtZS5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIEhhbmRsZXMgdXNlciBhdXRoZW50aWNhdGlvbiBmbG93IHdpdGggY29uZmlndXJhYmxlIGNoYWxsZW5nZSBwcmVmZXJlbmNlcy5cbiAqIFN1cHBvcnRzIEF1dGhGYWN0b3JUeXBlIGNoYWxsZW5nZXMgdGhyb3VnaCB0aGUgVVNFUl9BVVRIIGZsb3cuXG4gKlxuICogQHBhcmFtIHtIYW5kbGVVc2VyQXV0aEZsb3dJbnB1dH0gcGFyYW1zIC0gQXV0aGVudGljYXRpb24gZmxvdyBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1zLnVzZXJuYW1lIC0gVGhlIHVzZXJuYW1lIGZvciBhdXRoZW50aWNhdGlvblxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+fSBbcGFyYW1zLmNsaWVudE1ldGFkYXRhXSAtIE9wdGlvbmFsIG1ldGFkYXRhIHRvIHBhc3MgdG8gYXV0aGVudGljYXRpb24gc2VydmljZVxuICogQHBhcmFtIHtDb2duaXRvVXNlclBvb2xDb25maWd9IHBhcmFtcy5jb25maWcgLSBDb2duaXRvIFVzZXIgUG9vbCBjb25maWd1cmF0aW9uXG4gKiBAcGFyYW0ge0F1dGhUb2tlbk9yY2hlc3RyYXRvcn0gcGFyYW1zLnRva2VuT3JjaGVzdHJhdG9yIC0gTWFuYWdlcyBhdXRoZW50aWNhdGlvbiB0b2tlbnMgYW5kIGRldmljZSB0cmFja2luZ1xuICogQHBhcmFtIHtBdXRoRmFjdG9yVHlwZX0gW3BhcmFtcy5wcmVmZXJyZWRDaGFsbGVuZ2VdIC0gT3B0aW9uYWwgcHJlZmVycmVkIGF1dGhlbnRpY2F0aW9uIG1ldGhvZFxuICogQHBhcmFtIHtzdHJpbmd9IFtwYXJhbXMucGFzc3dvcmRdIC0gUmVxdWlyZWQgd2hlbiBwcmVmZXJyZWRDaGFsbGVuZ2UgaXMgJ1BBU1NXT1JEJyBvciAnUEFTU1dPUkRfU1JQJ1xuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlPEluaXRpYXRlQXV0aENvbW1hbmRPdXRwdXQ+fSBUaGUgYXV0aGVudGljYXRpb24gcmVzcG9uc2UgZnJvbSBDb2duaXRvXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZVVzZXJBdXRoRmxvdyh7XG4gIHVzZXJuYW1lLFxuICBjbGllbnRNZXRhZGF0YSxcbiAgY29uZmlnLFxuICB0b2tlbk9yY2hlc3RyYXRvcixcbiAgcHJlZmVycmVkQ2hhbGxlbmdlLFxuICBwYXNzd29yZCxcbiAgc2Vzc2lvblxufSkge1xuICBjb25zdCB7XG4gICAgdXNlclBvb2xJZCxcbiAgICB1c2VyUG9vbENsaWVudElkLFxuICAgIHVzZXJQb29sRW5kcG9pbnRcbiAgfSA9IGNvbmZpZztcbiAgY29uc3QgVXNlckNvbnRleHREYXRhID0gZ2V0VXNlckNvbnRleHREYXRhKHtcbiAgICB1c2VybmFtZSxcbiAgICB1c2VyUG9vbElkLFxuICAgIHVzZXJQb29sQ2xpZW50SWRcbiAgfSk7XG4gIGNvbnN0IGF1dGhQYXJhbWV0ZXJzID0ge1xuICAgIFVTRVJOQU1FOiB1c2VybmFtZVxuICB9O1xuICBpZiAocHJlZmVycmVkQ2hhbGxlbmdlKSB7XG4gICAgaWYgKHByZWZlcnJlZENoYWxsZW5nZSA9PT0gJ1BBU1NXT1JEX1NSUCcpIHtcbiAgICAgIGFzc2VydFZhbGlkYXRpb25FcnJvcighIXBhc3N3b3JkLCBBdXRoVmFsaWRhdGlvbkVycm9yQ29kZS5FbXB0eVNpZ25JblBhc3N3b3JkKTtcbiAgICAgIHJldHVybiBoYW5kbGVQYXNzd29yZFNSUCh7XG4gICAgICAgIHVzZXJuYW1lLFxuICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgY2xpZW50TWV0YWRhdGEsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgdG9rZW5PcmNoZXN0cmF0b3IsXG4gICAgICAgIGF1dGhGbG93OiAnVVNFUl9BVVRIJyxcbiAgICAgICAgcHJlZmVycmVkQ2hhbGxlbmdlXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHByZWZlcnJlZENoYWxsZW5nZSA9PT0gJ1BBU1NXT1JEJykge1xuICAgICAgYXNzZXJ0VmFsaWRhdGlvbkVycm9yKCEhcGFzc3dvcmQsIEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlLkVtcHR5U2lnbkluUGFzc3dvcmQpO1xuICAgICAgYXV0aFBhcmFtZXRlcnMuUEFTU1dPUkQgPSBwYXNzd29yZDtcbiAgICB9XG4gICAgYXV0aFBhcmFtZXRlcnMuUFJFRkVSUkVEX0NIQUxMRU5HRSA9IHByZWZlcnJlZENoYWxsZW5nZTtcbiAgfVxuICBjb25zdCBqc29uUmVxID0ge1xuICAgIEF1dGhGbG93OiAnVVNFUl9BVVRIJyxcbiAgICBBdXRoUGFyYW1ldGVyczogYXV0aFBhcmFtZXRlcnMsXG4gICAgQ2xpZW50TWV0YWRhdGE6IGNsaWVudE1ldGFkYXRhLFxuICAgIENsaWVudElkOiB1c2VyUG9vbENsaWVudElkLFxuICAgIFVzZXJDb250ZXh0RGF0YVxuICB9O1xuICBpZiAoc2Vzc2lvbikge1xuICAgIGpzb25SZXEuU2Vzc2lvbiA9IHNlc3Npb247XG4gIH1cbiAgY29uc3QgaW5pdGlhdGVBdXRoID0gY3JlYXRlSW5pdGlhdGVBdXRoQ2xpZW50KHtcbiAgICBlbmRwb2ludFJlc29sdmVyOiBjcmVhdGVDb2duaXRvVXNlclBvb2xFbmRwb2ludFJlc29sdmVyKHtcbiAgICAgIGVuZHBvaW50T3ZlcnJpZGU6IHVzZXJQb29sRW5kcG9pbnRcbiAgICB9KVxuICB9KTtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBpbml0aWF0ZUF1dGgoe1xuICAgIHJlZ2lvbjogZ2V0UmVnaW9uRnJvbVVzZXJQb29sSWQodXNlclBvb2xJZCksXG4gICAgdXNlckFnZW50VmFsdWU6IGdldEF1dGhVc2VyQWdlbnRWYWx1ZShBdXRoQWN0aW9uLlNpZ25JbilcbiAgfSwganNvblJlcSk7XG4gIC8vIFNldCB0aGUgYWN0aXZlIHVzZXJuYW1lIGltbWVkaWF0ZWx5IGFmdGVyIHN1Y2Nlc3NmdWwgYXV0aGVudGljYXRpb24gYXR0ZW1wdFxuICAvLyBJZiBhIHVzZXIgc3RhcnRzIGEgbmV3IHNpZ24taW4gd2hpbGUgYW5vdGhlciBzaWduLWluIGlzIGluY29tcGxldGUsXG4gIC8vIHRoaXMgZW5zdXJlcyB3ZSdyZSB0cmFja2luZyB0aGUgY29ycmVjdCB1c2VyIGZvciBzdWJzZXF1ZW50IGF1dGggY2hhbGxlbmdlcy5cbiAgc2V0QWN0aXZlU2lnbkluVXNlcm5hbWUodXNlcm5hbWUpO1xuICByZXR1cm4gcmVzcG9uc2U7XG59XG5leHBvcnQgeyBoYW5kbGVVc2VyQXV0aEZsb3cgfTtcbiIsImltcG9ydCB7IEFtcGxpZnkgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZSc7XG5pbXBvcnQgeyBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL3V0aWxzJztcbmltcG9ydCB7IEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3JzL3R5cGVzL3ZhbGlkYXRpb24ubWpzJztcbmltcG9ydCB7IGFzc2VydFZhbGlkYXRpb25FcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9ycy91dGlscy9hc3NlcnRWYWxpZGF0aW9uRXJyb3IubWpzJztcbmltcG9ydCB7IGFzc2VydFNlcnZpY2VFcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9ycy91dGlscy9hc3NlcnRTZXJ2aWNlRXJyb3IubWpzJztcbmltcG9ydCB7IGdldEFjdGl2ZVNpZ25JblVzZXJuYW1lLCBnZXRTaWduSW5SZXN1bHQsIGdldFNpZ25JblJlc3VsdEZyb21FcnJvciB9IGZyb20gJy4uL3V0aWxzL3NpZ25JbkhlbHBlcnMubWpzJztcbmltcG9ydCB7IGF1dG9TaWduSW5TdG9yZSB9IGZyb20gJy4uLy4uLy4uL2NsaWVudC91dGlscy9zdG9yZS9hdXRvU2lnbkluU3RvcmUubWpzJztcbmltcG9ydCB7IHNldEFjdGl2ZVNpZ25JblN0YXRlLCByZXNldEFjdGl2ZVNpZ25JblN0YXRlIH0gZnJvbSAnLi4vLi4vLi4vY2xpZW50L3V0aWxzL3N0b3JlL3NpZ25JblN0b3JlLm1qcyc7XG5pbXBvcnQgeyBjYWNoZUNvZ25pdG9Ub2tlbnMgfSBmcm9tICcuLi90b2tlblByb3ZpZGVyL2NhY2hlVG9rZW5zLm1qcyc7XG5pbXBvcnQgeyBkaXNwYXRjaFNpZ25lZEluSHViRXZlbnQgfSBmcm9tICcuLi91dGlscy9kaXNwYXRjaFNpZ25lZEluSHViRXZlbnQubWpzJztcbmltcG9ydCAnLi4vdXRpbHMvcmVmcmVzaEF1dGhUb2tlbnMubWpzJztcbmltcG9ydCAnLi4vdG9rZW5Qcm92aWRlci9lcnJvckhlbHBlcnMubWpzJztcbmltcG9ydCAnLi4vdXRpbHMvdHlwZXMubWpzJztcbmltcG9ydCB7IHRva2VuT3JjaGVzdHJhdG9yIH0gZnJvbSAnLi4vdG9rZW5Qcm92aWRlci90b2tlblByb3ZpZGVyLm1qcyc7XG5pbXBvcnQgeyBoYW5kbGVVc2VyQXV0aEZsb3cgfSBmcm9tICcuLi8uLi8uLi9jbGllbnQvZmxvd3MvdXNlckF1dGgvaGFuZGxlVXNlckF1dGhGbG93Lm1qcyc7XG5pbXBvcnQgeyBnZXROZXdEZXZpY2VNZXRhZGF0YSB9IGZyb20gJy4uL3V0aWxzL2dldE5ld0RldmljZU1ldGFkYXRhLm1qcyc7XG5pbXBvcnQgeyByZXNldEF1dG9TaWduSW4gfSBmcm9tICcuL2F1dG9TaWduSW4ubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLyoqXG4gKiBTaWducyBhIHVzZXIgaW4gdGhyb3VnaCBhIHJlZ2lzdGVyZWQgZW1haWwgb3IgcGhvbmUgbnVtYmVyIHdpdGhvdXQgYSBwYXNzd29yZCBieSBieSByZWNlaXZpbmcgYW5kIGVudGVyaW5nIGFuIE9UUC5cbiAqXG4gKiBAcGFyYW0gaW5wdXQgLSBUaGUgU2lnbkluV2l0aFVzZXJBdXRoSW5wdXQgb2JqZWN0XG4gKiBAcmV0dXJucyBTaWduSW5XaXRoVXNlckF1dGhPdXRwdXRcbiAqIEB0aHJvd3Mgc2VydmljZToge0BsaW5rIEluaXRpYXRlQXV0aEV4Y2VwdGlvbiB9LCB7QGxpbmsgUmVzcG9uZFRvQXV0aENoYWxsZW5nZUV4Y2VwdGlvbiB9IC0gQ29nbml0byBzZXJ2aWNlIGVycm9yc1xuICogdGhyb3duIGR1cmluZyB0aGUgc2lnbi1pbiBwcm9jZXNzLlxuICogQHRocm93cyB2YWxpZGF0aW9uOiB7QGxpbmsgQXV0aFZhbGlkYXRpb25FcnJvckNvZGUgIH0gLSBWYWxpZGF0aW9uIGVycm9ycyB0aHJvd24gd2hlbiBlaXRoZXIgdXNlcm5hbWUgb3IgcGFzc3dvcmQgLS0gbmVlZHMgdG8gY2hhbmdlXG4gKiAgYXJlIG5vdCBkZWZpbmVkLlxuICogQHRocm93cyBBdXRoVG9rZW5Db25maWdFeGNlcHRpb24gLSBUaHJvd24gd2hlbiB0aGUgdG9rZW4gcHJvdmlkZXIgY29uZmlnIGlzIGludmFsaWQuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHNpZ25JbldpdGhVc2VyQXV0aChpbnB1dCkge1xuICBjb25zdCB7XG4gICAgdXNlcm5hbWUsXG4gICAgcGFzc3dvcmQsXG4gICAgb3B0aW9uc1xuICB9ID0gaW5wdXQ7XG4gIGNvbnN0IGF1dGhDb25maWcgPSBBbXBsaWZ5LmdldENvbmZpZygpLkF1dGg/LkNvZ25pdG87XG4gIGNvbnN0IHNpZ25JbkRldGFpbHMgPSB7XG4gICAgbG9naW5JZDogdXNlcm5hbWUsXG4gICAgYXV0aEZsb3dUeXBlOiAnVVNFUl9BVVRIJ1xuICB9O1xuICBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnKGF1dGhDb25maWcpO1xuICBjb25zdCBjbGllbnRNZXRhRGF0YSA9IG9wdGlvbnM/LmNsaWVudE1ldGFkYXRhO1xuICBjb25zdCBwcmVmZXJyZWRDaGFsbGVuZ2UgPSBvcHRpb25zPy5wcmVmZXJyZWRDaGFsbGVuZ2U7XG4gIGFzc2VydFZhbGlkYXRpb25FcnJvcighIXVzZXJuYW1lLCBBdXRoVmFsaWRhdGlvbkVycm9yQ29kZS5FbXB0eVNpZ25JblVzZXJuYW1lKTtcbiAgdHJ5IHtcbiAgICBjb25zdCBoYW5kbGVVc2VyQXV0aEZsb3dJbnB1dCA9IHtcbiAgICAgIHVzZXJuYW1lLFxuICAgICAgY29uZmlnOiBhdXRoQ29uZmlnLFxuICAgICAgdG9rZW5PcmNoZXN0cmF0b3IsXG4gICAgICBjbGllbnRNZXRhZGF0YTogY2xpZW50TWV0YURhdGEsXG4gICAgICBwcmVmZXJyZWRDaGFsbGVuZ2UsXG4gICAgICBwYXNzd29yZFxuICAgIH07XG4gICAgY29uc3QgYXV0b1NpZ25JblN0b3JlU3RhdGUgPSBhdXRvU2lnbkluU3RvcmUuZ2V0U3RhdGUoKTtcbiAgICBpZiAoYXV0b1NpZ25JblN0b3JlU3RhdGUuYWN0aXZlICYmIGF1dG9TaWduSW5TdG9yZVN0YXRlLnVzZXJuYW1lID09PSB1c2VybmFtZSkge1xuICAgICAgaGFuZGxlVXNlckF1dGhGbG93SW5wdXQuc2Vzc2lvbiA9IGF1dG9TaWduSW5TdG9yZVN0YXRlLnNlc3Npb247XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgaGFuZGxlVXNlckF1dGhGbG93KGhhbmRsZVVzZXJBdXRoRmxvd0lucHV0KTtcbiAgICBjb25zdCBhY3RpdmVVc2VybmFtZSA9IGdldEFjdGl2ZVNpZ25JblVzZXJuYW1lKHVzZXJuYW1lKTtcbiAgICBzZXRBY3RpdmVTaWduSW5TdGF0ZSh7XG4gICAgICBzaWduSW5TZXNzaW9uOiByZXNwb25zZS5TZXNzaW9uLFxuICAgICAgdXNlcm5hbWU6IGFjdGl2ZVVzZXJuYW1lLFxuICAgICAgY2hhbGxlbmdlTmFtZTogcmVzcG9uc2UuQ2hhbGxlbmdlTmFtZSxcbiAgICAgIHNpZ25JbkRldGFpbHNcbiAgICB9KTtcbiAgICBpZiAocmVzcG9uc2UuQXV0aGVudGljYXRpb25SZXN1bHQpIHtcbiAgICAgIGF3YWl0IGNhY2hlQ29nbml0b1Rva2Vucyh7XG4gICAgICAgIHVzZXJuYW1lOiBhY3RpdmVVc2VybmFtZSxcbiAgICAgICAgLi4ucmVzcG9uc2UuQXV0aGVudGljYXRpb25SZXN1bHQsXG4gICAgICAgIE5ld0RldmljZU1ldGFkYXRhOiBhd2FpdCBnZXROZXdEZXZpY2VNZXRhZGF0YSh7XG4gICAgICAgICAgdXNlclBvb2xJZDogYXV0aENvbmZpZy51c2VyUG9vbElkLFxuICAgICAgICAgIHVzZXJQb29sRW5kcG9pbnQ6IGF1dGhDb25maWcudXNlclBvb2xFbmRwb2ludCxcbiAgICAgICAgICBuZXdEZXZpY2VNZXRhZGF0YTogcmVzcG9uc2UuQXV0aGVudGljYXRpb25SZXN1bHQuTmV3RGV2aWNlTWV0YWRhdGEsXG4gICAgICAgICAgYWNjZXNzVG9rZW46IHJlc3BvbnNlLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkFjY2Vzc1Rva2VuXG4gICAgICAgIH0pLFxuICAgICAgICBzaWduSW5EZXRhaWxzXG4gICAgICB9KTtcbiAgICAgIHJlc2V0QWN0aXZlU2lnbkluU3RhdGUoKTtcbiAgICAgIGF3YWl0IGRpc3BhdGNoU2lnbmVkSW5IdWJFdmVudCgpO1xuICAgICAgcmVzZXRBdXRvU2lnbkluKCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc1NpZ25lZEluOiB0cnVlLFxuICAgICAgICBuZXh0U3RlcDoge1xuICAgICAgICAgIHNpZ25JblN0ZXA6ICdET05FJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZ2V0U2lnbkluUmVzdWx0KHtcbiAgICAgIGNoYWxsZW5nZU5hbWU6IHJlc3BvbnNlLkNoYWxsZW5nZU5hbWUsXG4gICAgICBjaGFsbGVuZ2VQYXJhbWV0ZXJzOiByZXNwb25zZS5DaGFsbGVuZ2VQYXJhbWV0ZXJzLFxuICAgICAgYXZhaWxhYmxlQ2hhbGxlbmdlczogJ0F2YWlsYWJsZUNoYWxsZW5nZXMnIGluIHJlc3BvbnNlID8gcmVzcG9uc2UuQXZhaWxhYmxlQ2hhbGxlbmdlcyA6IHVuZGVmaW5lZFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlc2V0QWN0aXZlU2lnbkluU3RhdGUoKTtcbiAgICByZXNldEF1dG9TaWduSW4oKTtcbiAgICBhc3NlcnRTZXJ2aWNlRXJyb3IoZXJyb3IpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGdldFNpZ25JblJlc3VsdEZyb21FcnJvcihlcnJvci5uYW1lKTtcbiAgICBpZiAocmVzdWx0KSByZXR1cm4gcmVzdWx0O1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5leHBvcnQgeyBzaWduSW5XaXRoVXNlckF1dGggfTtcbiIsImltcG9ydCB7IGFzc2VydFVzZXJOb3RBdXRoZW50aWNhdGVkIH0gZnJvbSAnLi4vdXRpbHMvc2lnbkluSGVscGVycy5tanMnO1xuaW1wb3J0IHsgc2lnbkluV2l0aEN1c3RvbUF1dGggfSBmcm9tICcuL3NpZ25JbldpdGhDdXN0b21BdXRoLm1qcyc7XG5pbXBvcnQgeyBzaWduSW5XaXRoQ3VzdG9tU1JQQXV0aCB9IGZyb20gJy4vc2lnbkluV2l0aEN1c3RvbVNSUEF1dGgubWpzJztcbmltcG9ydCB7IHNpZ25JbldpdGhTUlAgfSBmcm9tICcuL3NpZ25JbldpdGhTUlAubWpzJztcbmltcG9ydCB7IHNpZ25JbldpdGhVc2VyUGFzc3dvcmQgfSBmcm9tICcuL3NpZ25JbldpdGhVc2VyUGFzc3dvcmQubWpzJztcbmltcG9ydCB7IHNpZ25JbldpdGhVc2VyQXV0aCB9IGZyb20gJy4vc2lnbkluV2l0aFVzZXJBdXRoLm1qcyc7XG5pbXBvcnQgeyByZXNldEF1dG9TaWduSW4gfSBmcm9tICcuL2F1dG9TaWduSW4ubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLyoqXG4gKiBTaWducyBhIHVzZXIgaW5cbiAqXG4gKiBAcGFyYW0gaW5wdXQgLSAgVGhlIFNpZ25JbklucHV0IG9iamVjdFxuICogQHJldHVybnMgU2lnbkluT3V0cHV0XG4gKiBAdGhyb3dzIHNlcnZpY2U6IHtAbGluayBJbml0aWF0ZUF1dGhFeGNlcHRpb24gfSwge0BsaW5rIFJlc3BvbmRUb0F1dGhDaGFsbGVuZ2VFeGNlcHRpb24gfVxuICogIC0gQ29nbml0byBzZXJ2aWNlIGVycm9ycyB0aHJvd24gZHVyaW5nIHRoZSBzaWduLWluIHByb2Nlc3MuXG4gKiBAdGhyb3dzIHZhbGlkYXRpb246IHtAbGluayBBdXRoVmFsaWRhdGlvbkVycm9yQ29kZSAgfSAtIFZhbGlkYXRpb24gZXJyb3JzIHRocm93biB3aGVuIGVpdGhlciB1c2VybmFtZSBvciBwYXNzd29yZFxuICogIGFyZSBub3QgZGVmaW5lZC5cbiAqIEB0aHJvd3MgQXV0aFRva2VuQ29uZmlnRXhjZXB0aW9uIC0gVGhyb3duIHdoZW4gdGhlIHRva2VuIHByb3ZpZGVyIGNvbmZpZyBpcyBpbnZhbGlkLlxuICovXG5hc3luYyBmdW5jdGlvbiBzaWduSW4oaW5wdXQpIHtcbiAgLy8gSGVyZSB3ZSB3YW50IHRvIHJlc2V0IHRoZSBzdG9yZSBidXQgbm90IHJlYXNzaWduIHRoZSBjYWxsYmFjay5cbiAgLy8gVGhlIGNhbGxiYWNrIGlzIHJlc2V0IHdoZW4gdGhlIHVuZGVybHlpbmcgcHJvbWlzZSByZXNvbHZlcyBvciByZWplY3RzLlxuICAvLyBXaXRoIHRoZSBhZHZlbnQgb2Ygc2Vzc2lvbiBiYXNlZCBzaWduIGluLCB0aGlzIGd1YXJhbnRlZXMgdGhhdCB0aGUgc2lnbkluIEFQSSBpbml0aWF0ZXMgYSBuZXcgYXV0aCBmbG93LFxuICAvLyByZWdhcmRsZXNzIG9mIHdoZXRoZXIgaXQgaXMgY2FsbGVkIGZvciBhIHVzZXIgY3VycmVudGx5IGVuZ2FnZWQgaW4gYW4gYWN0aXZlIGF1dG8gc2lnbiBpbiBzZXNzaW9uLlxuICByZXNldEF1dG9TaWduSW4oZmFsc2UpO1xuICBjb25zdCBhdXRoRmxvd1R5cGUgPSBpbnB1dC5vcHRpb25zPy5hdXRoRmxvd1R5cGU7XG4gIGF3YWl0IGFzc2VydFVzZXJOb3RBdXRoZW50aWNhdGVkKCk7XG4gIHN3aXRjaCAoYXV0aEZsb3dUeXBlKSB7XG4gICAgY2FzZSAnVVNFUl9TUlBfQVVUSCc6XG4gICAgICByZXR1cm4gc2lnbkluV2l0aFNSUChpbnB1dCk7XG4gICAgY2FzZSAnVVNFUl9QQVNTV09SRF9BVVRIJzpcbiAgICAgIHJldHVybiBzaWduSW5XaXRoVXNlclBhc3N3b3JkKGlucHV0KTtcbiAgICBjYXNlICdDVVNUT01fV0lUSE9VVF9TUlAnOlxuICAgICAgcmV0dXJuIHNpZ25JbldpdGhDdXN0b21BdXRoKGlucHV0KTtcbiAgICBjYXNlICdDVVNUT01fV0lUSF9TUlAnOlxuICAgICAgcmV0dXJuIHNpZ25JbldpdGhDdXN0b21TUlBBdXRoKGlucHV0KTtcbiAgICBjYXNlICdVU0VSX0FVVEgnOlxuICAgICAgcmV0dXJuIHNpZ25JbldpdGhVc2VyQXV0aChpbnB1dCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzaWduSW5XaXRoU1JQKGlucHV0KTtcbiAgfVxufVxuZXhwb3J0IHsgc2lnbkluIH07XG4iLCJpbXBvcnQgeyBIdWJJbnRlcm5hbCB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5pbXBvcnQgeyBzaWduSW4gfSBmcm9tICcuLi9hcGlzL3NpZ25Jbi5tanMnO1xuaW1wb3J0IHsgQXV0aEVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3JzL0F1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgc2V0QXV0b1NpZ25JbiwgcmVzZXRBdXRvU2lnbkluIH0gZnJvbSAnLi4vYXBpcy9hdXRvU2lnbkluLm1qcyc7XG5pbXBvcnQgeyBBVVRPX1NJR05fSU5fRVhDRVBUSU9OIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3JzL2NvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgc2lnbkluV2l0aFVzZXJBdXRoIH0gZnJvbSAnLi4vYXBpcy9zaWduSW5XaXRoVXNlckF1dGgubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuY29uc3QgTUFYX0FVVE9TSUdOSU5fUE9MTElOR19NUyA9IDMgKiA2MCAqIDEwMDA7XG5mdW5jdGlvbiBoYW5kbGVDb2RlQXV0b1NpZ25JbihzaWduSW5JbnB1dCkge1xuICBjb25zdCBzdG9wSHViTGlzdGVuZXIgPSBIdWJJbnRlcm5hbC5saXN0ZW4oJ2F1dGgtaW50ZXJuYWwnLCBhc3luYyAoe1xuICAgIHBheWxvYWRcbiAgfSkgPT4ge1xuICAgIHN3aXRjaCAocGF5bG9hZC5ldmVudCkge1xuICAgICAgY2FzZSAnY29uZmlybVNpZ25VcCc6XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHBheWxvYWQuZGF0YTtcbiAgICAgICAgICBpZiAocmVzcG9uc2U/LmlzU2lnblVwQ29tcGxldGUpIHtcbiAgICAgICAgICAgIEh1YkludGVybmFsLmRpc3BhdGNoKCdhdXRoLWludGVybmFsJywge1xuICAgICAgICAgICAgICBldmVudDogJ2F1dG9TaWduSW4nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldEF1dG9TaWduSW4oYXV0b1NpZ25JbldpdGhDb2RlKHNpZ25JbklucHV0KSk7XG4gICAgICAgICAgICBzdG9wSHViTGlzdGVuZXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gIH0pO1xuICAvLyBUaGlzIHdpbGwgc3RvcCB0aGUgbGlzdGVuZXIgaWYgY29uZmlybVNpZ25VcCBpcyBub3QgcmVzb2x2ZWQuXG4gIGNvbnN0IHRpbWVPdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIHN0b3BIdWJMaXN0ZW5lcigpO1xuICAgIGNsZWFyVGltZW91dCh0aW1lT3V0SWQpO1xuICAgIHJlc2V0QXV0b1NpZ25JbigpO1xuICB9LCBNQVhfQVVUT1NJR05JTl9QT0xMSU5HX01TKTtcbn1cbmZ1bmN0aW9uIGRlYm91bmNlKGZ1biwgZGVsYXkpIHtcbiAgbGV0IHRpbWVyO1xuICByZXR1cm4gYXJncyA9PiB7XG4gICAgaWYgKCF0aW1lcikge1xuICAgICAgZnVuKC4uLmFyZ3MpO1xuICAgIH1cbiAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aW1lciA9IHVuZGVmaW5lZDtcbiAgICB9LCBkZWxheSk7XG4gIH07XG59XG5mdW5jdGlvbiBoYW5kbGVBdXRvU2lnbkluV2l0aExpbmsoc2lnbkluSW5wdXQsIHJlc29sdmUsIHJlamVjdCkge1xuICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XG4gIGNvbnN0IGF1dG9TaWduSW5Qb2xsaW5nSW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBlbGFwc2VkVGltZSA9IERhdGUubm93KCkgLSBzdGFydDtcbiAgICBjb25zdCBtYXhUaW1lID0gTUFYX0FVVE9TSUdOSU5fUE9MTElOR19NUztcbiAgICBpZiAoZWxhcHNlZFRpbWUgPiBtYXhUaW1lKSB7XG4gICAgICBjbGVhckludGVydmFsKGF1dG9TaWduSW5Qb2xsaW5nSW50ZXJ2YWxJZCk7XG4gICAgICByZWplY3QobmV3IEF1dGhFcnJvcih7XG4gICAgICAgIG5hbWU6IEFVVE9fU0lHTl9JTl9FWENFUFRJT04sXG4gICAgICAgIG1lc3NhZ2U6ICdUaGUgYWNjb3VudCB3YXMgbm90IGNvbmZpcm1lZCBvbiB0aW1lLicsXG4gICAgICAgIHJlY292ZXJ5U3VnZ2VzdGlvbjogJ1RyeSB0byB2ZXJpZnkgeW91ciBhY2NvdW50IGJ5IGNsaWNraW5nIHRoZSBsaW5rIHNlbnQgeW91ciBlbWFpbCBvciBwaG9uZSBhbmQgdGhlbiBsb2dpbiBtYW51YWxseS4nXG4gICAgICB9KSk7XG4gICAgICByZXNldEF1dG9TaWduSW4oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2lnbkluT3V0cHV0ID0gYXdhaXQgc2lnbkluKHNpZ25JbklucHV0KTtcbiAgICAgICAgaWYgKHNpZ25Jbk91dHB1dC5uZXh0U3RlcC5zaWduSW5TdGVwICE9PSAnQ09ORklSTV9TSUdOX1VQJykge1xuICAgICAgICAgIHJlc29sdmUoc2lnbkluT3V0cHV0KTtcbiAgICAgICAgICBjbGVhckludGVydmFsKGF1dG9TaWduSW5Qb2xsaW5nSW50ZXJ2YWxJZCk7XG4gICAgICAgICAgcmVzZXRBdXRvU2lnbkluKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoYXV0b1NpZ25JblBvbGxpbmdJbnRlcnZhbElkKTtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgcmVzZXRBdXRvU2lnbkluKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCA1MDAwKTtcbn1cbmNvbnN0IGRlYm91bmNlZEF1dG9TaWduSW5XaXRoTGluayA9IGRlYm91bmNlKGhhbmRsZUF1dG9TaWduSW5XaXRoTGluaywgMzAwKTtcbmNvbnN0IGRlYm91bmNlZEF1dG9TaWduV2l0aENvZGVPclVzZXJDb25maXJtZWQgPSBkZWJvdW5jZShoYW5kbGVBdXRvU2lnbkluV2l0aENvZGVPclVzZXJDb25maXJtZWQsIDMwMCk7XG5mdW5jdGlvbiBhdXRvU2lnbkluV2hlblVzZXJJc0NvbmZpcm1lZFdpdGhMaW5rKHNpZ25JbklucHV0KSB7XG4gIHJldHVybiBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGRlYm91bmNlZEF1dG9TaWduSW5XaXRoTGluayhbc2lnbkluSW5wdXQsIHJlc29sdmUsIHJlamVjdF0pO1xuICAgIH0pO1xuICB9O1xufVxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlQXV0b1NpZ25JbldpdGhDb2RlT3JVc2VyQ29uZmlybWVkKHNpZ25JbklucHV0LCByZXNvbHZlLCByZWplY3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBvdXRwdXQgPSBzaWduSW5JbnB1dD8ub3B0aW9ucz8uYXV0aEZsb3dUeXBlID09PSAnVVNFUl9BVVRIJyA/IGF3YWl0IHNpZ25JbldpdGhVc2VyQXV0aChzaWduSW5JbnB1dCkgOiBhd2FpdCBzaWduSW4oc2lnbkluSW5wdXQpO1xuICAgIHJlc29sdmUob3V0cHV0KTtcbiAgICByZXNldEF1dG9TaWduSW4oKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICAgIHJlc2V0QXV0b1NpZ25JbigpO1xuICB9XG59XG5mdW5jdGlvbiBhdXRvU2lnbkluV2l0aENvZGUoc2lnbkluSW5wdXQpIHtcbiAgcmV0dXJuIGFzeW5jICgpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgZGVib3VuY2VkQXV0b1NpZ25XaXRoQ29kZU9yVXNlckNvbmZpcm1lZChbc2lnbkluSW5wdXQsIHJlc29sdmUsIHJlamVjdF0pO1xuICAgIH0pO1xuICB9O1xufVxuY29uc3QgYXV0b1NpZ25JblVzZXJDb25maXJtZWQgPSBhdXRvU2lnbkluV2l0aENvZGU7XG5leHBvcnQgeyBhdXRvU2lnbkluVXNlckNvbmZpcm1lZCwgYXV0b1NpZ25JbldoZW5Vc2VySXNDb25maXJtZWRXaXRoTGluaywgaGFuZGxlQ29kZUF1dG9TaWduSW4gfTtcbiIsImltcG9ydCB7IGNvbXBvc2VTZXJ2aWNlQXBpIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMvY29tcG9zZXJzJztcbmltcG9ydCB7IHBhcnNlSnNvbkVycm9yLCBwYXJzZUpzb25Cb2R5IH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMnO1xuaW1wb3J0IHsgdmFsaWRhdGlvbkVycm9yTWFwIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29tbW9uL0F1dGhFcnJvclN0cmluZ3MubWpzJztcbmltcG9ydCB7IEF1dGhFcnJvciB9IGZyb20gJy4uLy4uLy4uLy4uL2Vycm9ycy9BdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlIH0gZnJvbSAnLi4vLi4vLi4vLi4vZXJyb3JzL3R5cGVzL3ZhbGlkYXRpb24ubWpzJztcbmltcG9ydCB7IGFzc2VydFNlcnZpY2VFcnJvciB9IGZyb20gJy4uLy4uLy4uLy4uL2Vycm9ycy91dGlscy9hc3NlcnRTZXJ2aWNlRXJyb3IubWpzJztcbmltcG9ydCB7IFNpZ25VcEV4Y2VwdGlvbiB9IGZyb20gJy4uLy4uLy4uLy4uL3Byb3ZpZGVycy9jb2duaXRvL3R5cGVzL2Vycm9ycy5tanMnO1xuaW1wb3J0IHsgY3JlYXRlVXNlclBvb2xTZXJpYWxpemVyIH0gZnJvbSAnLi9zaGFyZWQvc2VyZGUvY3JlYXRlVXNlclBvb2xTZXJpYWxpemVyLm1qcyc7XG5pbXBvcnQgeyBjb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIgfSBmcm9tICcuL3NoYXJlZC9oYW5kbGVyL2NvZ25pdG9Vc2VyUG9vbFRyYW5zZmVySGFuZGxlci5tanMnO1xuaW1wb3J0IHsgREVGQVVMVF9TRVJWSUNFX0NMSUVOVF9BUElfQ09ORklHIH0gZnJvbSAnLi9jb25zdGFudHMubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuY29uc3QgY3JlYXRlU2lnblVwQ2xpZW50RGVzZXJpYWxpemVyID0gKCkgPT4gYXN5bmMgcmVzcG9uc2UgPT4ge1xuICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICBjb25zdCBlcnJvciA9IGF3YWl0IHBhcnNlSnNvbkVycm9yKHJlc3BvbnNlKTtcbiAgICBhc3NlcnRTZXJ2aWNlRXJyb3IoZXJyb3IpO1xuICAgIGlmIChcbiAgICAvLyBNaXNzaW5nIFBhc3N3b3JkIEVycm9yXG4gICAgLy8gMSB2YWxpZGF0aW9uIGVycm9yIGRldGVjdGVkOiBWYWx1ZSBhdCAncGFzc3dvcmQnZmFpbGVkIHRvIHNhdGlzZnkgY29uc3RyYWludDogTWVtYmVyIG11c3Qgbm90IGJlIG51bGxcbiAgICBlcnJvci5uYW1lID09PSBTaWduVXBFeGNlcHRpb24uSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvbiAmJiAvJ3Bhc3N3b3JkJy8udGVzdChlcnJvci5tZXNzYWdlKSAmJiAvTWVtYmVyIG11c3Qgbm90IGJlIG51bGwvLnRlc3QoZXJyb3IubWVzc2FnZSkpIHtcbiAgICAgIGNvbnN0IG5hbWUgPSBBdXRoVmFsaWRhdGlvbkVycm9yQ29kZS5FbXB0eVNpZ25VcFBhc3N3b3JkO1xuICAgICAgY29uc3Qge1xuICAgICAgICBtZXNzYWdlLFxuICAgICAgICByZWNvdmVyeVN1Z2dlc3Rpb25cbiAgICAgIH0gPSB2YWxpZGF0aW9uRXJyb3JNYXBbbmFtZV07XG4gICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgcmVjb3ZlcnlTdWdnZXN0aW9uXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEF1dGhFcnJvcih7XG4gICAgICBuYW1lOiBlcnJvci5uYW1lLFxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBwYXJzZUpzb25Cb2R5KHJlc3BvbnNlKTtcbn07XG5jb25zdCBjcmVhdGVTaWduVXBDbGllbnQgPSBjb25maWcgPT4gY29tcG9zZVNlcnZpY2VBcGkoY29nbml0b1VzZXJQb29sVHJhbnNmZXJIYW5kbGVyLCBjcmVhdGVVc2VyUG9vbFNlcmlhbGl6ZXIoJ1NpZ25VcCcpLCBjcmVhdGVTaWduVXBDbGllbnREZXNlcmlhbGl6ZXIoKSwge1xuICAuLi5ERUZBVUxUX1NFUlZJQ0VfQ0xJRU5UX0FQSV9DT05GSUcsXG4gIC4uLmNvbmZpZ1xufSk7XG5leHBvcnQgeyBjcmVhdGVTaWduVXBDbGllbnQsIGNyZWF0ZVNpZ25VcENsaWVudERlc2VyaWFsaXplciB9O1xuIiwiaW1wb3J0IHsgQW1wbGlmeSB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlJztcbmltcG9ydCB7IGFzc2VydFRva2VuUHJvdmlkZXJDb25maWcsIEF1dGhBY3Rpb24gfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuaW1wb3J0IHsgYXNzZXJ0VmFsaWRhdGlvbkVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3JzL3V0aWxzL2Fzc2VydFZhbGlkYXRpb25FcnJvci5tanMnO1xuaW1wb3J0IHsgQXV0aFZhbGlkYXRpb25FcnJvckNvZGUgfSBmcm9tICcuLi8uLi8uLi9lcnJvcnMvdHlwZXMvdmFsaWRhdGlvbi5tanMnO1xuaW1wb3J0IHsgZ2V0UmVnaW9uRnJvbVVzZXJQb29sSWQgfSBmcm9tICcuLi8uLi8uLi9mb3VuZGF0aW9uL3BhcnNlcnMvcmVnaW9uUGFyc2Vycy5tanMnO1xuaW1wb3J0IHsgdG9BdHRyaWJ1dGVUeXBlIH0gZnJvbSAnLi4vdXRpbHMvYXBpSGVscGVycy5tanMnO1xuaW1wb3J0IHsgaGFuZGxlQ29kZUF1dG9TaWduSW4sIGF1dG9TaWduSW5Vc2VyQ29uZmlybWVkLCBhdXRvU2lnbkluV2hlblVzZXJJc0NvbmZpcm1lZFdpdGhMaW5rIH0gZnJvbSAnLi4vdXRpbHMvc2lnblVwSGVscGVycy5tanMnO1xuaW1wb3J0IHsgZ2V0VXNlckNvbnRleHREYXRhIH0gZnJvbSAnLi4vdXRpbHMvdXNlckNvbnRleHREYXRhLm1qcyc7XG5pbXBvcnQgeyBnZXRBdXRoVXNlckFnZW50VmFsdWUgfSBmcm9tICcuLi8uLi8uLi91dGlscy9nZXRBdXRoVXNlckFnZW50VmFsdWUubWpzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMvY29tcG9zZXJzJztcbmltcG9ydCAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL2F3cy1jbGllbnQtdXRpbHMnO1xuaW1wb3J0ICcuLi8uLi8uLi9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9zaGFyZWQvaGFuZGxlci9jb2duaXRvVXNlclBvb2xUcmFuc2ZlckhhbmRsZXIubWpzJztcbmltcG9ydCAnLi4vLi4vLi4vZm91bmRhdGlvbi9mYWN0b3JpZXMvc2VydmljZUNsaWVudHMvY29nbml0b0lkZW50aXR5UHJvdmlkZXIvY29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVTaWduVXBDbGllbnQgfSBmcm9tICcuLi8uLi8uLi9mb3VuZGF0aW9uL2ZhY3Rvcmllcy9zZXJ2aWNlQ2xpZW50cy9jb2duaXRvSWRlbnRpdHlQcm92aWRlci9jcmVhdGVTaWduVXBDbGllbnQubWpzJztcbmltcG9ydCB7IGNyZWF0ZUNvZ25pdG9Vc2VyUG9vbEVuZHBvaW50UmVzb2x2ZXIgfSBmcm9tICcuLi9mYWN0b3JpZXMvY3JlYXRlQ29nbml0b1VzZXJQb29sRW5kcG9pbnRSZXNvbHZlci5tanMnO1xuaW1wb3J0IHsgYXV0b1NpZ25JblN0b3JlIH0gZnJvbSAnLi4vLi4vLi4vY2xpZW50L3V0aWxzL3N0b3JlL2F1dG9TaWduSW5TdG9yZS5tanMnO1xuaW1wb3J0ICcuLi8uLi8uLi9jbGllbnQvdXRpbHMvc3RvcmUvc2lnbkluU3RvcmUubWpzJztcbmltcG9ydCB7IHNldEF1dG9TaWduSW4gfSBmcm9tICcuL2F1dG9TaWduSW4ubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLyoqXG4gKiBDcmVhdGVzIGEgdXNlclxuICpcbiAqIEBwYXJhbSBpbnB1dCAtIFRoZSBTaWduVXBJbnB1dCBvYmplY3RcbiAqIEByZXR1cm5zIFNpZ25VcE91dHB1dFxuICogQHRocm93cyBzZXJ2aWNlOiB7QGxpbmsgU2lnblVwRXhjZXB0aW9uIH0gLSBDb2duaXRvIHNlcnZpY2UgZXJyb3JzIHRocm93biBkdXJpbmcgdGhlIHNpZ24tdXAgcHJvY2Vzcy5cbiAqIEB0aHJvd3MgdmFsaWRhdGlvbjoge0BsaW5rIEF1dGhWYWxpZGF0aW9uRXJyb3JDb2RlIH0gLSBWYWxpZGF0aW9uIGVycm9ycyB0aHJvd24gZWl0aGVyIHVzZXJuYW1lIG9yIHBhc3N3b3JkXG4gKiAgYXJlIG5vdCBkZWZpbmVkLlxuICogQHRocm93cyBBdXRoVG9rZW5Db25maWdFeGNlcHRpb24gLSBUaHJvd24gd2hlbiB0aGUgdG9rZW4gcHJvdmlkZXIgY29uZmlnIGlzIGludmFsaWQuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHNpZ25VcChpbnB1dCkge1xuICBjb25zdCB7XG4gICAgdXNlcm5hbWUsXG4gICAgcGFzc3dvcmQsXG4gICAgb3B0aW9uc1xuICB9ID0gaW5wdXQ7XG4gIGNvbnN0IGF1dGhDb25maWcgPSBBbXBsaWZ5LmdldENvbmZpZygpLkF1dGg/LkNvZ25pdG87XG4gIGNvbnN0IHNpZ25VcFZlcmlmaWNhdGlvbk1ldGhvZCA9IGF1dGhDb25maWc/LnNpZ25VcFZlcmlmaWNhdGlvbk1ldGhvZCA/PyAnY29kZSc7XG4gIGNvbnN0IHtcbiAgICBjbGllbnRNZXRhZGF0YSxcbiAgICB2YWxpZGF0aW9uRGF0YSxcbiAgICBhdXRvU2lnbkluXG4gIH0gPSBpbnB1dC5vcHRpb25zID8/IHt9O1xuICBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnKGF1dGhDb25maWcpO1xuICBhc3NlcnRWYWxpZGF0aW9uRXJyb3IoISF1c2VybmFtZSwgQXV0aFZhbGlkYXRpb25FcnJvckNvZGUuRW1wdHlTaWduVXBVc2VybmFtZSk7XG4gIGNvbnN0IHNpZ25JblNlcnZpY2VPcHRpb25zID0gdHlwZW9mIGF1dG9TaWduSW4gIT09ICdib29sZWFuJyA/IGF1dG9TaWduSW4gOiB1bmRlZmluZWQ7XG4gIGNvbnN0IHNpZ25JbklucHV0ID0ge1xuICAgIHVzZXJuYW1lLFxuICAgIG9wdGlvbnM6IHNpZ25JblNlcnZpY2VPcHRpb25zXG4gIH07XG4gIC8vIGlmIHRoZSBhdXRoRmxvd1R5cGUgaXMgJ0NVU1RPTV9XSVRIT1VUX1NSUCcgdGhlbiB3ZSBkb24ndCBpbmNsdWRlIHRoZSBwYXNzd29yZFxuICBpZiAoc2lnbkluU2VydmljZU9wdGlvbnM/LmF1dGhGbG93VHlwZSAhPT0gJ0NVU1RPTV9XSVRIT1VUX1NSUCcpIHtcbiAgICBzaWduSW5JbnB1dC5wYXNzd29yZCA9IHBhc3N3b3JkO1xuICB9XG4gIGNvbnN0IHtcbiAgICB1c2VyUG9vbElkLFxuICAgIHVzZXJQb29sQ2xpZW50SWQsXG4gICAgdXNlclBvb2xFbmRwb2ludFxuICB9ID0gYXV0aENvbmZpZztcbiAgY29uc3Qgc2lnblVwQ2xpZW50ID0gY3JlYXRlU2lnblVwQ2xpZW50KHtcbiAgICBlbmRwb2ludFJlc29sdmVyOiBjcmVhdGVDb2duaXRvVXNlclBvb2xFbmRwb2ludFJlc29sdmVyKHtcbiAgICAgIGVuZHBvaW50T3ZlcnJpZGU6IHVzZXJQb29sRW5kcG9pbnRcbiAgICB9KVxuICB9KTtcbiAgY29uc3Qgc2lnblVwQ2xpZW50SW5wdXQgPSB7XG4gICAgVXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgIFBhc3N3b3JkOiB1bmRlZmluZWQsXG4gICAgVXNlckF0dHJpYnV0ZXM6IG9wdGlvbnM/LnVzZXJBdHRyaWJ1dGVzICYmIHRvQXR0cmlidXRlVHlwZShvcHRpb25zPy51c2VyQXR0cmlidXRlcyksXG4gICAgQ2xpZW50TWV0YWRhdGE6IGNsaWVudE1ldGFkYXRhLFxuICAgIFZhbGlkYXRpb25EYXRhOiB2YWxpZGF0aW9uRGF0YSAmJiB0b0F0dHJpYnV0ZVR5cGUodmFsaWRhdGlvbkRhdGEpLFxuICAgIENsaWVudElkOiB1c2VyUG9vbENsaWVudElkLFxuICAgIFVzZXJDb250ZXh0RGF0YTogZ2V0VXNlckNvbnRleHREYXRhKHtcbiAgICAgIHVzZXJuYW1lLFxuICAgICAgdXNlclBvb2xJZCxcbiAgICAgIHVzZXJQb29sQ2xpZW50SWRcbiAgICB9KVxuICB9O1xuICBpZiAocGFzc3dvcmQpIHtcbiAgICBzaWduVXBDbGllbnRJbnB1dC5QYXNzd29yZCA9IHBhc3N3b3JkO1xuICB9XG4gIGNvbnN0IHtcbiAgICBVc2VyU3ViOiB1c2VySWQsXG4gICAgQ29kZURlbGl2ZXJ5RGV0YWlsczogY2RkLFxuICAgIFVzZXJDb25maXJtZWQ6IHVzZXJDb25maXJtZWQsXG4gICAgU2Vzc2lvbjogc2Vzc2lvblxuICB9ID0gYXdhaXQgc2lnblVwQ2xpZW50KHtcbiAgICByZWdpb246IGdldFJlZ2lvbkZyb21Vc2VyUG9vbElkKHVzZXJQb29sSWQpLFxuICAgIHVzZXJBZ2VudFZhbHVlOiBnZXRBdXRoVXNlckFnZW50VmFsdWUoQXV0aEFjdGlvbi5TaWduVXApXG4gIH0sIHNpZ25VcENsaWVudElucHV0KTtcbiAgaWYgKHNpZ25JblNlcnZpY2VPcHRpb25zIHx8IGF1dG9TaWduSW4gPT09IHRydWUpIHtcbiAgICBhdXRvU2lnbkluU3RvcmUuZGlzcGF0Y2goe1xuICAgICAgdHlwZTogJ1NUQVJUJ1xuICAgIH0pO1xuICAgIGF1dG9TaWduSW5TdG9yZS5kaXNwYXRjaCh7XG4gICAgICB0eXBlOiAnU0VUX1VTRVJOQU1FJyxcbiAgICAgIHZhbHVlOiB1c2VybmFtZVxuICAgIH0pO1xuICAgIGF1dG9TaWduSW5TdG9yZS5kaXNwYXRjaCh7XG4gICAgICB0eXBlOiAnU0VUX1NFU1NJT04nLFxuICAgICAgdmFsdWU6IHNlc3Npb25cbiAgICB9KTtcbiAgfVxuICBjb25zdCBjb2RlRGVsaXZlcnlEZXRhaWxzID0ge1xuICAgIGRlc3RpbmF0aW9uOiBjZGQ/LkRlc3RpbmF0aW9uLFxuICAgIGRlbGl2ZXJ5TWVkaXVtOiBjZGQ/LkRlbGl2ZXJ5TWVkaXVtLFxuICAgIGF0dHJpYnV0ZU5hbWU6IGNkZD8uQXR0cmlidXRlTmFtZVxuICB9O1xuICBjb25zdCBpc1NpZ25VcENvbXBsZXRlID0gISF1c2VyQ29uZmlybWVkO1xuICBjb25zdCBpc0F1dG9TaWduSW5TdGFydGVkID0gYXV0b1NpZ25JblN0b3JlLmdldFN0YXRlKCkuYWN0aXZlO1xuICAvLyBTaWduIFVwIENvbXBsZXRlXG4gIC8vIE5vIENvbmZpcm0gU2lnbiBJbiBTdGVwIFJlcXVpcmVkXG4gIGlmIChpc1NpZ25VcENvbXBsZXRlKSB7XG4gICAgaWYgKGlzQXV0b1NpZ25JblN0YXJ0ZWQpIHtcbiAgICAgIHNldEF1dG9TaWduSW4oYXV0b1NpZ25JblVzZXJDb25maXJtZWQoc2lnbkluSW5wdXQpKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzU2lnblVwQ29tcGxldGU6IHRydWUsXG4gICAgICAgIG5leHRTdGVwOiB7XG4gICAgICAgICAgc2lnblVwU3RlcDogJ0NPTVBMRVRFX0FVVE9fU0lHTl9JTidcbiAgICAgICAgfSxcbiAgICAgICAgdXNlcklkXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgaXNTaWduVXBDb21wbGV0ZTogdHJ1ZSxcbiAgICAgIG5leHRTdGVwOiB7XG4gICAgICAgIHNpZ25VcFN0ZXA6ICdET05FJ1xuICAgICAgfSxcbiAgICAgIHVzZXJJZFxuICAgIH07XG4gIH1cbiAgLy8gU2lnbiBVcCBOb3QgQ29tcGxldGVcbiAgLy8gQ29uZmlybSBTaWduIFVwIFN0ZXAgUmVxdWlyZWRcbiAgaWYgKGlzQXV0b1NpZ25JblN0YXJ0ZWQpIHtcbiAgICAvLyBDb25maXJtYXRpb24gVmlhIExpbmsgT2NjdXJzIEluIFNlcGFyYXRlIENvbnRleHRcbiAgICAvLyBBdXRvU2lnbkluIEZuIFdpbGwgSW5pdGlhdGUgUG9sbGluZyBPbmNlIEV4ZWN1dGVkXG4gICAgaWYgKHNpZ25VcFZlcmlmaWNhdGlvbk1ldGhvZCA9PT0gJ2xpbmsnKSB7XG4gICAgICBzZXRBdXRvU2lnbkluKGF1dG9TaWduSW5XaGVuVXNlcklzQ29uZmlybWVkV2l0aExpbmsoc2lnbkluSW5wdXQpKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzU2lnblVwQ29tcGxldGU6IGZhbHNlLFxuICAgICAgICBuZXh0U3RlcDoge1xuICAgICAgICAgIHNpZ25VcFN0ZXA6ICdDT01QTEVURV9BVVRPX1NJR05fSU4nLFxuICAgICAgICAgIGNvZGVEZWxpdmVyeURldGFpbHNcbiAgICAgICAgfSxcbiAgICAgICAgdXNlcklkXG4gICAgICB9O1xuICAgIH1cbiAgICAvLyBDb25maXJtYXRpb24gVmlhIENvZGUgT2NjdXJzIEluIFNhbWUgQ29udGV4dFxuICAgIC8vIEF1dG9TaWduSW4gTmV4dCBTdGVwIFdpbGwgQmUgUmV0dXJuZWQgRnJvbSBDb25maXJtIFNpZ24gVXBcbiAgICBoYW5kbGVDb2RlQXV0b1NpZ25JbihzaWduSW5JbnB1dCk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBpc1NpZ25VcENvbXBsZXRlOiBmYWxzZSxcbiAgICBuZXh0U3RlcDoge1xuICAgICAgc2lnblVwU3RlcDogJ0NPTkZJUk1fU0lHTl9VUCcsXG4gICAgICBjb2RlRGVsaXZlcnlEZXRhaWxzXG4gICAgfSxcbiAgICB1c2VySWRcbiAgfTtcbn1cbmV4cG9ydCB7IHNpZ25VcCB9O1xuIiwiaW1wb3J0IHsgYXV0aEVycm9yTWVzc2FnZXMgfSBmcm9tICcuLi8uLi8uLi8uLi9FcnJvcnMubWpzJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGVzIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29tbW9uL0F1dGhFcnJvclN0cmluZ3MubWpzJztcbmltcG9ydCB7IEF1dGhFcnJvciB9IGZyb20gJy4uLy4uLy4uLy4uL2Vycm9ycy9BdXRoRXJyb3IubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuY29uc3QgY3JlYXRlT0F1dGhFcnJvciA9IChtZXNzYWdlLCByZWNvdmVyeVN1Z2dlc3Rpb24pID0+IG5ldyBBdXRoRXJyb3Ioe1xuICBtZXNzYWdlOiBtZXNzYWdlID8/ICdBbiBlcnJvciBoYXMgb2NjdXJyZWQgZHVyaW5nIHRoZSBvYXV0aCBwcm9jZXNzLicsXG4gIG5hbWU6IEF1dGhFcnJvckNvZGVzLk9BdXRoU2lnbkluRXJyb3IsXG4gIHJlY292ZXJ5U3VnZ2VzdGlvbjogcmVjb3ZlcnlTdWdnZXN0aW9uID8/IGF1dGhFcnJvck1lc3NhZ2VzLm9hdXRoU2lnbkluRXJyb3IubG9nXG59KTtcbmV4cG9ydCB7IGNyZWF0ZU9BdXRoRXJyb3IgfTtcbiIsImltcG9ydCB7IEF1dGhFcnJvciB9IGZyb20gJy4uLy4uLy4uLy4uL2Vycm9ycy9BdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IEF1dGhFcnJvclR5cGVzIH0gZnJvbSAnLi4vLi4vLi4vLi4vdHlwZXMvQXV0aC5tanMnO1xuaW1wb3J0IHsgb0F1dGhTdG9yZSB9IGZyb20gJy4vb0F1dGhTdG9yZS5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBmbG93Q2FuY2VsbGVkTWVzc2FnZSA9ICdgc2lnbkluV2l0aFJlZGlyZWN0YCBoYXMgYmVlbiBjYW5jZWxlZC4nO1xuY29uc3QgdmFsaWRhdGlvbkZhaWxlZE1lc3NhZ2UgPSAnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgdmFsaWRhdGluZyB0aGUgc3RhdGUuJztcbmNvbnN0IHZhbGlkYXRpb25SZWNvdmVyeVN1Z2dlc3Rpb24gPSAnVHJ5IHRvIGluaXRpYXRlIGFuIE9BdXRoIGZsb3cgZnJvbSBBbXBsaWZ5JztcbmNvbnN0IHZhbGlkYXRlU3RhdGUgPSBhc3luYyBzdGF0ZSA9PiB7XG4gIGNvbnN0IHNhdmVkU3RhdGUgPSBhd2FpdCBvQXV0aFN0b3JlLmxvYWRPQXV0aFN0YXRlKCk7XG4gIC8vIFRoaXMgaXMgYmVjYXVzZSBzYXZlZFN0YXRlIG9ubHkgZXhpc3RzIGlmIHRoZSBmbG93IHdhcyBpbml0aWF0ZWQgYnkgQW1wbGlmeVxuICBjb25zdCB2YWxpZGF0ZWRTdGF0ZSA9IHN0YXRlID09PSBzYXZlZFN0YXRlID8gc2F2ZWRTdGF0ZSA6IHVuZGVmaW5lZDtcbiAgaWYgKCF2YWxpZGF0ZWRTdGF0ZSkge1xuICAgIHRocm93IG5ldyBBdXRoRXJyb3Ioe1xuICAgICAgbmFtZTogQXV0aEVycm9yVHlwZXMuT0F1dGhTaWduSW5FcnJvcixcbiAgICAgIG1lc3NhZ2U6IHN0YXRlID09PSBudWxsID8gZmxvd0NhbmNlbGxlZE1lc3NhZ2UgOiB2YWxpZGF0aW9uRmFpbGVkTWVzc2FnZSxcbiAgICAgIHJlY292ZXJ5U3VnZ2VzdGlvbjogc3RhdGUgPT09IG51bGwgPyB1bmRlZmluZWQgOiB2YWxpZGF0aW9uUmVjb3ZlcnlTdWdnZXN0aW9uXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHZhbGlkYXRlZFN0YXRlO1xufTtcbmV4cG9ydCB7IGZsb3dDYW5jZWxsZWRNZXNzYWdlLCB2YWxpZGF0ZVN0YXRlLCB2YWxpZGF0aW9uRmFpbGVkTWVzc2FnZSwgdmFsaWRhdGlvblJlY292ZXJ5U3VnZ2VzdGlvbiB9O1xuIiwiaW1wb3J0IHsgQW1wbGlmeVVybCwgVVNFUl9BR0VOVF9IRUFERVIsIHVybFNhZmVEZWNvZGUsIEFNUExJRllfU1lNQk9MIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUvaW50ZXJuYWxzL3V0aWxzJztcbmltcG9ydCB7IGRlY29kZUpXVCwgSHViIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUnO1xuaW1wb3J0IHsgY2FjaGVDb2duaXRvVG9rZW5zIH0gZnJvbSAnLi4vLi4vdG9rZW5Qcm92aWRlci9jYWNoZVRva2Vucy5tanMnO1xuaW1wb3J0IHsgZGlzcGF0Y2hTaWduZWRJbkh1YkV2ZW50IH0gZnJvbSAnLi4vZGlzcGF0Y2hTaWduZWRJbkh1YkV2ZW50Lm1qcyc7XG5pbXBvcnQgJy4uL3JlZnJlc2hBdXRoVG9rZW5zLm1qcyc7XG5pbXBvcnQgJy4uLy4uL3Rva2VuUHJvdmlkZXIvZXJyb3JIZWxwZXJzLm1qcyc7XG5pbXBvcnQgeyBvQXV0aFN0b3JlIH0gZnJvbSAnLi9vQXV0aFN0b3JlLm1qcyc7XG5pbXBvcnQgeyByZXNvbHZlQW5kQ2xlYXJJbmZsaWdodFByb21pc2VzIH0gZnJvbSAnLi9pbmZsaWdodFByb21pc2UubWpzJztcbmltcG9ydCB7IHRva2VuT3JjaGVzdHJhdG9yIH0gZnJvbSAnLi4vLi4vdG9rZW5Qcm92aWRlci90b2tlblByb3ZpZGVyLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVPQXV0aEVycm9yIH0gZnJvbSAnLi9jcmVhdGVPQXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgeyB2YWxpZGF0ZVN0YXRlIH0gZnJvbSAnLi92YWxpZGF0ZVN0YXRlLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IGNvbXBsZXRlT0F1dGhGbG93ID0gYXN5bmMgKHtcbiAgY3VycmVudFVybCxcbiAgdXNlckFnZW50VmFsdWUsXG4gIGNsaWVudElkLFxuICByZWRpcmVjdFVyaSxcbiAgcmVzcG9uc2VUeXBlLFxuICBkb21haW4sXG4gIHByZWZlclByaXZhdGVTZXNzaW9uXG59KSA9PiB7XG4gIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBBbXBsaWZ5VXJsKGN1cnJlbnRVcmwpO1xuICBjb25zdCBlcnJvciA9IHVybFBhcmFtcy5zZWFyY2hQYXJhbXMuZ2V0KCdlcnJvcicpO1xuICBjb25zdCBlcnJvck1lc3NhZ2UgPSB1cmxQYXJhbXMuc2VhcmNoUGFyYW1zLmdldCgnZXJyb3JfZGVzY3JpcHRpb24nKTtcbiAgaWYgKGVycm9yKSB7XG4gICAgdGhyb3cgY3JlYXRlT0F1dGhFcnJvcihlcnJvck1lc3NhZ2UgPz8gZXJyb3IpO1xuICB9XG4gIGlmIChyZXNwb25zZVR5cGUgPT09ICdjb2RlJykge1xuICAgIHJldHVybiBoYW5kbGVDb2RlRmxvdyh7XG4gICAgICBjdXJyZW50VXJsLFxuICAgICAgdXNlckFnZW50VmFsdWUsXG4gICAgICBjbGllbnRJZCxcbiAgICAgIHJlZGlyZWN0VXJpLFxuICAgICAgZG9tYWluLFxuICAgICAgcHJlZmVyUHJpdmF0ZVNlc3Npb25cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gaGFuZGxlSW1wbGljaXRGbG93KHtcbiAgICBjdXJyZW50VXJsLFxuICAgIHJlZGlyZWN0VXJpLFxuICAgIHByZWZlclByaXZhdGVTZXNzaW9uXG4gIH0pO1xufTtcbmNvbnN0IGhhbmRsZUNvZGVGbG93ID0gYXN5bmMgKHtcbiAgY3VycmVudFVybCxcbiAgdXNlckFnZW50VmFsdWUsXG4gIGNsaWVudElkLFxuICByZWRpcmVjdFVyaSxcbiAgZG9tYWluLFxuICBwcmVmZXJQcml2YXRlU2Vzc2lvblxufSkgPT4ge1xuICAvKiBDb252ZXJ0IFVSTCBpbnRvIGFuIG9iamVjdCB3aXRoIHBhcmFtZXRlcnMgYXMga2V5c1xuICB7IHJlZGlyZWN0X3VyaTogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC8nLCByZXNwb25zZV90eXBlOiAnY29kZScsIC4uLn0gKi9cbiAgY29uc3QgdXJsID0gbmV3IEFtcGxpZnlVcmwoY3VycmVudFVybCk7XG4gIGNvbnN0IGNvZGUgPSB1cmwuc2VhcmNoUGFyYW1zLmdldCgnY29kZScpO1xuICBjb25zdCBzdGF0ZSA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCdzdGF0ZScpO1xuICAvLyBpZiBgY29kZWAgb3IgYHN0YXRlYCBpcyBub3QgcHJlc2VudGVkIGluIHRoZSByZWRpcmVjdCB1cmwsIG1vc3QgbGlrZWx5XG4gIC8vIHRoYXQgdGhlIGVuZCB1c2VyIGNhbmNlbGxlZCB0aGUgaW5mbGlnaHQgb2F1dGggZmxvdyBieTpcbiAgLy8gMS4gY2xpY2tpbmcgdGhlIGJhY2sgYnV0dG9uIG9mIGJyb3dzZXJcbiAgLy8gMi4gY2xvc2luZyB0aGUgcHJvdmlkZXIgaG9zdGVkIFVJIHBhZ2UgYW5kIGNvbWluZyBiYWNrIHRvIHRoZSBhcHBcbiAgaWYgKCFjb2RlIHx8ICFzdGF0ZSkge1xuICAgIHRocm93IGNyZWF0ZU9BdXRoRXJyb3IoJ1VzZXIgY2FuY2VsbGVkIE9BdXRoIGZsb3cuJyk7XG4gIH1cbiAgLy8gbWF5IHRocm93IGVycm9yIGlzIGJlaW5nIGNhdWdodCBpbiBhdHRlbXB0Q29tcGxldGVPQXV0aEZsb3cudHNcbiAgY29uc3QgdmFsaWRhdGVkU3RhdGUgPSBhd2FpdCB2YWxpZGF0ZVN0YXRlKHN0YXRlKTtcbiAgY29uc3Qgb0F1dGhUb2tlbkVuZHBvaW50ID0gJ2h0dHBzOi8vJyArIGRvbWFpbiArICcvb2F1dGgyL3Rva2VuJztcbiAgLy8gVE9ETyh2Nik6IGNoZWNrIGh1YiBldmVudHNcbiAgLy8gZGlzcGF0Y2hBdXRoRXZlbnQoXG4gIC8vIFx0J2NvZGVGbG93JyxcbiAgLy8gXHR7fSxcbiAgLy8gXHRgUmV0cmlldmluZyB0b2tlbnMgZnJvbSAke29BdXRoVG9rZW5FbmRwb2ludH1gXG4gIC8vICk7XG4gIGNvbnN0IGNvZGVWZXJpZmllciA9IGF3YWl0IG9BdXRoU3RvcmUubG9hZFBLQ0UoKTtcbiAgY29uc3Qgb0F1dGhUb2tlbkJvZHkgPSB7XG4gICAgZ3JhbnRfdHlwZTogJ2F1dGhvcml6YXRpb25fY29kZScsXG4gICAgY29kZSxcbiAgICBjbGllbnRfaWQ6IGNsaWVudElkLFxuICAgIHJlZGlyZWN0X3VyaTogcmVkaXJlY3RVcmksXG4gICAgLi4uKGNvZGVWZXJpZmllciA/IHtcbiAgICAgIGNvZGVfdmVyaWZpZXI6IGNvZGVWZXJpZmllclxuICAgIH0gOiB7fSlcbiAgfTtcbiAgY29uc3QgYm9keSA9IE9iamVjdC5lbnRyaWVzKG9BdXRoVG9rZW5Cb2R5KS5tYXAoKFtrLCB2XSkgPT4gYCR7ZW5jb2RlVVJJQ29tcG9uZW50KGspfT0ke2VuY29kZVVSSUNvbXBvbmVudCh2KX1gKS5qb2luKCcmJyk7XG4gIGNvbnN0IHtcbiAgICBhY2Nlc3NfdG9rZW4sXG4gICAgcmVmcmVzaF90b2tlbjogcmVmcmVzaFRva2VuLFxuICAgIGlkX3Rva2VuLFxuICAgIGVycm9yLFxuICAgIGVycm9yX21lc3NhZ2U6IGVycm9yTWVzc2FnZSxcbiAgICB0b2tlbl90eXBlLFxuICAgIGV4cGlyZXNfaW5cbiAgfSA9IGF3YWl0IChhd2FpdCBmZXRjaChvQXV0aFRva2VuRW5kcG9pbnQsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG4gICAgICBbVVNFUl9BR0VOVF9IRUFERVJdOiB1c2VyQWdlbnRWYWx1ZVxuICAgIH0sXG4gICAgYm9keVxuICB9KSkuanNvbigpO1xuICBpZiAoZXJyb3IpIHtcbiAgICAvLyBlcnJvciBpcyBiZWluZyBjYXVnaHQgaW4gYXR0ZW1wdENvbXBsZXRlT0F1dGhGbG93LnRzXG4gICAgdGhyb3cgY3JlYXRlT0F1dGhFcnJvcihlcnJvck1lc3NhZ2UgPz8gZXJyb3IpO1xuICB9XG4gIGNvbnN0IHVzZXJuYW1lID0gKGFjY2Vzc190b2tlbiAmJiBkZWNvZGVKV1QoYWNjZXNzX3Rva2VuKS5wYXlsb2FkLnVzZXJuYW1lKSA/PyAndXNlcm5hbWUnO1xuICBhd2FpdCBjYWNoZUNvZ25pdG9Ub2tlbnMoe1xuICAgIHVzZXJuYW1lLFxuICAgIEFjY2Vzc1Rva2VuOiBhY2Nlc3NfdG9rZW4sXG4gICAgSWRUb2tlbjogaWRfdG9rZW4sXG4gICAgUmVmcmVzaFRva2VuOiByZWZyZXNoVG9rZW5cbiAgfSk7XG4gIHJldHVybiBjb21wbGV0ZUZsb3coe1xuICAgIHJlZGlyZWN0VXJpLFxuICAgIHN0YXRlOiB2YWxpZGF0ZWRTdGF0ZSxcbiAgICBwcmVmZXJQcml2YXRlU2Vzc2lvblxuICB9KTtcbn07XG5jb25zdCBoYW5kbGVJbXBsaWNpdEZsb3cgPSBhc3luYyAoe1xuICBjdXJyZW50VXJsLFxuICByZWRpcmVjdFVyaSxcbiAgcHJlZmVyUHJpdmF0ZVNlc3Npb25cbn0pID0+IHtcbiAgLy8gaGFzaCBpcyBgbnVsbGAgaWYgYCNgIGRvZXNuJ3QgZXhpc3Qgb24gVVJMXG4gIGNvbnN0IHVybCA9IG5ldyBBbXBsaWZ5VXJsKGN1cnJlbnRVcmwpO1xuICBjb25zdCB7XG4gICAgaWRfdG9rZW4sXG4gICAgYWNjZXNzX3Rva2VuLFxuICAgIHN0YXRlLFxuICAgIHRva2VuX3R5cGUsXG4gICAgZXhwaXJlc19pbixcbiAgICBlcnJvcl9kZXNjcmlwdGlvbixcbiAgICBlcnJvclxuICB9ID0gKHVybC5oYXNoID8/ICcjJykuc3Vic3RyaW5nKDEpIC8vIFJlbW92ZSAjIGZyb20gcmV0dXJuZWQgY29kZVxuICAuc3BsaXQoJyYnKS5tYXAocGFpcmluZ3MgPT4gcGFpcmluZ3Muc3BsaXQoJz0nKSkucmVkdWNlKChhY2N1bSwgW2ssIHZdKSA9PiAoe1xuICAgIC4uLmFjY3VtLFxuICAgIFtrXTogdlxuICB9KSwge1xuICAgIGlkX3Rva2VuOiB1bmRlZmluZWQsXG4gICAgYWNjZXNzX3Rva2VuOiB1bmRlZmluZWQsXG4gICAgc3RhdGU6IHVuZGVmaW5lZCxcbiAgICB0b2tlbl90eXBlOiB1bmRlZmluZWQsXG4gICAgZXhwaXJlc19pbjogdW5kZWZpbmVkLFxuICAgIGVycm9yX2Rlc2NyaXB0aW9uOiB1bmRlZmluZWQsXG4gICAgZXJyb3I6IHVuZGVmaW5lZFxuICB9KTtcbiAgaWYgKGVycm9yKSB7XG4gICAgdGhyb3cgY3JlYXRlT0F1dGhFcnJvcihlcnJvcl9kZXNjcmlwdGlvbiA/PyBlcnJvcik7XG4gIH1cbiAgaWYgKCFhY2Nlc3NfdG9rZW4pIHtcbiAgICAvLyBlcnJvciBpcyBiZWluZyBjYXVnaHQgaW4gYXR0ZW1wdENvbXBsZXRlT0F1dGhGbG93LnRzXG4gICAgdGhyb3cgY3JlYXRlT0F1dGhFcnJvcignTm8gYWNjZXNzIHRva2VuIHJldHVybmVkIGZyb20gT0F1dGggZmxvdy4nKTtcbiAgfVxuICBjb25zdCB2YWxpZGF0ZWRTdGF0ZSA9IGF3YWl0IHZhbGlkYXRlU3RhdGUoc3RhdGUpO1xuICBjb25zdCB1c2VybmFtZSA9IChhY2Nlc3NfdG9rZW4gJiYgZGVjb2RlSldUKGFjY2Vzc190b2tlbikucGF5bG9hZC51c2VybmFtZSkgPz8gJ3VzZXJuYW1lJztcbiAgYXdhaXQgY2FjaGVDb2duaXRvVG9rZW5zKHtcbiAgICB1c2VybmFtZSxcbiAgICBBY2Nlc3NUb2tlbjogYWNjZXNzX3Rva2VuLFxuICAgIElkVG9rZW46IGlkX3Rva2VuXG4gIH0pO1xuICByZXR1cm4gY29tcGxldGVGbG93KHtcbiAgICByZWRpcmVjdFVyaSxcbiAgICBzdGF0ZTogdmFsaWRhdGVkU3RhdGUsXG4gICAgcHJlZmVyUHJpdmF0ZVNlc3Npb25cbiAgfSk7XG59O1xuY29uc3QgY29tcGxldGVGbG93ID0gYXN5bmMgKHtcbiAgcmVkaXJlY3RVcmksXG4gIHN0YXRlLFxuICBwcmVmZXJQcml2YXRlU2Vzc2lvblxufSkgPT4ge1xuICBhd2FpdCB0b2tlbk9yY2hlc3RyYXRvci5zZXRPQXV0aE1ldGFkYXRhKHtcbiAgICBvYXV0aFNpZ25JbjogdHJ1ZVxuICB9KTtcbiAgYXdhaXQgb0F1dGhTdG9yZS5jbGVhck9BdXRoRGF0YSgpO1xuICBhd2FpdCBvQXV0aFN0b3JlLnN0b3JlT0F1dGhTaWduSW4odHJ1ZSwgcHJlZmVyUHJpdmF0ZVNlc3Npb24pO1xuICAvLyB0aGlzIHNob3VsZCBiZSBjYWxsZWQgYmVmb3JlIGFueSBjYWxsIHRoYXQgaW52b2x2ZXMgYGZldGNoQXV0aFNlc3Npb25gXG4gIC8vIGUuZy4gYGdldEN1cnJlbnRVc2VyKClgIGJlbG93LCBzbyBpdCBhbGxvd3MgZXZlcnkgaW5mbGlnaHQgYXN5bmMgY2FsbHMgdG9cbiAgLy8gIGBmZXRjaEF1dGhTZXNzaW9uYCBjYW4gYmUgcmVzb2x2ZWRcbiAgcmVzb2x2ZUFuZENsZWFySW5mbGlnaHRQcm9taXNlcygpO1xuICAvLyBjbGVhciBoaXN0b3J5IGJlZm9yZSBzZW5kaW5nIG91dCBmaW5hbCBIdWIgZXZlbnRzXG4gIGNsZWFySGlzdG9yeShyZWRpcmVjdFVyaSk7XG4gIGlmIChpc0N1c3RvbVN0YXRlKHN0YXRlKSkge1xuICAgIEh1Yi5kaXNwYXRjaCgnYXV0aCcsIHtcbiAgICAgIGV2ZW50OiAnY3VzdG9tT0F1dGhTdGF0ZScsXG4gICAgICBkYXRhOiB1cmxTYWZlRGVjb2RlKGdldEN1c3RvbVN0YXRlKHN0YXRlKSlcbiAgICB9LCAnQXV0aCcsIEFNUExJRllfU1lNQk9MKTtcbiAgfVxuICBIdWIuZGlzcGF0Y2goJ2F1dGgnLCB7XG4gICAgZXZlbnQ6ICdzaWduSW5XaXRoUmVkaXJlY3QnXG4gIH0sICdBdXRoJywgQU1QTElGWV9TWU1CT0wpO1xuICBhd2FpdCBkaXNwYXRjaFNpZ25lZEluSHViRXZlbnQoKTtcbn07XG5jb25zdCBpc0N1c3RvbVN0YXRlID0gc3RhdGUgPT4ge1xuICByZXR1cm4gLy0vLnRlc3Qoc3RhdGUpO1xufTtcbmNvbnN0IGdldEN1c3RvbVN0YXRlID0gc3RhdGUgPT4ge1xuICByZXR1cm4gc3RhdGUuc3BsaXQoJy0nKS5zcGxpY2UoMSkuam9pbignLScpO1xufTtcbmNvbnN0IGNsZWFySGlzdG9yeSA9IHJlZGlyZWN0VXJpID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuaGlzdG9yeSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUod2luZG93Lmhpc3Rvcnkuc3RhdGUsICcnLCByZWRpcmVjdFVyaSk7XG4gIH1cbn07XG5leHBvcnQgeyBjb21wbGV0ZU9BdXRoRmxvdyB9O1xuIiwiaW1wb3J0IHsgSHViIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUnO1xuaW1wb3J0IHsgQU1QTElGWV9TWU1CT0wgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuaW1wb3J0IHsgb0F1dGhTdG9yZSB9IGZyb20gJy4vb0F1dGhTdG9yZS5tanMnO1xuaW1wb3J0IHsgcmVzb2x2ZUFuZENsZWFySW5mbGlnaHRQcm9taXNlcyB9IGZyb20gJy4vaW5mbGlnaHRQcm9taXNlLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IGhhbmRsZUZhaWx1cmUgPSBhc3luYyBlcnJvciA9PiB7XG4gIHJlc29sdmVBbmRDbGVhckluZmxpZ2h0UHJvbWlzZXMoKTtcbiAgYXdhaXQgb0F1dGhTdG9yZS5jbGVhck9BdXRoSW5mbGlnaHREYXRhKCk7XG4gIEh1Yi5kaXNwYXRjaCgnYXV0aCcsIHtcbiAgICBldmVudDogJ3NpZ25JbldpdGhSZWRpcmVjdF9mYWlsdXJlJyxcbiAgICBkYXRhOiB7XG4gICAgICBlcnJvclxuICAgIH1cbiAgfSwgJ0F1dGgnLCBBTVBMSUZZX1NZTUJPTCk7XG59O1xuZXhwb3J0IHsgaGFuZGxlRmFpbHVyZSB9O1xuIiwiaW1wb3J0IHsgYXNzZXJ0VG9rZW5Qcm92aWRlckNvbmZpZywgYXNzZXJ0T0F1dGhDb25maWcsIEF1dGhBY3Rpb24gfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuaW1wb3J0IHsgZ2V0QXV0aFVzZXJBZ2VudFZhbHVlIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvZ2V0QXV0aFVzZXJBZ2VudFZhbHVlLm1qcyc7XG5pbXBvcnQgeyBvQXV0aFN0b3JlIH0gZnJvbSAnLi9vQXV0aFN0b3JlLm1qcyc7XG5pbXBvcnQgeyBjb21wbGV0ZU9BdXRoRmxvdyB9IGZyb20gJy4vY29tcGxldGVPQXV0aEZsb3cubWpzJztcbmltcG9ydCB7IGdldFJlZGlyZWN0VXJsIH0gZnJvbSAnLi9nZXRSZWRpcmVjdFVybC5tanMnO1xuaW1wb3J0IHsgaGFuZGxlRmFpbHVyZSB9IGZyb20gJy4vaGFuZGxlRmFpbHVyZS5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5jb25zdCBhdHRlbXB0Q29tcGxldGVPQXV0aEZsb3cgPSBhc3luYyBhdXRoQ29uZmlnID0+IHtcbiAgdHJ5IHtcbiAgICBhc3NlcnRUb2tlblByb3ZpZGVyQ29uZmlnKGF1dGhDb25maWcpO1xuICAgIGFzc2VydE9BdXRoQ29uZmlnKGF1dGhDb25maWcpO1xuICAgIG9BdXRoU3RvcmUuc2V0QXV0aENvbmZpZyhhdXRoQ29uZmlnKTtcbiAgfSBjYXRjaCAoXykge1xuICAgIC8vIG5vLW9wXG4gICAgLy8gVGhpcyBzaG91bGQgbm90IGhhcHBlbiBhcyBBbXBsaWZ5IHNpbmdsZXRvbiBjaGVja3MgdGhlIG9hdXRoIGNvbmZpZyBrZXlcbiAgICAvLyB1bmxlc3MgdGhlIG9hdXRoIGNvbmZpZyBvYmplY3QgZG9lc24ndCBjb250YWluIHJlcXVpcmVkIHByb3BlcnRpZXNcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gTm8gaW5mbGlnaHQgT0F1dGhcbiAgaWYgKCEoYXdhaXQgb0F1dGhTdG9yZS5sb2FkT0F1dGhJbkZsaWdodCgpKSkge1xuICAgIHJldHVybjtcbiAgfVxuICB0cnkge1xuICAgIGNvbnN0IGN1cnJlbnRVcmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICBjb25zdCB7XG4gICAgICBsb2dpbldpdGgsXG4gICAgICB1c2VyUG9vbENsaWVudElkXG4gICAgfSA9IGF1dGhDb25maWc7XG4gICAgY29uc3Qge1xuICAgICAgZG9tYWluLFxuICAgICAgcmVkaXJlY3RTaWduSW4sXG4gICAgICByZXNwb25zZVR5cGVcbiAgICB9ID0gbG9naW5XaXRoLm9hdXRoO1xuICAgIGNvbnN0IHJlZGlyZWN0VXJpID0gZ2V0UmVkaXJlY3RVcmwocmVkaXJlY3RTaWduSW4pO1xuICAgIGF3YWl0IGNvbXBsZXRlT0F1dGhGbG93KHtcbiAgICAgIGN1cnJlbnRVcmwsXG4gICAgICBjbGllbnRJZDogdXNlclBvb2xDbGllbnRJZCxcbiAgICAgIGRvbWFpbixcbiAgICAgIHJlZGlyZWN0VXJpLFxuICAgICAgcmVzcG9uc2VUeXBlLFxuICAgICAgdXNlckFnZW50VmFsdWU6IGdldEF1dGhVc2VyQWdlbnRWYWx1ZShBdXRoQWN0aW9uLlNpZ25JbldpdGhSZWRpcmVjdClcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgYXdhaXQgaGFuZGxlRmFpbHVyZShlcnIpO1xuICB9XG59O1xuZXhwb3J0IHsgYXR0ZW1wdENvbXBsZXRlT0F1dGhGbG93IH07XG4iLCJpbXBvcnQgeyBBbXBsaWZ5IH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUnO1xuaW1wb3J0IHsgaXNCcm93c2VyLCBBRERfT0FVVEhfTElTVEVORVIgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuaW1wb3J0IHsgYXR0ZW1wdENvbXBsZXRlT0F1dGhGbG93IH0gZnJvbSAnLi9hdHRlbXB0Q29tcGxldGVPQXV0aEZsb3cubWpzJztcblxuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuLy8gYXR0YWNoIHRoZSBzaWRlIGVmZmVjdCBmb3IgaGFuZGxpbmcgdGhlIGNvbXBsZXRpb24gb2YgYW4gaW5mbGlnaHQgb2F1dGggZmxvd1xuLy8gdGhpcyBzaWRlIGVmZmVjdCB3b3JrcyBvbmx5IG9uIFdlYlxuaXNCcm93c2VyKCkgJiYgKCgpID0+IHtcbiAgLy8gYWRkIHRoZSBsaXN0ZW5lciB0byB0aGUgc2luZ2xldG9uIGZvciB0cmlnZ2VyaW5nXG4gIEFtcGxpZnlbQUREX09BVVRIX0xJU1RFTkVSXShhdHRlbXB0Q29tcGxldGVPQXV0aEZsb3cpO1xufSkoKTtcbiIsIi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IElkZW50aXR5SWRTdG9yYWdlS2V5cyA9IHtcbiAgaWRlbnRpdHlJZDogJ2lkZW50aXR5SWQnXG59O1xuZXhwb3J0IHsgSWRlbnRpdHlJZFN0b3JhZ2VLZXlzIH07XG4iLCJpbXBvcnQgeyBDb25zb2xlTG9nZ2VyIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUnO1xuaW1wb3J0IHsgYXNzZXJ0SWRlbnRpdHlQb29sSWRDb25maWcgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuaW1wb3J0IHsgZ2V0QXV0aFN0b3JhZ2VLZXlzIH0gZnJvbSAnLi4vdG9rZW5Qcm92aWRlci9Ub2tlblN0b3JlLm1qcyc7XG5pbXBvcnQgeyBJZGVudGl0eUlkU3RvcmFnZUtleXMgfSBmcm9tICcuL3R5cGVzLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IGxvZ2dlciA9IG5ldyBDb25zb2xlTG9nZ2VyKCdEZWZhdWx0SWRlbnRpdHlJZFN0b3JlJyk7XG5jbGFzcyBEZWZhdWx0SWRlbnRpdHlJZFN0b3JlIHtcbiAgc2V0QXV0aENvbmZpZyhhdXRoQ29uZmlnUGFyYW0pIHtcbiAgICBhc3NlcnRJZGVudGl0eVBvb2xJZENvbmZpZyhhdXRoQ29uZmlnUGFyYW0uQ29nbml0byk7XG4gICAgdGhpcy5hdXRoQ29uZmlnID0gYXV0aENvbmZpZ1BhcmFtO1xuICAgIHRoaXMuX2F1dGhLZXlzID0gY3JlYXRlS2V5c0ZvckF1dGhTdG9yYWdlKCdDb2duaXRvJywgYXV0aENvbmZpZ1BhcmFtLkNvZ25pdG8uaWRlbnRpdHlQb29sSWQpO1xuICB9XG4gIGNvbnN0cnVjdG9yKGtleVZhbHVlU3RvcmFnZSkge1xuICAgIHRoaXMuX2F1dGhLZXlzID0ge307XG4gICAgdGhpcy5faGFzR3Vlc3RJZGVudGl0eUlkID0gZmFsc2U7XG4gICAgdGhpcy5rZXlWYWx1ZVN0b3JhZ2UgPSBrZXlWYWx1ZVN0b3JhZ2U7XG4gIH1cbiAgYXN5bmMgbG9hZElkZW50aXR5SWQoKSB7XG4gICAgYXNzZXJ0SWRlbnRpdHlQb29sSWRDb25maWcodGhpcy5hdXRoQ29uZmlnPy5Db2duaXRvKTtcbiAgICB0cnkge1xuICAgICAgaWYgKHRoaXMuX3ByaW1hcnlJZGVudGl0eUlkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IHRoaXMuX3ByaW1hcnlJZGVudGl0eUlkLFxuICAgICAgICAgIHR5cGU6ICdwcmltYXJ5J1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc3RvcmVkSWRlbnRpdHlJZCA9IGF3YWl0IHRoaXMua2V5VmFsdWVTdG9yYWdlLmdldEl0ZW0odGhpcy5fYXV0aEtleXMuaWRlbnRpdHlJZCk7XG4gICAgICAgIGlmIChzdG9yZWRJZGVudGl0eUlkKSB7XG4gICAgICAgICAgdGhpcy5faGFzR3Vlc3RJZGVudGl0eUlkID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IHN0b3JlZElkZW50aXR5SWQsXG4gICAgICAgICAgICB0eXBlOiAnZ3Vlc3QnXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGxvZ2dlci5sb2coJ0Vycm9yIGdldHRpbmcgc3RvcmVkIElkZW50aXR5SWQuJywgZXJyKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICBhc3luYyBzdG9yZUlkZW50aXR5SWQoaWRlbnRpdHkpIHtcbiAgICBhc3NlcnRJZGVudGl0eVBvb2xJZENvbmZpZyh0aGlzLmF1dGhDb25maWc/LkNvZ25pdG8pO1xuICAgIGlmIChpZGVudGl0eS50eXBlID09PSAnZ3Vlc3QnKSB7XG4gICAgICB0aGlzLmtleVZhbHVlU3RvcmFnZS5zZXRJdGVtKHRoaXMuX2F1dGhLZXlzLmlkZW50aXR5SWQsIGlkZW50aXR5LmlkKTtcbiAgICAgIC8vIENsZWFyIGluLW1lbW9yeSBzdG9yYWdlIG9mIHByaW1hcnkgaWRlbnRpdHlJZFxuICAgICAgdGhpcy5fcHJpbWFyeUlkZW50aXR5SWQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9oYXNHdWVzdElkZW50aXR5SWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9wcmltYXJ5SWRlbnRpdHlJZCA9IGlkZW50aXR5LmlkO1xuICAgICAgLy8gQ2xlYXIgbG9jYWxseSBzdG9yZWQgZ3Vlc3QgaWRcbiAgICAgIGlmICh0aGlzLl9oYXNHdWVzdElkZW50aXR5SWQpIHtcbiAgICAgICAgdGhpcy5rZXlWYWx1ZVN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLl9hdXRoS2V5cy5pZGVudGl0eUlkKTtcbiAgICAgICAgdGhpcy5faGFzR3Vlc3RJZGVudGl0eUlkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGFzeW5jIGNsZWFySWRlbnRpdHlJZCgpIHtcbiAgICB0aGlzLl9wcmltYXJ5SWRlbnRpdHlJZCA9IHVuZGVmaW5lZDtcbiAgICBhd2FpdCB0aGlzLmtleVZhbHVlU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMuX2F1dGhLZXlzLmlkZW50aXR5SWQpO1xuICB9XG59XG5jb25zdCBjcmVhdGVLZXlzRm9yQXV0aFN0b3JhZ2UgPSAocHJvdmlkZXIsIGlkZW50aWZpZXIpID0+IHtcbiAgcmV0dXJuIGdldEF1dGhTdG9yYWdlS2V5cyhJZGVudGl0eUlkU3RvcmFnZUtleXMpKGBjb20uYW1wbGlmeS4ke3Byb3ZpZGVyfWAsIGlkZW50aWZpZXIpO1xufTtcbmV4cG9ydCB7IERlZmF1bHRJZGVudGl0eUlkU3RvcmUgfTtcbiIsImltcG9ydCB7IGNvZ25pdG9JZGVudGl0eVBvb2xFbmRwb2ludFJlc29sdmVyIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L2NvcmUnO1xuaW1wb3J0IHsgQW1wbGlmeVVybCB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IGNyZWF0ZUNvZ25pdG9JZGVudGl0eVBvb2xFbmRwb2ludFJlc29sdmVyID0gKHtcbiAgZW5kcG9pbnRPdmVycmlkZVxufSkgPT4gaW5wdXQgPT4ge1xuICBpZiAoZW5kcG9pbnRPdmVycmlkZSkge1xuICAgIHJldHVybiB7XG4gICAgICB1cmw6IG5ldyBBbXBsaWZ5VXJsKGVuZHBvaW50T3ZlcnJpZGUpXG4gICAgfTtcbiAgfVxuICByZXR1cm4gY29nbml0b0lkZW50aXR5UG9vbEVuZHBvaW50UmVzb2x2ZXIoaW5wdXQpO1xufTtcbmV4cG9ydCB7IGNyZWF0ZUNvZ25pdG9JZGVudGl0eVBvb2xFbmRwb2ludFJlc29sdmVyIH07XG4iLCJpbXBvcnQgeyBkZWNvZGVKV1QgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZS9pbnRlcm5hbHMvdXRpbHMnO1xuaW1wb3J0IHsgQXV0aEVycm9yIH0gZnJvbSAnLi4vLi4vLi4vZXJyb3JzL0F1dGhFcnJvci5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5mdW5jdGlvbiBmb3JtTG9naW5zTWFwKGlkVG9rZW4pIHtcbiAgY29uc3QgaXNzdWVyID0gZGVjb2RlSldUKGlkVG9rZW4pLnBheWxvYWQuaXNzO1xuICBjb25zdCByZXMgPSB7fTtcbiAgaWYgKCFpc3N1ZXIpIHtcbiAgICB0aHJvdyBuZXcgQXV0aEVycm9yKHtcbiAgICAgIG5hbWU6ICdJbnZhbGlkSWRUb2tlbkV4Y2VwdGlvbicsXG4gICAgICBtZXNzYWdlOiAnSW52YWxpZCBJZHRva2VuLidcbiAgICB9KTtcbiAgfVxuICBjb25zdCBkb21haW5OYW1lID0gaXNzdWVyLnJlcGxhY2UoLyheXFx3Kzp8XilcXC9cXC8vLCAnJyk7XG4gIHJlc1tkb21haW5OYW1lXSA9IGlkVG9rZW47XG4gIHJldHVybiByZXM7XG59XG5leHBvcnQgeyBmb3JtTG9naW5zTWFwIH07XG4iLCJpbXBvcnQgeyBjcmVhdGVHZXRJZENsaWVudCB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlJztcbmltcG9ydCB7IEF1dGhFcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9ycy9BdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IGFzc2VydFNlcnZpY2VFcnJvciB9IGZyb20gJy4uLy4uLy4uL2Vycm9ycy91dGlscy9hc3NlcnRTZXJ2aWNlRXJyb3IubWpzJztcbmltcG9ydCB7IGdldFJlZ2lvbkZyb21JZGVudGl0eVBvb2xJZCB9IGZyb20gJy4uLy4uLy4uL2ZvdW5kYXRpb24vcGFyc2Vycy9yZWdpb25QYXJzZXJzLm1qcyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy9hd3MtY2xpZW50LXV0aWxzJztcbmltcG9ydCB7IGNyZWF0ZUNvZ25pdG9JZGVudGl0eVBvb2xFbmRwb2ludFJlc29sdmVyIH0gZnJvbSAnLi4vZmFjdG9yaWVzL2NyZWF0ZUNvZ25pdG9JZGVudGl0eVBvb2xFbmRwb2ludFJlc29sdmVyLm1qcyc7XG5pbXBvcnQgeyBmb3JtTG9naW5zTWFwIH0gZnJvbSAnLi91dGlscy5tanMnO1xuXG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4vKipcbiAqIFByb3ZpZGVzIGEgQ29nbml0byBpZGVudGl0eUlkXG4gKlxuICogQHBhcmFtIHRva2VucyAtIFRoZSBBdXRoVG9rZW5zIHJlY2VpdmVkIGFmdGVyIFNpZ25JblxuICogQHJldHVybnMgc3RyaW5nXG4gKiBAdGhyb3dzIGNvbmZpZ3VyYXRpb24gZXhjZXB0aW9uczogYEludmFsaWRJZGVudGl0eVBvb2xJZEV4Y2VwdGlvbmBcbiAqICAtIEF1dGggZXJyb3JzIHRoYXQgbWF5IGFyaXNlIGZyb20gbWlzY29uZmlndXJhdGlvbi5cbiAqIEB0aHJvd3Mgc2VydmljZSBleGNlcHRpb25zOiB7QGxpbmsgR2V0SWRFeGNlcHRpb24gfVxuICovXG5hc3luYyBmdW5jdGlvbiBjb2duaXRvSWRlbnRpdHlJZFByb3ZpZGVyKHtcbiAgdG9rZW5zLFxuICBhdXRoQ29uZmlnLFxuICBpZGVudGl0eUlkU3RvcmVcbn0pIHtcbiAgaWRlbnRpdHlJZFN0b3JlLnNldEF1dGhDb25maWcoe1xuICAgIENvZ25pdG86IGF1dGhDb25maWdcbiAgfSk7XG4gIC8vIHdpbGwgcmV0dXJuIG51bGwgb25seSBpZiB0aGVyZSBpcyBubyBpZGVudGl0eUlkIGNhY2hlZCBvciBpZiB0aGVyZSBpcyBhbiBlcnJvciByZXRyaWV2aW5nIGl0XG4gIGNvbnN0IGlkZW50aXR5SWQgPSBhd2FpdCBpZGVudGl0eUlkU3RvcmUubG9hZElkZW50aXR5SWQoKTtcbiAgaWYgKGlkZW50aXR5SWQpIHtcbiAgICByZXR1cm4gaWRlbnRpdHlJZC5pZDtcbiAgfVxuICBjb25zdCBsb2dpbnMgPSB0b2tlbnM/LmlkVG9rZW4gPyBmb3JtTG9naW5zTWFwKHRva2Vucy5pZFRva2VuLnRvU3RyaW5nKCkpIDoge307XG4gIGNvbnN0IGdlbmVyYXRlZElkZW50aXR5SWQgPSBhd2FpdCBnZW5lcmF0ZUlkZW50aXR5SWQobG9naW5zLCBhdXRoQ29uZmlnKTtcbiAgLy8gU3RvcmUgZ2VuZXJhdGVkIGlkZW50aXR5SWRcbiAgaWRlbnRpdHlJZFN0b3JlLnN0b3JlSWRlbnRpdHlJZCh7XG4gICAgaWQ6IGdlbmVyYXRlZElkZW50aXR5SWQsXG4gICAgdHlwZTogdG9rZW5zID8gJ3ByaW1hcnknIDogJ2d1ZXN0J1xuICB9KTtcbiAgcmV0dXJuIGdlbmVyYXRlZElkZW50aXR5SWQ7XG59XG5hc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUlkZW50aXR5SWQobG9naW5zLCBhdXRoQ29uZmlnKSB7XG4gIGNvbnN0IGlkZW50aXR5UG9vbElkID0gYXV0aENvbmZpZz8uaWRlbnRpdHlQb29sSWQ7XG4gIGNvbnN0IHJlZ2lvbiA9IGdldFJlZ2lvbkZyb21JZGVudGl0eVBvb2xJZChpZGVudGl0eVBvb2xJZCk7XG4gIGNvbnN0IGdldElkID0gY3JlYXRlR2V0SWRDbGllbnQoe1xuICAgIGVuZHBvaW50UmVzb2x2ZXI6IGNyZWF0ZUNvZ25pdG9JZGVudGl0eVBvb2xFbmRwb2ludFJlc29sdmVyKHtcbiAgICAgIGVuZHBvaW50T3ZlcnJpZGU6IGF1dGhDb25maWcuaWRlbnRpdHlQb29sRW5kcG9pbnRcbiAgICB9KVxuICB9KTtcbiAgLy8gSWRlbnRpdHlJZCBpcyBhYnNlbnQgc28gZ2V0IGl0IHVzaW5nIElkZW50aXR5UG9vbElkIHdpdGggQ29nbml0bydzIEdldElkIEFQSVxuICBsZXQgaWRSZXN1bHQ7XG4gIC8vIGZvciBhIGZpcnN0LXRpbWUgdXNlciwgdGhpcyB3aWxsIHJldHVybiBhIGJyYW5kIG5ldyBpZGVudGl0eVxuICAvLyBmb3IgYSByZXR1cm5pbmcgdXNlciwgdGhpcyB3aWxsIHJldHJpZXZlIHRoZSBwcmV2aW91cyBpZGVudGl0eSBhc3NvY2FpdGVkIHdpdGggdGhlIGxvZ2luc1xuICB0cnkge1xuICAgIGlkUmVzdWx0ID0gKGF3YWl0IGdldElkKHtcbiAgICAgIHJlZ2lvblxuICAgIH0sIHtcbiAgICAgIElkZW50aXR5UG9vbElkOiBpZGVudGl0eVBvb2xJZCxcbiAgICAgIExvZ2luczogbG9naW5zXG4gICAgfSkpLklkZW50aXR5SWQ7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBhc3NlcnRTZXJ2aWNlRXJyb3IoZSk7XG4gICAgdGhyb3cgbmV3IEF1dGhFcnJvcihlKTtcbiAgfVxuICBpZiAoIWlkUmVzdWx0KSB7XG4gICAgdGhyb3cgbmV3IEF1dGhFcnJvcih7XG4gICAgICBuYW1lOiAnR2V0SWRSZXNwb25zZUV4Y2VwdGlvbicsXG4gICAgICBtZXNzYWdlOiAnUmVjZWl2ZWQgdW5kZWZpbmVkIHJlc3BvbnNlIGZyb20gZ2V0SWQgb3BlcmF0aW9uJyxcbiAgICAgIHJlY292ZXJ5U3VnZ2VzdGlvbjogJ01ha2Ugc3VyZSB0byBwYXNzIGEgdmFsaWQgaWRlbnRpdHlQb29sSWQgaW4gdGhlIGNvbmZpZ3VyYXRpb24uJ1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBpZFJlc3VsdDtcbn1cbmV4cG9ydCB7IGNvZ25pdG9JZGVudGl0eUlkUHJvdmlkZXIgfTtcbiIsImltcG9ydCB7IENvbnNvbGVMb2dnZXIsIGNyZWF0ZUdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHlDbGllbnQgfSBmcm9tICdAYXdzLWFtcGxpZnkvY29yZSc7XG5pbXBvcnQgeyBhc3NlcnRJZGVudGl0eVBvb2xJZENvbmZpZyB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy91dGlscyc7XG5pbXBvcnQgeyBBdXRoRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvcnMvQXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgeyBhc3NlcnRTZXJ2aWNlRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9lcnJvcnMvdXRpbHMvYXNzZXJ0U2VydmljZUVycm9yLm1qcyc7XG5pbXBvcnQgeyBnZXRSZWdpb25Gcm9tSWRlbnRpdHlQb29sSWQgfSBmcm9tICcuLi8uLi8uLi9mb3VuZGF0aW9uL3BhcnNlcnMvcmVnaW9uUGFyc2Vycy5tanMnO1xuaW1wb3J0IHsgYXNzZXJ0SWRUb2tlbkluQXV0aFRva2VucyB9IGZyb20gJy4uL3V0aWxzL3R5cGVzLm1qcyc7XG5pbXBvcnQgJ0Bhd3MtYW1wbGlmeS9jb3JlL2ludGVybmFscy9hd3MtY2xpZW50LXV0aWxzJztcbmltcG9ydCB7IGNyZWF0ZUNvZ25pdG9JZGVudGl0eVBvb2xFbmRwb2ludFJlc29sdmVyIH0gZnJvbSAnLi4vZmFjdG9yaWVzL2NyZWF0ZUNvZ25pdG9JZGVudGl0eVBvb2xFbmRwb2ludFJlc29sdmVyLm1qcyc7XG5pbXBvcnQgeyBjb2duaXRvSWRlbnRpdHlJZFByb3ZpZGVyIH0gZnJvbSAnLi9JZGVudGl0eUlkUHJvdmlkZXIubWpzJztcbmltcG9ydCB7IGZvcm1Mb2dpbnNNYXAgfSBmcm9tICcuL3V0aWxzLm1qcyc7XG5cbi8vIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbmNvbnN0IGxvZ2dlciA9IG5ldyBDb25zb2xlTG9nZ2VyKCdDb2duaXRvQ3JlZGVudGlhbHNQcm92aWRlcicpO1xuY29uc3QgQ1JFREVOVElBTFNfVFRMID0gNTAgKiA2MCAqIDEwMDA7IC8vIDUwIG1pbiwgY2FuIGJlIG1vZGlmaWVkIG9uIGNvbmZpZyBpZiByZXF1aXJlZCBpbiB0aGUgZnV0dXJlXG5jbGFzcyBDb2duaXRvQVdTQ3JlZGVudGlhbHNBbmRJZGVudGl0eUlkUHJvdmlkZXIge1xuICBjb25zdHJ1Y3RvcihpZGVudGl0eUlkU3RvcmUpIHtcbiAgICB0aGlzLl9uZXh0Q3JlZGVudGlhbHNSZWZyZXNoID0gMDtcbiAgICB0aGlzLl9pZGVudGl0eUlkU3RvcmUgPSBpZGVudGl0eUlkU3RvcmU7XG4gIH1cbiAgYXN5bmMgY2xlYXJDcmVkZW50aWFsc0FuZElkZW50aXR5SWQoKSB7XG4gICAgbG9nZ2VyLmRlYnVnKCdDbGVhcmluZyBvdXQgY3JlZGVudGlhbHMgYW5kIGlkZW50aXR5SWQnKTtcbiAgICB0aGlzLl9jcmVkZW50aWFsc0FuZElkZW50aXR5SWQgPSB1bmRlZmluZWQ7XG4gICAgYXdhaXQgdGhpcy5faWRlbnRpdHlJZFN0b3JlLmNsZWFySWRlbnRpdHlJZCgpO1xuICB9XG4gIGFzeW5jIGNsZWFyQ3JlZGVudGlhbHMoKSB7XG4gICAgbG9nZ2VyLmRlYnVnKCdDbGVhcmluZyBvdXQgaW4tbWVtb3J5IGNyZWRlbnRpYWxzJyk7XG4gICAgdGhpcy5fY3JlZGVudGlhbHNBbmRJZGVudGl0eUlkID0gdW5kZWZpbmVkO1xuICB9XG4gIGFzeW5jIGdldENyZWRlbnRpYWxzQW5kSWRlbnRpdHlJZChnZXRDcmVkZW50aWFsc09wdGlvbnMpIHtcbiAgICBjb25zdCBpc0F1dGhlbnRpY2F0ZWQgPSBnZXRDcmVkZW50aWFsc09wdGlvbnMuYXV0aGVudGljYXRlZDtcbiAgICBjb25zdCB7XG4gICAgICB0b2tlbnNcbiAgICB9ID0gZ2V0Q3JlZGVudGlhbHNPcHRpb25zO1xuICAgIGNvbnN0IHtcbiAgICAgIGF1dGhDb25maWdcbiAgICB9ID0gZ2V0Q3JlZGVudGlhbHNPcHRpb25zO1xuICAgIHRyeSB7XG4gICAgICBhc3NlcnRJZGVudGl0eVBvb2xJZENvbmZpZyhhdXRoQ29uZmlnPy5Db2duaXRvKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIC8vIE5vIGlkZW50aXR5IHBvb2wgY29uZmlndXJlZCwgc2tpcHBpbmdcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFpc0F1dGhlbnRpY2F0ZWQgJiYgIWF1dGhDb25maWcuQ29nbml0by5hbGxvd0d1ZXN0QWNjZXNzKSB7XG4gICAgICAvLyBUT0RPKFY2KTogcmV0dXJuIHBhcnRpYWwgcmVzdWx0IGxpa2UgTmF0aXZlIHBsYXRmb3Jtc1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICBmb3JjZVJlZnJlc2hcbiAgICB9ID0gZ2V0Q3JlZGVudGlhbHNPcHRpb25zO1xuICAgIGNvbnN0IHRva2VuSGFzQ2hhbmdlZCA9IHRoaXMuaGFzVG9rZW5DaGFuZ2VkKHRva2Vucyk7XG4gICAgY29uc3QgaWRlbnRpdHlJZCA9IGF3YWl0IGNvZ25pdG9JZGVudGl0eUlkUHJvdmlkZXIoe1xuICAgICAgdG9rZW5zLFxuICAgICAgYXV0aENvbmZpZzogYXV0aENvbmZpZy5Db2duaXRvLFxuICAgICAgaWRlbnRpdHlJZFN0b3JlOiB0aGlzLl9pZGVudGl0eUlkU3RvcmVcbiAgICB9KTtcbiAgICAvLyBDbGVhciBjYWNoZWQgY3JlZGVudGlhbHMgd2hlbiBmb3JjZVJlZnJlc2ggaXMgdHJ1ZSBPUiB0aGUgY2FjaGUgdG9rZW4gaGFzIGNoYW5nZWRcbiAgICBpZiAoZm9yY2VSZWZyZXNoIHx8IHRva2VuSGFzQ2hhbmdlZCkge1xuICAgICAgdGhpcy5jbGVhckNyZWRlbnRpYWxzKCk7XG4gICAgfVxuICAgIGlmICghaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRHdWVzdENyZWRlbnRpYWxzKGlkZW50aXR5SWQsIGF1dGhDb25maWcuQ29nbml0byk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydElkVG9rZW5JbkF1dGhUb2tlbnModG9rZW5zKTtcbiAgICAgIHJldHVybiB0aGlzLmNyZWRzRm9yT0lEQ1Rva2VucyhhdXRoQ29uZmlnLkNvZ25pdG8sIHRva2VucywgaWRlbnRpdHlJZCk7XG4gICAgfVxuICB9XG4gIGFzeW5jIGdldEd1ZXN0Q3JlZGVudGlhbHMoaWRlbnRpdHlJZCwgYXV0aENvbmZpZykge1xuICAgIC8vIFJldHVybiBleGlzdGluZyBpbi1tZW1vcnkgY2FjaGVkIGNyZWRlbnRpYWxzIG9ubHkgaWYgaXQgZXhpc3RzLCBpcyBub3QgcGFzdCBpdCdzIGxpZmV0aW1lIGFuZCBpcyB1bmF1dGhlbnRpY2F0ZWQgY3JlZGVudGlhbHNcbiAgICBpZiAodGhpcy5fY3JlZGVudGlhbHNBbmRJZGVudGl0eUlkICYmICF0aGlzLmlzUGFzdFRUTCgpICYmIHRoaXMuX2NyZWRlbnRpYWxzQW5kSWRlbnRpdHlJZC5pc0F1dGhlbnRpY2F0ZWRDcmVkcyA9PT0gZmFsc2UpIHtcbiAgICAgIGxvZ2dlci5pbmZvKCdyZXR1cm5pbmcgc3RvcmVkIGNyZWRlbnRpYWxzIGFzIHRoZXkgbmVpdGhlciBwYXN0IFRUTCBub3IgZXhwaXJlZC4nKTtcbiAgICAgIHJldHVybiB0aGlzLl9jcmVkZW50aWFsc0FuZElkZW50aXR5SWQ7XG4gICAgfVxuICAgIC8vIENsZWFyIHRvIGRpc2NhcmQgaWYgYW55IGF1dGhlbnRpY2F0ZWQgY3JlZGVudGlhbHMgYXJlIHNldCBhbmQgc3RhcnQgd2l0aCBhIGNsZWFuIHNsYXRlXG4gICAgdGhpcy5jbGVhckNyZWRlbnRpYWxzKCk7XG4gICAgY29uc3QgcmVnaW9uID0gZ2V0UmVnaW9uRnJvbUlkZW50aXR5UG9vbElkKGF1dGhDb25maWcuaWRlbnRpdHlQb29sSWQpO1xuICAgIGNvbnN0IGdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHkgPSBjcmVhdGVHZXRDcmVkZW50aWFsc0ZvcklkZW50aXR5Q2xpZW50KHtcbiAgICAgIGVuZHBvaW50UmVzb2x2ZXI6IGNyZWF0ZUNvZ25pdG9JZGVudGl0eVBvb2xFbmRwb2ludFJlc29sdmVyKHtcbiAgICAgICAgZW5kcG9pbnRPdmVycmlkZTogYXV0aENvbmZpZy5pZGVudGl0eVBvb2xFbmRwb2ludFxuICAgICAgfSlcbiAgICB9KTtcbiAgICAvLyB1c2UgaWRlbnRpdHlJZCB0byBvYnRhaW4gZ3Vlc3QgY3JlZGVudGlhbHNcbiAgICAvLyBzYXZlIGNyZWRlbnRpYWxzIGluLW1lbW9yeVxuICAgIC8vIE5vIGxvZ2lucyBwYXJhbXMgc2hvdWxkIGJlIHBhc3NlZCBmb3IgZ3Vlc3QgY3JlZHM6XG4gICAgLy8gaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2NvZ25pdG9pZGVudGl0eS9sYXRlc3QvQVBJUmVmZXJlbmNlL0FQSV9HZXRDcmVkZW50aWFsc0ZvcklkZW50aXR5Lmh0bWxcbiAgICBsZXQgY2xpZW50UmVzdWx0O1xuICAgIHRyeSB7XG4gICAgICBjbGllbnRSZXN1bHQgPSBhd2FpdCBnZXRDcmVkZW50aWFsc0ZvcklkZW50aXR5KHtcbiAgICAgICAgcmVnaW9uXG4gICAgICB9LCB7XG4gICAgICAgIElkZW50aXR5SWQ6IGlkZW50aXR5SWRcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGFzc2VydFNlcnZpY2VFcnJvcihlKTtcbiAgICAgIHRocm93IG5ldyBBdXRoRXJyb3IoZSk7XG4gICAgfVxuICAgIGlmIChjbGllbnRSZXN1bHQ/LkNyZWRlbnRpYWxzPy5BY2Nlc3NLZXlJZCAmJiBjbGllbnRSZXN1bHQ/LkNyZWRlbnRpYWxzPy5TZWNyZXRLZXkpIHtcbiAgICAgIHRoaXMuX25leHRDcmVkZW50aWFsc1JlZnJlc2ggPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIENSRURFTlRJQUxTX1RUTDtcbiAgICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgICAgY3JlZGVudGlhbHM6IHtcbiAgICAgICAgICBhY2Nlc3NLZXlJZDogY2xpZW50UmVzdWx0LkNyZWRlbnRpYWxzLkFjY2Vzc0tleUlkLFxuICAgICAgICAgIHNlY3JldEFjY2Vzc0tleTogY2xpZW50UmVzdWx0LkNyZWRlbnRpYWxzLlNlY3JldEtleSxcbiAgICAgICAgICBzZXNzaW9uVG9rZW46IGNsaWVudFJlc3VsdC5DcmVkZW50aWFscy5TZXNzaW9uVG9rZW4sXG4gICAgICAgICAgZXhwaXJhdGlvbjogY2xpZW50UmVzdWx0LkNyZWRlbnRpYWxzLkV4cGlyYXRpb25cbiAgICAgICAgfSxcbiAgICAgICAgaWRlbnRpdHlJZFxuICAgICAgfTtcbiAgICAgIGlmIChjbGllbnRSZXN1bHQuSWRlbnRpdHlJZCkge1xuICAgICAgICByZXMuaWRlbnRpdHlJZCA9IGNsaWVudFJlc3VsdC5JZGVudGl0eUlkO1xuICAgICAgICB0aGlzLl9pZGVudGl0eUlkU3RvcmUuc3RvcmVJZGVudGl0eUlkKHtcbiAgICAgICAgICBpZDogY2xpZW50UmVzdWx0LklkZW50aXR5SWQsXG4gICAgICAgICAgdHlwZTogJ2d1ZXN0J1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2NyZWRlbnRpYWxzQW5kSWRlbnRpdHlJZCA9IHtcbiAgICAgICAgLi4ucmVzLFxuICAgICAgICBpc0F1dGhlbnRpY2F0ZWRDcmVkczogZmFsc2VcbiAgICAgIH07XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKHtcbiAgICAgICAgbmFtZTogJ0NyZWRlbnRpYWxzTm90Rm91bmRFeGNlcHRpb24nLFxuICAgICAgICBtZXNzYWdlOiBgQ29nbml0byBkaWQgbm90IHJlc3BvbmQgd2l0aCBlaXRoZXIgQ3JlZGVudGlhbHMsIEFjY2Vzc0tleUlkIG9yIFNlY3JldEtleS5gXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgY3JlZHNGb3JPSURDVG9rZW5zKGF1dGhDb25maWcsIGF1dGhUb2tlbnMsIGlkZW50aXR5SWQpIHtcbiAgICBpZiAodGhpcy5fY3JlZGVudGlhbHNBbmRJZGVudGl0eUlkICYmICF0aGlzLmlzUGFzdFRUTCgpICYmIHRoaXMuX2NyZWRlbnRpYWxzQW5kSWRlbnRpdHlJZC5pc0F1dGhlbnRpY2F0ZWRDcmVkcyA9PT0gdHJ1ZSkge1xuICAgICAgbG9nZ2VyLmRlYnVnKCdyZXR1cm5pbmcgc3RvcmVkIGNyZWRlbnRpYWxzIGFzIHRoZXkgbmVpdGhlciBwYXN0IFRUTCBub3IgZXhwaXJlZC4nKTtcbiAgICAgIHJldHVybiB0aGlzLl9jcmVkZW50aWFsc0FuZElkZW50aXR5SWQ7XG4gICAgfVxuICAgIC8vIENsZWFyIHRvIGRpc2NhcmQgaWYgYW55IHVuYXV0aGVudGljYXRlZCBjcmVkZW50aWFscyBhcmUgc2V0IGFuZCBzdGFydCB3aXRoIGEgY2xlYW4gc2xhdGVcbiAgICB0aGlzLmNsZWFyQ3JlZGVudGlhbHMoKTtcbiAgICBjb25zdCBsb2dpbnMgPSBhdXRoVG9rZW5zLmlkVG9rZW4gPyBmb3JtTG9naW5zTWFwKGF1dGhUb2tlbnMuaWRUb2tlbi50b1N0cmluZygpKSA6IHt9O1xuICAgIGNvbnN0IHJlZ2lvbiA9IGdldFJlZ2lvbkZyb21JZGVudGl0eVBvb2xJZChhdXRoQ29uZmlnLmlkZW50aXR5UG9vbElkKTtcbiAgICBjb25zdCBnZXRDcmVkZW50aWFsc0ZvcklkZW50aXR5ID0gY3JlYXRlR2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eUNsaWVudCh7XG4gICAgICBlbmRwb2ludFJlc29sdmVyOiBjcmVhdGVDb2duaXRvSWRlbnRpdHlQb29sRW5kcG9pbnRSZXNvbHZlcih7XG4gICAgICAgIGVuZHBvaW50T3ZlcnJpZGU6IGF1dGhDb25maWcuaWRlbnRpdHlQb29sRW5kcG9pbnRcbiAgICAgIH0pXG4gICAgfSk7XG4gICAgbGV0IGNsaWVudFJlc3VsdDtcbiAgICB0cnkge1xuICAgICAgY2xpZW50UmVzdWx0ID0gYXdhaXQgZ2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eSh7XG4gICAgICAgIHJlZ2lvblxuICAgICAgfSwge1xuICAgICAgICBJZGVudGl0eUlkOiBpZGVudGl0eUlkLFxuICAgICAgICBMb2dpbnM6IGxvZ2luc1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgYXNzZXJ0U2VydmljZUVycm9yKGUpO1xuICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcihlKTtcbiAgICB9XG4gICAgaWYgKGNsaWVudFJlc3VsdD8uQ3JlZGVudGlhbHM/LkFjY2Vzc0tleUlkICYmIGNsaWVudFJlc3VsdD8uQ3JlZGVudGlhbHM/LlNlY3JldEtleSkge1xuICAgICAgdGhpcy5fbmV4dENyZWRlbnRpYWxzUmVmcmVzaCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgQ1JFREVOVElBTFNfVFRMO1xuICAgICAgY29uc3QgcmVzID0ge1xuICAgICAgICBjcmVkZW50aWFsczoge1xuICAgICAgICAgIGFjY2Vzc0tleUlkOiBjbGllbnRSZXN1bHQuQ3JlZGVudGlhbHMuQWNjZXNzS2V5SWQsXG4gICAgICAgICAgc2VjcmV0QWNjZXNzS2V5OiBjbGllbnRSZXN1bHQuQ3JlZGVudGlhbHMuU2VjcmV0S2V5LFxuICAgICAgICAgIHNlc3Npb25Ub2tlbjogY2xpZW50UmVzdWx0LkNyZWRlbnRpYWxzLlNlc3Npb25Ub2tlbixcbiAgICAgICAgICBleHBpcmF0aW9uOiBjbGllbnRSZXN1bHQuQ3JlZGVudGlhbHMuRXhwaXJhdGlvblxuICAgICAgICB9LFxuICAgICAgICBpZGVudGl0eUlkXG4gICAgICB9O1xuICAgICAgaWYgKGNsaWVudFJlc3VsdC5JZGVudGl0eUlkKSB7XG4gICAgICAgIHJlcy5pZGVudGl0eUlkID0gY2xpZW50UmVzdWx0LklkZW50aXR5SWQ7XG4gICAgICAgIC8vIG5vdGU6IHRoZSBmb2xsb3dpbmcgY2FsbCByZW1vdmVzIGd1ZXN0IGlkZW50aXR5SWQgZnJvbSB0aGUgcGVyc2lzdGVudCBzdG9yZSAobG9jYWxTdG9yYWdlKVxuICAgICAgICB0aGlzLl9pZGVudGl0eUlkU3RvcmUuc3RvcmVJZGVudGl0eUlkKHtcbiAgICAgICAgICBpZDogY2xpZW50UmVzdWx0LklkZW50aXR5SWQsXG4gICAgICAgICAgdHlwZTogJ3ByaW1hcnknXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLy8gU3RvcmUgdGhlIGNyZWRlbnRpYWxzIGluLW1lbW9yeSBhbG9uZyB3aXRoIHRoZSBleHBpcmF0aW9uXG4gICAgICB0aGlzLl9jcmVkZW50aWFsc0FuZElkZW50aXR5SWQgPSB7XG4gICAgICAgIC4uLnJlcyxcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkQ3JlZHM6IHRydWUsXG4gICAgICAgIGFzc29jaWF0ZWRJZFRva2VuOiBhdXRoVG9rZW5zLmlkVG9rZW4/LnRvU3RyaW5nKClcbiAgICAgIH07XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKHtcbiAgICAgICAgbmFtZTogJ0NyZWRlbnRpYWxzRXhjZXB0aW9uJyxcbiAgICAgICAgbWVzc2FnZTogYENvZ25pdG8gZGlkIG5vdCByZXNwb25kIHdpdGggZWl0aGVyIENyZWRlbnRpYWxzLCBBY2Nlc3NLZXlJZCBvciBTZWNyZXRLZXkuYFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGlzUGFzdFRUTCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbmV4dENyZWRlbnRpYWxzUmVmcmVzaCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHRoaXMuX25leHRDcmVkZW50aWFsc1JlZnJlc2ggPD0gRGF0ZS5ub3coKTtcbiAgfVxuICBoYXNUb2tlbkNoYW5nZWQodG9rZW5zKSB7XG4gICAgcmV0dXJuICEhdG9rZW5zICYmICEhdGhpcy5fY3JlZGVudGlhbHNBbmRJZGVudGl0eUlkPy5hc3NvY2lhdGVkSWRUb2tlbiAmJiB0b2tlbnMuaWRUb2tlbj8udG9TdHJpbmcoKSAhPT0gdGhpcy5fY3JlZGVudGlhbHNBbmRJZGVudGl0eUlkLmFzc29jaWF0ZWRJZFRva2VuO1xuICB9XG59XG5leHBvcnQgeyBDb2duaXRvQVdTQ3JlZGVudGlhbHNBbmRJZGVudGl0eUlkUHJvdmlkZXIgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBR0EsSUFBTSwwQkFBMEI7QUFDaEMsSUFBTSxvQkFBb0I7QUFFMUIsSUFBTSxvQ0FBb0M7OztBQ0oxQyxJQUFJO0FBQUEsQ0FDSCxTQUFVQSxVQUFTO0FBQ2xCLEVBQUFBLFNBQVEsT0FBTyxJQUFJO0FBQ25CLEVBQUFBLFNBQVEsT0FBTyxJQUFJO0FBQ25CLEVBQUFBLFNBQVEsTUFBTSxJQUFJO0FBQ2xCLEVBQUFBLFNBQVEsTUFBTSxJQUFJO0FBQ2xCLEVBQUFBLFNBQVEsU0FBUyxJQUFJO0FBQ3JCLEVBQUFBLFNBQVEsTUFBTSxJQUFJO0FBQ3BCLEdBQUcsWUFBWSxVQUFVLENBQUMsRUFBRTs7O0FDSjVCLElBQU0sYUFBYTtBQUFBLEVBQ2pCLFNBQVM7QUFBQSxFQUNULE9BQU87QUFBQSxFQUNQLE1BQU07QUFBQSxFQUNOLE1BQU07QUFBQSxFQUNOLE9BQU87QUFBQSxFQUNQLE1BQU07QUFDUjtBQUtBLElBQU0sZ0JBQU4sTUFBTSxlQUFjO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtsQixZQUFZQyxPQUFNLFFBQVEsUUFBUSxNQUFNO0FBQ3RDLFNBQUssT0FBT0E7QUFDWixTQUFLLFFBQVE7QUFDYixTQUFLLGNBQWMsQ0FBQztBQUFBLEVBQ3RCO0FBQUEsRUFDQSxTQUFTLEdBQUc7QUFDVixXQUFPLElBQUks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QUFBQSxZQUNYLGFBQWEsYUFBYSxZQUFZO0FBQUEsWUFDdEMsaUJBQWlCLGFBQWEsWUFBWTtBQUFBLFlBQzFDLGNBQWMsYUFBYSxZQUFZO0FBQUEsWUFDdkMsWUFBWSxhQUFhLFlBQVk7QUFBQSxVQUN2QztBQUFBLFVBQ0E7QUFBQSxRQUNGO0FBQ0EsWUFBSSxhQUFhLFlBQVk7QUFDM0IsY0FBSSxhQUFhLGFBQWE7QUFFOUIsZUFBSyxpQkFBaUIsZ0JBQWdCO0FBQUEsWUFDcEMsSUFBSSxhQUFhO0FBQUEsWUFDakIsTUFBTTtBQUFBLFVBQ1IsQ0FBQztBQUFBLFFBQ0g7QUFFQSxhQUFLLDRCQUE0QixpQ0FDNUIsTUFENEI7QUFBQSxVQUUvQixzQkFBc0I7QUFBQSxVQUN0QixvQkFBbUIsZ0JBQVcsWUFBWCxtQkFBb0I7QUFBQSxRQUN6QztBQUNBLGVBQU87QUFBQSxNQUNULE9BQU87QUFDTCxjQUFNLElBQUksVUFBVTtBQUFBLFVBQ2xCLE1BQU07QUFBQSxVQUNOLFNBQVM7QUFBQSxRQUNYLENBQUM7QUFBQSxNQUNIO0FBQUEsSUFDRjtBQUFBO0FBQUEsRUFDQSxZQUFZO0FBQ1YsV0FBTyxLQUFLLDRCQUE0QixTQUFZLE9BQU8sS0FBSywyQkFBMkIsS0FBSyxJQUFJO0FBQUEsRUFDdEc7QUFBQSxFQUNBLGdCQUFnQixRQUFRO0FBNUwxQjtBQTZMSSxXQUFPLENBQUMsQ0FBQyxVQUFVLENBQUMsR0FBQyxVQUFLLDhCQUFMLG1CQUFnQyx3QkFBcUIsWUFBTyxZQUFQLG1CQUFnQixnQkFBZSxLQUFLLDBCQUEwQjtBQUFBLEVBQzFJO0FBQ0Y7IiwibmFtZXMiOlsiTG9nVHlwZSIsIm5hbWUiLCJuYW1lIiwiQW1wbGlmeUVycm9yQ29kZSIsIm5hbWUiLCJuYW1lIiwiQXV0aENvbmZpZ3VyYXRpb25FcnJvckNvZGUiLCJuYW1lIiwibG9nZ2VyIiwiYXBpIiwibmFtZSIsInZlcnNpb24iLCJuYW1lIiwiUmF3U2hhMjU2IiwiZnJvbVV0ZjgiLCJTaGEyNTYiLCJGcmFtZXdvcmsiLCJDYXRlZ29yeSIsIkFpQWN0aW9uIiwiQW5hbHl0aWNzQWN0aW9uIiwiQXBpQWN0aW9uIiwiQXV0aEFjdGlvbiIsIkRhdGFTdG9yZUFjdGlvbiIsIkdlb0FjdGlvbiIsIkluQXBwTWVzc2FnaW5nQWN0aW9uIiwiSW50ZXJhY3Rpb25zQWN0aW9uIiwiUHJlZGljdGlvbnNBY3Rpb24iLCJQdWJTdWJBY3Rpb24iLCJQdXNoTm90aWZpY2F0aW9uQWN0aW9uIiwiU3RvcmFnZUFjdGlvbiIsImFwaSIsImxvZ2dlciIsImZldGNoQXV0aFNlc3Npb24iLCJkZWZhdWx0Q29uZmlnIiwiaml0dGVyZWRCYWNrb2ZmIiwiaml0dGVyZWRCYWNrb2ZmIiwibG9nZ2VyIiwibmFtZSIsImNvbnZlcnRlciIsIkNhY2hlRXJyb3JDb2RlIiwiYXNzZXJ0IiwibG9nZ2VyIiwiYXNzZXJ0IiwibG9nZ2VyIiwibG9nZ2VyIiwiSTE4bkVycm9yQ29kZSIsImFzc2VydCIsImxvZ2dlciIsIkkxOG4iLCJhc3NlcnQiLCJjcnlwdG8iLCJBdXRoVmFsaWRhdGlvbkVycm9yQ29kZSIsIkF1dGhFcnJvclN0cmluZ3MiLCJBdXRoRXJyb3JDb2RlcyIsIm5hbWUiLCJERUZBVUxUX1NFUlZJQ0VfQ0xJRU5UX0FQSV9DT05GSUciLCJqaXR0ZXJlZEJhY2tvZmYiLCJBc3NvY2lhdGVTb2Z0d2FyZVRva2VuRXhjZXB0aW9uIiwiQ2hhbmdlUGFzc3dvcmRFeGNlcHRpb24iLCJDb25maXJtRGV2aWNlRXhjZXB0aW9uIiwiQ29uZmlybUZvcmdvdFBhc3N3b3JkRXhjZXB0aW9uIiwiQ29uZmlybVNpZ25VcEV4Y2VwdGlvbiIsIkRlbGV0ZVVzZXJBdHRyaWJ1dGVzRXhjZXB0aW9uIiwiRGVsZXRlVXNlckV4Y2VwdGlvbiIsIkZvcmdldERldmljZUV4Y2VwdGlvbiIsIkZvcmdvdFBhc3N3b3JkRXhjZXB0aW9uIiwiR2V0VXNlckV4Y2VwdGlvbiIsIkdldElkRXhjZXB0aW9uIiwiR2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eUV4Y2VwdGlvbiIsIkdldFVzZXJBdHRyaWJ1dGVWZXJpZmljYXRpb25FeGNlcHRpb24iLCJHbG9iYWxTaWduT3V0RXhjZXB0aW9uIiwiSW5pdGlhdGVBdXRoRXhjZXB0aW9uIiwiUmVzZW5kQ29uZmlybWF0aW9uRXhjZXB0aW9uIiwiUmVzcG9uZFRvQXV0aENoYWxsZW5nZUV4Y2VwdGlvbiIsIlNldFVzZXJNRkFQcmVmZXJlbmNlRXhjZXB0aW9uIiwiU2lnblVwRXhjZXB0aW9uIiwiVXBkYXRlVXNlckF0dHJpYnV0ZXNFeGNlcHRpb24iLCJWZXJpZnlTb2Z0d2FyZVRva2VuRXhjZXB0aW9uIiwiVmVyaWZ5VXNlckF0dHJpYnV0ZUV4Y2VwdGlvbiIsIlVwZGF0ZURldmljZVN0YXR1c0V4Y2VwdGlvbiIsIkxpc3REZXZpY2VzRXhjZXB0aW9uIiwiZ2V0U2hhcmVkSGVhZGVycyIsImJ1aWxkSHR0cFJwY1JlcXVlc3QiLCJERUZBVUxUX1NFUlZJQ0VfQ0xJRU5UX0FQSV9DT05GSUciLCJERUZBVUxUX1NFUlZJQ0VfQ0xJRU5UX0FQSV9DT05GSUciLCJERUZBVUxUX1NFUlZJQ0VfQ0xJRU5UX0FQSV9DT05GSUciLCJmZXRjaEF1dGhTZXNzaW9uIiwiREVGQVVMVF9TRVJWSUNFX0NMSUVOVF9BUElfQ09ORklHIiwiZmV0Y2hBdXRoU2Vzc2lvbiIsIkRFRkFVTFRfU0VSVklDRV9DTElFTlRfQVBJX0NPTkZJRyIsImZldGNoVXNlckF0dHJpYnV0ZXMiLCJERUZBVUxUX1NFUlZJQ0VfQ0xJRU5UX0FQSV9DT05GSUciLCJmZXRjaEF1dGhTZXNzaW9uIiwiREVGQVVMVF9TRVJWSUNFX0NMSUVOVF9BUElfQ09ORklHIiwiVG9rZW5Qcm92aWRlckVycm9yQ29kZSIsImFzc2VydCIsImFzc2VydCIsImNyZWF0ZUtleXNGb3JBdXRoU3RvcmFnZSIsIkRFRkFVTFRfU0VSVklDRV9DTElFTlRfQVBJX0NPTkZJRyIsIkJMT0NLX1NJWkUiLCJESUdFU1RfTEVOR1RIIiwiS0VZIiwiSU5JVCIsIk1BWF9IQVNIQUJMRV9MRU5HVEgiLCJSYXdTaGEyNTYiLCJJTklUIiwiTUFYX0hBU0hBQkxFX0xFTkdUSCIsIkJMT0NLX1NJWkUiLCJESUdFU1RfTEVOR1RIIiwiS0VZIiwiZnJvbVV0ZjgiLCJjb252ZXJ0VG9CdWZmZXIiLCJpc0VtcHR5RGF0YSIsIlNoYTI1NiIsIlJhd1NoYTI1NiIsImlzRW1wdHlEYXRhIiwiY29udmVydFRvQnVmZmVyIiwiYnVmZmVyRnJvbVNlY3JldCIsIkJMT0NLX1NJWkUiLCJidWZmZXJGcm9tU2VjcmV0IiwiY29udmVydFRvQnVmZmVyIiwiQkxPQ0tfU0laRSIsIlJhd1NoYTI1NiIsImdldFJlZGlyZWN0VXJsIiwiZ2V0UmVkaXJlY3RVcmwiLCJ0b2tlbk9yY2hlc3RyYXRvciIsImxvZ2dlciIsIkF1dGhFcnJvclR5cGVzIiwiREVGQVVMVF9TRVJWSUNFX0NMSUVOVF9BUElfQ09ORklHIiwiREVGQVVMVF9TRVJWSUNFX0NMSUVOVF9BUElfQ09ORklHIiwibG9nZ2VyIiwib0F1dGhTdG9yZSIsImZldGNoQXV0aFNlc3Npb24iLCJnZXRDdXJyZW50VXNlciIsIkRFRkFVTFRfU0VSVklDRV9DTElFTlRfQVBJX0NPTkZJRyIsIkRFRkFVTFRfU0VSVklDRV9DTElFTlRfQVBJX0NPTkZJRyIsIkRFRkFVTFRfU0VSVklDRV9DTElFTlRfQVBJX0NPTkZJRyIsImdldEN1cnJlbnRVc2VyIiwiUGFzc2tleUVycm9yQ29kZSIsIkRFRkFVTFRfU0VSVklDRV9DTElFTlRfQVBJX0NPTkZJRyIsIlNIT1JUX1RPX0hFWCIsIkhFWF9UT19TSE9SVCIsIkhFWF9UT19TSE9SVCIsIlNIT1JUX1RPX0hFWCIsIlNoYTI1NiIsIlNoYTI1NiIsIlNoYTI1NiIsInRva2VuT3JjaGVzdHJhdG9yIiwidG9rZW5PcmNoZXN0cmF0b3IiLCJ0b2tlbk9yY2hlc3RyYXRvciIsInRva2VuT3JjaGVzdHJhdG9yIiwidG9rZW5PcmNoZXN0cmF0b3IiLCJnZXRDdXJyZW50VXNlciIsInRva2VuT3JjaGVzdHJhdG9yIiwibmFtZSIsIkRFRkFVTFRfU0VSVklDRV9DTElFTlRfQVBJX0NPTkZJRyIsImF1dG9TaWduSW4iLCJnZXRSZWRpcmVjdFVybCIsImxvZ2dlciIsImNyZWF0ZUtleXNGb3JBdXRoU3RvcmFnZSIsImxvZ2dlciIsImlzQXV0aGVudGljYXRlZCJdLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMCwyMSwyMiwyMywyNCwyNSwyNiwyNywyOCwyOSwzMCwzMSwzMiwzMywzNCwzNSwzNiwzNywzOCwzOSw0MCw0MSw0Miw0Myw0NCw0NSw0Niw0Nyw0OCw0OSw1MCw1MSw1Miw1Myw1NCw1NSw1Niw1Nyw1OCw1OSw2MCw2MSw2Miw2Myw2NCw2NSw2Niw2Nyw2OCw2OSw3MCw3MSw3Miw3Myw3NCw3NSw3Niw3Nyw3OCw3OSw4MCw4MSw4Miw4Myw4NCw4NSw4Niw4Nyw4OCw4OSw5MCw5MSw5Miw5Myw5NCw5NSw5Niw5Nyw5OCw5OSwxMDAsMTAxLDEwMiwxMDMsMTA0LDEwNSwxMDYsMTA3LDEwOCwxMDksMTEwLDExMSwxMTIsMTEzLDExNCwxMTUsMTE2LDExNywxMTgsMTE5LDEyMCwxMjEsMTIyLDEyMywxMjQsMTI1LDEyNiwxMjcsMTI4LDEyOSwxMzAsMTMxLDEzMiwxMzMsMTM0LDEzNSwxMzYsMTM3LDEzOCwxMzksMTQwLDE0MSwxNDIsMTQzLDE0NCwxNDUsMTQ2LDE0NywxNDgsMTQ5LDE1MCwxNTEsMTUyLDE1MywxNTQsMTU1LDE1NiwxNTcsMTU4LDE1OSwxNjAsMTYxLDE2MiwxNjMsMTY0LDE2NSwxNjYsMTY3LDE2OCwxNjksMTcwLDE3MSwxNzIsMTczLDE3NCwxNzUsMTc2LDE3NywxNzgsMTc5LDE4MCwxODEsMTgyLDE4MywxODQsMTg1LDE4NiwxODcsMTg4LDE4OSwxOTAsMTkxLDE5MiwxOTMsMTk0LDE5NSwxOTYsMTk3LDE5OCwxOTksMjAwLDIwMSwyMDIsMjAzLDIwNCwyMDUsMjA2LDIwNywyMDgsMjA5LDIxMCwyMTEsMjEyLDIxMywyMTQsMjE1LDIxNiwyMTcsMjE4LDIxOSwyMjAsMjIxLDIyMiwyMjMsMjI0LDIyNSwyMjYsMjI3LDIyOCwyMjksMjMwLDIzMSwyMzJdfQ==
