import {
  arrowBackSharp,
  chevronBack
} from "./chunk-D4BGZ3LF.js";
import {
  createColorClasses,
  hostContext,
  openURL
} from "./chunk-5VP4V3BN.js";
import {
  getIonMode
} from "./chunk-TXLH22R2.js";
import {
  inheritAriaAttributes
} from "./chunk-RZR7LWTQ.js";
import {
  Host,
  config,
  getElement,
  h,
  registerInstance
} from "./chunk-BFPTXCSH.js";
import {
  __async
} from "./chunk-UESUV5PM.js";

// node_modules/@ionic/core/dist/esm/ion-back-button.entry.js
var backButtonIosCss = ':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:clamp(17px, 1.0625rem, 21.998px)}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}';
var backButtonMdCss = ':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:1.5rem;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:0.875rem;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;min-height:48px;aspect-ratio:1/1}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}';
var BackButton = class {
  constructor(hostRef) {
    registerInstance(this, hostRef);
    this.inheritedAttributes = {};
    this.disabled = false;
    this.type = "button";
    this.onClick = (ev) => __async(this, null, function* () {
      const nav = this.el.closest("ion-nav");
      ev.preventDefault();
      if (nav && (yield nav.canGoBack())) {
        return nav.pop({
          animationBuilder: this.routerAnimation,
          skipIfBusy: true
        });
      }
      return openURL(this.defaultHref, ev, "back", this.routerAnimation);
    });
  }
  componentWillLoad() {
    this.inheritedAttributes = inheritAriaAttributes(this.el);
    if (this.defaultHref === void 0) {
      this.defaultHref = config.get("backButtonDefaultHref");
    }
  }
  get backButtonIcon() {
    const icon = this.icon;
    if (icon != null) {
      return icon;
    }
    if (getIonMode(this) === "ios") {
      return config.get("backButtonIcon", chevronBack);
    }
    return config.get("backButtonIcon", arrowBackSharp);
  }
  get backButtonText() {
    const defaultBackButtonText = getIonMode(this) === "ios" ? "Back" : null;
    return this.text != null ? this.text : config.get("backButtonText", defaultBackButtonText);
  }
  get hasIconOnly() {
    return this.backButtonIcon && !this.backButtonText;
  }
  get rippleType() {
    if (this.hasIconOnly) {
      return "unbounded";
    }
    return "bounded";
  }
  render() {
    const {
      color,
      defaultHref,
      disabled,
      type,
      hasIconOnly,
      backButtonIcon,
      backButtonText,
      icon,
      inheritedAttributes
    } = this;
    const showBackButton = defaultHref !== void 0;
    const mode = getIonMode(this);
    const ariaLabel = inheritedAttributes["aria-label"] || backButtonText || "back";
    return h(Host, {
      key: "5466624a10f1ab56f5469e6dc07080303880f2fe",
      onClick: this.onClick,
      class: createColorClasses(color, {
        [mode]: true,
        button: true,
        // ion-buttons target .button
        "back-button-disabled": disabled,
        "back-button-has-icon-only": hasIconOnly,
        "in-toolbar": hostContext("ion-toolbar", this.el),
        "in-toolbar-color": hostContext("ion-toolbar[color]", this.el),
        "ion-activatable": true,
        "ion-focusable": true,
        "show-back-button": showBackButton
      })
    }, h("button", {
      key: "63bc75ef0ad7cc9fb79e58217a3314b20acd73e3",
      type,
      disabled,
      class: "button-native",
      part: "native",
      "aria-label": ariaLabel
    }, h("span", {
      key: "5d3eacbd11af2245c6e1151cab446a0d96559ad8",
      class: "button-inner"
    }, backButtonIcon && h("ion-icon", {
      key: "6439af0ae463764174e7d3207f02267811df666d",
      part: "icon",
      icon: backButtonIcon,
      "aria-hidden": "true",
      lazy: false,
      "flip-rtl": icon === void 0
    }), backButtonText && h("span", {
      key: "8ee89fb18dfdb5b75948a8b197ff4cdbc008742f",
      part: "text",
      "aria-hidden": "true",
      class: "button-text"
    }, backButtonText)), mode === "md" && h("ion-ripple-effect", {
      key: "63803a884998bc73bea5afe0b2a0a14e3fa4d6bf",
      type: this.rippleType
    })));
  }
  get el() {
    return getElement(this);
  }
};
BackButton.style = {
  ios: backButtonIosCss,
  md: backButtonMdCss
};
export {
  BackButton as ion_back_button
};
/*! Bundled license information:

@ionic/core/dist/esm/ion-back-button.entry.js:
  (*!
   * (C) Ionic http://ionicframework.com - MIT License
   *)
*/
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pb24tYmFjay1idXR0b24uZW50cnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgZSBhcyBjb25maWcsIGgsIGQgYXMgSG9zdCwgZyBhcyBnZXRFbGVtZW50IH0gZnJvbSAnLi9pbmRleC00RHhZNl9nRy5qcyc7XG5pbXBvcnQgeyBpIGFzIGluaGVyaXRBcmlhQXR0cmlidXRlcyB9IGZyb20gJy4vaGVscGVycy04S1NRUUdReS5qcyc7XG5pbXBvcnQgeyBvIGFzIG9wZW5VUkwsIGMgYXMgY3JlYXRlQ29sb3JDbGFzc2VzLCBoIGFzIGhvc3RDb250ZXh0IH0gZnJvbSAnLi90aGVtZS1EaVZKeXFsWC5qcyc7XG5pbXBvcnQgeyBjIGFzIGNoZXZyb25CYWNrLCBhIGFzIGFycm93QmFja1NoYXJwIH0gZnJvbSAnLi9pbmRleC1EVjNzSkpXOC5qcyc7XG5pbXBvcnQgeyBiIGFzIGdldElvbk1vZGUgfSBmcm9tICcuL2lvbmljLWdsb2JhbC1DVFN5dWZoRi5qcyc7XG5jb25zdCBiYWNrQnV0dG9uSW9zQ3NzID0gXCI6aG9zdHstLWJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7LS1jb2xvci1mb2N1c2VkOmN1cnJlbnRDb2xvcjstLWNvbG9yLWhvdmVyOmN1cnJlbnRDb2xvcjstLWljb24tbWFyZ2luLXRvcDowOy0taWNvbi1tYXJnaW4tYm90dG9tOjA7LS1pY29uLXBhZGRpbmctdG9wOjA7LS1pY29uLXBhZGRpbmctZW5kOjA7LS1pY29uLXBhZGRpbmctYm90dG9tOjA7LS1pY29uLXBhZGRpbmctc3RhcnQ6MDstLW1hcmdpbi10b3A6MDstLW1hcmdpbi1lbmQ6MDstLW1hcmdpbi1ib3R0b206MDstLW1hcmdpbi1zdGFydDowOy0tbWluLXdpZHRoOmF1dG87LS1taW4taGVpZ2h0OmF1dG87LS1wYWRkaW5nLXRvcDowOy0tcGFkZGluZy1lbmQ6MDstLXBhZGRpbmctYm90dG9tOjA7LS1wYWRkaW5nLXN0YXJ0OjA7LS1vcGFjaXR5OjE7LS1yaXBwbGUtY29sb3I6Y3VycmVudENvbG9yOy0tdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yLCBvcGFjaXR5IDEwMG1zIGxpbmVhcjtkaXNwbGF5Om5vbmU7bWluLXdpZHRoOnZhcigtLW1pbi13aWR0aCk7bWluLWhlaWdodDp2YXIoLS1taW4taGVpZ2h0KTtjb2xvcjp2YXIoLS1jb2xvcik7Zm9udC1mYW1pbHk6dmFyKC0taW9uLWZvbnQtZmFtaWx5LCBpbmhlcml0KTt0ZXh0LWFsaWduOmNlbnRlcjt0ZXh0LWRlY29yYXRpb246bm9uZTt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3RleHQtdHJhbnNmb3JtOm5vbmU7d2hpdGUtc3BhY2U6bm93cmFwOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTstd2Via2l0LWZvbnQta2VybmluZzpub25lO2ZvbnQta2VybmluZzpub25lfWlvbi1yaXBwbGUtZWZmZWN0e2NvbG9yOnZhcigtLXJpcHBsZS1jb2xvcil9Omhvc3QoLmlvbi1jb2xvcikgLmJ1dHRvbi1uYXRpdmV7Y29sb3I6dmFyKC0taW9uLWNvbG9yLWJhc2UpfTpob3N0KC5zaG93LWJhY2stYnV0dG9uKXtkaXNwbGF5OmJsb2NrfTpob3N0KC5iYWNrLWJ1dHRvbi1kaXNhYmxlZCl7Y3Vyc29yOmRlZmF1bHQ7b3BhY2l0eTowLjU7cG9pbnRlci1ldmVudHM6bm9uZX0uYnV0dG9uLW5hdGl2ZXtib3JkZXItcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpOy1tb3otb3N4LWZvbnQtc21vb3RoaW5nOmdyYXlzY2FsZTstd2Via2l0LWZvbnQtc21vb3RoaW5nOmFudGlhbGlhc2VkOy13ZWJraXQtbWFyZ2luLXN0YXJ0OnZhcigtLW1hcmdpbi1zdGFydCk7bWFyZ2luLWlubGluZS1zdGFydDp2YXIoLS1tYXJnaW4tc3RhcnQpOy13ZWJraXQtbWFyZ2luLWVuZDp2YXIoLS1tYXJnaW4tZW5kKTttYXJnaW4taW5saW5lLWVuZDp2YXIoLS1tYXJnaW4tZW5kKTttYXJnaW4tdG9wOnZhcigtLW1hcmdpbi10b3ApO21hcmdpbi1ib3R0b206dmFyKC0tbWFyZ2luLWJvdHRvbSk7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OnZhcigtLXBhZGRpbmctc3RhcnQpO3BhZGRpbmctaW5saW5lLXN0YXJ0OnZhcigtLXBhZGRpbmctc3RhcnQpOy13ZWJraXQtcGFkZGluZy1lbmQ6dmFyKC0tcGFkZGluZy1lbmQpO3BhZGRpbmctaW5saW5lLWVuZDp2YXIoLS1wYWRkaW5nLWVuZCk7cGFkZGluZy10b3A6dmFyKC0tcGFkZGluZy10b3ApO3BhZGRpbmctYm90dG9tOnZhcigtLXBhZGRpbmctYm90dG9tKTtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtc2l6ZTppbmhlcml0O2ZvbnQtc3R5bGU6aW5oZXJpdDtmb250LXdlaWdodDppbmhlcml0O2xldHRlci1zcGFjaW5nOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7dGV4dC1pbmRlbnQ6aW5oZXJpdDt0ZXh0LW92ZXJmbG93OmluaGVyaXQ7dGV4dC10cmFuc2Zvcm06aW5oZXJpdDt0ZXh0LWFsaWduOmluaGVyaXQ7d2hpdGUtc3BhY2U6aW5oZXJpdDtjb2xvcjppbmhlcml0O2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTttaW4taGVpZ2h0OmluaGVyaXQ7LXdlYmtpdC10cmFuc2l0aW9uOnZhcigtLXRyYW5zaXRpb24pO3RyYW5zaXRpb246dmFyKC0tdHJhbnNpdGlvbik7Ym9yZGVyOjA7b3V0bGluZTpub25lO2JhY2tncm91bmQ6dmFyKC0tYmFja2dyb3VuZCk7bGluZS1oZWlnaHQ6MTtjdXJzb3I6cG9pbnRlcjtvcGFjaXR5OnZhcigtLW9wYWNpdHkpO292ZXJmbG93OmhpZGRlbjstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7ei1pbmRleDowOy13ZWJraXQtYXBwZWFyYW5jZTpub25lOy1tb3otYXBwZWFyYW5jZTpub25lO2FwcGVhcmFuY2U6bm9uZX0uYnV0dG9uLWlubmVye2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOnJlbGF0aXZlOy1tcy1mbGV4LWZsb3c6cm93IG5vd3JhcDtmbGV4LWZsb3c6cm93IG5vd3JhcDstbXMtZmxleC1uZWdhdGl2ZTowO2ZsZXgtc2hyaW5rOjA7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7ei1pbmRleDoxfWlvbi1pY29uey13ZWJraXQtcGFkZGluZy1zdGFydDp2YXIoLS1pY29uLXBhZGRpbmctc3RhcnQpO3BhZGRpbmctaW5saW5lLXN0YXJ0OnZhcigtLWljb24tcGFkZGluZy1zdGFydCk7LXdlYmtpdC1wYWRkaW5nLWVuZDp2YXIoLS1pY29uLXBhZGRpbmctZW5kKTtwYWRkaW5nLWlubGluZS1lbmQ6dmFyKC0taWNvbi1wYWRkaW5nLWVuZCk7cGFkZGluZy10b3A6dmFyKC0taWNvbi1wYWRkaW5nLXRvcCk7cGFkZGluZy1ib3R0b206dmFyKC0taWNvbi1wYWRkaW5nLWJvdHRvbSk7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6dmFyKC0taWNvbi1tYXJnaW4tc3RhcnQpO21hcmdpbi1pbmxpbmUtc3RhcnQ6dmFyKC0taWNvbi1tYXJnaW4tc3RhcnQpOy13ZWJraXQtbWFyZ2luLWVuZDp2YXIoLS1pY29uLW1hcmdpbi1lbmQpO21hcmdpbi1pbmxpbmUtZW5kOnZhcigtLWljb24tbWFyZ2luLWVuZCk7bWFyZ2luLXRvcDp2YXIoLS1pY29uLW1hcmdpbi10b3ApO21hcmdpbi1ib3R0b206dmFyKC0taWNvbi1tYXJnaW4tYm90dG9tKTtkaXNwbGF5OmluaGVyaXQ7Zm9udC1zaXplOnZhcigtLWljb24tZm9udC1zaXplKTtmb250LXdlaWdodDp2YXIoLS1pY29uLWZvbnQtd2VpZ2h0KTtwb2ludGVyLWV2ZW50czpub25lfTpob3N0KC5pb24tZm9jdXNlZCkgLmJ1dHRvbi1uYXRpdmV7Y29sb3I6dmFyKC0tY29sb3ItZm9jdXNlZCl9Omhvc3QoLmlvbi1mb2N1c2VkKSAuYnV0dG9uLW5hdGl2ZTo6YWZ0ZXJ7YmFja2dyb3VuZDp2YXIoLS1iYWNrZ3JvdW5kLWZvY3VzZWQpO29wYWNpdHk6dmFyKC0tYmFja2dyb3VuZC1mb2N1c2VkLW9wYWNpdHkpfS5idXR0b24tbmF0aXZlOjphZnRlcntsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDtwb3NpdGlvbjphYnNvbHV0ZTtjb250ZW50OlxcXCJcXFwiO29wYWNpdHk6MH1AbWVkaWEgKGFueS1ob3ZlcjogaG92ZXIpezpob3N0KDpob3ZlcikgLmJ1dHRvbi1uYXRpdmV7Y29sb3I6dmFyKC0tY29sb3ItaG92ZXIpfTpob3N0KDpob3ZlcikgLmJ1dHRvbi1uYXRpdmU6OmFmdGVye2JhY2tncm91bmQ6dmFyKC0tYmFja2dyb3VuZC1ob3Zlcik7b3BhY2l0eTp2YXIoLS1iYWNrZ3JvdW5kLWhvdmVyLW9wYWNpdHkpfX06aG9zdCguaW9uLWNvbG9yLmlvbi1mb2N1c2VkKSAuYnV0dG9uLW5hdGl2ZXtjb2xvcjp2YXIoLS1pb24tY29sb3ItYmFzZSl9QG1lZGlhIChhbnktaG92ZXI6IGhvdmVyKXs6aG9zdCguaW9uLWNvbG9yOmhvdmVyKSAuYnV0dG9uLW5hdGl2ZXtjb2xvcjp2YXIoLS1pb24tY29sb3ItYmFzZSl9fTpob3N0KC5pbi10b29sYmFyOm5vdCguaW4tdG9vbGJhci1jb2xvcikpe2NvbG9yOnZhcigtLWlvbi10b29sYmFyLWNvbG9yLCB2YXIoLS1jb2xvcikpfTpob3N0ey0tYmFja2dyb3VuZC1ob3Zlcjp0cmFuc3BhcmVudDstLWJhY2tncm91bmQtaG92ZXItb3BhY2l0eToxOy0tYmFja2dyb3VuZC1mb2N1c2VkOmN1cnJlbnRDb2xvcjstLWJhY2tncm91bmQtZm9jdXNlZC1vcGFjaXR5Oi4xOy0tYm9yZGVyLXJhZGl1czo0cHg7LS1jb2xvcjp2YXIoLS1pb24tY29sb3ItcHJpbWFyeSwgIzAwNTRlOSk7LS1pY29uLW1hcmdpbi1lbmQ6MXB4Oy0taWNvbi1tYXJnaW4tc3RhcnQ6LTRweDstLWljb24tZm9udC1zaXplOjEuNmVtOy0tbWluLWhlaWdodDozMnB4O2ZvbnQtc2l6ZTpjbGFtcCgxN3B4LCAxLjA2MjVyZW0sIDIxLjk5OHB4KX0uYnV0dG9uLW5hdGl2ZXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVaKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApO292ZXJmbG93OnZpc2libGU7ei1pbmRleDo5OX06aG9zdCguaW9uLWFjdGl2YXRlZCkgLmJ1dHRvbi1uYXRpdmV7b3BhY2l0eTowLjR9QG1lZGlhIChhbnktaG92ZXI6IGhvdmVyKXs6aG9zdCg6aG92ZXIpe29wYWNpdHk6MC42fX1cIjtcbmNvbnN0IGJhY2tCdXR0b25NZENzcyA9IFwiOmhvc3R7LS1iYWNrZ3JvdW5kOnRyYW5zcGFyZW50Oy0tY29sb3ItZm9jdXNlZDpjdXJyZW50Q29sb3I7LS1jb2xvci1ob3ZlcjpjdXJyZW50Q29sb3I7LS1pY29uLW1hcmdpbi10b3A6MDstLWljb24tbWFyZ2luLWJvdHRvbTowOy0taWNvbi1wYWRkaW5nLXRvcDowOy0taWNvbi1wYWRkaW5nLWVuZDowOy0taWNvbi1wYWRkaW5nLWJvdHRvbTowOy0taWNvbi1wYWRkaW5nLXN0YXJ0OjA7LS1tYXJnaW4tdG9wOjA7LS1tYXJnaW4tZW5kOjA7LS1tYXJnaW4tYm90dG9tOjA7LS1tYXJnaW4tc3RhcnQ6MDstLW1pbi13aWR0aDphdXRvOy0tbWluLWhlaWdodDphdXRvOy0tcGFkZGluZy10b3A6MDstLXBhZGRpbmctZW5kOjA7LS1wYWRkaW5nLWJvdHRvbTowOy0tcGFkZGluZy1zdGFydDowOy0tb3BhY2l0eToxOy0tcmlwcGxlLWNvbG9yOmN1cnJlbnRDb2xvcjstLXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciwgb3BhY2l0eSAxMDBtcyBsaW5lYXI7ZGlzcGxheTpub25lO21pbi13aWR0aDp2YXIoLS1taW4td2lkdGgpO21pbi1oZWlnaHQ6dmFyKC0tbWluLWhlaWdodCk7Y29sb3I6dmFyKC0tY29sb3IpO2ZvbnQtZmFtaWx5OnZhcigtLWlvbi1mb250LWZhbWlseSwgaW5oZXJpdCk7dGV4dC1hbGlnbjpjZW50ZXI7dGV4dC1kZWNvcmF0aW9uOm5vbmU7dGV4dC1vdmVyZmxvdzplbGxpcHNpczt0ZXh0LXRyYW5zZm9ybTpub25lO3doaXRlLXNwYWNlOm5vd3JhcDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7LXdlYmtpdC1mb250LWtlcm5pbmc6bm9uZTtmb250LWtlcm5pbmc6bm9uZX1pb24tcmlwcGxlLWVmZmVjdHtjb2xvcjp2YXIoLS1yaXBwbGUtY29sb3IpfTpob3N0KC5pb24tY29sb3IpIC5idXR0b24tbmF0aXZle2NvbG9yOnZhcigtLWlvbi1jb2xvci1iYXNlKX06aG9zdCguc2hvdy1iYWNrLWJ1dHRvbil7ZGlzcGxheTpibG9ja306aG9zdCguYmFjay1idXR0b24tZGlzYWJsZWQpe2N1cnNvcjpkZWZhdWx0O29wYWNpdHk6MC41O3BvaW50ZXItZXZlbnRzOm5vbmV9LmJ1dHRvbi1uYXRpdmV7Ym9yZGVyLXJhZGl1czp2YXIoLS1ib3JkZXItcmFkaXVzKTstbW96LW9zeC1mb250LXNtb290aGluZzpncmF5c2NhbGU7LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZDstd2Via2l0LW1hcmdpbi1zdGFydDp2YXIoLS1tYXJnaW4tc3RhcnQpO21hcmdpbi1pbmxpbmUtc3RhcnQ6dmFyKC0tbWFyZ2luLXN0YXJ0KTstd2Via2l0LW1hcmdpbi1lbmQ6dmFyKC0tbWFyZ2luLWVuZCk7bWFyZ2luLWlubGluZS1lbmQ6dmFyKC0tbWFyZ2luLWVuZCk7bWFyZ2luLXRvcDp2YXIoLS1tYXJnaW4tdG9wKTttYXJnaW4tYm90dG9tOnZhcigtLW1hcmdpbi1ib3R0b20pOy13ZWJraXQtcGFkZGluZy1zdGFydDp2YXIoLS1wYWRkaW5nLXN0YXJ0KTtwYWRkaW5nLWlubGluZS1zdGFydDp2YXIoLS1wYWRkaW5nLXN0YXJ0KTstd2Via2l0LXBhZGRpbmctZW5kOnZhcigtLXBhZGRpbmctZW5kKTtwYWRkaW5nLWlubGluZS1lbmQ6dmFyKC0tcGFkZGluZy1lbmQpO3BhZGRpbmctdG9wOnZhcigtLXBhZGRpbmctdG9wKTtwYWRkaW5nLWJvdHRvbTp2YXIoLS1wYWRkaW5nLWJvdHRvbSk7Zm9udC1mYW1pbHk6aW5oZXJpdDtmb250LXNpemU6aW5oZXJpdDtmb250LXN0eWxlOmluaGVyaXQ7Zm9udC13ZWlnaHQ6aW5oZXJpdDtsZXR0ZXItc3BhY2luZzppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3RleHQtaW5kZW50OmluaGVyaXQ7dGV4dC1vdmVyZmxvdzppbmhlcml0O3RleHQtdHJhbnNmb3JtOmluaGVyaXQ7dGV4dC1hbGlnbjppbmhlcml0O3doaXRlLXNwYWNlOmluaGVyaXQ7Y29sb3I6aW5oZXJpdDtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7bWluLWhlaWdodDppbmhlcml0Oy13ZWJraXQtdHJhbnNpdGlvbjp2YXIoLS10cmFuc2l0aW9uKTt0cmFuc2l0aW9uOnZhcigtLXRyYW5zaXRpb24pO2JvcmRlcjowO291dGxpbmU6bm9uZTtiYWNrZ3JvdW5kOnZhcigtLWJhY2tncm91bmQpO2xpbmUtaGVpZ2h0OjE7Y3Vyc29yOnBvaW50ZXI7b3BhY2l0eTp2YXIoLS1vcGFjaXR5KTtvdmVyZmxvdzpoaWRkZW47LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO3otaW5kZXg6MDstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTstbW96LWFwcGVhcmFuY2U6bm9uZTthcHBlYXJhbmNlOm5vbmV9LmJ1dHRvbi1pbm5lcntkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjpyZWxhdGl2ZTstbXMtZmxleC1mbG93OnJvdyBub3dyYXA7ZmxleC1mbG93OnJvdyBub3dyYXA7LW1zLWZsZXgtbmVnYXRpdmU6MDtmbGV4LXNocmluazowOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3otaW5kZXg6MX1pb24taWNvbnstd2Via2l0LXBhZGRpbmctc3RhcnQ6dmFyKC0taWNvbi1wYWRkaW5nLXN0YXJ0KTtwYWRkaW5nLWlubGluZS1zdGFydDp2YXIoLS1pY29uLXBhZGRpbmctc3RhcnQpOy13ZWJraXQtcGFkZGluZy1lbmQ6dmFyKC0taWNvbi1wYWRkaW5nLWVuZCk7cGFkZGluZy1pbmxpbmUtZW5kOnZhcigtLWljb24tcGFkZGluZy1lbmQpO3BhZGRpbmctdG9wOnZhcigtLWljb24tcGFkZGluZy10b3ApO3BhZGRpbmctYm90dG9tOnZhcigtLWljb24tcGFkZGluZy1ib3R0b20pOy13ZWJraXQtbWFyZ2luLXN0YXJ0OnZhcigtLWljb24tbWFyZ2luLXN0YXJ0KTttYXJnaW4taW5saW5lLXN0YXJ0OnZhcigtLWljb24tbWFyZ2luLXN0YXJ0KTstd2Via2l0LW1hcmdpbi1lbmQ6dmFyKC0taWNvbi1tYXJnaW4tZW5kKTttYXJnaW4taW5saW5lLWVuZDp2YXIoLS1pY29uLW1hcmdpbi1lbmQpO21hcmdpbi10b3A6dmFyKC0taWNvbi1tYXJnaW4tdG9wKTttYXJnaW4tYm90dG9tOnZhcigtLWljb24tbWFyZ2luLWJvdHRvbSk7ZGlzcGxheTppbmhlcml0O2ZvbnQtc2l6ZTp2YXIoLS1pY29uLWZvbnQtc2l6ZSk7Zm9udC13ZWlnaHQ6dmFyKC0taWNvbi1mb250LXdlaWdodCk7cG9pbnRlci1ldmVudHM6bm9uZX06aG9zdCguaW9uLWZvY3VzZWQpIC5idXR0b24tbmF0aXZle2NvbG9yOnZhcigtLWNvbG9yLWZvY3VzZWQpfTpob3N0KC5pb24tZm9jdXNlZCkgLmJ1dHRvbi1uYXRpdmU6OmFmdGVye2JhY2tncm91bmQ6dmFyKC0tYmFja2dyb3VuZC1mb2N1c2VkKTtvcGFjaXR5OnZhcigtLWJhY2tncm91bmQtZm9jdXNlZC1vcGFjaXR5KX0uYnV0dG9uLW5hdGl2ZTo6YWZ0ZXJ7bGVmdDowO3JpZ2h0OjA7dG9wOjA7Ym90dG9tOjA7cG9zaXRpb246YWJzb2x1dGU7Y29udGVudDpcXFwiXFxcIjtvcGFjaXR5OjB9QG1lZGlhIChhbnktaG92ZXI6IGhvdmVyKXs6aG9zdCg6aG92ZXIpIC5idXR0b24tbmF0aXZle2NvbG9yOnZhcigtLWNvbG9yLWhvdmVyKX06aG9zdCg6aG92ZXIpIC5idXR0b24tbmF0aXZlOjphZnRlcntiYWNrZ3JvdW5kOnZhcigtLWJhY2tncm91bmQtaG92ZXIpO29wYWNpdHk6dmFyKC0tYmFja2dyb3VuZC1ob3Zlci1vcGFjaXR5KX19Omhvc3QoLmlvbi1jb2xvci5pb24tZm9jdXNlZCkgLmJ1dHRvbi1uYXRpdmV7Y29sb3I6dmFyKC0taW9uLWNvbG9yLWJhc2UpfUBtZWRpYSAoYW55LWhvdmVyOiBob3Zlcil7Omhvc3QoLmlvbi1jb2xvcjpob3ZlcikgLmJ1dHRvbi1uYXRpdmV7Y29sb3I6dmFyKC0taW9uLWNvbG9yLWJhc2UpfX06aG9zdCguaW4tdG9vbGJhcjpub3QoLmluLXRvb2xiYXItY29sb3IpKXtjb2xvcjp2YXIoLS1pb24tdG9vbGJhci1jb2xvciwgdmFyKC0tY29sb3IpKX06aG9zdHstLWJvcmRlci1yYWRpdXM6NHB4Oy0tYmFja2dyb3VuZC1mb2N1c2VkOmN1cnJlbnRDb2xvcjstLWJhY2tncm91bmQtZm9jdXNlZC1vcGFjaXR5Oi4xMjstLWJhY2tncm91bmQtaG92ZXI6Y3VycmVudENvbG9yOy0tYmFja2dyb3VuZC1ob3Zlci1vcGFjaXR5OjAuMDQ7LS1jb2xvcjpjdXJyZW50Q29sb3I7LS1pY29uLW1hcmdpbi1lbmQ6MDstLWljb24tbWFyZ2luLXN0YXJ0OjA7LS1pY29uLWZvbnQtc2l6ZToxLjVyZW07LS1pY29uLWZvbnQtd2VpZ2h0Om5vcm1hbDstLW1pbi1oZWlnaHQ6MzJweDstLW1pbi13aWR0aDo0NHB4Oy0tcGFkZGluZy1zdGFydDoxMnB4Oy0tcGFkZGluZy1lbmQ6MTJweDtmb250LXNpemU6MC44NzVyZW07Zm9udC13ZWlnaHQ6NTAwO3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZX06aG9zdCguYmFjay1idXR0b24taGFzLWljb24tb25seSl7LS1ib3JkZXItcmFkaXVzOjUwJTttaW4td2lkdGg6NDhweDttaW4taGVpZ2h0OjQ4cHg7YXNwZWN0LXJhdGlvOjEvMX0uYnV0dG9uLW5hdGl2ZXstd2Via2l0LWJveC1zaGFkb3c6bm9uZTtib3gtc2hhZG93Om5vbmV9LmJ1dHRvbi10ZXh0ey13ZWJraXQtcGFkZGluZy1zdGFydDo0cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6NHB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6NHB4O3BhZGRpbmctaW5saW5lLWVuZDo0cHg7cGFkZGluZy10b3A6MDtwYWRkaW5nLWJvdHRvbTowfWlvbi1pY29ue2xpbmUtaGVpZ2h0OjAuNjc7dGV4dC1hbGlnbjpzdGFydH1AbWVkaWEgKGFueS1ob3ZlcjogaG92ZXIpezpob3N0KC5pb24tY29sb3I6aG92ZXIpIC5idXR0b24tbmF0aXZlOjphZnRlcntiYWNrZ3JvdW5kOnZhcigtLWlvbi1jb2xvci1iYXNlKX19Omhvc3QoLmlvbi1jb2xvci5pb24tZm9jdXNlZCkgLmJ1dHRvbi1uYXRpdmU6OmFmdGVye2JhY2tncm91bmQ6dmFyKC0taW9uLWNvbG9yLWJhc2UpfVwiO1xuY29uc3QgQmFja0J1dHRvbiA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgdGhpcy5pbmhlcml0ZWRBdHRyaWJ1dGVzID0ge307XG4gICAgLyoqXG4gICAgICogSWYgYHRydWVgLCB0aGUgdXNlciBjYW5ub3QgaW50ZXJhY3Qgd2l0aCB0aGUgYnV0dG9uLlxuICAgICAqL1xuICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgYnV0dG9uLlxuICAgICAqL1xuICAgIHRoaXMudHlwZSA9ICdidXR0b24nO1xuICAgIHRoaXMub25DbGljayA9IGFzeW5jIGV2ID0+IHtcbiAgICAgIGNvbnN0IG5hdiA9IHRoaXMuZWwuY2xvc2VzdCgnaW9uLW5hdicpO1xuICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChuYXYgJiYgKGF3YWl0IG5hdi5jYW5Hb0JhY2soKSkpIHtcbiAgICAgICAgcmV0dXJuIG5hdi5wb3Aoe1xuICAgICAgICAgIGFuaW1hdGlvbkJ1aWxkZXI6IHRoaXMucm91dGVyQW5pbWF0aW9uLFxuICAgICAgICAgIHNraXBJZkJ1c3k6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3BlblVSTCh0aGlzLmRlZmF1bHRIcmVmLCBldiwgJ2JhY2snLCB0aGlzLnJvdXRlckFuaW1hdGlvbik7XG4gICAgfTtcbiAgfVxuICBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICB0aGlzLmluaGVyaXRlZEF0dHJpYnV0ZXMgPSBpbmhlcml0QXJpYUF0dHJpYnV0ZXModGhpcy5lbCk7XG4gICAgaWYgKHRoaXMuZGVmYXVsdEhyZWYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5kZWZhdWx0SHJlZiA9IGNvbmZpZy5nZXQoJ2JhY2tCdXR0b25EZWZhdWx0SHJlZicpO1xuICAgIH1cbiAgfVxuICBnZXQgYmFja0J1dHRvbkljb24oKSB7XG4gICAgY29uc3QgaWNvbiA9IHRoaXMuaWNvbjtcbiAgICBpZiAoaWNvbiAhPSBudWxsKSB7XG4gICAgICAvLyBpY29uIGlzIHNldCBvbiB0aGUgY29tcG9uZW50IG9yIGJ5IHRoZSBjb25maWdcbiAgICAgIHJldHVybiBpY29uO1xuICAgIH1cbiAgICBpZiAoZ2V0SW9uTW9kZSh0aGlzKSA9PT0gJ2lvcycpIHtcbiAgICAgIC8vIGRlZmF1bHQgaW9zIGJhY2sgYnV0dG9uIGljb25cbiAgICAgIHJldHVybiBjb25maWcuZ2V0KCdiYWNrQnV0dG9uSWNvbicsIGNoZXZyb25CYWNrKTtcbiAgICB9XG4gICAgLy8gZGVmYXVsdCBtZCBiYWNrIGJ1dHRvbiBpY29uXG4gICAgcmV0dXJuIGNvbmZpZy5nZXQoJ2JhY2tCdXR0b25JY29uJywgYXJyb3dCYWNrU2hhcnApO1xuICB9XG4gIGdldCBiYWNrQnV0dG9uVGV4dCgpIHtcbiAgICBjb25zdCBkZWZhdWx0QmFja0J1dHRvblRleHQgPSBnZXRJb25Nb2RlKHRoaXMpID09PSAnaW9zJyA/ICdCYWNrJyA6IG51bGw7XG4gICAgcmV0dXJuIHRoaXMudGV4dCAhPSBudWxsID8gdGhpcy50ZXh0IDogY29uZmlnLmdldCgnYmFja0J1dHRvblRleHQnLCBkZWZhdWx0QmFja0J1dHRvblRleHQpO1xuICB9XG4gIGdldCBoYXNJY29uT25seSgpIHtcbiAgICByZXR1cm4gdGhpcy5iYWNrQnV0dG9uSWNvbiAmJiAhdGhpcy5iYWNrQnV0dG9uVGV4dDtcbiAgfVxuICBnZXQgcmlwcGxlVHlwZSgpIHtcbiAgICAvLyBJZiB0aGUgYnV0dG9uIG9ubHkgaGFzIGFuIGljb24gd2UgdXNlIHRoZSB1bmJvdW5kZWRcbiAgICAvLyBcImNpcmN1bGFyXCIgcmlwcGxlIGVmZmVjdFxuICAgIGlmICh0aGlzLmhhc0ljb25Pbmx5KSB7XG4gICAgICByZXR1cm4gJ3VuYm91bmRlZCc7XG4gICAgfVxuICAgIHJldHVybiAnYm91bmRlZCc7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNvbG9yLFxuICAgICAgZGVmYXVsdEhyZWYsXG4gICAgICBkaXNhYmxlZCxcbiAgICAgIHR5cGUsXG4gICAgICBoYXNJY29uT25seSxcbiAgICAgIGJhY2tCdXR0b25JY29uLFxuICAgICAgYmFja0J1dHRvblRleHQsXG4gICAgICBpY29uLFxuICAgICAgaW5oZXJpdGVkQXR0cmlidXRlc1xuICAgIH0gPSB0aGlzO1xuICAgIGNvbnN0IHNob3dCYWNrQnV0dG9uID0gZGVmYXVsdEhyZWYgIT09IHVuZGVmaW5lZDtcbiAgICBjb25zdCBtb2RlID0gZ2V0SW9uTW9kZSh0aGlzKTtcbiAgICBjb25zdCBhcmlhTGFiZWwgPSBpbmhlcml0ZWRBdHRyaWJ1dGVzWydhcmlhLWxhYmVsJ10gfHwgYmFja0J1dHRvblRleHQgfHwgJ2JhY2snO1xuICAgIHJldHVybiBoKEhvc3QsIHtcbiAgICAgIGtleTogJzU0NjY2MjRhMTBmMWFiNTZmNTQ2OWU2ZGMwNzA4MDMwMzg4MGYyZmUnLFxuICAgICAgb25DbGljazogdGhpcy5vbkNsaWNrLFxuICAgICAgY2xhc3M6IGNyZWF0ZUNvbG9yQ2xhc3Nlcyhjb2xvciwge1xuICAgICAgICBbbW9kZV06IHRydWUsXG4gICAgICAgIGJ1dHRvbjogdHJ1ZSxcbiAgICAgICAgLy8gaW9uLWJ1dHRvbnMgdGFyZ2V0IC5idXR0b25cbiAgICAgICAgJ2JhY2stYnV0dG9uLWRpc2FibGVkJzogZGlzYWJsZWQsXG4gICAgICAgICdiYWNrLWJ1dHRvbi1oYXMtaWNvbi1vbmx5JzogaGFzSWNvbk9ubHksXG4gICAgICAgICdpbi10b29sYmFyJzogaG9zdENvbnRleHQoJ2lvbi10b29sYmFyJywgdGhpcy5lbCksXG4gICAgICAgICdpbi10b29sYmFyLWNvbG9yJzogaG9zdENvbnRleHQoJ2lvbi10b29sYmFyW2NvbG9yXScsIHRoaXMuZWwpLFxuICAgICAgICAnaW9uLWFjdGl2YXRhYmxlJzogdHJ1ZSxcbiAgICAgICAgJ2lvbi1mb2N1c2FibGUnOiB0cnVlLFxuICAgICAgICAnc2hvdy1iYWNrLWJ1dHRvbic6IHNob3dCYWNrQnV0dG9uXG4gICAgICB9KVxuICAgIH0sIGgoXCJidXR0b25cIiwge1xuICAgICAga2V5OiAnNjNiYzc1ZWYwYWQ3Y2M5ZmI3OWU1ODIxN2EzMzE0YjIwYWNkNzNlMycsXG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgY2xhc3M6IFwiYnV0dG9uLW5hdGl2ZVwiLFxuICAgICAgcGFydDogXCJuYXRpdmVcIixcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBhcmlhTGFiZWxcbiAgICB9LCBoKFwic3BhblwiLCB7XG4gICAgICBrZXk6ICc1ZDNlYWNiZDExYWYyMjQ1YzZlMTE1MWNhYjQ0NmEwZDk2NTU5YWQ4JyxcbiAgICAgIGNsYXNzOiBcImJ1dHRvbi1pbm5lclwiXG4gICAgfSwgYmFja0J1dHRvbkljb24gJiYgaChcImlvbi1pY29uXCIsIHtcbiAgICAgIGtleTogJzY0MzlhZjBhZTQ2Mzc2NDE3NGU3ZDMyMDdmMDIyNjc4MTFkZjY2NmQnLFxuICAgICAgcGFydDogXCJpY29uXCIsXG4gICAgICBpY29uOiBiYWNrQnV0dG9uSWNvbixcbiAgICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG4gICAgICBsYXp5OiBmYWxzZSxcbiAgICAgIFwiZmxpcC1ydGxcIjogaWNvbiA9PT0gdW5kZWZpbmVkXG4gICAgfSksIGJhY2tCdXR0b25UZXh0ICYmIGgoXCJzcGFuXCIsIHtcbiAgICAgIGtleTogJzhlZTg5ZmIxOGRmZGI1Yjc1OTQ4YThiMTk3ZmY0Y2RiYzAwODc0MmYnLFxuICAgICAgcGFydDogXCJ0ZXh0XCIsXG4gICAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgICAgY2xhc3M6IFwiYnV0dG9uLXRleHRcIlxuICAgIH0sIGJhY2tCdXR0b25UZXh0KSksIG1vZGUgPT09ICdtZCcgJiYgaChcImlvbi1yaXBwbGUtZWZmZWN0XCIsIHtcbiAgICAgIGtleTogJzYzODAzYTg4NDk5OGJjNzNiZWE1YWZlMGIyYTBhMTRlM2ZhNGQ2YmYnLFxuICAgICAgdHlwZTogdGhpcy5yaXBwbGVUeXBlXG4gICAgfSkpKTtcbiAgfVxuICBnZXQgZWwoKSB7XG4gICAgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7XG4gIH1cbn07XG5CYWNrQnV0dG9uLnN0eWxlID0ge1xuICBpb3M6IGJhY2tCdXR0b25Jb3NDc3MsXG4gIG1kOiBiYWNrQnV0dG9uTWRDc3Ncbn07XG5leHBvcnQgeyBCYWNrQnV0dG9uIGFzIGlvbl9iYWNrX2J1dHRvbiB9OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUUEsSUFBTSxtQkFBbUI7QUFDekIsSUFBTSxrQkFBa0I7QUFDeEIsSUFBTSxhQUFhLE1BQU07QUFBQSxFQUN2QixZQUFZLFNBQVM7QUFDbkIscUJBQWlCLE1BQU0sT0FBTztBQUM5QixTQUFLLHNCQUFzQixDQUFDO0FBSTVCLFNBQUssV0FBVztBQUloQixTQUFLLE9BQU87QUFDWixTQUFLLFVBQVUsQ0FBTSxPQUFNO0FBQ3pCLFlBQU0sTUFBTSxLQUFLLEdBQUcsUUFBUSxTQUFTO0FBQ3JDLFNBQUcsZUFBZTtBQUNsQixVQUFJLFFBQVEsTUFBTSxJQUFJLFVBQVUsSUFBSTtBQUNsQyxlQUFPLElBQUksSUFBSTtBQUFBLFVBQ2Isa0JBQWtCLEtBQUs7QUFBQSxVQUN2QixZQUFZO0FBQUEsUUFDZCxDQUFDO0FBQUEsTUFDSDtBQUNBLGFBQU8sUUFBUSxLQUFLLGFBQWEsSUFBSSxRQUFRLEtBQUssZUFBZTtBQUFBLElBQ25FO0FBQUEsRUFDRjtBQUFBLEVBQ0Esb0JBQW9CO0FBQ2xCLFNBQUssc0JBQXNCLHNCQUFzQixLQUFLLEVBQUU7QUFDeEQsUUFBSSxLQUFLLGdCQUFnQixRQUFXO0FBQ2xDLFdBQUssY0FBYyxPQUFPLElBQUksdUJBQXVCO0FBQUEsSUFDdkQ7QUFBQSxFQUNGO0FBQUEsRUFDQSxJQUFJLGlCQUFpQjtBQUNuQixVQUFNLE9BQU8sS0FBSztBQUNsQixRQUFJLFFBQVEsTUFBTTtBQUVoQixhQUFPO0FBQUEsSUFDVDtBQUNBLFFBQUksV0FBVyxJQUFJLE1BQU0sT0FBTztBQUU5QixhQUFPLE9BQU8sSUFBSSxrQkFBa0IsV0FBVztBQUFBLElBQ2pEO0FBRUEsV0FBTyxPQUFPLElBQUksa0JBQWtCLGNBQWM7QUFBQSxFQUNwRDtBQUFBLEVBQ0EsSUFBSSxpQkFBaUI7QUFDbkIsVUFBTSx3QkFBd0IsV0FBVyxJQUFJLE1BQU0sUUFBUSxTQUFTO0FBQ3BFLFdBQU8sS0FBSyxRQUFRLE9BQU8sS0FBSyxPQUFPLE9BQU8sSUFBSSxrQkFBa0IscUJBQXFCO0FBQUEsRUFDM0Y7QUFBQSxFQUNBLElBQUksY0FBYztBQUNoQixXQUFPLEtBQUssa0JBQWtCLENBQUMsS0FBSztBQUFBLEVBQ3RDO0FBQUEsRUFDQSxJQUFJLGFBQWE7QUFHZixRQUFJLEtBQUssYUFBYTtBQUNwQixhQUFPO0FBQUEsSUFDVDtBQUNBLFdBQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxTQUFTO0FBQ1AsVUFBTTtBQUFBLE1BQ0o7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0YsSUFBSTtBQUNKLFVBQU0saUJBQWlCLGdCQUFnQjtBQUN2QyxVQUFNLE9BQU8sV0FBVyxJQUFJO0FBQzVCLFVBQU0sWUFBWSxvQkFBb0IsWUFBWSxLQUFLLGtCQUFrQjtBQUN6RSxXQUFPLEVBQUUsTUFBTTtBQUFBLE1BQ2IsS0FBSztBQUFBLE1BQ0wsU0FBUyxLQUFLO0FBQUEsTUFDZCxPQUFPLG1CQUFtQixPQUFPO0FBQUEsUUFDL0IsQ0FBQyxJQUFJLEdBQUc7QUFBQSxRQUNSLFFBQVE7QUFBQTtBQUFBLFFBRVIsd0JBQXdCO0FBQUEsUUFDeEIsNkJBQTZCO0FBQUEsUUFDN0IsY0FBYyxZQUFZLGVBQWUsS0FBSyxFQUFFO0FBQUEsUUFDaEQsb0JBQW9CLFlBQVksc0JBQXNCLEtBQUssRUFBRTtBQUFBLFFBQzdELG1CQUFtQjtBQUFBLFFBQ25CLGlCQUFpQjtBQUFBLFFBQ2pCLG9CQUFvQjtBQUFBLE1BQ3RCLENBQUM7QUFBQSxJQUNILEdBQUcsRUFBRSxVQUFVO0FBQUEsTUFDYixLQUFLO0FBQUEsTUFDTDtBQUFBLE1BQ0E7QUFBQSxNQUNBLE9BQU87QUFBQSxNQUNQLE1BQU07QUFBQSxNQUNOLGNBQWM7QUFBQSxJQUNoQixHQUFHLEVBQUUsUUFBUTtBQUFBLE1BQ1gsS0FBSztBQUFBLE1BQ0wsT0FBTztBQUFBLElBQ1QsR0FBRyxrQkFBa0IsRUFBRSxZQUFZO0FBQUEsTUFDakMsS0FBSztBQUFBLE1BQ0wsTUFBTTtBQUFBLE1BQ04sTUFBTTtBQUFBLE1BQ04sZUFBZTtBQUFBLE1BQ2YsTUFBTTtBQUFBLE1BQ04sWUFBWSxTQUFTO0FBQUEsSUFDdkIsQ0FBQyxHQUFHLGtCQUFrQixFQUFFLFFBQVE7QUFBQSxNQUM5QixLQUFLO0FBQUEsTUFDTCxNQUFNO0FBQUEsTUFDTixlQUFlO0FBQUEsTUFDZixPQUFPO0FBQUEsSUFDVCxHQUFHLGNBQWMsQ0FBQyxHQUFHLFNBQVMsUUFBUSxFQUFFLHFCQUFxQjtBQUFBLE1BQzNELEtBQUs7QUFBQSxNQUNMLE1BQU0sS0FBSztBQUFBLElBQ2IsQ0FBQyxDQUFDLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFDQSxJQUFJLEtBQUs7QUFDUCxXQUFPLFdBQVcsSUFBSTtBQUFBLEVBQ3hCO0FBQ0Y7QUFDQSxXQUFXLFFBQVE7QUFBQSxFQUNqQixLQUFLO0FBQUEsRUFDTCxJQUFJO0FBQ047IiwibmFtZXMiOltdLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMF19
